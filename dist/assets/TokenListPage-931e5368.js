import{G as ue,d as h,p as pe,m as fe,l as ge,o as be,k as me,H as he,I as ve,j as a,r as p,c as j,g as R,s as T,e as g,u as N,f as P,h as w,i as S,J as ne,t as B,K as se,L as U,M as q,Q as A,P as ie,C as xe,N as ye}from"./index-46a8468e.js";import{c as Ce,d as Te,l as $e,o as ke,b as je,q as Re,p as Ne,u as Pe,h as we}from"./InputBase-d6c5e47c.js";import{S as Se}from"./Spinner-63d07d94.js";import{a as _e}from"./graphql-hooks-b49f6120.js";function Ie(e,t){return()=>null}function Le(e,t){return()=>null}function Be(e,t,r,o,d){return null}const He={configure:e=>{ue.configure(e)}},Me=Object.freeze(Object.defineProperty({__proto__:null,capitalize:h,createChainedFunction:Ce,createSvgIcon:pe,debounce:Te,deprecatedPropType:Ie,isMuiElement:$e,ownerDocument:ke,ownerWindow:je,requirePropFactory:Le,setRef:fe,unstable_ClassNameGenerator:He,unstable_useEnhancedEffect:ge,unstable_useId:Re,unsupportedProp:Be,useControlled:Ne,useEventCallback:be,useForkRef:me,useIsFocusVisible:he},Symbol.toStringTag,{value:"Module"}));var E={},le={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(le);var ze=le.exports,M={};const Ue=ve(Me);var F;function qe(){return F||(F=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Ue}(M)),M}var Ee=ze;Object.defineProperty(E,"__esModule",{value:!0});var ce=E.default=void 0,Oe=Ee(qe()),De=a,Ae=(0,Oe.default)((0,De.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");ce=E.default=Ae;const Fe=p.createContext(),de=Fe;function We(e){return j("MuiTable",e)}R("MuiTable",["root","stickyHeader"]);const Ke=["className","component","padding","size","stickyHeader"],Ge=e=>{const{classes:t,stickyHeader:r}=e;return S({root:["root",r&&"stickyHeader"]},We,t)},Xe=T("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>g({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":g({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),W="table",Je=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiTable"}),{className:d,component:n=W,padding:i="normal",size:s="medium",stickyHeader:l=!1}=o,v=P(o,Ke),u=g({},o,{component:n,padding:i,size:s,stickyHeader:l}),x=Ge(u),y=p.useMemo(()=>({padding:i,size:s,stickyHeader:l}),[i,s,l]);return a.jsx(de.Provider,{value:y,children:a.jsx(Xe,g({as:n,role:n===W?null:"table",ref:r,className:w(x.root,d),ownerState:u},v))})}),Qe=Je,Ve=p.createContext(),H=Ve;function Ze(e){return j("MuiTableBody",e)}R("MuiTableBody",["root"]);const Ye=["className","component"],et=e=>{const{classes:t}=e;return S({root:["root"]},Ze,t)},tt=T("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),rt={variant:"body"},K="tbody",at=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiTableBody"}),{className:d,component:n=K}=o,i=P(o,Ye),s=g({},o,{component:n}),l=et(s);return a.jsx(H.Provider,{value:rt,children:a.jsx(tt,g({className:w(l.root,d),as:n,ref:r,role:n===K?null:"rowgroup",ownerState:s},i))})}),ot=at;function nt(e){return j("MuiTableCell",e)}const st=R("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),it=st,lt=["align","className","component","padding","scope","size","sortDirection","variant"],ct=e=>{const{classes:t,variant:r,align:o,padding:d,size:n,stickyHeader:i}=e,s={root:["root",r,i&&"stickyHeader",o!=="inherit"&&`align${h(o)}`,d!=="normal"&&`padding${h(d)}`,`size${h(n)}`]};return S(s,nt,t)},dt=T("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${h(r.size)}`],r.padding!=="normal"&&t[`padding${h(r.padding)}`],r.align!=="inherit"&&t[`align${h(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>g({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?ne(B(e.palette.divider,1),.88):se(B(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${it.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),ut=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiTableCell"}),{align:d="inherit",className:n,component:i,padding:s,scope:l,size:v,sortDirection:u,variant:x}=o,y=P(o,lt),c=p.useContext(de),b=p.useContext(H),f=b&&b.variant==="head";let $;i?$=i:$=f?"th":"td";let C=l;$==="td"?C=void 0:!C&&f&&(C="col");const I=x||b&&b.variant,k=g({},o,{align:d,component:$,padding:s||(c&&c.padding?c.padding:"normal"),size:v||(c&&c.size?c.size:"medium"),sortDirection:u,stickyHeader:I==="head"&&c&&c.stickyHeader,variant:I}),L=ct(k);let D=null;return u&&(D=u==="asc"?"ascending":"descending"),a.jsx(dt,g({as:$,ref:r,className:w(L.root,n),"aria-sort":D,scope:C,ownerState:k},y))}),m=ut;function pt(e){return j("MuiTableContainer",e)}R("MuiTableContainer",["root"]);const ft=["className","component"],gt=e=>{const{classes:t}=e;return S({root:["root"]},pt,t)},bt=T("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),mt=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiTableContainer"}),{className:d,component:n="div"}=o,i=P(o,ft),s=g({},o,{component:n}),l=gt(s);return a.jsx(bt,g({ref:r,as:n,className:w(l.root,d),ownerState:s},i))}),ht=mt;function vt(e){return j("MuiTableHead",e)}R("MuiTableHead",["root"]);const xt=["className","component"],yt=e=>{const{classes:t}=e;return S({root:["root"]},vt,t)},Ct=T("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Tt={variant:"head"},G="thead",$t=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiTableHead"}),{className:d,component:n=G}=o,i=P(o,xt),s=g({},o,{component:n}),l=yt(s);return a.jsx(H.Provider,{value:Tt,children:a.jsx(Ct,g({as:n,className:w(l.root,d),ref:r,role:n===G?null:"rowgroup",ownerState:s},i))})}),kt=$t;function jt(e){return j("MuiTableRow",e)}const Rt=R("MuiTableRow",["root","selected","hover","head","footer"]),X=Rt,Nt=["className","component","hover","selected"],Pt=e=>{const{classes:t,selected:r,hover:o,head:d,footer:n}=e;return S({root:["root",r&&"selected",o&&"hover",d&&"head",n&&"footer"]},jt,t)},wt=T("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${X.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${X.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:B(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:B(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),J="tr",St=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiTableRow"}),{className:d,component:n=J,hover:i=!1,selected:s=!1}=o,l=P(o,Nt),v=p.useContext(H),u=g({},o,{component:n,hover:i,selected:s,head:v&&v.variant==="head",footer:v&&v.variant==="footer"}),x=Pt(u);return a.jsx(wt,g({as:n,ref:r,className:w(x.root,d),role:n===J?null:"row",ownerState:u},l))}),Q=St;function _t(e){return j("MuiLinearProgress",e)}const It=R("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]),V=It,Lt=["className","color","value","valueBuffer","variant"];let _=e=>e,Z,Y,ee,te,re,ae;const z=4,Bt=U(Z||(Z=_`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Ht=U(Y||(Y=_`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Mt=U(ee||(ee=_`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),zt=e=>{const{classes:t,variant:r,color:o}=e,d={root:["root",`color${h(o)}`,r],dashed:["dashed",`dashedColor${h(o)}`],bar1:["bar",`barColor${h(o)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar",r!=="buffer"&&`barColor${h(o)}`,r==="buffer"&&`color${h(o)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return S(d,_t,t)},O=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?ne(e.palette[t].main,.62):se(e.palette[t].main,.5),Ut=T("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${h(r.color)}`],t[r.variant]]}})(({ownerState:e,theme:t})=>g({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:O(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),qt=T("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${h(r.color)}`]]}})(({ownerState:e,theme:t})=>{const r=O(t,e.color);return g({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},q(te||(te=_`
    animation: ${0} 3s infinite linear;
  `),Mt)),Et=T("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${h(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>g({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${z}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${z}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&q(re||(re=_`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Bt)),Ot=T("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${h(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>g({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:O(t,e.color),transition:`transform .${z}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&q(ae||(ae=_`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Ht)),Dt=p.forwardRef(function(t,r){const o=N({props:t,name:"MuiLinearProgress"}),{className:d,color:n="primary",value:i,valueBuffer:s,variant:l="indeterminate"}=o,v=P(o,Lt),u=g({},o,{color:n,variant:l}),x=zt(u),y=Pe(),c={},b={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&i!==void 0){c["aria-valuenow"]=Math.round(i),c["aria-valuemin"]=0,c["aria-valuemax"]=100;let f=i-100;y.direction==="rtl"&&(f=-f),b.bar1.transform=`translateX(${f}%)`}if(l==="buffer"&&s!==void 0){let f=(s||0)-100;y.direction==="rtl"&&(f=-f),b.bar2.transform=`translateX(${f}%)`}return a.jsxs(Ut,g({className:w(x.root,d),ownerState:u,role:"progressbar"},c,{ref:r},v,{children:[l==="buffer"?a.jsx(qt,{className:x.dashed,ownerState:u}):null,a.jsx(Et,{className:x.bar1,ownerState:u,style:b.bar1}),l==="determinate"?null:a.jsx(Ot,{className:x.bar2,ownerState:u,style:b.bar2})]}))}),At=Dt,Ft=T(At)(({theme:e})=>({height:10,borderRadius:5,[`&.${V.colorPrimary}`]:{backgroundColor:e.palette.grey[e.palette.mode==="light"?200:800]},[`& .${V.bar}`]:{borderRadius:5,backgroundColor:e.palette.mode==="light"?"#1a90ff":"#308fe8"}})),Wt="/assets/nodata-2ea7d310.svg",Kt=({className:e})=>a.jsx("img",{src:Wt,className:e}),oe=10;function Gt(e){const{fetchMore:t}=_e({skip:!0,onError:c=>{A.error((c==null?void 0:c.message)??"Failed to fetch token list")},fetchPolicy:"no-cache"}),[r,o]=p.useState(!1),[d,n]=p.useState([]),i=p.useRef(),s=p.useRef(!1),l=p.useRef(!1),v=p.useRef(),u=p.useRef(null),x=c=>{v.current=c||void 0,i.current=void 0,s.current=!1,n([]),y(!0)},y=async c=>{l.current||(l.current=!0,!s.current&&(!c&&d.length>0&&!i.current||(o(!0),await t({variables:{first:oe,after:i.current,tick:v.current}}).then(b=>{var $;const{edges:f=[]}=b.data.tokens;if(f&&(n(C=>{const I=new Set;return[...C,...f].filter(k=>{var L;return!((L=k==null?void 0:k.node)!=null&&L.id)||I.has(k.node.id)?!1:(I.add(k.node.id),!0)})}),i.current=(($=f[f.length-1])==null?void 0:$.cursor)||void 0,f.length<oe&&(e!=null&&e.current)&&u.current)){s.current=!0,u.current.unobserve(e.current);return}}).then(()=>{!u.current||!(e!=null&&e.current)||(u.current.unobserve(e.current),u.current.observe(e.current))}).catch(b=>A.error((b==null?void 0:b.message)??"Failed to fetch token list")).finally(()=>{o(!1),l.current=!1}))))};return p.useEffect(()=>{const c=new IntersectionObserver(b=>{b.forEach(f=>{f.isIntersecting&&y().then(()=>l.current=!1)})});u.current=c},[]),p.useEffect(()=>(y().then(()=>l.current=!1),()=>{const c=u.current;c&&e!=null&&e.current&&c.unobserve(e.current)}),[]),{loading:r,list:d,handleSearchTick:x}}const Xt=T(ie)(({theme:e})=>({...e.typography.body2,paddingLeft:12,paddingRight:12,height:48,borderRadius:24})),Jt=({className:e})=>{const t=p.useRef(null),{list:r,loading:o,handleSearchTick:d}=Gt(t),[n,i]=p.useState(void 0);return console.log("loading:",o),a.jsxs("div",{className:xe("container mx-auto py-10 flex flex-col gap-10 items-center",e,"h5-token-table"),children:[a.jsx("div",{className:"text-4xl text-center font-bold",children:"Explore Suirc20 tokens here."}),a.jsxs(Xt,{className:"w-[80%] flex items-center",children:[a.jsx(we,{sx:{ml:1,flex:1},placeholder:"Search ticks here",value:n,onBlur:()=>d(n),onChange:s=>i(s.target.value)}),a.jsx(ye,{type:"button",sx:{p:"10px"},children:a.jsx(ce,{onClick:()=>d(n)})})]}),a.jsx("div",{className:"w-full overflow-x-auto rounded-xl shadow-xl p-sm",children:a.jsxs(ht,{component:ie,children:[a.jsxs(Qe,{sx:{minWidth:650},"aria-label":"simple table",className:"border-b",children:[a.jsx(kt,{children:a.jsxs(Q,{children:[a.jsx(m,{children:"Tick"}),a.jsx(m,{align:"center",children:"Progress"}),a.jsx(m,{align:"right",children:"Protocol"}),a.jsx(m,{align:"right",children:"Minted"}),a.jsx(m,{align:"right",children:"Total Supply"}),a.jsx(m,{align:"right",children:"Holders"}),a.jsx(m,{align:"right",children:"Limit"}),a.jsx(m,{align:"right",children:"Mint Fee"})]})}),a.jsx(ot,{children:r.map(s=>{const{limit:l,id:v,protocol:u,tick:x,statistics:y,fee:c}=(s==null?void 0:s.node)||{},{holders:b,minted:f,totalSupply:$}=y||{},C=Number((f/$*100).toFixed(2));return console.log("statistics:",y,C),a.jsxs(Q,{sx:{"&:last-child td, &:last-child th":{border:0}},className:"hover:bg-gray-100",children:[a.jsx(m,{component:"th",scope:"row",children:a.jsx("div",{className:"font-bold cursor-pointer text-sky-600 hover:text-sky-700",children:x})}),a.jsx(m,{align:"center",children:a.jsxs("div",{className:"flex flex-row items-center gap-4",children:[a.jsx(Ft,{variant:"determinate",value:C<100?C:100,className:"flex-auto"}),C<100?C:100,"%"]})}),a.jsx(m,{align:"right",children:u}),a.jsx(m,{align:"right",children:f}),a.jsx(m,{align:"right",children:$}),a.jsx(m,{align:"right",children:b}),a.jsx(m,{align:"right",children:l}),a.jsxs(m,{align:"right",children:[(Number(BigInt(c)*BigInt(100)/BigInt(10**9))/100).toFixed(2),"SUI"]})]},v)})})]}),!o&&!r.length&&a.jsx("div",{children:a.jsx(Kt,{className:"mx-auto my-24"})}),o?a.jsx("div",{className:"!w-6 m-auto my-24",ref:t,children:a.jsx(Se,{})}):r.length?a.jsx("div",{className:"m-auto my-6 text-center",children:"No more data"}):null]})})]})},er=p.memo(Jt);export{er as default};
