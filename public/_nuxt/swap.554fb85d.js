import{_ as Yo,a as Go}from"./token-warning-modal.cdcf3160.js";import{_ as Vo,a as xo}from"./coin-select.051cbea0.js";import{a as Se,u as ke,b as co,c as Ae,D as h,j as mo,h as We,z as to,f as se,_ as Be,w as io,e as _e,p as ue,s as be,g as we,d as pe}from"./pool.25e4b096.js";import{i as V}from"./import-icon.de3e6c66.js";import{e as Ie,a as Pe,a1 as vo,a2 as fo,r,m as y,A as H,o as s,f as d,i as ie,F as Oe,h as o,u as q,j as Q,t as a,c as U,s as $,x as re,J as po,S as go,p as $e,k as Te,M as Co,l as ho,K as bo,w as de,B as yo,a4 as en,q as lo,b as uo,v as on,z as nn,a7 as ye,D as sn}from"./entry.68442341.js";/* empty css              *//* empty css              */import"./decimal.55b5baf4.js";import{a as an,_ as tn}from"./network-tips.15f9af26.js";/* empty css              */import{u as ln}from"./swapRouter.9ac89d03.js";import{_ as un}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.c0338a82.js";/* empty css              */import"./img-no-Positions_2x.d752a78c.js";const rn=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const dn=Pe({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})},suiSwapFee:{type:String,default:""}},setup(e){const u=vo(fo,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),g=r(!1),p=Se(),k=y(()=>p),B=y(()=>k.value.slippage),c=y(()=>k.isShowRouterModal);H(()=>e,T=>{console.log(T,"==>newValue")},{immediate:!0,deep:!0});const N=ke(),O=y(()=>N),R=co("Sui"),_=r({}),D=r({}),W=r({});H(()=>[e.suiPreSwapdata,O.value.tokensObj],async([T,L])=>{T&&!Ae(T)&&L&&!Ae(L)&&(T.coinTypeA&&(_.value=L[T.coinTypeA]||(await R.getTokenListByCoinType([T.coinTypeA]))[0]),T.coinTypeB&&(D.value=L[T.coinTypeB]||(await R.getTokenListByCoinType([T.coinTypeB]))[0]),T.coinTypeC&&(W.value=L[T.coinTypeC]||(await R.getTokenListByCoinType([T.coinTypeC]))[0]))},{immediate:!0});const w=r(0),M=r(0);return H(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,B.value],([T,L,C,x,S,j])=>{if(T&&L&&C&&x&&j)if(S){const i=new h(L).mul(new h(j/100));M.value=new h(L).sub(i).toString()}else{const i=new h(T).mul(new h(j/100));w.value=new h(T).sub(i).toString()}},{immediate:!0}),{indicator:u,rateChange:g,slippage:B,isShowRouterModal:c,indexStore:p,coinTypeA:_,coinTypeB:D,coinTypeC:W,maximumSold:w,minimumReceived:M}}}),ge=e=>($e("data-v-46ca9e9b"),e=e(),Te(),e),cn={key:0,class:"swap-info"},mn={key:0,class:"loading-swap"},vn=ge(()=>o("span",null,"Best route and price",-1)),fn={key:1,class:"swap-rate"},pn={key:0},gn=["src"],Cn={key:0},hn=["src"],bn={key:1},yn={key:0},wn=["src"],Sn=["src"],An=ge(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),kn=[An],In={class:"trade-info"},$n={key:0,class:"trade-block"},Tn=ge(()=>o("div",{class:"lebal"},"Price Impact",-1)),Nn={class:"trade-block"},Bn={class:"lebal"},_n={key:0,class:"text"},On={class:"trade-block"},Pn=ge(()=>o("div",{class:"lebal"},"Fee",-1)),Fn={key:0,class:"text"},Rn={key:1,class:"trade-block"},Un=ge(()=>o("div",{class:"lebal"},"Route",-1)),Dn={key:0,class:"text"},Ln={key:0},jn={key:1},En={key:2},Mn=ge(()=>o("img",{src:rn,alt:""},null,-1));function qn(e,u,g,p,k,B){const c=po,N=go;return(e.fromCoinAmount||e.toCoinAmount)&&!e.insufficientLiquidity&&e.toCoinAmount>0&&e.routerPool&&e.routerPool.length>0?(s(),d("div",cn,[e.swapLoading?(s(),d("div",mn,[ie(c,{indicator:e.indicator},null,8,["indicator"]),vn])):(s(),d("div",fn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.swapLoading?(s(),d(Oe,{key:0},[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(s(),d("span",bn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(s(),d("span",yn,[o("img",{src:e.toCoinUrl||("importIcon"in e?e.importIcon:q(V))(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,wn),Q(" 1 "+a(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoin.logoURI||("importIcon"in e?e.importIcon:q(V))(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,Sn),Q(a(e.oneFromAmount)+" "+a(e.fromCoin.symbol),1)])):(s(),U(c,{key:1,indicator:e.indicator},null,8,["indicator"]))])):$("",!0):(s(),d("span",pn,[o("img",{src:e.fromCoin.logoURI||("importIcon"in e?e.importIcon:q(V))(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,gn),Q(" 1 "+a(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(s(),d("span",Cn,[o("img",{src:e.toCoinUrl||("importIcon"in e?e.importIcon:q(V))(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,hn),Q(a(e.oneToAmount)+" "+a(e.toCoin.symbol),1)])):(s(),U(c,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(s(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:u[0]||(u[0]=O=>e.rateChange=!e.rateChange)},kn))],64)):$("",!0)])),o("div",In,[e.routerPool&&e.routerPool.poolAddress&&e.routerPool.poolAddress.length==1?(s(),d("div",$n,[Tn,e.swapLoading?(s(),U(N,{key:1,paragraph:!1,active:""})):(s(),d("div",{key:0,class:re(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",3))])):$("",!0),o("div",Nn,[o("div",Bn,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapLoading?(s(),U(N,{key:1,paragraph:!1,active:""})):(s(),d("div",_n,a(e.fixedFromCoin?e.minimumReceived:e.maximumSold)+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",On,[Pn,e.swapLoading?(s(),U(N,{key:1,paragraph:!1,active:""})):(s(),d("div",Fn,a(e.suiSwapFee),1))]),e.insufficientLiquidity?$("",!0):(s(),d("div",Rn,[Un,e.swapLoading?(s(),U(N,{key:1,paragraph:!1,active:""})):(s(),d("div",{key:0,class:"text",onClick:u[1]||(u[1]=O=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[e.swapLoading?$("",!0):(s(),d("div",Dn,[e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeA?(s(),d("span",Ln,a(e.coinTypeA.symbol)+" "+a(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?"> ":""),1)):$("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?(s(),d("span",jn,a(e.coinTypeB.symbol)+" "+a(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?"> ":""),1)):$("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?(s(),d("span",En,a(e.coinTypeC.symbol),1)):$("",!0)])),Mn]))]))])])):$("",!0)}const Wn=Ie(dn,[["render",qn],["__scopeId","data-v-46ca9e9b"]]),ro={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},Xn={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:ro.USDT,coinB:ro.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function Qn(e,u){const g=Object.values(Xn).filter(p=>e===p.coinA.symbol&&u===p.coinB.symbol||e===p.coinB.symbol&&u===p.coinA.symbol);return g&&g[0]||null}const Hn=Pe({components:{Modal:Co},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,u){const{t:g,locale:p}=ho(),k=Se(),B=mo();y(()=>B);const c=y(()=>{const S=Qn(e.fromCoin.symbol,e.toCoin.symbol);return We(to(e.fromCoinAmount).mul(to(S.fee).div(100)).toString(),e.fromCoin.decimals)}),N=r(k.slippage||.5),O=r(!0),R=r(!1);function _(S){O.value=S}const D=async()=>{u.emit("to-swap")},W=ke(),w=y(()=>W),M=y(()=>w.value.tokensObj&&e.fromCoin.address&&w.value.tokensObj[e.fromCoin.address]&&w.value.tokensObj[e.fromCoin.address].logoURI),T=y(()=>w.value.tokensObj&&e.toCoin.address&&w.value.tokensObj[e.toCoin.address]&&w.value.tokensObj[e.toCoin.address].logoURI),L=Se(),C=y(()=>L);return{fromCoinUrl:M,toCoinUrl:T,t:g,importIcon:V,fixD:se,decimalFormat:We,direct:O,changeDirect:_,rateChange:R,clickNextBtn:D,slippage:N,liquidityProviderFee:c,getCoinIcon:S=>{var j;return(S==null?void 0:S.logoURI)||(S==null?void 0:S.logo_url)||((j=w.value.tokensObj[S==null?void 0:S.address])==null?void 0:j.logo_url)||(C.value.theme==="default"?V("/image/coins/unknown.png"):V("/image/coins/sui-unknown.png"))}}}});const Fe=e=>($e("data-v-79d6fb3b"),e=e(),Te(),e),Jn=Fe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Kn={class:"swap-confirm-container"},Zn={class:"card-content"},zn={class:"top"},Yn={class:"coin"},Gn=["src"],Vn=Fe(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),xn={class:"coin"},es=["src"],os={class:"bottom"},ns={class:"induction"},ss={class:"item"},as={class:"induction-text"},ts={class:"induction-value induction-value-change"},is={key:0},ls={key:1},us=Fe(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),rs=[us],ds={class:"item"},cs={class:"induction-text"},ms={class:"induction-value"},vs={class:"item"},fs={class:"induction-text"},ps={class:"induction-value"},gs={key:0,class:"item"},Cs={class:"induction-text"},hs={key:0,class:"icon","aria-hidden":"true"},bs=Fe(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),ys=[bs],ws={key:1,class:"item"},Ss={class:"induction-text"},As={key:0,class:"induction-value"},ks={key:1,class:"induction-value"};function Is(e,u,g,p,k,B){const c=yo,N=bo("Modal");return s(),U(N,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:u[2]||(u[2]=O=>e.$emit("on-close"))},{closeIcon:de(()=>[Jn]),default:de(()=>[o("div",Kn,[o("div",Zn,[o("div",zn,[o("div",Yn,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Gn),o("p",null,a(e.fromCoinAmount),1),Q("    "),o("p",null,a(e.fromCoin.symbol),1)]),Vn,o("div",xn,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,es),o("p",null,a(e.toCoinAmount),1),Q("    "),o("p",null,a(e.toCoin.symbol),1)])]),o("div",os,[o("div",ns,[o("div",ss,[o("div",as,a(e.$t("common.rate")),1),o("div",ts,[e.rateChange?(s(),d("span",ls," 1 "+a(e.toCoin.symbol)+" ≈ "+a(("fixD"in e?e.fixD:q(se))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals))+" "+a(e.fromCoin.symbol),1)):(s(),d("span",is," 1 "+a(e.fromCoin.symbol)+" ≈ "+a(("fixD"in e?e.fixD:q(se))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals))+" "+a(e.toCoin.symbol),1)),(s(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:u[0]||(u[0]=O=>e.rateChange=!e.rateChange)},rs))])]),o("div",ds,[o("div",cs,a(e.$t("modal.slippageTolerance")),1),o("div",ms,a(e.slippage)+"%",1)]),o("div",vs,[o("div",fs,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",ps,a(e.fixedFromCoin?("fixD"in e?e.fixD:q(se))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:q(se))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(s(),d("div",gs,[o("div",Cs,a(e.$t("common.priceImpact")),1),o("div",{class:re(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[Q(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(s(),d("svg",hs,ys)):$("",!0)],2)])):$("",!0),e.fee?(s(),d("div",ws,[o("div",Ss,a(e.$t("common.fee")),1),e.chainName=="Aptos"?(s(),d("div",As,a(e.formatFee)+" "+a(e.fromCoin.symbol)+" ("+a(e.fee*100)+"%) ",1)):(s(),d("div",ks,a(e.fee),1))])):$("",!0)])])])]),ie(c,{class:"big-btn swap-confirm-btn",onClick:u[1]||(u[1]=O=>e.clickNextBtn())},{default:de(()=>[Q(a(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const $s=Ie(Hn,[["render",Is],["__scopeId","data-v-79d6fb3b"]]);async function Ts(e){const{prices:u}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return u}const Ns={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,u){const{$echarts:g}=en();let p=null,k;const B=r(!0),c=(i,t,ee)=>{k={xAxis:{type:"category",boundaryGap:!1,show:!1,data:t},yAxis:{type:"value",show:!1,min:function(A){return A.min-A.min*.1},max:function(A){return A.max+A.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:w.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(A){return`<div class="chart-tip">
              <div>${A&&A[0]&&A[0].name}</div>
              <div>$${se(A&&A[0]&&A[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:w.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:w.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:i,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:w.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},k&&p.clear(),k&&p.setOption(k,!0),p.resize(),B.value=!1},N=ke(),O=y(()=>N),R=r(""),_=r(""),D=async i=>{var ae,me;const t=[],ee=[],A=await Ts(i);R.value=A&&A.length>1&&(A[A.length-1][1]-A[0][1])/A[0][1]*100,_.value=A&&A.length>1&&A[A.length-1][1],A.forEach(P=>{t.push(P[1]);const X=io(P[0],"MD"),l=io(P[0],"HM");ee.push(X+" "+l)});let ce=document.getElementById(`main${(ae=e.coin)==null?void 0:ae.name}`);p=g.init(ce),c(t,ee,(me=e.coin)==null?void 0:me.name)},W=Se(),w=y(()=>W),M=y(()=>w.value.chainName),T=y(()=>Be[M.value]);H(()=>e.id,(i,t)=>{console.log(i,t,"===>oldValue"),console.log(!B.value,"!isFirst.value"),i&&(R.value="",_.value="",setTimeout(()=>{D(i)},1e3))},{immediate:!0});const L=r(""),C=r(""),x=r(""),S=r("");H(()=>[O.value.tokensObj,e.coin],([i,t])=>{var ee,A;i&&t&&i[t.address]&&(console.log(i[t.address],"===>newValue[coin.address]"),C.value=((ee=i[t.address])==null?void 0:ee.labels)&&((A=i[t.address])==null?void 0:A.labels[0]),L.value=i[t.address].name,x.value=i[t.address].symbol,S.value=i[t.address].address)},{immediate:!0,deep:!0}),H(()=>e.refresh,i=>{i&&D(e.id)});const j=y(()=>w.value.theme);return console.log(e.coin.address=="0x2::sui::SUI","0x2::sui::SUI"),{theme:j,store:W,importIcon:V,fixD:se,config:T,price_rate_24h:R,nowPrice:_,coinName:L,coinLabels:C,coinSymbol:x,address:S}}};const Bs=e=>($e("data-v-079780ad"),e=e(),Te(),e),_s={class:"token-info"},Os={class:"token-info-padding"},Ps={class:"token-info-header"},Fs={class:"left"},Rs=["src","onerror"],Us={class:"name"},Ds={class:"desc"},Ls={class:"right"},js={class:"price"},Es={class:"token-info-footer"},Ms={class:"left"},qs={class:"address"},Ws={key:0,class:"pc-address"},Xs={key:1,class:"pc-address"},Qs={class:"h5-address"},Hs=Bs(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Js=[Hs],Ks={class:"right"},Zs=["id"];function zs(e,u,g,p,k,B){var c;return s(),d("div",_s,[o("div",Os,[o("div",Ps,[o("div",Fs,[o("img",{src:g.coin.logoURI||p.importIcon(`/image/coins/${g.coin.symbol.toLowerCase()}.png`),onerror:p.theme=="default"?p.importIcon("/image/coins/unknown.png"):p.importIcon("/image/coins/sui-unknown.png")},null,8,Rs),o("div",null,[o("div",Us,a(p.coinSymbol),1),o("div",Ds,[o("span",null,a(p.coinName)+" "+a(p.coinLabels?`(${p.coinLabels})`:""),1)])])]),o("div",Ls,[o("div",js,"$"+a(p.fixD(p.nowPrice,2)),1),p.price_rate_24h?(s(),d("div",{key:0,class:re(p.price_rate_24h>0?"increase up":p.price_rate_24h<0?"increase down":"increase up")},a(p.price_rate_24h>0?`+ ${p.fixD(p.price_rate_24h,2)}`:p.price_rate_24h<0?+`${p.fixD(p.price_rate_24h,2)}`:`+${p.fixD(p.price_rate_24h,2)}`)+"% ",3)):$("",!0)])]),o("div",Es,[o("div",Ms,[o("div",qs,[g.coin&&p.address!=="0x2::sui::SUI"?(s(),d("span",Ws,a(g.coin&&g.coin.address.substr(0,13))+" ... "+a(g.coin&&g.coin.address.substr(g.coin.address.length-13,13)),1)):(s(),d("span",Xs,a(g.coin&&g.coin.address),1)),o("span",Qs,a(g.coin&&g.coin.address.substr(0,4))+" ... "+a(g.coin&&g.coin.address.substr(g.coin.address.length-4,4)),1),(s(),d("svg",{class:"icon","aria-hidden":"true",onClick:u[0]||(u[0]=N=>p.store.copy(g.coin&&g.coin.address))},Js))])]),o("div",Ks,[o("div",{id:`main${(c=g.coin)==null?void 0:c.name}`,class:"main"},null,8,Zs)])])])])}const Ys=Ie(Ns,[["render",zs],["__scopeId","data-v-079780ad"]]);const Gs=Pe({components:{Modal:Co},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""}},setup(e){const u=ke(),g=y(()=>u),p=r([]);return H(()=>[e.routerPool,g.value.poolConfigObj,e.routerTotalAmounts,e.fromCoin,e.toCoin],([k,B,c,N,O])=>{if(console.log(e,"props=====>100"),k&&k.length>0&&B&&!Ae(B)&&c){const R=[];k.forEach(_=>{console.log(c,"===>routerTotalAmounts"),console.log(_,"ele.amountIn===>");const D=new _e(c*Math.pow(10,N.decimals)).div(_.amountIn).mul(new _e(100)).toString(),W=_.amountIn.toString(),w=ue(_.amountOut.toString(),O.decimals),M=_.poolAddress.map((T,L)=>{const C=B&&B[T];return console.log(_,"ele===>118"),{...C}});R.push({percent:D,..._,amountIn:W,amountOut:w,poolAddress:M})}),console.log(R,"result===>"),p.value=R}},{immediate:!0}),y(()=>{var k,B;return(B=(k=g.value)==null?void 0:k.poolInfo)==null?void 0:B.needReverse}),{routerStep:p}}}),Xe=e=>($e("data-v-c721ef66"),e=e(),Te(),e),Vs={class:"route-top"},xs={class:"token-a"},ea=["src"],oa={class:"token-num"},na={class:"token-symbol"},sa={class:"token-b"},aa={class:"token-num"},ta={class:"token-symbol"},ia=["src"],la={class:"route-bottom"},ua=Xe(()=>o("div",{class:"left-round"},null,-1)),ra=Xe(()=>o("div",{class:"right-round"},null,-1)),da={class:"percent"},ca={class:"pool-info"},ma=["src"],va=["src"],fa={key:0,class:"icon","aria-hidden":"true"},pa=Xe(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),ga=[pa];function Ca(e,u,g,p,k,B){const c=bo("Modal");return s(),U(c,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:u[0]||(u[0]=N=>e.$emit("onClose"))},{default:de(()=>{var N,O,R,_;return[o("div",Vs,[o("div",xs,[o("img",{src:(N=e.fromCoin)==null?void 0:N.logo_url,alt:""},null,8,ea),o("span",oa,a(e.fromCoinAmount),1),o("span",na,a((O=e.fromCoin)==null?void 0:O.symbol),1)]),o("div",sa,[o("span",aa,a(e.toCoinAmount),1),o("span",ta,a((R=e.toCoin)==null?void 0:R.symbol),1),o("img",{src:(_=e.toCoin)==null?void 0:_.logo_url,alt:""},null,8,ia)])]),o("div",la,[ua,ra,(s(!0),d(Oe,null,lo(e.routerStep,(D,W)=>(s(),d("div",{key:D,class:re(["route-path",W!==0?"route-path-active":""])},[o("div",da,[o("span",null,a(D.percent)+"%",1),o("span",null,a(D.amountOut)+" "+a(e.toCoin.symbol),1)]),(s(!0),d(Oe,null,lo(D.poolAddress,(w,M)=>(s(),d("div",{key:M,class:"pool-info-box"},[o("div",ca,[o("img",{class:"token-a-img",src:w.needReverse?w.coinB.logo_url:w.coinA.logo_url,alt:""},null,8,ma),o("img",{class:"token-b-img",src:w.needReverse?w.coinA.logo_url:w.coinB.logo_url,alt:""},null,8,va),o("span",null,a(w.fee*100)+"%",1)]),M!==D.poolAddress.length-1?(s(),d("svg",fa,ga)):$("",!0)]))),128))],2))),128))])]}),_:1})}const ha=Ie(Gs,[["render",Ca],["__scopeId","data-v-c721ef66"]]),ba=Pe({setup(){const e=uo(),u=vo(fo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:g,locale:p}=ho(),k=Se(),B=ke(),c=y(()=>B);let N=r(!1),O=r(!1),R=r(!1),_=r(!1),D=r(!1),W=r(!1);const w=r("fromCoin"),M=r(""),T=r(""),L=r(!1),C=r(!0),x=r(!1),S=r(!1),j=r(!1),i=r(""),t=r(""),ee=r(20),A=r(0),ce=r(null),ae=r(!1),me=y(()=>k.slippage),P=y(()=>k.chainName),X=y(()=>P.value?co(P.value):{}),l=r(),m=r(),Qe=y(()=>Be&&Be[P.value]&&Be[P.value].hasRouter),He=y(()=>B.getPoolInfoSuccess),wo=y(()=>{var n;return F.value&&((n=F.value)!=null&&n.is_pause)?"Pool Closed":!l.value||!m.value?g("modal.selectTokenModalTitle"):!Qe.value&&!F.value&&He.value?"Pool Not Found":Qe.value&&Ee.value?"No Available Route":ae.value?g("button.insufficientLiquidity"):!Number(i.value)||Number(i.value)==0||Number(t.value)==0?g("button.enterAmount"):Number(i.value)>Number(J.value)?g("button.insufficientBalance",{name:l.value.symbol}):g("button.swap")}),So=n=>{var f,v,b,I;w.value=n,n==="fromCoin"?(M.value=((f=m.value)==null?void 0:f.address)||"",T.value=((v=l.value)==null?void 0:v.address)||""):(M.value=((b=l.value)==null?void 0:b.address)||"",T.value=((I=m.value)==null?void 0:I.address)||""),L.value=!0},Re=r({}),Ue=r({}),Ao=n=>{w.value==="fromCoin"?(Re.value=n,De(n)):(Ue.value=n,De(n))},ko=n=>{n==="fromCoin"?(C.value=!0,P.value==="Aptos"?i.value=J.value>0?l.value.symbol=="APT"?new h(Number(J.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(J.value)).sub(new h(.1)).toString():String(J.value):"":i.value=J.value>0?l.value.symbol=="SUI"?new h(Number(J.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(J.value)).sub(new h(.05)).toString():String(J.value):""):(C.value=!1,P.value==="Aptos"?t.value=z.value>0?m.value.symbol=="APT"?new h(Number(z.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(z.value)).sub(new h(.1)).toString():String(z.value):"":t.value=z.value>0?m.value.symbol=="SUI"?new h(Number(z.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(z.value)).sub(new h(.05)).toString():String(z.value):"")},Io=n=>{n==="fromCoin"?(C.value=!0,i.value=J.value>0?be(new h(Number(J.value)).div(2).toString(),l.value.decimals).toString():""):(C.value=!1,t.value=z.value>0?be(new h(Number(z.value)).div(2).toString(),m.value.decimals).toString():"")};on(()=>{Je()}),nn(()=>{clearInterval(ce.value)});const $o=y(()=>k),To=()=>{F.value&&(clearInterval(ce.value),A.value=0,O.value=!0,B.updateCurrentPools(F.value.poolAddress,P.value),ve(C.value?i.value:t.value),k.getStatsData(P.value,$o.value.filterCoinsObj),setTimeout(()=>{O.value=!1,Je()},1e3))},No=()=>{const n=l.value;l.value=m.value,m.value=n,N.value=!0,C.value=!C.value,C.value?(i.value=t.value,t.value=""):(t.value=i.value,i.value=""),setTimeout(()=>{N.value=!1},300)},Je=()=>{ce.value=setInterval(()=>{O.value=!1,x.value||A.value<ee.value&&(A.value+=1,A.value===ee.value&&(F.value&&F.value.poolAddress&&B.updateCurrentPools(F.value.poolAddress,P.value),A.value=0,O.value=!0))},1e3)};H(C,ye((n,f)=>{C.value=n},500));const Ke=r(!1);H(i,ye((n,f)=>{n&&C.value&&ve(n),n==""&&C.value&&(t.value="")},500)),H(t,ye((n,f)=>{n&&!C.value&&ve(n),n==""&&!C.value&&(i.value="")},500));const Ze=r(1e-4),Bo=n=>{if(console.log(n,"poolInfo====>"),n.current_sqrt_price&&i.value&&t.value){const v=(l.value.address===n.coinA.address&&m.value.address===n.coinB.address?0:1)==0,b=new h(i.value),I=new h(t.value),E=b.sub(b.mul(new h(n.fee)).div(100));console.log("getImpact###fAmount####",b.toString()),console.log("getImpact###tAmount####",I.toString()),console.log("getImpact###f####",E.toString());const K=I.div(E);return console.log("getImpact####rates####",K.toString()),X.value.getPriceImpactPct(n,K.toString(),v)}return 1e-4},ze=r(0),Ye=r(0),_o=r(),oe=r({}),Oo=async n=>{if(F.value&&(console.log(Number(i.value)==0,"===>Number(fromCoinAmount.value)==0"),!(C.value&&Number(i.value)==0)&&!(!C.value&&Number(t.value)==0)))if(l.value&&m.value&&(i.value||t.value)){S.value=!0,j.value=!0,Ke.value=!0,ae.value=!1;const f=l.value.address===F.value.coinA.address&&m.value.address===F.value.coinB.address?0:1;console.log(F.value,"poolInfo=====>451"),console.log(C.value?i.value:t.value,"fixedFromCoin.value ? fromCoinAmount.value : toCoinAmount.value"),console.log(f,"===>direct");try{let v=await X.value.preSwap({pool:F.value,a2b:f==0,byAmountIn:C.value,amount:C.value?i.value:t.value});console.log(v,"preSwapRespreSwapRes"),ae.value=v==null?void 0:v.isExceed,_o.value=v==null?void 0:v.estimatedFeeAmount,C.value?(t.value=v.estimatedAmountOut,D.value?Ce.value=(n/Number(v.estimatedAmountOut)).toString():he.value=(Number(v.estimatedAmountOut)/n).toString()):(i.value=v.estimatedAmountIn,D.value?Ce.value=(Number(v.estimatedAmountIn)/n).toString():he.value=(n/Number(v.estimatedAmountIn)).toString()),ze.value=new h(t.value).div(i.value).toString(),Ye.value=new h(i.value).div(t.value).toString(),Ze.value=Bo(oe.value||F.value),S.value=!1,j.value=!1}catch(v){console.log("pre swap error",v),S.value=!1,j.value=!1}}else C.value?t.value="":i.value="",S.value=!1,j.value=!1},Po=mo(),ne=y(()=>Po),Fo=r({}),Ce=r(""),he=r("");H(N,()=>{Ce.value="",he.value="",C.value?ye(ve(i.value),500):ye(ve(t.value),500)});const J=y(()=>ne.value.assets&&l.value&&ne.value.assets[l.value.address]?ue(ne.value.assets[l.value.address].balance,l.value.decimals):0),z=y(()=>ne.value.assets&&m.value&&ne.value.assets[m.value.address]?ue(ne.value.assets[m.value.address].balance,m.value.decimals):0),Ro=uo();H(()=>c.value.tokensObj,async n=>{if(!Ae(n)){console.log(n,"===>newValue626"),console.log(Ro,"===>route625");const f=e?e.currentRoute.value.query.to:"",v=e?e.currentRoute.value.query.from:"";v?l.value=await X.value.getTokenBySymbol(n,v):!v&&!l.value&&(l.value=await X.value.getTokenBySymbol(n,k.chainName==="Aptos"?"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75::coin::CetusUSDC":"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdc::USDC"),console.log(l.value,"===>fromCoin.value")),f?m.value=await X.value.getTokenBySymbol(n,f):!f&&!m.value&&(m.value=await X.value.getTokenBySymbol(n,k.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdt::USDT")),!v&&f&&(l.value="")}},{immediate:!0});const F=y(()=>{var n;if(l.value&&m.value){let f=null;const v={};Object.values(c.value.poolConfigList).forEach(I=>{var E,K,Y,G;(I.coinA.address.toUpperCase()===((E=l.value.address)==null?void 0:E.toUpperCase())&&I.coinB.address.toUpperCase()===((K=m.value.address)==null?void 0:K.toUpperCase())||I.coinB.address.toUpperCase()===((Y=l.value.address)==null?void 0:Y.toUpperCase())&&I.coinA.address.toUpperCase()===((G=m.value.address)==null?void 0:G.toUpperCase()))&&(v[I.address]={...I})});const b=Object.values(v).sort((I,E)=>I.fee-E.fee);console.log("0507####swap###poolInfo###poolSortList###",b);for(let I=0;I<b.length;I++)if(!((n=b[I])!=null&&n.is_pause)){f=b[I];break}return console.log("0507####swap###poolInfo###info###",f),f&&!Ae(f)?f:null}return null}),Ge=r(!0),Ve=r(!1),Uo=async n=>{n&&(ve(C.value?i.value:t.value),Ve.value=!0,n.coinA.symbol.toLowerCase()===l.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===m.value.symbol.toLowerCase()?Ge.value=!0:Ge.value=!1,ae.value=!1)};H(()=>F.value,(n,f)=>{n&&(!f||n.address!==f.address||n.current_sqrt_price!==f.current_sqrt_price)&&Uo(n)},{immediate:!0,deep:!0});const Do=y(()=>c.value.tokensObj&&l.value&&l.value.address&&c.value.tokensObj[l.value.address]&&c.value.tokensObj[l.value.address].logoURI),Lo=y(()=>(console.log(c.value.tokensObj,"===>pools.value.tokensObj"),c.value.tokensObj&&m.value&&m.value.address&&c.value.tokensObj[m.value.address]&&c.value.tokensObj[m.value.address].logoURI)),jo=y(()=>c.value.tokensObj&&l.value&&l.value.address&&c.value.tokensObj[l.value.address]&&c.value.tokensObj[l.value.address].coingecko_id||null),Eo=y(()=>c.value.tokensObj&&m.value&&m.value.address&&c.value.tokensObj[m.value.address]&&c.value.tokensObj[m.value.address].coingecko_id||null),Mo=y(()=>{var b,I,E;const n=new h(i.value);console.log(oe.value,"===>toAddLiquidiPoolInfo"),console.log((b=oe==null?void 0:oe.value)==null?void 0:b.fee,"toAddLiquidiPoolInfo?.value?.fee");const f=new h(P.value=="Aptos"?(I=F==null?void 0:F.value)==null?void 0:I.fee:(E=oe==null?void 0:oe.value)==null?void 0:E.fee),v=n.mul(f).toString();return console.log(v,"===>fee"),Number(v)<1/Math.pow(10,l.value.decimals)?`<${new h(1).div(new h(Math.pow(10,l.value.decimals))).toString()}`:be(v,l.value.decimals)}),{setIsShowSuccess:qo,setIsShowRejected:xe,setIsShowWaiting:Ne,setTransactionDesc:Wo,setTransactionTxid:eo}=k,Xo=async()=>{var f,v,b,I,E,K,Y,G;W.value=!1,S.value=!0,eo(""),Wo(g("tips.swapping",{from:`${i.value} ${(f=l.value)==null?void 0:f.symbol}`,to:`${t.value} ${(v=m.value)==null?void 0:v.symbol}`})),Ne(!0);let n;P.value=="Aptos"&&(n=l.value.address===F.value.token_a.address&&m.value.address===F.value.token_b.address?0:1);try{console.log("0221####swap start####",P.value,"###",X),console.log("0412###toSwap###poolInfo.value###",F.value);let Z;P.value=="Aptos"?Z=await X.value.getSwapTransactionPayload({pool:F.value,a2b:n==0,byAmountIn:C.value,amount:C.value?i.value:t.value,slippage:Number(me.value)/100}):(console.log(oe.value,"===>toAddLiquidiPoolInfo.value"),Z=await je.value.swapRouterContract.getSwapRouterPayload(C.value,Me.value.createTxParams)),console.log("0221####swap###swapPayload###",Z);let te;if(P.value==="Aptos")te=await ne.value.currentWallet.signAndSubmitTransaction(Z);else{console.log("0221###swap###sui##signAndExecuteTransaction前###",P.value,"###swapPayload###",Z);const fe=await ne.value.currentWallet.signAndExecuteTransactionBlock(Z);console.log("0221###sui swap res###",fe),te=X.value.handleTx(fe),console.log("0221###swap###sui##tx###",te)}if(te&&te.hash){eo(te.hash),Ne(!1),qo(!0);const fe={title:g("tips.swap"),desc:g("tips.swapSuccessText",{from:`${i.value} ${(b=l.value)==null?void 0:b.symbol}`,to:`${t.value} ${(I=m.value)==null?void 0:I.symbol}`}),hash:te.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(E=l.value)==null?void 0:E.address}`,numa:`- ${i.value}`,logoa:c.value.tokensObj&&l.value&&l.value.address&&c.value.tokensObj[l.value.address]&&c.value.tokensObj[l.value.address].logoURI,tokenb:`${(K=m.value)==null?void 0:K.address}`,numb:`+ ${t.value}`,logob:c.value.tokensObj&&m.value&&m.value.address&&c.value.tokensObj[m.value.address]&&c.value.tokensObj[m.value.address].logoURI},text:`Pay ${i.value} ${(Y=l.value)==null?void 0:Y.symbol} to receive ${t.value} ${(G=m.value)==null?void 0:G.symbol}`};P.value!=="Aptos"&&(fe.res=te.res),X.value.showTransitionPending(fe);const ao=await X.value.watchTransaction(fe);console.log("0221###swap###transitionStatus####",ao),ao&&setTimeout(()=>{P.value=="Aptos"&&B.updateCurrentPools(F.value.poolAddress,P.value),X.value.getAccount(ne.value.address)},1e3)}else Ne(!1),xe(!0);i.value="",t.value="",S.value=!1}catch(Z){i.value="",t.value="",console.log("Swap Error###",Z),S.value=!1,Ne(!1),xe(!0)}},Qo=n=>{var f;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((f=c.value.tokensObj[n==null?void 0:n.address])==null?void 0:f.logo_url)||(k.theme==="default"?V("/image/coins/unknown.png"):V("/image/coins/sui-unknown.png"))},De=n=>{console.log(w.value,"===>currentCoinKey.value"),console.log(n);const f=localStorage.getItem(n.address);console.log(c.value.tokensObj,"===>pools.value.tokensObj"),console.log(f,"===>coinLocak"),c.value.tokensObj&&c.value.tokensObj[n.address]&&c.value.tokensObj[n.address].isSelfBuilt&&!f?Le.value=!0:(w.value==="fromCoin"?(i.value="",m.value&&n.address.toLowerCase()===(m==null?void 0:m.value.address.toLowerCase())&&(m.value=null),l.value=n):(l.value&&(t.value="",n.address.toLowerCase()===(l==null?void 0:l.value.address.toLowerCase())&&(l.value=null)),m.value=n),oo())},Le=r(!1),oo=()=>{Ue.value={},Re.value={},Le.value=!1},Ho=y(()=>k.isShowRouterModal),no=r([]),so=r(""),Jo=r(!1),Ko=ln(),je=y(()=>Ko),Ee=r(!1),Me=r({}),qe=r(""),Zo=n=>{if(n&&n.paths&&n.paths.length>0){const f=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC){const v=c.value.poolConfigObj[f.poolAddress[0]],b=c.value.poolConfigObj[f.poolAddress[1]],I=ue(n.paths[0].amountIn.toString(),l.value.decimals)*v.fee;let E,K=b.token_a.address==m.value.address?b.token_b.decimals:b.token_a.decimals;C.value?E=ue(f.rawAmountLimit[0].toString(),K)*b.fee:E=ue(f.rawAmountLimit[1].toString(),K)*b.fee;let Y;console.log(b.token_a.address,m.value.address,"===>toCoin.value.address"),v.token_a.address==l.value.address?Y=!1:Y=!0;let G;Y?G=X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],v.token_a.decimals,v.token_b.decimals).toString():G=1/X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],v.token_a.decimals,v.token_b.decimals).toString(),console.log(v,"===>1398 poolA"),console.log(K,"===>1398feeBDecimals"),console.log(Y,"a2b1398"),console.log(G,1/G,E,"===>1398");const Z=I+E*G;qe.value=Z>0&&Z<1e-6?"<0.000001":be(Z,l.value.decimals)+` ${l.value.symbol} `}else{const v=c.value.poolConfigObj[f.poolAddress[0]],b=ue(n.paths[0].amountIn.toString(),l.value.decimals)*v.fee;qe.value=b>0&&b<1e-6?"<0.000001":be(b,l.value.decimals)+` ${l.value.symbol} (${v.fee*100}%)`}}},zo=async n=>{if(l.value&&m.value&&(i.value||t.value)){(!i.value&&t.value||i.value&&!t.value)&&(S.value=!0);try{let f;if(C.value){const I=new h(i.value).mul(Math.pow(10,l.value.decimals)).toString();f=new _e(I)}else{const I=new h(t.value).mul(Math.pow(10,m.value.decimals)).toString();f=new _e(I)}const v=Number(me.value)/100;console.log(je.value,"===>swapRouterContract.value");const b=await je.value.swapRouterContract.getSwapRouter(l,m,f,C.value,v,"");console.log(b,"===> swapRouter1454"),b?(Me.value=b,no.value=b.paths,ae.value=b.isExceed,so.value=b.amountIn,Zo(b),C.value?t.value=b.amountOut:i.value=b.amountIn,Ce.value=we(Number(i.value)/Number(t.value),l.value.decimals),he.value=we(Number(t.value)/Number(i.value),m.value.decimals),S.value=!1,Ee.value=!1):(S.value=!1,Ee.value=!0)}catch(f){console.log("pre swap error",f),S.value=!1}}else C.value?t.value="":i.value="",S.value=!1;console.log(S.value,"====>routerSwaping")},ve=async n=>{P.value=="Aptos"?Oo(n):zo()};return{closeTokenWarning:oo,isShowTokenWarning:Le,getTokenSource:De,hasPool:Ve,getPoolInfoSuccess:He,halfBtnSelect:Io,formCoinId:jo,toCoinId:Eo,fromCoinUrl:Do,toCoinUrl:Lo,t:g,indicator:u,wallet:ne,currentLpInfo:Fo,fixD:se,decimalFormat:We,impact:Ze,oneFromAmount:Ce,oneToAmount:he,importIcon:V,clickExchange:No,clickRefresh:To,refresh:O,change:N,isShowAddress:R,isShowSwapSetting:_,fromCoin:l,toCoin:m,slippage:me,openCoinSelect:So,onCoinSelect:Ao,existingCoins:M,lastSelectCoin:T,currentCoinKey:w,showCoinSelect:L,fromCoinAmount:i,toCoinAmount:t,maxBtnSelect:ko,fixedFromCoin:C,swapBtnText:wo,toSwap:Xo,loading:x,swaping:S,autoRefreshTime:ee,countdown:A,marketTimer:ce,rateChange:D,isSwapConfirmMpdal:W,fromCoinBlance:J,toCoinBlance:z,poolInfo:F,chainName:P,swapRouterLoading:Ke,formatFee:Mo,calculating:j,currentRate:ze,currentRateReverse:Ye,getCoinIcon:Qo,toAddLiquidiPoolInfo:oe,decimalUi:we,warningToCoin:Ue,warningFromCoin:Re,isShowRouterModal:Ho,toSwapLoading:Jo,insufficientLiquidity:ae,routerPool:no,routerTotalAmounts:so,store:k,suiPreSwapdata:Me,suiSwapFee:qe,addCommom:pe}}}),ya="data:image/png;base64,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";const le=e=>($e("data-v-b9d8e18a"),e=e(),Te(),e),wa={class:"swap-container"},Sa={class:"title"},Aa={class:"left"},ka={class:"right title-right"},Ia=le(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),$a={class:"swap-card"},Ta={class:"card-container"},Na={class:"card-item"},Ba={class:"card-item"},_a=le(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),Oa=[_a],Pa={key:1,class:"induction"},Fa={key:0,class:"exchange-rate-btn"},Ra={key:0},Ua=["src"],Da={key:0},La=["src"],ja={key:0},Ea={key:1},Ma={key:0},qa=["src"],Wa=["src"],Xa=le(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Qa=[Xa],Ha={class:"item"},Ja={class:"induction-text"},Ka={key:0,class:"icon","aria-hidden":"true"},Za=le(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),za=[Za],Ya={class:"item"},Ga={class:"induction-text"},Va={key:0,class:"induction-value"},xa={class:"item"},et={class:"induction-text"},ot={key:0,class:"induction-value"},nt={key:0,class:"icon","aria-hidden":"true"},st=le(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),at=[st],tt={key:3,class:"token-info-container"},it={class:"token-info-title"},lt=le(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),ut=le(()=>o("img",{src:ya,alt:""},null,-1)),rt=le(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function dt(e,u,g,p,k,B){var j,i;const c=Yo,N=Vo,O=Wn,R=po,_=go,D=yo,W=an,w=xo,M=tn,T=$s,L=sn,C=Ys,x=Go,S=ha;return s(),d("div",wa,[o("div",Sa,[o("div",Aa,a(e.$t("menu.swap")),1),o("div",ka,[o("div",{class:"slippage-icon",onClick:u[0]||(u[0]=t=>e.isShowSwapSetting=!0)},[Ia,o("span",null,a(e.slippage)+"%",1)]),ie(c,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",$a,[o("div",Ta,[o("div",Na,[ie(N,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":u[1]||(u[1]=t=>e.fromCoinAmount=t),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:u[2]||(u[2]=t=>e.maxBtnSelect("fromCoin")),onOnHalf:u[3]||(u[3]=t=>e.halfBtnSelect("fromCoin")),onOnInput:u[4]||(u[4]=t=>{e.fromCoinAmount=t,e.fixedFromCoin=!0}),onOnSelect:u[5]||(u[5]=t=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",Ba,[ie(N,{modelValue:e.toCoinAmount,"onUpdate:modelValue":u[6]||(u[6]=t=>e.toCoinAmount=t),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:u[7]||(u[7]=t=>{e.toCoinAmount=t,e.fixedFromCoin=!1}),onOnSelect:u[8]||(u[8]=t=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:re(e.change?"gang animationex":"gang"),src:un,alt:""},null,2),o("div",{class:"exchange",onClick:u[9]||(u[9]=t=>e.clickExchange())},[(s(),d("svg",{class:re(e.change?"icon animationex":"icon"),"aria-hidden":"true"},Oa,2))])]),e.chainName=="Sui"?(s(),U(O,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFee},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(s(),d("div",Pa,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(s(),d("div",Fa,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(s(),d("span",Ea,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(s(),d("span",Ma,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,qa),Q(" 1 "+a(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Wa),o("span",null,a(("addCommom"in e?e.addCommom:q(pe))(("decimalUi"in e?e.decimalUi:q(we))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),Q("  "+a(e.fromCoin.symbol),1)])):(s(),U(R,{key:1,indicator:e.indicator},null,8,["indicator"]))])):$("",!0):(s(),d("span",Ra,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Ua),Q(" 1 "+a(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(s(),d("span",Da,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,La),e.calculating?$("",!0):(s(),d("span",ja,a(("addCommom"in e?e.addCommom:q(pe))(("decimalUi"in e?e.decimalUi:q(we))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(s(),U(R,{key:1,indicator:e.indicator},null,8,["indicator"])):$("",!0),Q("  "+a(e.toCoin.symbol),1)])):(s(),U(R,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(s(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:u[10]||(u[10]=t=>e.rateChange=!e.rateChange)},Qa))])):$("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(s(),d(Oe,{key:1},[o("div",Ha,[o("div",Ja,a(e.$t("common.priceImpact")),1),e.swaping?(s(),U(_,{key:1,paragraph:!1,active:""})):(s(),d("div",{key:0,class:re(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[Q(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(s(),d("svg",Ka,za)):$("",!0)],2))]),o("div",Ya,[o("div",Ga,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(s(),U(_,{key:1,paragraph:!1,active:""})):(s(),d("div",Va,a(e.fixedFromCoin?("addCommom"in e?e.addCommom:q(pe))(("fixD"in e?e.fixD:q(se))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:q(pe))(("fixD"in e?e.fixD:q(se))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",xa,[o("div",et,a(e.$t("common.fee")),1),e.swaping?(s(),U(_,{key:1,paragraph:!1,active:""})):(s(),d("div",ot,a(("addCommom"in e?e.addCommom:q(pe))(e.formatFee,e.fromCoin.decimals))+" "+a(e.fromCoin.symbol)+" ("+a(e.chainName=="Aptos"?e.poolInfo.fee*100:((j=e.toAddLiquidiPoolInfo)==null?void 0:j.fee)*100)+"%) ",1))])],64)):$("",!0)])):$("",!0)]),ie(D,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((i=e.poolInfo)==null?void 0:i.is_pause):!1,class:"big-btn",loading:e.swaping,onClick:u[11]||(u[11]=t=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:de(()=>[e.wallet.connected?(s(),d("svg",nt,at)):$("",!0),o("span",null,a(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),ie(W),e.showCoinSelect?(s(),U(w,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:u[12]||(u[12]=t=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):$("",!0),e.isShowSwapSetting?(s(),U(M,{key:1,onOnClose:u[13]||(u[13]=t=>e.isShowSwapSetting=!1)})):$("",!0),e.isSwapConfirmMpdal?(s(),U(T,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:e.suiSwapFee,"format-fee":e.chainName=="Aptos"?e.formatFee:e.suiSwapFee,onOnClose:u[14]||(u[14]=t=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):$("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(s(),d("div",tt,[o("div",it,[lt,ut,ie(L,{placement:"top","arrow-point-at-center":""},{title:de(()=>[Q(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:de(()=>[rt]),_:1})]),e.fromCoin&&e.formCoinId?(s(),U(C,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):$("",!0),e.toCoin&&e.toCoinId?(s(),U(C,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):$("",!0)])):$("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(s(),U(x,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):$("",!0),e.isShowRouterModal?(s(),U(S,{key:5,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:u[15]||(u[15]=t=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):$("",!0)])}const Nt=Ie(ba,[["render",dt],["__scopeId","data-v-b9d8e18a"]]);export{Nt as default};
