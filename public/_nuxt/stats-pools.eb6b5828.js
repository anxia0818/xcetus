import{_ as Js}from"./back.ca983ee5.js";import{_ as Ks}from"./apr-tips.e90289f4.js";import{u as Qs,a as Xs,h as z,c as Q,s as Ys,t as vs,f as ms}from"./pool.4307b5ad.js";import{a as xs,m as X,r as c,v as se,A as _s,b as ee,e as oe,o as v,f as i,h as a,i as Z,j as b,t as u,x as H,F as os,q as ls,s as g,Z as le,u as Y,w as ps,p as ae,k as re,B as ne}from"./entry.9449c7e1.js";/* empty css              */import{i as is}from"./import-icon.de3e6c66.js";import{p as te}from"./precision.a7a6c57b.js";import{_ as hs}from"./icon_on_stats.cdf13a69.js";import{_ as fs}from"./icon-Rewards.d6529de0.js";const ue=xs({setup(){const o=Qs(),r=X(()=>o),cs=X(()=>r.value.tokensObj||{}),as=Xs(),R=X(()=>as),G=ee();let rs=c("big");const w=c(1),T=c(1);let y=c(!1);const e=()=>{as.getStatsData(R.value.chainName)};se(()=>{as.getStatsData(R.value.chainName);const s=document.body.clientWidth;s<750?y.value=!1:y.value=!0,window.onresize=()=>{s<750?y.value=!1:y.value=!0},y.value,ss(w.value,10),es(T.value,10)});let p=c([]);const h=X(()=>R.value.topPoolsList),f=s=>(l,t)=>{let _=l[s],d=t[s];return _-d},n=s=>(l,t)=>{let _=l[s];return t[s]-_},k=c(!1),I=c(!1),A=c(!1),C=c(!1),$=c(!0),B=c(!1),E=c(!1),U=c(!1),D=c(!1),V=c(!1),O=c(!1),P=c(!1),F=c(!1),W=c(!1),q=c(!1),j=c(!0),m=c(!1),ns=c("TVL"),ts=c(["Volume (24H)","Volume (7D)","APR"]),x=c(!1),us=c("TVL"),ds=c(["Price","Volume (24H)","Price Change"]),ks=s=>{const l=h;if(s=="tvl_in_usd"?($.value?(k.value=!k.value,l.value.sort(k.value?f(s):n(s))):l.value.sort(n(s)),I.value=!1,A.value=!1,C.value=!1,$.value=!0,B.value=!1,E.value=!1,U.value=!1):s=="vol_in_usd_24h"?(B.value?(I.value=!I.value,l.value.sort(I.value?f(s):n(s))):l.value.sort(n(s)),k.value=!1,A.value=!1,C.value=!1,$.value=!1,B.value=!0,E.value=!1,U.value=!1):s=="vol_in_usd_7_day"?(E.value?(A.value=!A.value,l.value.sort(A.value?f(s):n(s))):l.value.sort(n(s)),k.value=!1,I.value=!1,C.value=!1,$.value=!1,B.value=!1,E.value=!0,U.value=!1):s=="aprNum"&&(U.value?(C.value=!C.value,l.value.sort(C.value?f(s):n(s))):l.value.sort(n(s)),k.value=!1,I.value=!1,A.value=!1,$.value=!1,B.value=!1,E.value=!1,U.value=!0),console.log(l.value,"===>>>>>poolsListArray.value"),console.log(w.value,"===>>>>>currentPools.value"),l.value.length<10)p.value=l.value.slice(0,10);else{const t=w.value*10;p.value=l.value.slice(t-10,t)}},gs=s=>{const l=J;if(s=="price"?(F.value?(D.value=!D.value,l.value.sort(D.value?f(s):n(s))):l.value.sort(n(s)),V.value=!1,O.value=!1,P.value=!1,F.value=!0,W.value=!1,q.value=!1,j.value=!1):s=="vol_in_usd_24h"?(q.value?(O.value=!O.value,l.value.sort(O.value?f(s):n(s))):l.value.sort(n(s)),D.value=!1,V.value=!1,P.value=!1,F.value=!1,W.value=!1,q.value=!0,j.value=!1):s=="tvl_in_usd"?(j.value?(P.value=!P.value,l.value.sort(P.value?f(s):n(s))):l.value.sort(n(s)),D.value=!1,V.value=!1,O.value=!1,F.value=!1,W.value=!1,q.value=!1,j.value=!0):s=="priceHour"&&(W.value?(V.value=!V.value,l.value.sort(V.value?f(s):n(s))):l.value.sort(n(s)),D.value=!1,O.value=!1,P.value=!1,F.value=!1,W.value=!0,q.value=!1,j.value=!1),console.log(l.value,"===>>>>>tokensListArray.value"),console.log(T.value,"===>>>>>tokensListArray.value"),l.value.length<10)N.value=l.value.slice(0,10);else{const t=T.value*10;N.value=l.value.slice(t-10,t)}},ws=s=>{s=="label"?(x.value=!x.value,m.value=!1):s=="select"?(m.value=!m.value,x.value=!1):(m.value=!1,x.value=!1)},Ts=s=>{const l=[];l.push(ns.value),ts.value.forEach((t,_)=>{t!=s&&l.push(t)}),ts.value=l,ns.value=s,s=="TVL"?p.value.sort(n("tvl_in_usd")):s=="Volume (24H)"?p.value.sort(n("vol_in_usd_24h")):s=="Volume (7D)"?p.value.sort(n("vol_in_usd_7_day")):s=="APR"&&p.value.sort(n("aprNum"))},bs=s=>{console.log(s,"===>>>>search-select");const l=[];l.push(us.value),ds.value.forEach((t,_)=>{t!=s&&l.push(t)}),ds.value=l,us.value=s,s=="TVL"?N.value.sort(n("tvl_in_usd")):s=="Volume (24H)"?N.value.sort(n("vol_in_usd_24h")):s=="Price"?N.value.sort(n("price")):s=="Price Change"&&N.value.sort(n("priceHour"))};_s(h,()=>{y.value,ss(w.value,10)});const ss=(s,l)=>{console.log(s,"page"),w.value=s;const t=l*s-l;let _=l*s;console.log(h,"===>>>>>topPoolsList"),_=_>h.value.length?h.value.length:_;const d=h.value;if(d.length>0){$.value&&!k.value?d.sort(ys):$.value&&k.value?d.sort(Is):B.value?I.value?d.sort(As):d.sort(Ls):E.value?A.value?d.sort(Cs):d.sort(Ps):U.value&&(C.value?d.sort($s):d.sort(Hs));const K=d.filter((M,S)=>S>=t&&S<_);p.value=K}return d},ys=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ls=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ps=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,Hs=(s,l)=>l.aprNum-s.aprNum,Is=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,As=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Cs=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,$s=(s,l)=>s.aprNum-l.aprNum;let N=c([]);const J=X(()=>{const s=R.value.topTokensList,l=[];for(let t=0;t<s.length;t++){const _=s[t];l.push({..._,priceHour:_?Number(_.price_rate_24h.substring(0,_.price_rate_24h.length-1)):"0"})}return l});_s(J,()=>{y.value,es(T.value,10)});const es=(s,l)=>{console.log(s,"page1"),T.value=s;const t=l*s-l;let _=l*s;_=_>J.value.length?J.value.length:_;const d=J.value;if(d.length>0){j.value&&!P.value?d.sort(Ds):j.value&&P.value?d.sort(Ns):F.value?D.value?d.sort(Ss):d.sort(Vs):W.value?V.value?d.sort(Rs):d.sort(Os):q.value&&(O.value?d.sort(Bs):d.sort(js));const K=d.filter((M,S)=>S>=t&&S<_);N.value=K}return d},Ds=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Vs=(s,l)=>l.price-s.price,Os=(s,l)=>l.priceHour-s.priceHour,js=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ns=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ss=(s,l)=>s.price-l.price,Rs=(s,l)=>s.priceHour-l.priceHour,Bs=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Es=s=>{const l=s.swap_account;return console.log(r.value.addressLpTokens[l].rewarder_infos,"==>&pools.value.addressLpTokens[address].rewarder_infos"),r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].rewarder_infos},Us=s=>{const l=s.swap_account;return r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].labels},Fs=s=>{if(!Q(s)&&!Q(r.value.addressLpTokens)&&!Q(r.value.tokensObj)){const l=r.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1},Ws=s=>{if(!Q(s)&&!Q(r.value.addressLpTokens)&&!Q(r.value.tokensObj)){const l=s.swap_account,t=r.value.addressLpTokens[l];let _=(t==null?void 0:t.rewarder_infos)||[];const d=[];_.forEach((M,S)=>{console.log(r.value.tokensObj,"===>tokensObj"),d.push({...M,symbol:r.value.tokensObj[M.coinAddress].symbol,rewarderApr:s.rewarder_apr[S],logoUrl:r.value.tokensObj[M.coinAddress].logoURI,rewarder_display:t[`rewarder_display${S+1}`]})});let K=[];return K=d.filter(M=>M.rewarder_display),K}},qs=(s,l)=>s&&l?Ys(te.plus(vs(s),vs(l)),2)+"%":s,Ms=s=>{let l=0;return s&&s.forEach(t=>{l+=vs(String(t))}),String(ms(String(l),2))},Zs=()=>{G&&G.push("/stats-pools")},zs=()=>{G&&G.push("/stats-tokens")},Gs=s=>{var l;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((l=r.value.tokensObj[s==null?void 0:s.address])==null?void 0:l.logo_url)||(R.value.theme==="default"?is("/image/coins/unknown.png"):is("/image/coins/sui-unknown.png"))};return{tokensObj:X(()=>r.value.tokensObj),getCoinIcon:Gs,getRewarderInfo:Es,addCommom:z,store:R,importIcon:is,topPoolsList:h,addressTokens:cs,showEcharts:rs,currentPools:w,onChangePools:ss,currentTopPoolsList:p,onChangeTokens:es,currentTokens:T,currentTopTokensList:N,topTokensList:J,router:G,isPc:y,getAprTotal:qs,getRewarderApr:Ms,toPoolsList:Zs,toTokensList:zs,changePoolsList:ks,changeTokensList:gs,tvlImprint:k,volHImprint:I,volDImprint:A,aprImprint:C,tokensPriceImprint:D,tokensPriceHImprint:V,tokensVolHImprint:O,tokensTvlImprint:P,labelToken:x,select:m,selectValue:ns,selectList:ts,reviseValue:ws,changeSort:Ts,tokenValue:us,tokensList:ds,changeSortLabel:bs,tvlImprintHighlight:$,volHImprintHighlight:B,volDImprintHighlight:E,aprImprintHighlight:U,tokensPriceImprintHighlight:F,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:q,tokensTvlImprintHighlight:j,getLabel:Us,rewardApr:Ws,getsad:e,rewardDisplay:Fs}}});const L=o=>(ae("data-v-043a599f"),o=o(),re(),o),de={class:"stats-container"},ve={class:"title"},ie={class:"top-pools-new"},ce={class:"sort-by"},_e=L(()=>a("img",{src:hs,alt:""},null,-1)),pe=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),he=[pe],fe={key:0,class:"select-item"},ke=["onClick"],ge=L(()=>a("img",{src:hs,alt:""},null,-1)),we={class:"content"},Te={class:"item"},be=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ye=[be],Le=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Pe=[Le],He=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ie=[He],Ae=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ce=[Ae],$e={class:"apr-hover-content"},De=L(()=>a("span",null,"Â ",-1)),Ve={class:"token"},Oe=["src"],je={key:1,class:"pool-warning"},Ne=["src"],Se={key:1,class:"pool-warning"},Re={class:"name"},Be={class:"token-name"},Ee={class:"fee-tier-top"},Ue={class:"label-all"},Fe={key:0},We={class:"tvl"},qe={class:"volume-hour"},Me={class:"volume-day"},Ze=L(()=>a("img",{src:fs,alt:""},null,-1)),ze={key:0,class:"apr-hover-content"},Ge={class:"btn-box"},Je={class:"top"},Ke={class:"token"},Qe=["src"],Xe={key:1,class:"pool-warning"},Ye=["src"],me={key:1,class:"pool-warning"},xe={class:"name"},so={class:"token-name"},eo={class:"label-all"},oo={key:0},lo={class:"fee-tier-hint"},ao={class:"middle"},ro={class:"item-pools"},no={class:"item-pools"},to={class:"item-pools"},uo=L(()=>a("img",{src:fs,alt:""},null,-1)),vo={key:0,class:"apr-hover-content"},io={class:"bottom"},co={class:"panation"};function _o(o,r,cs,as,R,G){const rs=Js,w=Ks,T=ne,y=le;return v(),i("div",de,[a("div",ve,[Z(rs),b(" "+u(o.$t("menu.pools")),1)]),a("div",ie,[a("div",ce,[a("div",null,u(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:r[0]||(r[0]=e=>o.reviseValue("select"))},[a("div",null,[b(u(o.selectValue)+" ",1),_e]),(v(),i("svg",{"aria-hidden":"true",class:H(o.select?"show-icon icon":"icon")},he,2)),o.select?(v(),i("div",fe,[(v(!0),i(os,null,ls(o.selectList,(e,p)=>(v(),i("div",{key:p,class:"select-menu-item",onClick:h=>o.changeSort(e)},[b(u(e)+" ",1),ge],8,ke))),128))])):g("",!0)])]),a("div",we,[a("div",Te,[a("span",null,u(o.$t("newAdd.pool")),1),a("span",{onClick:r[1]||(r[1]=e=>o.changePoolsList("tvl_in_usd"))},[b(u(o.$t("common.tvl"))+" ",1),(v(),i("svg",{"aria-hidden":"true",class:H(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ye,2))]),a("span",{onClick:r[2]||(r[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[b(u(o.$t("common.volume24H"))+" ",1),(v(),i("svg",{"aria-hidden":"true",class:H(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},Pe,2))]),a("span",{onClick:r[3]||(r[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[b(u(o.$t("newAdd.volume7D"))+" ",1),(v(),i("svg",{"aria-hidden":"true",class:H(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},Ie,2))]),a("span",{onClick:r[4]||(r[4]=e=>o.changePoolsList("aprNum"))},[b(" APR "),(v(),i("svg",{"aria-hidden":"true",class:H(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},Ce,2)),a("div",$e,[Z(w,{class:"noHover apr-hover-con"})])]),De]),(v(!0),i(os,null,ls(o.currentTopPoolsList,(e,p)=>{var h,f;return v(),i("div",{key:p,class:"item pc-item"},[a("div",Ve,[a("div",null,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_a_address]:o.addressTokens&&o.addressTokens[e.token_b_address])},null,8,Oe)):g("",!0),o.tokensObj&&o.tokensObj[e.token_a_address]&&o.tokensObj[e.token_a_address].isSelfBuilt?(v(),i("div",je)):g("",!0)]),a("div",null,[e!=null&&e.token_b_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_b_address]:o.addressTokens&&o.addressTokens[e.token_a_address])},null,8,Ne)):g("",!0),o.tokensObj&&o.tokensObj[e.token_b_address]&&o.tokensObj[e.token_b_address].isSelfBuilt?(v(),i("div",Se)):g("",!0)]),a("div",Re,[a("p",Be,u(e.token_a_reserves)+" - "+u(e.token_b_reserves),1),a("div",Ee,u((e==null?void 0:e.fee)*100)+"%",1),a("div",Ue,[(v(!0),i(os,null,ls(o.getLabel(e),(n,k)=>(v(),i("div",{key:k,class:H(["label",n])},[n!=="Native"?(v(),i("span",Fe,u(n),1)):g("",!0)],2))),128))])])]),a("div",We," $"+u(e.tvl_in_usd?("addCommom"in o?o.addCommom:Y(z))(e.tvl_in_usd,2):"--"),1),a("div",qe," $"+u(e!=null&&e.vol_in_usd_24h?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Me," $"+u(e!=null&&e.vol_in_usd_7_day?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",{class:H(["apr",((h=o.rewardApr(e))==null?void 0:h.length)>0&&o.rewardDisplay(e)?"apr-mark":""])},[Ze,b(" "+u(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((f=o.rewardApr(e))==null?void 0:f.length)!=0&&o.rewardDisplay(e)?(v(),i("div",ze,[Z(w,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):g("",!0)],2),a("div",Ge,[Z(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:ps(()=>[b(u(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),i(os,null,ls(o.currentTopPoolsList,(e,p)=>{var h,f;return v(),i("div",{key:p,class:"item h5-item"},[a("div",Je,[a("div",Ke,[a("div",null,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_a_address]:o.addressTokens&&o.addressTokens[e.token_b_address])},null,8,Qe)):g("",!0),o.tokensObj&&o.tokensObj[e.token_a_address]&&o.tokensObj[e.token_a_address].isSelfBuilt?(v(),i("div",Xe)):g("",!0)]),a("div",null,[e!=null&&e.token_b_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_b_address]:o.addressTokens&&o.addressTokens[e.token_a_address])},null,8,Ye)):g("",!0),o.tokensObj&&o.tokensObj[e.token_b_address]&&o.tokensObj[e.token_b_address].isSelfBuilt?(v(),i("div",me)):g("",!0)]),a("div",xe,[a("p",so,u(e.token_a_reserves)+" - "+u(e.token_b_reserves),1),a("div",eo,[(v(!0),i(os,null,ls(o.getLabel(e),(n,k)=>(v(),i("div",{key:k,class:H(["label",n])},[n!=="Native"?(v(),i("span",oo,u(n),1)):g("",!0)],2))),128))])])]),a("div",lo,u((e==null?void 0:e.fee)*100)+"%",1)]),a("div",ao,[a("div",ro,[a("span",null,u(o.$t("common.tvl")),1),a("p",null," $"+u(e.tvl_in_usd?("addCommom"in o?o.addCommom:Y(z))(e.tvl_in_usd,2):"--"),1)]),a("div",no,[a("span",null,u(o.$t("common.volume24H")),1),a("p",null," $"+u(e!=null&&e.vol_in_usd_24h?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",to,[a("span",null,u(o.$t("newAdd.volume7D")),1),a("p",null," $"+u(e!=null&&e.vol_in_usd_7_day?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:H(["item-pools",((h=o.rewardApr(e))==null?void 0:h.length)>0&&o.rewardDisplay(e)?"":"apr-mark-h5"])},[a("span",null,u(o.$t("common.apr")),1),a("p",null,[uo,b(" "+u(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)]),((f=o.rewardApr(e))==null?void 0:f.length)!=0&&o.rewardDisplay(e)?(v(),i("div",vo,[Z(w,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):g("",!0)],2)]),a("div",io,[Z(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:ps(()=>[b(u(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",co,[Z(y,{current:o.currentPools,"onUpdate:current":r[5]||(r[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const Po=oe(ue,[["render",_o],["__scopeId","data-v-043a599f"]]);export{Po as default};
