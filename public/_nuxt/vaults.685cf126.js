import{s as Is,a as q,u as us,d as _s,c as K}from"./pool.c8a64c81.js";import{a as es,l as v,r as P,e as ts,o as t,f as n,h as o,i as r,v as g,u as I,S as Fs,p as is,k as ds,j as B,F as U,E as ss,M as Vs,b as hs,s as Rs,w as J,t as F,B as ps,y as Bs,z as rs,A as os,x as M,P as Es,H as Os,q as x,K as Ws,Q as zs,c as Hs}from"./entry.43b4f161.js";/* empty css              */import{a as ns,u as vs}from"./sha256.188183f1.js";import{_ as Ns}from"./auto-pool-apy-tips.f42d9d23.js";/* empty css              */import{u as Js}from"./farms.d73d4a5e.js";import{_ as Ks}from"./upgrade-loading.17f99c1e.js";import{_ as js}from"./token-warning.f954c6d1.js";import{i as as}from"./import-icon.de3e6c66.js";import{u as cs}from"./autoPool.f3b40e2f.js";import{_ as Ts}from"./img-connect-wallet_2x.3fd9331e.js";/* empty css              */import{_ as Qs}from"./img-no-Positions_2x.32a768ec.js";import"./decimal.0bdeb344.js";/* empty css              */import"./icon-Amount-for-Sale_2x.b2e65df2.js";const Gs=es({props:{list:{type:Array,default:()=>[]},listLoading:{type:Boolean,default:!1},totalTVL:{type:Number,default:0}},setup(s){const l=ns(),b=v(()=>l),m=P(!1);return{wallet:b,sFixD:Is,loading:m,addCommom:q}}});const gs=s=>(is("data-v-77985698"),s=s(),ds(),s),Xs={class:"farms-banner-bg"},Zs={class:"vaults-banner"},xs={class:"vaults-banner-center"},so=gs(()=>o("div",{class:"title"},"Vaults",-1)),oo=gs(()=>o("div",{class:"desc"},"Automate your liquidity to enjoy high yield with ease.",-1)),eo={class:"claim-rewards"},to={class:"claim-title"},no=gs(()=>o("span",null,"Total Value Locked",-1)),lo={key:0,class:"loading-spin"},ao={key:1};function io(s,l,b,m,L,f){const _=Fs;return t(),n("div",Xs,[o("div",Zs,[o("div",xs,[so,oo,o("div",eo,[o("div",to,[no,s.listLoading?(t(),n("span",lo,[r(_)])):(t(),n("span",ao,"$"+g(("addCommom"in s?s.addCommom:I(q))(("sFixD"in s?s.sFixD:I(Is))(s.totalTVL||0,2))),1))])])])])])}const co=ts(Gs,[["render",io],["__scopeId","data-v-77985698"]]),ro=es({setup(){const s=P(!1),l=ns(),b=v(()=>l),m=Js(),L=v(()=>m),f=v(()=>L.value.farmsPoolList);return{isShowMore:s,wallet:b,walletStore:l,farmsPoolList:f}}});const G=s=>(is("data-v-cd3c68f2"),s=s(),ds(),s),uo={class:"vaults-table"},_o=G(()=>o("th",null,"Vaults",-1)),ho=G(()=>o("th",null,"TVL",-1)),po=G(()=>o("th",null,"Rewards",-1)),vo=G(()=>o("th",null,"Your Deposit",-1)),go=G(()=>o("th",null,"Actions",-1)),mo=G(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),ko={class:"pool"},yo={class:"staked-tvl"},bo={class:"apr"},fo={class:"my-staked"},$o={class:"my-staked"},wo={class:"actions"},So=G(()=>o("tr",{style:{height:"8px",background:"unset !important"}},null,-1));function Lo(s,l,b,m,L,f){const _=Ns,d=Vs;return t(),n("div",uo,[o("table",null,[o("thead",null,[o("tr",null,[_o,ho,o("th",null,[o("span",null,[B("APY "),r(_)])]),po,vo,go]),mo]),o("tbody",null,[(t(),n(U,null,ss(4,($,R)=>(t(),n(U,{key:R},[o("tr",null,[o("td",null,[o("div",ko,[r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1}),r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",yo,[r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",bo,[o("span",null,[r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),o("td",null,[o("div",fo,[r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",$o,[r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",wo,[r(d,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),So],64))),64))])])])}const Co=ts(ro,[["render",Lo],["__scopeId","data-v-cd3c68f2"]]),Po=es({props:{pItem:{type:Object,default:()=>({})}},setup(s){const l=vs(),b=v(()=>l),m=us(),L=v(()=>m),f=c=>{var i;return(c==null?void 0:c.logoURI)||(c==null?void 0:c.logo_url)||((i=L.value.tokensObj[c==null?void 0:c.address])==null?void 0:i.logo_url)||(b.value.theme==="default"?as("/image/coins/unknown.png"):as("/image/coins/sui-unknown.png"))},_=P(!0),d=cs(),$=v(()=>d),R=v(()=>$.value.positionInfoObj[s.pItem.id]),C=hs(),w=(c,i)=>{C.push(`/vaults-detail/${c.id}?action=${i}`)},p=c=>{const i=c.needReverse,A=i?c.token_b.address:c.token_a.address,D=i?c.token_a.address:c.token_b.address;C.push(`/swap?from=${A}&to=${D}`)},e=ns(),y=v(()=>e);return console.log(s.pItem,"pItem##"),{getCoinIcon:f,direct:_,decimalUi:_s,addCommom:q,autoPool:$,positionInfo:R,toAutoPoolDetail:w,toSwap:p,wallet:y}}});const X=s=>(is("data-v-98d84d67"),s=s(),ds(),s),Ao={class:"vaults-position-card"},Io={class:"auto-position-card-conetent"},Vo={key:0,class:"no-vaults-data no-data"},Ro=X(()=>o("img",{src:Ts},null,-1)),Bo={class:"item lp-tokens"},Oo={alt:""},No={class:"right"},jo=X(()=>o("div",{class:"top"},"Your LP tokens",-1)),To={class:"bottom"},Do={key:0,class:"lp-num"},qo={key:1,class:"lp-num"},Uo={class:"item yourBanlance"},Mo=X(()=>o("div",{class:"top"},"Pooled assets",-1)),Yo={class:"bottom"},Fo={class:"token-info"},Eo={class:"token-num"},Wo={alt:""},zo={key:0},Ho={key:1},Jo=X(()=>o("p",null,"--",-1)),Ko=[Jo],Qo={class:"token-num"},Go={alt:""},Xo={key:0},Zo={key:1},xo=X(()=>o("p",null,"--",-1)),se=[xo],oe={class:"item share"},ee=X(()=>o("div",{class:"top"},"Share of pool",-1)),te={class:"bottom"},ne={key:0},le={key:1},ae=X(()=>o("div",{class:"action"},[o("div",null,[o("div",{class:"remove-btn"}," Details> ")])],-1));function ie(s,l,b,m,L,f){var $,R,C,w,p,e,y,c,i,A;const _=ps,d=Rs("image");return t(),n("div",Ao,[o("div",Io,[s.wallet.address?(t(),n("div",{key:1,class:"auto-position-card",onClick:l[1]||(l[1]=D=>s.toAutoPoolDetail(s.pItem,"deposit"))},[o("div",Bo,[F(o("img",Oo,null,512),[[d,(R=($=s.positionInfo)==null?void 0:$.lpInfo)==null?void 0:R.logo_url]]),o("div",No,[jo,o("div",To,[(C=s.wallet)!=null&&C.connected?(t(),n("div",Do,g(("addCommom"in s?s.addCommom:I(q))(("decimalUi"in s?s.decimalUi:I(_s))((w=s.positionInfo)==null?void 0:w.myLiquidity),4))+" LP",1)):(t(),n("div",qo,"--"))])])]),o("div",Uo,[Mo,o("div",Yo,[o("div",Fo,[o("div",Eo,[F(o("img",Wo,null,512),[[d,s.pItem.needReverse?s.pItem.coinB.logo_url:s.pItem.coinA.logo_url]]),(p=s.wallet)!=null&&p.connected?(t(),n("div",zo,[o("span",null,g(("addCommom"in s?s.addCommom:I(q))((e=s.positionInfo)==null?void 0:e.amountA)),1),B(" "+g(s.pItem.needReverse?s.pItem.coinB.symbol:s.pItem.coinA.symbol)+" ",1)])):(t(),n("div",Ho,Ko))]),o("div",Qo,[F(o("img",Go,null,512),[[d,s.pItem.needReverse?s.pItem.coinA.logo_url:s.pItem.coinB.logo_url]]),(y=s.wallet)!=null&&y.connected?(t(),n("div",Xo,[o("span",null,g(("addCommom"in s?s.addCommom:I(q))((c=s.positionInfo)==null?void 0:c.amountB)),1),B(" "+g(s.pItem.needReverse?s.pItem.coinA.symbol:s.pItem.coinB.symbol)+" ",1)])):(t(),n("div",Zo,se))])])])]),o("div",oe,[ee,o("div",te,[(i=s.wallet)!=null&&i.connected?(t(),n("span",ne,g((A=s.positionInfo)==null?void 0:A.myShare)+"%",1)):(t(),n("span",le,"--%"))])]),ae])):(t(),n("div",Vo,[Ro,r(_,{class:"add-liquidity-btn",onClick:l[0]||(l[0]=D=>s.wallet.setIsShowWalletModal(!0))},{default:J(()=>[B("Connect Wallet")]),_:1})]))])])}const de=ts(Po,[["render",ie],["__scopeId","data-v-98d84d67"]]),ce=es({components:{TokenWarning:js},props:{list:{type:Array,default:()=>[]}},setup(){const{t:s}=Bs(),l=vs(),b=v(()=>l),m=us(),L=v(()=>m),f=a=>{var O;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((O=L.value.tokensObj[a==null?void 0:a.address])==null?void 0:O.logo_url)||(b.value.theme==="default"?as("/image/coins/unknown.png"):as("/image/coins/sui-unknown.png"))},_=v(()=>L.value.tokensObj),d=v(()=>b.value.statsData),$=v(()=>b.value.theme),R=cs(),C=v(()=>R),w=P({}),p=a=>{w.value[a]?w.value[a]=!1:w.value[a]=!0,console.log(w.value,"##isShowPosition.value")},e=v(()=>C.value.positionInfoObj),y=ns(),c=v(()=>y),i=P(!1),A=hs(),D=(a,O)=>{console.log(a,"item##"),A.push(`/vaults-detail/${a.id}?action=${O}`)},j=a=>{const O=a.needReverse,E=O?a.token_b.address:a.token_a.address,W=O?a.token_a.address:a.token_b.address;A.push(`/swap?from=${E}&to=${W}`)},T=P(!0);return{router:A,getCoinIcon:f,tokensObj:_,t:s,statsData:d,checkNullObj:K,addCommom:q,importIcon:as,theme:$,isShowPosition:w,togglePosition:p,positionInfo:e,wallet:c,isShowDetail:i,toAutoPoolDetail:D,toSwap:j,direct:T}}});const V=s=>(is("data-v-d9f093f8"),s=s(),ds(),s),re={class:"vaults-table-contianer"},ue={class:"table pc-pool-item"},_e={class:"table-header"},he={class:"table-tr"},pe=V(()=>o("th",null,"Vaults",-1)),ve=V(()=>o("th",null,"TVL",-1)),ge=V(()=>o("th",null,"Rewards",-1)),me=V(()=>o("th",null,"Your Deposit",-1)),ke=V(()=>o("th",null,"Actions",-1)),ye=V(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),be={class:"table-body"},fe=["onClick"],$e={class:"token"},we={class:"img-box"},Se={class:"img-box img-last-box"},Le={class:"name"},Ce={class:"top"},Pe={class:"token-name"},Ae={class:"tokena"},Ie={class:"tokenb"},Ve={class:"fee-warning"},Re={class:"fee-tier-top"},Be={key:0},Oe={class:"skeleton-box"},Ne={key:1},je={key:2},Te={class:"skeleton-box"},De={key:3},qe={class:"rewards-coin"},Ue={key:4},Me={class:"skeleton-box"},Ye={key:5},Fe={class:"show-position"},Ee={class:"svg-icon"},We=V(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),ze=[We],He={key:0,class:"table-tr view-table-tr"},Je={colspan:"6"},Ke=V(()=>o("td",null,null,-1)),Qe=V(()=>o("tr",{style:{height:"8px",background:"unset"}},null,-1)),Ge={class:"h5-pool-item"},Xe={class:"token"},Ze={class:"img-box"},xe={key:0,class:"pool-warning"},st={class:"img-box img-last-box"},ot={key:0,class:"pool-warning"},et={class:"name"},tt={class:"top"},nt={class:"token-name"},lt={class:"tokena"},at={class:"tokenb"},it={class:"fee-warning"},dt={class:"fee-tier-top"},ct={class:"bottom"},rt={class:"row"},ut=V(()=>o("div",{class:"left"},"TVL",-1)),_t={key:0,class:"right"},ht={key:1,class:"right"},pt={class:"row"},vt=V(()=>o("div",{class:"left"},"APY",-1)),gt={key:0,class:"right"},mt={key:1,class:"right theme-right"},kt={class:"row"},yt=V(()=>o("div",{class:"left"},"Rewards",-1)),bt={class:"right"},ft={class:"rewards-coin"},$t={class:"row"},wt=V(()=>o("div",{class:"left"},"Your Deposit",-1)),St={key:0,class:"right"},Lt={key:1,class:"right"},Ct=["onClick"],Pt=V(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),At=[Pt],It={key:0,class:"h5-auto-pool-details"},Vt={class:"h5-item lp-tokens"},Rt=V(()=>o("div",{class:"top"},"Your LP tokens",-1)),Bt={class:"bottom"},Ot={key:0,class:"lp-num"},Nt={key:1,class:"lp-num"},jt={class:"h5-item share"},Tt=V(()=>o("div",{class:"top"},"Share",-1)),Dt={class:"bottom"},qt={key:0},Ut={key:1},Mt={class:"h5-item yourBanlance"},Yt=V(()=>o("div",{class:"top"},"Pooled assets",-1)),Ft={class:"bottom"},Et={class:"token-info"},Wt={class:"token-num"},zt={alt:""},Ht={key:0},Jt={key:1},Kt=V(()=>o("p",null,"--",-1)),Qt=[Kt],Gt={class:"token-num"},Xt={alt:""},Zt={key:0},xt={key:1},sn=V(()=>o("p",null,"--",-1)),on=[sn],en={class:"action"},tn=["onClick"];function nn(s,l,b,m,L,f){const _=Ns,d=js,$=Vs,R=Es,C=ps,w=de,p=Rs("image");return t(),n("div",re,[o("table",ue,[o("thead",_e,[o("tr",he,[pe,ve,o("th",null,[o("span",null,[B("APY "),r(_)])]),ge,me,ke]),ye]),o("tbody",be,[(t(!0),n(U,null,ss(s.list,(e,y)=>{var c,i,A,D,j,T,a,O,E,W,Q;return t(),n(U,{key:y},[o("tr",{class:"table-tr",onClick:Y=>s.togglePosition(y)},[o("td",null,[o("div",$e,[o("div",we,[F(o("img",null,null,512),[[p,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),r(d,{address:e.needReverse?(i=e==null?void 0:e.coinB)==null?void 0:i.address:(c=e==null?void 0:e.coinA)==null?void 0:c.address,"style-params":{right:0,bottom:0,width:"14px",height:"14px"}},null,8,["address"])]),o("div",Se,[F(o("img",null,null,512),[[p,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),r(d,{address:e.needReverse?(D=e.coinA)==null?void 0:D.address:(A=e==null?void 0:e.coinB)==null?void 0:A.address,"style-params":{right:0,bottom:0,width:"14px",height:"14px"}},null,8,["address"])]),o("div",Le,[o("div",Ce,[o("p",Pe,[o("span",Ae,g(e.needReverse?(T=e==null?void 0:e.coinB)==null?void 0:T.symbol:(j=e==null?void 0:e.coinA)==null?void 0:j.symbol),1),B(" - "),o("span",Ie,g(e.needReverse?(a=e==null?void 0:e.coinA)==null?void 0:a.symbol:(O=e==null?void 0:e.coinB)==null?void 0:O.symbol),1)]),o("div",Ve,[o("div",Re,g((e==null?void 0:e.fee)*100)+"%",1)])])])])]),("checkNullObj"in s?s.checkNullObj:I(K))(s.statsData)?(t(),n("td",Be,[o("div",Oe,[r($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Ne," $"+g(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:I(q))(e.poolUSD,2)),1)),("checkNullObj"in s?s.checkNullObj:I(K))(s.statsData)?(t(),n("td",je,[o("div",Te,[r($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",De,g(e.apy),1)),o("td",null,[r(R,{"overlay-class-name":"reward-coin-tips"},{title:J(()=>[B("Rewards will be auto harvested and compounded to your position.")]),default:J(()=>[o("div",qe,[(t(!0),n(U,null,ss(e.rewardList,Y=>(t(),n("div",{key:Y,class:"img-box"},[F(o("img",null,null,512),[[p,s.getCoinIcon({address:Y})]]),r(d,{address:Y,"style-params":{right:0,bottom:0,width:"8px",height:"8px"}},null,8,["address"])]))),128))])]),_:2},1024)]),(E=s.wallet)!=null&&E.connected&&!s.positionInfo[e.id].myLiquidityUSD?(t(),n("td",Ue,[o("div",Me,[r($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Ye,[s.wallet.connected?(t(),n(U,{key:0},[B(g(((W=s.positionInfo[e.id])==null?void 0:W.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:I(q))((Q=s.positionInfo[e.id])==null?void 0:Q.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(U,{key:1},[B("--")],64))])),o("td",null,[o("div",Fe,[r(C,{class:"add-liquidity-btn",onClick:rs(Y=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:J(()=>[B("Deposit")]),_:2},1032,["onClick"]),o("div",Ee,[(t(),n("svg",{"aria-hidden":"true",class:os(["icon",s.isShowPosition&&s.isShowPosition[y]?"icon-open":""])},ze,2))])])])],8,fe),s.isShowPosition&&s.isShowPosition[y]?(t(),n("tr",He,[o("td",Je,[r(w,{"p-item":e},null,8,["p-item"])]),Ke])):M("",!0),Qe],64)}),128))])]),o("div",Ge,[(t(!0),n(U,null,ss(s.list,(e,y)=>{var c,i,A,D,j,T,a,O,E,W,Q,Y;return t(),n("div",{key:e.address,class:"item"},[o("div",Xe,[o("div",Ze,[F(o("img",null,null,512),[[p,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),(e.needReverse?(i=s.tokensObj[e.coinB.address])!=null&&i.isSelfBuilt:(c=s.tokensObj[e.coinA.address])!=null&&c.isSelfBuilt)?(t(),n("div",xe)):M("",!0)]),o("div",st,[F(o("img",null,null,512),[[p,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),(e.needReverse?(A=s.tokensObj[e.coinA.address])!=null&&A.isSelfBuilt:(D=s.tokensObj[e.coinB.address])!=null&&D.isSelfBuilt)?(t(),n("div",ot)):M("",!0)]),o("div",et,[o("div",tt,[o("p",nt,[o("span",lt,g(e.needReverse?e.coinB.symbol:e.coinA.symbol),1),B(" - "),o("span",at,g(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)]),o("div",it,[o("div",dt,g((e==null?void 0:e.fee)*100)+"%",1)])])])]),o("div",ct,[o("div",rt,[ut,("checkNullObj"in s?s.checkNullObj:I(K))(s.statsData)?(t(),n("div",_t,[r($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",ht," $"+g(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:I(q))(e.poolUSD,2)),1))]),o("div",pt,[vt,("checkNullObj"in s?s.checkNullObj:I(K))(s.statsData)?(t(),n("div",gt,[r($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",mt,[o("span",null,g(e.apy),1),r(_)]))]),o("div",kt,[yt,o("div",bt,[r(R,{"overlay-class-name":"reward-coin-tips"},{title:J(()=>[B("Rewards will be auto harvested and compounded to your position.")]),default:J(()=>[o("div",ft,[(t(!0),n(U,null,ss(e.rewardList,z=>(t(),n("div",{key:z,class:"img-box"},[F(o("img",null,null,512),[[p,s.getCoinIcon({address:z})]]),r(d,{address:z,"style-params":{right:0,bottom:0,width:"8px",height:"8px"}},null,8,["address"])]))),128))])]),_:2},1024)])]),o("div",$t,[wt,("checkNullObj"in s?s.checkNullObj:I(K))(s.positionInfo)&&((j=s.wallet)!=null&&j.connected)?(t(),n("div",St,[r($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",Lt,[(T=s.wallet)!=null&&T.connected?(t(),n(U,{key:0},[B(g(((a=s.positionInfo[e.id])==null?void 0:a.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:I(q))((O=s.positionInfo[e.id])==null?void 0:O.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(U,{key:1},[B("--")],64))]))])]),r(C,{class:"h5-add-liquidity-btn",onClick:rs(z=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:J(()=>[B("Deposit")]),_:2},1032,["onClick"]),o("div",{class:os(["details-btn",s.isShowPosition&&s.isShowPosition[y]?"details-btn-text-active":""]),onClick:z=>s.togglePosition(y)},[(t(),n("svg",{"aria-hidden":"true",class:os(["icon",s.isShowPosition&&s.isShowPosition[y]?"icon-active":""])},At,2))],10,Ct),s.isShowPosition&&s.isShowPosition[y]?(t(),n("div",It,[o("div",Vt,[Rt,o("div",Bt,[(E=s.wallet)!=null&&E.connected?(t(),n("div",Ot,g(("addCommom"in s?s.addCommom:I(q))(("decimalUi"in s?s.decimalUi:I(_s))(e==null?void 0:e.myLiquidity,4)))+" LP",1)):(t(),n("div",Nt,"--"))])]),o("div",jt,[Tt,o("div",Dt,[(W=s.wallet)!=null&&W.connected?(t(),n("span",qt,g(e==null?void 0:e.myShare)+"%",1)):(t(),n("span",Ut,"--%"))])]),o("div",Mt,[Yt,o("div",Ft,[o("div",Et,[o("div",Wt,[F(o("img",zt,null,512),[[p,e.needReverse?e.coinB.logo_url:e.coinA.logo_url]]),(Q=s.wallet)!=null&&Q.connected?(t(),n("div",Ht,[o("span",null,g(("addCommom"in s?s.addCommom:I(q))(e==null?void 0:e.amountA))+" "+g(e.needReverse?e.coinB.symbol:e.coinA.symbol),1)])):(t(),n("div",Jt,Qt))]),o("div",Gt,[F(o("img",Xt,null,512),[[p,e.needReverse?e.coinA.logo_url:e.coinB.logo_url]]),(Y=s.wallet)!=null&&Y.connected?(t(),n("div",Zt,[o("span",null,g(("addCommom"in s?s.addCommom:I(q))(e==null?void 0:e.amountB))+" "+g(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)])):(t(),n("div",xt,on))])])])]),o("div",en,[o("div",null,[o("div",{class:"remove-btn",onClick:z=>s.toAutoPoolDetail(e,"remove")},"Details",8,tn)])])])):M("",!0)])}),128))])])}const ln=ts(ce,[["render",nn],["__scopeId","data-v-d9f093f8"]]),an=es({props:{selectValue:{type:String,default:""},showList:{type:Object,default:()=>({})}},setup(s,l){const b=["All Vaults","My Vaults"],m=P("All Vaults"),L=P(s.selectValue),f=P(!1),_=P(!1),d=ns(),$=v(()=>d),R=cs(),C=v(()=>R),w=v(()=>C.value.autoPoolList),p=()=>s.showList.length,e=()=>{l.emit("clickRefresh")},y=i=>{L.value=i,l.emit("changeSort",i)},c=i=>{m.value=i,console.log(i,"itemitem"),i=="My Vaults"?l.emit("changeTab",!0):l.emit("changeTab",!1)};return Os(()=>{document.addEventListener("click",()=>{_.value=!1})}),{isOpenList:_,wallet:$,changeSort:y,tabList:b,currentTab:m,sortValue:L,clickRefresh:e,isRefresh:f,vaultsPoolList:w,getListNum:p,changeTab:c}}});const ls=s=>(is("data-v-1d1eae2e"),s=s(),ds(),s),dn={class:"vaults-tab"},cn={class:"tab-left"},rn=["onClick"],un={key:0},_n={class:"tab-right"},hn={class:"sort-select"},pn=ls(()=>o("div",null,"Sort by",-1)),vn={class:"showSort"},gn=ls(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),mn=ls(()=>o("use",{"xlink:href":"#icon-icon_arrow"},null,-1)),kn=[mn],yn={key:0,class:"sort-list"},bn=ls(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),fn=ls(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),$n={class:"refresh"},wn=ls(()=>o("use",{"xlink:href":"#icon-icon-refresh2"},null,-1)),Sn=[wn];function Ln(s,l,b,m,L,f){return t(),n("div",dn,[o("div",cn,[(t(!0),n(U,null,ss(s.tabList,_=>(t(),n("div",{key:_,class:os(["tab-item",s.currentTab==_?"tab-item-active":""]),onClick:d=>s.changeTab(_)},[o("span",null,g(_),1),s.currentTab==_&&s.getListNum()?(t(),n("p",un,g(s.currentTab=="My Vaults"&&!s.wallet.address?0:s.getListNum()),1)):M("",!0)],10,rn))),128))]),o("div",_n,[o("div",hn,[o("div",{class:"sort-select-box",onClick:l[0]||(l[0]=rs(_=>s.isOpenList=!s.isOpenList,["stop"]))},[pn,o("div",vn,[o("span",null,g(s.sortValue),1),gn,(t(),n("svg",{class:os(["arrow-icon",s.isOpenList?"arrow-icon-active":""]),"aria-hidden":"true"},kn,2))])]),s.isOpenList?(t(),n("div",yn,[o("div",{class:"sort-item",onClick:l[1]||(l[1]=_=>s.changeSort("APY"))},[B(" APY "),bn]),o("div",{class:"sort-item",onClick:l[2]||(l[2]=_=>s.changeSort("TVL"))},[B(" TVL "),fn])])):M("",!0)]),o("div",$n,[(t(),n("svg",{"aria-hidden":"true",class:os(["refresh-icon",s.isRefresh?"refreshing":""]),onClick:l[3]||(l[3]=(..._)=>s.clickRefresh&&s.clickRefresh(..._))},Sn,2))])])])}const Cn=ts(an,[["render",Ln],["__scopeId","data-v-1d1eae2e"]]),Pn=es({components:{VaultsTabs:Cn},setup(){Bs();const s=vs(),l=v(()=>s),b=us(),m=v(()=>b),L=cs(),f=v(()=>L),_=ns(),d=v(()=>_),$=v(()=>f.value.positionInfoObj),R=v(()=>l.value.chainName),C=P(!1),w=P(!1),p=P("TVL"),e=P(["APY"]),y=P(!1),c=h=>{console.log(h,"w121");const N=[];N.push(p.value),e.value.forEach((S,u)=>{S!=h&&N.push(S)}),e.value=N,p.value=h,D(f.value.positionInfoList)};Os(()=>{document.addEventListener("click",()=>{Y("")})});const i=P([]),A=P(!0),D=h=>{console.log(h,p.value,"##poolListselectValue.valueselectValue.value");const N=[];h.filter(u=>!u.is_pause).forEach(u=>{var ks,ys,bs,fs,$s,ws,Ss,Ls,Cs,Ps,As;const k=l.value.addressLpTokens[u.address],H=m.value.poolsObj[u.address];console.log(f.value.apyObj,"##autoPool.value.apyObj");const Z=((ks=f.value.apyObj[u.id])==null?void 0:ks.apr)||"0%",Ds=((ys=f.value.apyObj[u.id])==null?void 0:ys.resultApr)||"0",qs=((bs=f.value.apyObj[u.id])==null?void 0:bs.tvl)||0;console.log(u.autoPoolPositionInfo.id,"###watchPools 246"),console.log(k,"##statsObj");const Us=u.needReverse?((Ss=m.value.tokensObj[(ws=u.coinB)==null?void 0:ws.address])==null?void 0:Ss.labels)||[]:(($s=m.value.tokensObj[(fs=u.coinA)==null?void 0:fs.address])==null?void 0:$s.labels)||[],Ms=u.needReverse?((Cs=m.value.tokensObj[(Ls=u.coinA)==null?void 0:Ls.address])==null?void 0:Cs.labels)||[]:((As=m.value.tokensObj[(Ps=u.coinB)==null?void 0:Ps.address])==null?void 0:As.labels)||[],Ys=[...new Set(Us.concat(Ms))];N.push({...u,liqidity:qs,vol:k?k.vol_in_usd_24h:"0",fee:u.fee?u.fee:H!=null&&H.fee?H.fee:"--",labels:Ys,isFarming:u==null?void 0:u.isFarming,fee_24_h:k&&k.fee_24_h,apy:Z,resultApr:Ds})});let S=[];p.value=="APY"?(console.log(p.value,"selectValue.valueselectValue.value"),S=N.sort((u,k)=>Number(k.resultApr)-Number(u.resultApr))):S=N.sort((u,k)=>Number(k.liqidity)-Number(u.liqidity)),i.value=S,console.log(i.value.length,"##list.value.length"),b.setAutoPoolNum(i.value.length),A.value=!1,console.log(i.value,"##list.value")};x(()=>[f.value.positionInfoList,f.value.apyObj,m.value.poolConfigObj],([h,N,S])=>{console.log("执行次数###",S),h&&h.length>0&&S&&!K(S)&&(console.log(h,"###autoPoolList"),D(h))},{immediate:!0,deep:!0}),x(()=>[d.value.address,f.value.autoPoolList,m.value.poolConfigObj],([h,N,S])=>{h&&N&&N.length>0&&S&&!K(S)&&L.getMyAutoPoolPosition()},{immediate:!0});const j=P(null),T=v(()=>j.value&&j.value.firstToken?j.value.firstToken:null),a=v(()=>j.value&&j.value.lastToken?j.value.lastToken:null),O=P(),E=P(0),W=()=>{let h=[];h=i.value,console.log(h,"##pageList"),E.value=h.reduce((k,H)=>Number(k)+Number(H.poolUSD),0);const N=h.filter((k,H)=>T.value&&a.value?k.coinA.address==T.value.address&&k.coinB.address==a.value.address||k.coinA.address==a.value.address&&k.coinB.address==T.value.address:T.value?k.coinA.address.toLowerCase().includes(T.value.address.toLowerCase())||k.coinB.address.toLowerCase().includes(T.value.address.toLowerCase()):a.value?k.coinA.address.toLowerCase().includes(a.value.address.toLowerCase())||k.coinB.address.toLowerCase().includes(a.value.address.toLowerCase()):h);let S=[],u=[];console.log(N,"##filterArr"),N.forEach((k,H)=>{console.log(k,"irem##");const Z=$.value&&$.value[k.id];console.log(Z,"##positionInfo"),C.value&&Number(Z==null?void 0:Z.myLiquidity)>0&&d.value.connected?u.push(k):S.push({...k})}),console.log(S,"121arrnewValnewValnewVal"),O.value=C.value&&d.value.connected?u:S,console.log(O.value,"##showList.value "),A.value||(C.value&&d.value.connected?b.setAutoPoolNum(u.length):b.setAutoPoolNum(S.length))};x(()=>[T.value,a.value,i.value,C.value,d.value.address],([h,N,S,u])=>{(h||N||S||u)&&(console.log("newValnewValnewVal",h,N,S,JSON.stringify(S)),W())},{immediate:!0}),Ws(()=>{b.setAutoPoolNum("--")});const Q=v(()=>m.value.autoPoolNum),Y=h=>{h=="label"?(s.setIsSelect("pools"),y.value=!y.value,w.value=!1,l.value.setIsShowMore(!1)):h=="select"?(s.setIsSelect("pools"),w.value=!w.value,y.value=!1,l.value.setIsShowMore(!1)):(w.value=!1,y.value=!1)};x(()=>l.value.isSelect,h=>{h!=="pools"&&Y("")},{immediate:!0});const z=hs(),ms=()=>{A.value=!0,L.getAutoPoolList(),L.getAutoPoolAPY()};return x(()=>l.value.isRefresh,h=>{ms()},{immediate:!0}),x(()=>R.value,h=>{h=="Aptos"&&z.push("/pools")},{immediate:!0}),{totalTVL:E,clickRefresh:ms,isMyLiquidity:C,chainName:R,store:l,select:w,selectValue:p,selectList:e,label:y,changeSort:c,list:i,listLoading:A,showList:O,childTokenSelectRef:j,wallet:d,autoPoolNum:Q}}});const An={class:"vaults-container-new"},In={class:"vaults-container-center"},Vn={class:"auto-pool"},Rn={key:0,class:"no-vaults-data no-data"},Bn=o("img",{src:Ts},null,-1),On={key:0,class:"upgrade-loading pc-loading"},Nn={key:1,class:"upgrade-loading h5-loading"},jn={key:3,class:"no-vaults-data"},Tn=o("img",{src:Qs},null,-1),Dn=o("span",{class:"no-vaults"},"No vaults found",-1),qn=[Tn,Dn];function Un(s,l,b,m,L,f){const _=co,d=zs("VaultsTabs"),$=ps,R=Co,C=Ks,w=ln;return t(),n("div",An,[r(_,{list:s.showList,"total-t-v-l":s.totalTVL,"list-loading":s.listLoading},null,8,["list","total-t-v-l","list-loading"]),o("div",In,[r(d,{"select-value":s.selectValue,"show-list":s.showList,onChangeSort:l[0]||(l[0]=p=>s.changeSort(p)),onChangeTab:l[1]||(l[1]=p=>{s.isMyLiquidity=p}),onClickRefresh:s.clickRefresh},null,8,["select-value","show-list","onClickRefresh"]),o("div",Vn,[s.isMyLiquidity&&!s.wallet.address?(t(),n("div",Rn,[Bn,r($,{class:"add-liquidity-btn",onClick:l[2]||(l[2]=p=>s.wallet.setIsShowWalletModal(!0))},{default:J(()=>[B("Connect Wallet")]),_:1})])):M("",!0),s.isMyLiquidity&&s.wallet.address&&s.listLoading||!s.isMyLiquidity&&s.listLoading?(t(),n(U,{key:1},[s.listLoading?(t(),n("div",On,[r(R)])):M("",!0),s.listLoading?(t(),n("div",Nn,[r(C,{type:"poolsCard",loading:!0})])):M("",!0)],64)):M("",!0),s.isMyLiquidity&&s.wallet.address&&!s.listLoading||!s.isMyLiquidity&&!s.listLoading?(t(),Hs(w,{key:2,list:s.showList},null,8,["list"])):M("",!0),s.autoPoolNum!=="--"&&Number(s.autoPoolNum)<=0&&!s.listLoading?(t(),n("div",jn,qn)):M("",!0)])])])}const tl=ts(Pn,[["render",Un]]);export{tl as default};
