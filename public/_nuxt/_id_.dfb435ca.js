import{_ as ce}from"./new-position-title.737aada3.js";import{_ as Ho}from"./token-warning.00ad71a6.js";import{_ as me}from"./status-block.f0e9b798.js";import{u as Lo,g as ve,a as q,d as Io,c as qo,p as Ko,b as Vo,s as ro,e as so,f as pe,T as To,C as Qo}from"./pool.4250bf96.js";import{u as Bo,a as Do}from"./sha256.41980ac4.js";import{i as ko}from"./import-icon.de3e6c66.js";import{u as Uo,a as Zo}from"./autoPool.60ae098e.js";import{a as go,l as c,r as N,m as bo,q as eo,e as $o,s as No,o as g,f as B,h as e,t as U,i as z,v as r,j as vo,x as Go,u as W,p as Co,k as So,M as xo,y as jo,z as oe,c as io,w as po,B as Eo,A as ee,C as zo,D as fe,L as _e,I as he,S as ne,E as ge,b as be,F as $e,G as ye,H as Ie,J as ke}from"./entry.e7b310bc.js";import{_ as Ce}from"./assets-card.1d2f6801.js";import{D as y}from"./decimal.0e8aa3f1.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./decimal.633e31ee.js";import"./back.626b4883.js";import"./swap-setting.83df5ae7.js";/* empty css              */import"./index.b6fd6146.js";/* empty css              */const Se=go({setup(){const o=Bo(),n=c(()=>o),T=Lo(),S=c(()=>T),A=c(()=>n.value.theme),I=s=>{var p;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((p=S.value.tokensObj[s==null?void 0:s.address])==null?void 0:p.logo_url)||(A.value==="default"?ko("/image/coins/unknown.png"):ko("/image/coins/sui-unknown.png"))},f=N(!0),v=Uo(),h=c(()=>v),a=bo(),i=N();eo(()=>[h.value.positionInfoObj,a.params.id],([s,p])=>{s&&!qo(s)&&p&&(i.value=s[p],console.log(i.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const t=c(()=>{var s;return(s=i.value)==null?void 0:s.needReverse}),u=c(()=>{var s;return(s=h.value.apyObj[a.params.id])==null?void 0:s.tvl}),l=c(()=>{var s;return(s=h.value.apyObj[a.params.id])==null?void 0:s.apr});return{positionInfo:i,tvl:u,store:n,indexStore:o,needReverse:t,getCoinIcon:I,getExplorerUrl:ve,addCommom:q,decimalUi:Io,direct:f,apy:l}}});const Mo=o=>(Co("data-v-ff2f9366"),o=o(),So(),o),Ae={class:"auto-position-info"},we={class:"pool-info"},Pe={class:"left"},Re={class:"coin-a"},Te={alt:""},qe={class:"coin-b"},Le={alt:""},Be={class:"position-name"},Ne={key:0,class:"pool-fee"},Me=Mo(()=>e("span",null,"Fee tier",-1)),Oe={class:"right"},De={class:"price-info"},Ue={class:"current-price"},je=Mo(()=>e("span",null,"Current Price",-1)),Fe={class:"coin-rate"},Ee=Mo(()=>e("div",null,[e("svg",{class:"icon icon-up","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),We=Mo(()=>e("div",null,[e("svg",{class:"icon icon-down","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Xe=[Ee,We],ze={key:0},He={key:1},Ge={class:"apy-and-tvl"},Je={class:"apy"},Ye=Mo(()=>e("div",{class:"apy-title"},"APY",-1)),Ke={class:"apy-text"},Qe={class:"tvl"},Ve=Mo(()=>e("div",{class:"tvl-title"},"TVL",-1)),Ze={class:"tvl-text"};function xe(o,n,T,S,A,I){var a,i,t,u,l,s,p,d,$,b,C,H,w,k,j,O,M,G,P,X,D,Q,F,x,V,lo,Z,fo,co,no,_,J,oo;const f=Ho,v=me,h=No("image");return g(),B("div",Ae,[e("div",we,[e("div",Pe,[e("div",Re,[U(e("img",Te,null,512),[[h,o.needReverse?o.getCoinIcon((i=o.positionInfo)==null?void 0:i.token_b):o.getCoinIcon((a=o.positionInfo)==null?void 0:a.token_a)]]),z(f,{address:o.needReverse?(s=(l=o.positionInfo)==null?void 0:l.token_b)==null?void 0:s.address:(u=(t=o.positionInfo)==null?void 0:t.token_a)==null?void 0:u.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),e("div",qe,[U(e("img",Le,null,512),[[h,o.needReverse?o.getCoinIcon((d=o.positionInfo)==null?void 0:d.token_a):o.getCoinIcon((p=o.positionInfo)==null?void 0:p.token_b)]]),z(f,{address:o.needReverse?(H=(C=o.positionInfo)==null?void 0:C.token_a)==null?void 0:H.address:(b=($=o.positionInfo)==null?void 0:$.token_b)==null?void 0:b.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),e("div",Be,r(o.needReverse?(k=(w=o.positionInfo)==null?void 0:w.token_b)==null?void 0:k.symbol:(O=(j=o.positionInfo)==null?void 0:j.token_a)==null?void 0:O.symbol)+" - "+r(o.needReverse?(G=(M=o.positionInfo)==null?void 0:M.token_a)==null?void 0:G.symbol:(X=(P=o.positionInfo)==null?void 0:P.token_b)==null?void 0:X.symbol),1),(D=o.positionInfo)!=null&&D.fee?(g(),B("div",Ne,[Me,vo(" "+r(((Q=o.positionInfo)==null?void 0:Q.fee)*100)+"% ",1)])):Go("",!0)]),e("div",Oe,[z(v,{"current-status":(F=o.positionInfo)==null?void 0:F.currentStatus},null,8,["current-status"])])]),e("div",De,[e("div",Ue,[e("div",null,[je,e("div",Fe,[e("div",{onClick:n[0]||(n[0]=ao=>o.direct=!o.direct)},Xe)])]),(o.needReverse?!o.direct:o.direct)?(g(),B("div",ze,[vo(r(("addCommom"in o?o.addCommom:W(q))(("decimalUi"in o?o.decimalUi:W(Io))((x=o.positionInfo)==null?void 0:x.price,6)))+"   ",1),e("span",null,r((lo=(V=o.positionInfo)==null?void 0:V.token_b)==null?void 0:lo.symbol)+" per "+r((fo=(Z=o.positionInfo)==null?void 0:Z.token_a)==null?void 0:fo.symbol),1)])):(g(),B("div",He,[vo(r(("addCommom"in o?o.addCommom:W(q))(("decimalUi"in o?o.decimalUi:W(Io))(1/((co=o.positionInfo)==null?void 0:co.price),6)))+"   ",1),e("span",null,r((_=(no=o.positionInfo)==null?void 0:no.token_a)==null?void 0:_.symbol)+" per "+r((oo=(J=o.positionInfo)==null?void 0:J.token_b)==null?void 0:oo.symbol),1)]))]),e("div",Ge,[e("div",Je,[Ye,e("div",Ke,r(o.apy),1)]),e("div",Qe,[Ve,e("div",Ze,"$"+r(("addCommom"in o?o.addCommom:W(q))(o.tvl,2)),1)])])])])}const te=$o(Se,[["render",xe],["__scopeId","data-v-ff2f9366"]]),on=go({setup(){const o=Uo(),n=c(()=>o),T=bo(),S=c(()=>(console.log(n.value.positionInfoObj[T.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),n.value.positionInfoObj[T.params.id])),A=c(()=>{var v;return(v=S.value)==null?void 0:v.needReverse}),I=Do(),f=c(()=>I);return{positionInfo:S,needReverse:A,addCommom:q,wallet:f}}});const Ao=o=>(Co("data-v-b1d5e482"),o=o(),So(),o),en={class:"auto-position-liquidity"},nn={class:"my-liquidity"},tn={class:"left"},sn=Ao(()=>e("div",null,"My Liquidity",-1)),ln={key:0},an={key:1},un={class:"right"},dn=Ao(()=>e("div",null,"My share",-1)),rn={key:0},cn={key:1},mn={class:"my-liquidity-info"},vn={class:"lp-info"},pn={class:"lp-bg"},fn={alt:""},_n={alt:""},hn={key:0,class:"lp-num"},gn={key:1,class:"lp-num"},bn=Ao(()=>e("div",{class:"assets-pooled-title"}," Pooled Assets ",-1)),$n={class:"assets-pooled"},yn={alt:""},In={key:0},kn={key:1},Cn=Ao(()=>e("p",null,"--",-1)),Sn=Ao(()=>e("p",null,"--",-1)),An=[Cn,Sn],wn={alt:""},Pn={key:0},Rn={key:1},Tn=Ao(()=>e("p",null,"--",-1)),qn=Ao(()=>e("p",null,"--",-1)),Ln=[Tn,qn];function Bn(o,n,T,S,A,I){var v,h,a,i,t,u,l,s,p,d,$,b,C,H,w,k,j,O,M,G,P,X,D,Q,F,x,V,lo,Z,fo,co,no,_,J,oo,ao;const f=No("image");return g(),B("div",en,[e("div",nn,[e("div",tn,[sn,(v=o.wallet)!=null&&v.connected?(g(),B("div",ln,"$"+r(("addCommom"in o?o.addCommom:W(q))((h=o.positionInfo)==null?void 0:h.myLiquidityUSD)),1)):(g(),B("div",an,"--"))]),e("div",un,[dn,(a=o.wallet)!=null&&a.connected?(g(),B("div",rn,r((i=o.positionInfo)==null?void 0:i.myShare)+"%",1)):(g(),B("div",cn,"--%"))])]),e("div",mn,[e("div",vn,[e("div",pn,[U(e("img",fn,null,512),[[f,o.needReverse?(u=(t=o.positionInfo)==null?void 0:t.token_b)==null?void 0:u.logo_url:(s=(l=o.positionInfo)==null?void 0:l.token_a)==null?void 0:s.logo_url]]),U(e("img",_n,null,512),[[f,o.needReverse?(d=(p=o.positionInfo)==null?void 0:p.token_a)==null?void 0:d.logo_url:(b=($=o.positionInfo)==null?void 0:$.token_b)==null?void 0:b.logo_url]])]),(C=o.wallet)!=null&&C.connected?(g(),B("div",hn,r(("addCommom"in o?o.addCommom:W(q))((H=o.positionInfo)==null?void 0:H.myLiquidity))+" LP",1)):(g(),B("div",gn,"-- LP"))]),bn,e("div",$n,[e("div",null,[U(e("img",yn,null,512),[[f,o.needReverse?(k=(w=o.positionInfo)==null?void 0:w.token_b)==null?void 0:k.logo_url:(O=(j=o.positionInfo)==null?void 0:j.token_a)==null?void 0:O.logo_url]]),(M=o.wallet)!=null&&M.connected?(g(),B("div",In,[e("p",null,"$"+r(("addCommom"in o?o.addCommom:W(q))((G=o.positionInfo)==null?void 0:G.myAmountAUSD)),1),e("p",null,r(("addCommom"in o?o.addCommom:W(q))((P=o.positionInfo)==null?void 0:P.amountA))+" "+r(o.needReverse?(D=(X=o.positionInfo)==null?void 0:X.token_b)==null?void 0:D.symbol:(F=(Q=o.positionInfo)==null?void 0:Q.token_a)==null?void 0:F.symbol),1)])):(g(),B("div",kn,An))]),e("div",null,[U(e("img",wn,null,512),[[f,o.needReverse?(V=(x=o.positionInfo)==null?void 0:x.token_a)==null?void 0:V.logo_url:(Z=(lo=o.positionInfo)==null?void 0:lo.token_b)==null?void 0:Z.logo_url]]),(fo=o.wallet)!=null&&fo.connected?(g(),B("div",Pn,[e("p",null,"$"+r(("addCommom"in o?o.addCommom:W(q))((co=o.positionInfo)==null?void 0:co.myAmountBUSD)),1),e("p",null,r(("addCommom"in o?o.addCommom:W(q))((no=o.positionInfo)==null?void 0:no.amountB))+" "+r(o.needReverse?(J=(_=o.positionInfo)==null?void 0:_.token_a)==null?void 0:J.symbol:(ao=(oo=o.positionInfo)==null?void 0:oo.token_b)==null?void 0:ao.symbol),1)])):(g(),B("div",Rn,Ln))])])])])}const se=$o(on,[["render",Bn],["__scopeId","data-v-b1d5e482"]]),Nn=go({components:{Modal:xo},props:{poolInfo:{type:Object,default:()=>({})},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},totalAmount:{type:String,default:""},shareOfPool:{type:String,default:""},minimumReceivedLP:{type:String,default:""}},setup(o,n){const{t:T}=jo(),S=c(()=>{var u,l,s;return((u=o==null?void 0:o.poolInfo)==null?void 0:u.needReverse)||((s=(l=o==null?void 0:o.poolInfo)==null?void 0:l.poolInfo)==null?void 0:s.needReverse)}),A=Lo(),I=c(()=>A),f=Bo(),v=c(()=>f),h=u=>{var l;return(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((l=I.value.tokensObj[u==null?void 0:u.address])==null?void 0:l.logo_url)||(v.value.theme==="default"?ko("/image/coins/unknown.png"):ko("/image/coins/sui-unknown.png"))},a=bo(),i=N(!1),t=()=>{n.emit("toAdd")};return console.log(o,"props451"),{needReverse:S,getCoinIcon:h,addCommom:q,t:T,route:a,checked:i,decimalUi:Io,clickSubmit:t}}});const Fo=o=>(Co("data-v-aad63c94"),o=o(),So(),o),Mn=Fo(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),On={class:"modal-content"},Dn={class:"pool-info"},Un={class:"left"},jn={alt:""},Fn={alt:""},En={class:"pool-name"},Wn={class:"right"},Xn={class:"coin-info"},zn={class:"from-coin-info"},Hn={class:"left"},Gn={class:"coin-amount"},Jn={class:"coin-symbol"},Yn={class:"right"},Kn={class:"to-coin-info"},Qn={class:"left"},Vn={class:"coin-amount"},Zn={class:"coin-symbol"},xn={class:"right"},ot=Fo(()=>e("div",{class:"to-swap-logo"},null,-1)),et={class:"add-info"},nt={class:"total-amount"},tt=Fo(()=>e("span",null,"Total Amount",-1)),st={class:"total-amount"},it=Fo(()=>e("span",null,"Share of Pool",-1)),lt={class:"total-amount"},at=Fo(()=>e("span",null,"Minimum Received LP",-1));function ut(o,n,T,S,A,I){const f=Ho,v=Eo,h=oe("Modal"),a=No("image");return g(),io(h,{width:"440px",visible:!0,footer:null,title:"Add Liquidity",onCancel:n[0]||(n[0]=i=>o.$emit("onClose"))},{closeIcon:po(()=>[Mn]),default:po(()=>{var i,t,u,l,s,p,d,$,b,C,H,w,k,j,O,M,G,P,X,D,Q,F,x,V;return[e("div",On,[e("div",Dn,[e("div",Un,[e("div",null,[U(e("img",jn,null,512),[[a,o.needReverse?(l=(u=o.poolInfo)==null?void 0:u.token_b)==null?void 0:l.logo_url:(t=(i=o.poolInfo)==null?void 0:i.token_a)==null?void 0:t.logo_url]]),z(f,{address:o.needReverse?($=(d=o.poolInfo)==null?void 0:d.token_b)==null?void 0:$.address:(p=(s=o.poolInfo)==null?void 0:s.token_a)==null?void 0:p.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",null,[U(e("img",Fn,null,512),[[a,o.needReverse?(w=(H=o.poolInfo)==null?void 0:H.token_a)==null?void 0:w.logo_url:(C=(b=o.poolInfo)==null?void 0:b.token_b)==null?void 0:C.logo_url]]),z(f,{address:o.needReverse?(M=(O=o.poolInfo)==null?void 0:O.token_a)==null?void 0:M.address:(j=(k=o.poolInfo)==null?void 0:k.token_b)==null?void 0:j.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",En,[e("span",null,r(o.needReverse?(D=(X=o.poolInfo)==null?void 0:X.token_b)==null?void 0:D.symbol:(P=(G=o.poolInfo)==null?void 0:G.token_a)==null?void 0:P.symbol),1),vo(" - "),e("span",null,r(o.needReverse?(V=(x=o.poolInfo)==null?void 0:x.token_a)==null?void 0:V.symbol:(F=(Q=o.poolInfo)==null?void 0:Q.token_b)==null?void 0:F.symbol),1)])]),e("div",Wn,[vo(" Fee tier "),e("span",null,r(o.poolInfo&&o.poolInfo.fee*100)+"%",1)])]),e("div",Xn,[e("div",zn,[e("div",Hn,[e("div",Gn,r(("addCommom"in o?o.addCommom:W(q))(o.fromCoinAmount)||0),1),e("div",Jn,r(o.fromCoin&&o.fromCoin.symbol),1)]),e("div",Yn,[U(e("img",null,null,512),[[a,o.fromCoin&&o.fromCoin.logoURI||o.getCoinIcon(o.fromCoin)]]),z(f,{address:o.fromCoin&&o.fromCoin.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])])]),e("div",Kn,[e("div",Qn,[e("div",Vn,r(("addCommom"in o?o.addCommom:W(q))(o.toCoinAmount)||0),1),e("div",Zn,r(o.toCoin&&o.toCoin.symbol),1)]),e("div",xn,[U(e("img",null,null,512),[[a,o.toCoin&&o.toCoin.logoURI||o.getCoinIcon(o.toCoin)]]),z(f,{address:o.toCoin&&o.toCoin.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),ot])]),e("div",et,[e("div",nt,[tt,e("span",null,"$"+r(("addCommom"in o?o.addCommom:W(q))(o.totalAmount)),1)]),e("div",st,[it,e("span",null,r(o.shareOfPool)+"%",1)]),e("div",lt,[at,e("span",null,r(("addCommom"in o?o.addCommom:W(q))(o.minimumReceivedLP))+" "+r(o.fromCoin.symbol)+"-"+r(o.toCoin.symbol),1)])])]),z(v,{class:"big-btn liquidity-btn",onClick:o.clickSubmit},{default:po(()=>[vo(" Add Liquidity ")]),_:1},8,["onClick"])]}),_:1})}const ie=$o(Nn,[["render",ut],["__scopeId","data-v-aad63c94"]]),dt=go({components:{AutoPoolAddModal:ie},setup(){const o=Do(),n=N(!1),T=Bo(),S=c(()=>T),A=c(()=>S.value.chainName),I=c(()=>o),f=Uo(),v=c(()=>f),h=Lo(),a=c(()=>h),i=N(),t=bo();eo(()=>[v.value.positionInfoObj,t.params.id],([m,R])=>{m&&!qo(m)&&R&&(i.value=m[R],console.log(i.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const u=c(()=>{var m;return(m=i.value)==null?void 0:m.needReverse}),l=N(),s=N();eo(()=>i.value,m=>{m&&!qo(m)&&(l.value=m==null?void 0:m.token_a,s.value=m==null?void 0:m.token_b)},{immediate:!0});const p=N(),d=N(),$=N(!0),b=c(()=>I.value.assets&&l.value&&I.value.assets[l.value.address]?Ko(I.value.assets[l.value.address].balance,l.value.decimals):0),C=c(()=>I.value.assets&&s.value&&I.value.assets[s.value.address]?Ko(I.value.assets[s.value.address].balance,s.value.decimals):0),H=m=>{m==="fromCoin"?($.value=!0,p.value=b.value>0?l.value.symbol=="SUI"?new y(Number(b.value)).sub(new y(.05)).lt(new y(0))?"0":new y(Number(b.value)).sub(new y(.05)).toString():String(b.value):""):($.value=!1,d.value=C.value>0?s.value.symbol=="SUI"?new y(Number(C.value)).sub(new y(.05)).lt(new y(0))?"0":new y(Number(C.value)).sub(new y(.05)).toString():String(C.value):"")},w=m=>{m==="fromCoin"?($.value=!0,p.value=b.value>0?ro(new y(Number(b.value)).div(2).toString(),l.value.decimals).toString():""):($.value=!1,d.value=C.value>0?ro(new y(Number(C.value)).div(2).toString(),s.value.decimals).toString():"")},k=c(()=>A.value?Vo(A.value):{}),j=c(()=>S.value.slippage),O=N("--"),M=N("--"),G=m=>{const R=new y(i.value.autoPoolPositionInfo.liquidity),L=new y(m.toString());O.value=ro(L.div(R).div(100).toString(),i.value.decimals)},P=m=>{const R=new y(m.toString());console.log(m.toString(),"##liquidityAmount.toString()");const L=R.mul(new y(j.value).div(100)),Y=new y(Math.pow(10,i.value.decimals));M.value=ro(R.minus(L).div(Y).toString(),i.value.decimals)},X=()=>{if(console.log(i.value,"238##"),!i.value||!p.value&&!d.value)return;const m=i.value.autoPoolPositionInfo.tick_lower_index,R=i.value.autoPoolPositionInfo.tick_upper_index;let L;if(p.value||d.value){if($.value){const uo=new y(p.value).mul(Math.pow(10,l.value.decimals)).toString();L=new so(uo)}else{const uo=new y(d.value).mul(Math.pow(10,s.value.decimals)).toString();L=new so(uo)}const{liquidityAmount:Y,tokenMaxA:K,tokenMaxB:E,tokenMaxAOrigin:mo,tokenMaxBOrigin:_o}=k.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:l.value,tokenB:s.value,lowerTick:m,upperTick:R,coinAmount:L,iscoinA:$.value,roundUp:!0,slippage:Number(j.value)/100,curSqrtPrice:new so(i.value.current_sqrt_price)});console.log(E.toString(),K.toString(),i.value,"###323"),$.value?d.value=Number(E)>0?E:"":p.value=Number(K)>0?K:"",G(Y),P(Y)}},D=c(()=>a.value.RATES),Q=c(()=>{var m,R,L,Y,K,E,mo,_o,uo,to;if((R=D.value[(m=l.value)==null?void 0:m.address])!=null&&R.price&&((Y=D.value[(L=s.value)==null?void 0:L.address])!=null&&Y.price)){console.log((E=D.value[(K=l.value)==null?void 0:K.address])==null?void 0:E.price,"RATES.value[fromCoin.value?.address]?.price");const ho=new y(p.value||0).mul(new y((_o=D.value[(mo=l.value)==null?void 0:mo.address])==null?void 0:_o.price)),Oo=new y(d.value||0).mul(new y((to=D.value[(uo=s.value)==null?void 0:uo.address])==null?void 0:to.price));return ro(ho.add(Oo).toString(),6)}else return"--"});eo(p,(m,R)=>{m&&X(),m==""&&(O.value="--",d.value="",M.value="--")}),eo(d,(m,R)=>{m&&X(),m==""&&(p.value="",O.value="--",M.value="--")});const{t:F,locale:x}=jo(),V=c(()=>{const m=Number(p.value)>Number(b.value),R=Number(d.value)>Number(C.value);return!p.value&&!d.value?F("button.enterAmount"):m?F("button.insufficientBalance",{name:l.value.symbol}):R?F("button.insufficientBalance",{name:s.value.symbol}):"Add Liquidity"}),lo=c(()=>{const m=Number(p.value)>Number(b.value),R=Number(d.value)>Number(C.value);return!!(!p.value&&!d.value||m||R)}),Z=N(!0),{setIsShowSuccess:fo,setIsShowRejected:co,setIsShowWaiting:no,setTransactionDesc:_,setTransactionTxid:J,setPositiomNum:oo}=T,ao=Zo("Sui");return{wallet:I,positionInfo:i,isShowAddModal:n,needReverse:u,fromCoin:l,toCoin:s,fromCoinAmount:p,toCoinAmount:d,fromCoinBlance:b,toCoinBlance:C,fixedFromCoin:$,maxBtnSelect:H,halfBtnSelect:w,totalAmountUSD:Q,addCommom:q,shareOfPool:O,minimumReceivedLP:M,addLiquidityBtnText:V,addLiquidityBtnDisabled:lo,toAdd:async()=>{var mo,_o,uo,to,ho,Oo;n.value=!1,Z.value=!0,J("");const m=`${p.value} ${(mo=l.value)==null?void 0:mo.symbol}`,R=`${d.value} ${(_o=s.value)==null?void 0:_o.symbol}`;_(F("tips.increaseLiquiditySuccess",{from:u.value?R:m,and:"and",to:u.value?m:R})),no(!0);const L=$.value,Y=i.value.autoPoolPositionInfo.tick_lower_index,K=i.value.autoPoolPositionInfo.tick_upper_index;let E;if($.value){const yo=new y(p.value).mul(Math.pow(10,l.value.decimals)).toString();E=new so(yo)}else{const yo=new y(d.value).mul(Math.pow(10,s.value.decimals)).toString();E=new so(yo)}try{const yo={lowerTick:Y,upperTick:K,coinAmount:E,fix_amount_a:L,slippage:Number(j.value)/100,curSqrtPrice:new so(i.value.current_sqrt_price),id:i.value.id,clmm_pool:i.value.autoPoolPositionInfo.pool,lp_token_type:i.value.lp_token_type,coinTypeA:i.value.autoPoolPositionInfo.coin_type_a,coinTypeB:i.value.autoPoolPositionInfo.coin_type_b},Yo=await ao.deposit(yo);console.log(Yo,"===>payloadAdd11111");const re=await I.value.currentWallet.signAndExecuteTransactionBlock(Yo);let Ro=k.value.handleTx(re);if(console.log("toAdd###tx###",Ro),Ro&&Ro.hash){J(Ro.hash),no(!1),fo(!0),console.log(i,"===>positionInfo");const Xo={title:"Supplied",desc:F("tips.addLiquiditySuccessText",{from:`${p.value} ${(uo=l.value)==null?void 0:uo.symbol}`,and:"and",to:`${d.value} ${(to=s.value)==null?void 0:to.symbol}`}),hash:Ro.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deopsit ${p.value} ${(ho=l.value)==null?void 0:ho.symbol} and ${d.value} ${(Oo=s.value)==null?void 0:Oo.symbol}`};A.value!=="Aptos"&&(Xo.res=Ro.res),k.value.showTransitionPending(Xo),await k.value.watchTransaction(Xo)&&setTimeout(()=>{f.updatePositionItem(i.value.address),k.value.getAccount(I.value.address)},1e3),oo()}else no(!1),co(!0);p.value="",d.value="",Z.value=!1}catch(yo){p.value="",d.value="",console.log("addError###",yo),Z.value=!1,no(!1),co(!0)}}}}});const Wo=o=>(Co("data-v-e384220e"),o=o(),So(),o),rt={class:"auto-pool-add"},ct={class:"auto-pool-add-content"},mt={class:"liquidity-action-tab"},vt=Wo(()=>e("div",{class:"increase tab-active"},"Add",-1)),pt={class:"card-item"},ft={class:"card-item"},_t={class:"add-info"},ht={class:"total-amount"},gt=Wo(()=>e("span",null,"Total Amount",-1)),bt={class:"total-amount"},$t=Wo(()=>e("span",null,"Share of Pool",-1)),yt={class:"total-amount"},It=Wo(()=>e("span",null,"Minimum Received LP",-1));function kt(o,n,T,S,A,I){var a,i;const f=Ce,v=Eo,h=ie;return g(),B("div",rt,[e("div",ct,[e("div",mt,[vt,e("div",{class:"remove",onClick:n[0]||(n[0]=ee(t=>o.$emit("changeCurrentTab"),["stop"]))},"Remove")]),e("div",{class:zo(o.needReverse?"card-container reverse":"card-container")},[e("div",pt,[z(f,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":n[1]||(n[1]=t=>o.fromCoinAmount=t),"input-value":o.fromCoinAmount,"coin-symbol":o.fromCoin?o.fromCoin.symbol:null,"coin-name":o.fromCoin?o.fromCoin.name:null,balance:o.fromCoinBlance,"coin-icon":o.fromCoin?o.fromCoin.logoURI:"",address:o.fromCoin?o.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[2]||(n[2]=t=>o.maxBtnSelect("fromCoin")),onOnHalf:n[3]||(n[3]=t=>o.halfBtnSelect("fromCoin")),onOnInput:n[4]||(n[4]=t=>{o.fromCoinAmount=t}),onOnFocus:n[5]||(n[5]=()=>{o.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),e("div",ft,[z(f,{modelValue:o.toCoinAmount,"onUpdate:modelValue":n[6]||(n[6]=t=>o.toCoinAmount=t),"input-value":o.toCoinAmount,"coin-symbol":o.toCoin?o.toCoin.symbol:null,"coin-name":o.toCoin?o.toCoin.name:null,balance:o.toCoinBlance,"swap-direct":"To","coin-icon":o.toCoin?o.toCoin.logoURI:"",address:o.toCoin?o.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[7]||(n[7]=t=>o.maxBtnSelect("toCoin")),onOnHalf:n[8]||(n[8]=t=>o.halfBtnSelect("toCoin")),onOnInput:n[9]||(n[9]=t=>{o.toCoinAmount=t}),onOnFocus:n[10]||(n[10]=()=>{o.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])])],2),e("div",_t,[e("div",ht,[gt,e("span",null,"$"+r(("addCommom"in o?o.addCommom:W(q))(o.totalAmountUSD)),1)]),e("div",bt,[$t,e("span",null,r(o.shareOfPool)+"%",1)]),e("div",yt,[It,e("span",null,r(("addCommom"in o?o.addCommom:W(q))(o.minimumReceivedLP))+" "+r((a=o.fromCoin)==null?void 0:a.symbol)+"-"+r((i=o.toCoin)==null?void 0:i.symbol),1)])])]),o.wallet.connected?(g(),io(v,{key:0,class:"big-btn liquidity-btn",disabled:o.addLiquidityBtnDisabled,onClick:n[11]||(n[11]=t=>o.isShowAddModal=!0)},{default:po(()=>[e("span",null,r(o.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(g(),io(v,{key:1,class:"big-btn",onClick:n[12]||(n[12]=t=>o.wallet.setIsShowWalletModal(!0))},{default:po(()=>[e("span",null,r(o.$t("button.connectWallet")),1)]),_:1})),o.isShowAddModal?(g(),io(h,{key:2,"pool-info":o.positionInfo,"from-coin":o.positionInfo.token_a,"to-coin":o.positionInfo.token_b,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,"total-amount":o.totalAmountUSD,"share-of-pool":o.shareOfPool,"minimum-received-l-p":o.minimumReceivedLP,onOnClose:n[13]||(n[13]=t=>o.isShowAddModal=!1),onToAdd:o.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","onToAdd"])):Go("",!0)])}const le=$o(dt,[["render",kt],["__scopeId","data-v-e384220e"]]),Ct=go({props:{inputValue:{type:String,default:""},balance:{type:String,default:""},lpDecimals:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},inputDisabled:{type:Boolean,default:!1}},setup(o,n){const{t:T,locale:S}=jo(),A=Bo(),I=c(()=>A),f=c(()=>new y(Number(o.balance)).div(2)),v=fe(_e,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function h(){this.$emit("onSelect")}const a=b=>{const C=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${o.lpDecimals&&o.lpDecimals}})?).*$`);b.target.value=b.target.value.replace(C,"$1")},i=Do(),t=c(()=>i),u=Lo(),l=c(()=>u),s=c(()=>l.value.tokensWarningObj);eo(()=>l.value.RATES,b=>{b&&console.log(b,"price====>")},{immediate:!0});const p=c(()=>l.value.tokensObj),d=c(()=>I.value.theme);return{route:bo(),theme:d,tokensObj:p,pool:l,halfBalance:f,t:T,addCommom:q,store:I,wallet:t,indicator:v,inputChange:a,importIcon:ko,selectCoin:h,formatNumber:pe,tokensWarningObj:s,checkNullObj:qo}}});const ae=o=>(Co("data-v-84de2193"),o=o(),So(),o),St={class:"card"},At={class:"top"},wt={key:1,class:"input-div"},Pt={key:0},Rt={class:"left"},Tt={class:"loading-token"},qt={class:"lp-bg"},Lt={alt:""},Bt={alt:""},Nt=ae(()=>e("p",null,"LP",-1)),Mt={class:"bottom"},Ot=ae(()=>e("div",null,null,-1)),Dt={class:"top"},Ut={class:"right"},jt={class:"balance"};function Ft(o,n,T,S,A,I){const f=he,v=ne,h=No("image");return g(),B("div",St,[e("div",At,[o.inputDisabled?(g(),B("div",wt,[o.inputValue?(g(),B("span",Pt,r(o.inputValue),1)):(g(),io(v,{key:1,indicator:o.indicator},null,8,["indicator"]))])):(g(),io(f,{key:0,value:o.inputValue=="InsufficientLiquidity"?"":o.inputValue,placeholder:"0.0",disabled:o.inputDisabled,onChange:o.inputChange,onInput:n[0]||(n[0]=a=>o.$emit("onInput",a.target.value)),onFocus:n[1]||(n[1]=a=>o.$emit("onFocus"))},null,8,["value","disabled","onChange"])),e("div",Rt,[e("div",Tt,[e("div",qt,[U(e("img",Lt,null,512),[[h,o.fromCoin.logo_url]]),U(e("img",Bt,null,512),[[h,o.toCoin.logo_url]])]),Nt])])]),e("div",Mt,[Ot,e("div",Dt,[e("div",Ut,[vo(r(o.$t("common.balance"))+" ",1),e("span",jt,r(o.wallet.connected?("addCommom"in o?o.addCommom:W(q))(o.balance,o.lpDecimals):"0"),1)])])])])}const Et=$o(Ct,[["render",Ft],["__scopeId","data-v-84de2193"]]),Wt=go({components:{Modal:xo},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"11111111111"},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(o,n){const{t:T}=jo(),S=c(()=>{var u,l,s;return((u=o==null?void 0:o.poolInfo)==null?void 0:u.needReverse)||((s=(l=o==null?void 0:o.poolInfo)==null?void 0:l.poolInfo)==null?void 0:s.needReverse)}),A=Lo(),I=c(()=>A),f=Bo(),v=c(()=>f),h=u=>{var l;return(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((l=I.value.tokensObj[u==null?void 0:u.address])==null?void 0:l.logo_url)||(v.value.theme==="default"?ko("/image/coins/unknown.png"):ko("/image/coins/sui-unknown.png"))},a=bo(),i=N(!1),t=()=>{n.emit("toAdd")};return console.log(o,"props451"),{needReverse:S,getCoinIcon:h,addCommom:q,t:T,route:a,checked:i,decimalUi:Io,clickSubmit:t}}});const wo=o=>(Co("data-v-6d964534"),o=o(),So(),o),Xt=wo(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),zt={class:"modal-content"},Ht={class:"pool-info"},Gt={class:"left"},Jt={alt:""},Yt={alt:""},Kt={class:"pool-name"},Qt={class:"right"},Vt={class:"lp-info"},Zt=wo(()=>e("div",{class:"lp-num"},[e("p",null,"1,126,122.123456"),e("span",null,"USDT-USDC LP")],-1)),xt={class:"lp-bg"},os={alt:""},es={alt:""},ns={class:"est-receive"},ts=wo(()=>e("div",{class:"est-receive-title"},"Estimated Receive",-1)),ss={class:"token-a"},is=wo(()=>e("div",null,"0.941824",-1)),ls={alt:""},as=wo(()=>e("span",null,"USDT",-1)),us={class:"token-a"},ds=wo(()=>e("div",null,"0.941824",-1)),rs={alt:""},cs=wo(()=>e("span",null,"USDC",-1));function ms(o,n,T,S,A,I){const f=Ho,v=Eo,h=oe("Modal"),a=No("image");return g(),io(h,{width:"440px",visible:!0,footer:null,title:"Add Liquidity",onCancel:n[0]||(n[0]=i=>o.$emit("onClose"))},{closeIcon:po(()=>[Xt]),default:po(()=>{var i,t,u,l,s,p,d,$,b,C,H,w,k,j,O,M,G,P,X,D,Q,F,x,V;return[e("div",zt,[e("div",Ht,[e("div",Gt,[e("div",null,[U(e("img",Jt,null,512),[[a,o.needReverse?(l=(u=o.poolInfo)==null?void 0:u.token_b)==null?void 0:l.logo_url:(t=(i=o.poolInfo)==null?void 0:i.token_a)==null?void 0:t.logo_url]]),z(f,{address:o.needReverse?($=(d=o.poolInfo)==null?void 0:d.token_b)==null?void 0:$.address:(p=(s=o.poolInfo)==null?void 0:s.token_a)==null?void 0:p.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",null,[U(e("img",Yt,null,512),[[a,o.needReverse?(w=(H=o.poolInfo)==null?void 0:H.token_a)==null?void 0:w.logo_url:(C=(b=o.poolInfo)==null?void 0:b.token_b)==null?void 0:C.logo_url]]),z(f,{address:o.needReverse?(M=(O=o.poolInfo)==null?void 0:O.token_a)==null?void 0:M.address:(j=(k=o.poolInfo)==null?void 0:k.token_b)==null?void 0:j.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",Kt,[e("span",null,r(o.needReverse?(D=(X=o.poolInfo)==null?void 0:X.token_b)==null?void 0:D.symbol:(P=(G=o.poolInfo)==null?void 0:G.token_a)==null?void 0:P.symbol),1),vo(" - "),e("span",null,r(o.needReverse?(V=(x=o.poolInfo)==null?void 0:x.token_a)==null?void 0:V.symbol:(F=(Q=o.poolInfo)==null?void 0:Q.token_b)==null?void 0:F.symbol),1)])]),e("div",Qt,[vo(" Fee tier "),e("span",null,r(o.poolInfo&&o.poolInfo.fee*100)+"%",1)])]),e("div",Vt,[Zt,e("div",xt,[U(e("img",os,null,512),[[a,o.needReverse?o.poolInfo.token_b.logo_url:o.poolInfo.token_a.logo_url]]),U(e("img",es,null,512),[[a,o.needReverse?o.poolInfo.token_a.logo_url:o.poolInfo.token_b.logo_url]])])]),e("div",ns,[ts,e("div",ss,[is,e("div",null,[U(e("img",ls,null,512),[[a,"1"]]),as])]),e("div",us,[ds,e("div",null,[U(e("img",rs,null,512),[[a,"1"]]),cs])])])]),z(v,{class:"big-btn liquidity-btn",onClick:o.clickSubmit},{default:po(()=>[vo(r(o.isIncrease?"Increase Liquidity":o.title==o.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["onClick"])]}),_:1})}const ue=$o(Wt,[["render",ms],["__scopeId","data-v-6d964534"]]),vs=go({components:{AutoPoolRemoveModal:ue},setup(){const o=Do(),n=c(()=>o),T=Bo(),S=c(()=>T),A=c(()=>S.value.slippage),I=c(()=>S.value.chainName),f=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],v=N(25),h=bo(),a=Uo(),i=c(()=>a),t=c(()=>(console.log(i.value.positionInfoObj[h.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),i.value.positionInfoObj[h.params.id])),u=c(()=>{var _;return(_=t.value)==null?void 0:_.needReverse}),l=N(),s=N(),p=N(!1),d=N(),$=c(()=>{var _;return(_=t.value)==null?void 0:_.myLiquidity}),b=N(!0),C=c(()=>I.value?Vo(I.value):{}),H=Zo("Sui"),w=N("--"),k=N("--"),j=()=>{if(b.value||!t.value)return;if(!d.value){w.value="--",k.value="--",v.value=0;return}if(Number(d.value)>Number($.value))return;if(Number(d.value)*Math.pow(10,t.value.decimals)==Number($.value)){v.value=100,M({value:1}),b.value=!0;return}console.log($.value,"##lpBalance.value");const _=new y(d.value).mul(Math.pow(10,t.value.decimals)).toString();console.log(_.toString(),$.value,"lpBalance.value##");const J=new y(d.value).div(new y($.value)).mul(100),oo=t.value.autoPoolPositionInfo.tick_lower_index,ao=t.value.autoPoolPositionInfo.tick_upper_index,Po=t.value.token_a.decimals,m=t.value.token_b.decimals,R=To.tickIndexToSqrtPriceX64(oo),L=To.tickIndexToSqrtPriceX64(ao);console.log(t.value.object.current_sqrt_price,"##positionInfo.value.object.current_sqrt_price");const Y=Qo.getCoinAmountFromLiquidity(new so(d.value),new so(t.value.object.current_sqrt_price),R,L,!1),K=new y(Y.coinA.toString()).div(Math.pow(10,Po)).toString(),E=new y(Y.coinB.toString()).div(Math.pow(10,m)).toString();w.value=Number(K)>0?K:"--",k.value=Number(E)>0?E:"--",console.log(J.toString(),"##ratio"),v.value=J.toNumber(),O.value=ro(d.value,0)},O=N(),M=_=>{if(!b.value)return;b.value=!0;const J=t.value.token_a.decimals,oo=t.value.token_b.decimals,ao=t.value.tick_lower_index,Po=t.value.tick_upper_index,m=To.tickIndexToSqrtPriceX64(ao),R=To.tickIndexToSqrtPriceX64(Po);let L="";console.log(t.value,"positionInfo.value.myLiquidity###"),_.value!==1?L=new y(t.value.myLiquidity).mul(_.value).toString():L=t.value.myLiquidity,L=ro(L,0)||"0",O.value=ro(L,0),d.value=L;const Y=Qo.getCoinAmountFromLiquidity(new so(L),new so(t.value.object.current_sqrt_price),m,R,!1),K=new y(Y.coinA.toString()).div(Math.pow(10,J)).toString(),E=new y(Y.coinB.toString()).div(Math.pow(10,oo)).toString();console.log(K,E,"amountA121212"),w.value=Number(K)>0?K:"--",k.value=Number(E)>0?E:"--"};eo(v,ge((_,J)=>{_!==J&&(Number(_)>100?v.value=100:_&&t.value?(console.log("687===>"),v.value=_,M({value:v.value/100})):(w.value="--",k.value="--"))},300)),eo(()=>d.value,_=>{j()},{immediate:!0});const G=be(),{setIsShowSuccess:P,setIsShowRejected:X,setIsShowWaiting:D,setTransactionDesc:Q,setTransactionTxid:F,setPositiomNum:x,setTransactionDescText:V}=T,lo=N(!1),{t:Z}=jo(),fo=async()=>{var L,Y,K,E;lo.value=!0,F("");const _=q(w.value,l.value.decimals)==0?"":`${Io(w.value,l.value.decimals)} ${l.value.symbol}`,J=q(k.value,s.value.decimals)==0?"":`${Io(k.value,s.value.decimals)} ${s.value.symbol}`;Q(Z("tips.removeLiquidiyText",{from:u.value?J:_,and:q(w.value,l.value.decimals)==0||q(k.value,s.value.decimals)==0?"":"and",to:u.value?_:J})),D(!0);const oo=Z("modal.removeLiquidityText2");V(oo);const ao=t.value.autoPoolPositionInfo.tick_lower_index,Po=t.value.autoPoolPositionInfo.tick_upper_index,m=To.tickIndexToSqrtPriceX64(ao),R=To.tickIndexToSqrtPriceX64(Po);try{const mo={lowerSqrtPrice:m,upperSqrtPrice:R,lpTokenAmount:new so(O.value),curSqrtPrice:new so(t.value.object.current_sqrt_price),slippage:A.value,id:t.value.id,clmm_pool:t.value.autoPoolPositionInfo.pool,lp_token_type:t.value.lp_token_type,coinTypeA:t.value.autoPoolPositionInfo.coin_type_a,coinTypeB:t.value.autoPoolPositionInfo.coin_type_b},_o=await H.remove(mo),uo=await n.value.currentWallet.signAndExecuteTransactionBlock(_o);let to=C.value.handleTx(uo);if(console.log("0331###remove###tx####",to),to&&to.hash){F(to.hash),D(!1),P(!0);const ho={title:Z("common.removeLiquidity"),desc:"",hash:to.hash,descTransactions:`Remove ${w.value} ${(L=l.value)==null?void 0:L.symbol} and ${k.value} ${(Y=s.value)==null?void 0:Y.symbol} 
             from the pool`,sender:n.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${w.value} ${(K=l.value)==null?void 0:K.symbol} and ${k.value} ${(E=s.value)==null?void 0:E.symbol}`};ho.res=to.res,C.value.showTransitionPending(ho),await C.value.watchTransaction(ho)&&(w.value="",k.value="",setTimeout(()=>{a.updatePositionItem(t.value.address),C.value.getAccount(n.value.address)},1e3),Number(v.value)==100&&h.name=="auto-pool-detail"&&G.push("/pool/auto"))}else D(!1),X(!0);lo.value=!1}catch(mo){console.log("Remove error",mo),lo.value=!1,D(!1),X(!0)}};eo(()=>t.value,_=>{_&&!qo(_)&&(l.value=_==null?void 0:_.token_a,s.value=_==null?void 0:_.token_b,M({value:v.value/100}))},{immediate:!0});const co=c(()=>{const _=Number(d.value)>Number($.value);return!d.value||d.value<=0?Z("button.enterAmount"):_?"Invalid Amount":Z("button.remove")}),no=c(()=>{const _=Number(d.value)>Number($.value);return!!(!d.value||d.value<=0||_)});return{removeLiquidityBtnText:co,removeLiquidityBtnDisabled:no,wallet:n,ratioArr:f,positionInfo:t,isShowRemoveModal:p,needReverse:u,fromCoin:l,toCoin:s,lpAmount:d,lpBalance:$,sliderVal:v,sFixD:ro,isSlider:b,fromCoinAmount:w,toCoinAmount:k,setPercent:M,toRemove:fo}}});const Jo=o=>(Co("data-v-f3449e43"),o=o(),So(),o),ps={class:"auto-pool-add"},fs={class:"auto-pool-add-content"},_s={class:"liquidity-action-tab"},hs=Jo(()=>e("div",{class:"remove tab-active"},"Remove",-1)),gs={class:"card-item"},bs={class:"remove-ratio"},$s=Jo(()=>e("div",{class:"remove-ratio-title"},"Amount",-1)),ys={class:"remove-ratio-select"},Is={key:0,class:"ratio"},ks={key:1,class:"ratio"},Cs={class:"ratio-list"},Ss=["onClick"],As={class:"est-receive"},ws=Jo(()=>e("div",{class:"est-receive-title"},"Estimated Receive",-1)),Ps={class:"token-a"},Rs={alt:""},Ts={class:"token-a"},qs={alt:""};function Ls(o,n,T,S,A,I){var t,u,l,s,p,d,$,b,C,H,w,k,j,O,M,G;const f=Et,v=Ie,h=Eo,a=ue,i=No("image");return g(),B("div",ps,[e("div",fs,[e("div",_s,[e("div",{class:"increase",onClick:n[0]||(n[0]=ee(P=>o.$emit("changeCurrentTab"),["stop"]))},"Add"),hs]),e("div",{class:zo(o.needReverse?"card-container reverse":"card-container")},[e("div",gs,[z(f,{modelValue:o.lpAmount,"onUpdate:modelValue":n[1]||(n[1]=P=>o.lpAmount=P),"input-value":o.lpAmount,balance:o.lpBalance,"from-coin":o.fromCoin,"to-coin":o.toCoin,onOnInput:n[2]||(n[2]=P=>{o.isSlider=!1,o.lpAmount=P})},null,8,["modelValue","input-value","balance","from-coin","to-coin"])])],2),e("div",bs,[$s,e("div",ys,[Number(o.lpBalance)>=Number(o.lpAmount)?(g(),B("div",Is,r(o.sliderVal>0&&Number(("sFixD"in o?o.sFixD:W(ro))(o.sliderVal,2))<.01?"<0.01":("sFixD"in o?o.sFixD:W(ro))(o.sliderVal,2))+"% ",1)):(g(),B("div",ks,"--")),e("div",Cs,[(g(!0),B($e,null,ye(o.ratioArr,(P,X)=>(g(),B("div",{key:X,class:zo(["ratio-item",o.sliderVal==P.value?"ratio-item-active":""]),onClick:()=>{o.isSlider=!0,o.sliderVal=P.value}},r(P.name),11,Ss))),128))])]),z(v,{value:o.sliderVal,"onUpdate:value":n[3]||(n[3]=P=>o.sliderVal=P)},null,8,["value"])]),e("div",As,[ws,e("div",Ps,[e("div",null,r(o.fromCoinAmount),1),e("div",null,[U(e("img",Rs,null,512),[[i,o.needReverse?(u=(t=o.positionInfo)==null?void 0:t.token_b)==null?void 0:u.logo_url:(s=(l=o.positionInfo)==null?void 0:l.token_a)==null?void 0:s.logo_url]]),e("span",null,r(o.needReverse?(d=(p=o.positionInfo)==null?void 0:p.token_b)==null?void 0:d.symbol:(b=($=o.positionInfo)==null?void 0:$.token_a)==null?void 0:b.symbol),1)])]),e("div",Ts,[e("div",null,r(o.toCoinAmount),1),e("div",null,[U(e("img",qs,null,512),[[i,o.needReverse?(H=(C=o.positionInfo)==null?void 0:C.token_a)==null?void 0:H.logo_url:(k=(w=o.positionInfo)==null?void 0:w.token_b)==null?void 0:k.logo_url]]),e("span",null,r(o.needReverse?(O=(j=o.positionInfo)==null?void 0:j.token_a)==null?void 0:O.symbol:(G=(M=o.positionInfo)==null?void 0:M.token_b)==null?void 0:G.symbol),1)])])])]),o.wallet.connected?(g(),io(h,{key:0,class:"big-btn liquidity-btn",disabled:o.removeLiquidityBtnDisabled,onClick:o.toRemove},{default:po(()=>[e("span",null,r(o.removeLiquidityBtnText),1)]),_:1},8,["disabled","onClick"])):(g(),io(h,{key:1,class:"big-btn",onClick:n[4]||(n[4]=P=>o.wallet.setIsShowWalletModal(!0))},{default:po(()=>[e("span",null,r(o.$t("button.connectWallet")),1)]),_:1})),o.isShowRemoveModal?(g(),io(a,{key:2,"pool-info":o.positionInfo,"from-coin":o.positionInfo.token_a,"to-coin":o.positionInfo.token_b,onOnClose:n[5]||(n[5]=P=>o.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):Go("",!0)])}const de=$o(vs,[["render",Ls],["__scopeId","data-v-f3449e43"]]),Bs=go({components:{AutoPoolAdd:le,AutoPositionInfo:te,AutoPositionLiquidity:se,AutoPoolRemove:de},setup(){const o=N("add"),n=Do(),T=c(()=>n),S=Uo(),A=c(()=>S),I=Lo(),f=c(()=>I);eo(()=>f.value.poolConfigList,a=>{a&&a.length>0&&S.getAutoPoolList()},{immediate:!0}),eo(()=>[T.value.address,A.value.autoPoolList],([a,i])=>{a&&i&&i.length>0&&S.getMyAutoPoolPosition()},{immediate:!0}),eo(()=>[A.value.positionInfoList,f.value.RATES],(a,i)=>{a[0]&&a[0].length>0&&a[1]&&!qo(a[1])&&(console.log("执行了吗##"),S.getUserPositionUSD())},{immediate:!0});const v=bo(),h=c(()=>(console.log(A.value.positionInfoObj[v.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),A.value.positionInfoObj[v.params.id]));return eo(()=>v.query.action,a=>{a&&(o.value=a)},{immediate:!0}),{currentTab:o,positionInfo:h}}});const Ns={class:"auto-increase-liquidity"},Ms={class:"auto-increase-liquidity-content"},Os={class:"left"},Ds={class:"right"},Us={class:"loading-global"};function js(o,n,T,S,A,I){const f=ce,v=te,h=se,a=le,i=de,t=ne;return g(),B("div",Ns,[z(f),e("div",Ms,[e("div",Os,[z(v),z(h)]),e("div",Ds,[o.currentTab=="add"?(g(),io(a,{key:0,onChangeCurrentTab:n[0]||(n[0]=u=>o.currentTab="remove")})):(g(),io(i,{key:1,onChangeCurrentTab:n[1]||(n[1]=u=>o.currentTab="add")}))])]),U(e("div",Us,[z(t)],512),[[ke,!o.positionInfo]])])}const ai=$o(Bs,[["render",js],["__scopeId","data-v-358139fa"]]);export{ai as default};
