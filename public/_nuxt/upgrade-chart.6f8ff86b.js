import{d as F,c as z,e as I}from"./pool.9e439812.js";import{a as J,r as n,m as j,D as P,y as R,T as q,C as G,M as Z,a5 as K,e as Q,o as C,f as N,h as i,u as S,c as X,v as A,z as x,i as Y,x as ee,t as te,G as ae,S as se,J as oe}from"./entry.581fbe56.js";/* empty css              *//* empty css              */import{u as ne,c as ie}from"./sha256.299cf9d0.js";import"./index.1390de9e.js";import{l as le}from"./lodash.dc247fb5.js";const re=J({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""}},setup(e){const l=ne(),g=n(!1),a=j(()=>l),M=t=>{switch(t){case"vol":return"Volume (24H)";case"tvl":return"TVL (24H)";case"fee":return"Fees (24H)"}},v=j(()=>ie[a.value.chainName]),y=n(0),b=n(0),h=n(0),W=n(0),w=n(""),T=le.debounce(()=>{D(p.value)},300);P(()=>e.mode,(t,_)=>{t!==_&&(g.value=!0,D(p.value))});const L=n(null);R(()=>{window.addEventListener("resize",T),setTimeout(()=>{document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day")},100),L.value=window.setInterval(()=>{D(p.value)},12e4)}),q(()=>{window.clearInterval(L.value)}),G(()=>{window.removeEventListener("resize",T)}),Z(()=>{if(!z(a.value.statsData||{})&&a.value.chainName){console.log(a.value.statsData,"===>store.statsData");const t=a.value.chainName=="Sui"?a.value.statsData.vol_in_usd_24h:a.value.statsData.vol_in_usd_24h_sum_v1;a.value.chainName=="Sui"?a.value.statsData.tvl_in_usd:a.value.statsData.tvl_in_usd_sum_v1,y.value=t,w.value=t,b.value=a.value.statsData.vol_in_usd,h.value=a.value.statsData.pure_tvl_in_usd,W.value=a.value.statsData.tx_num}});const p=n("D"),f=n({}),U=t=>{p.value=t,D(t)},D=t=>{t=="D"?document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day"):t=="W"?document.body.clientWidth<750?r(20,100,6,e.mode,"wek"):r(30,100,12,e.mode,"wek"):t=="M"&&(document.body.clientWidth<750?r(20,100,12,e.mode,"mon"):r(20,100,18,e.mode,"mon"))},r=async(t,_,B,c,u)=>{const{data:d}=e.address!==""?a.value.theme=="default"?await fetch(`${v.value.api}/v2/histogram?date_type=${u}&typ=${c}&limit=${t}&swap_account=${e.address}`).then(o=>o.json()):await fetch(`${v.value.api}/v2/sui/histogram?date_type=${u}&typ=${c}&limit=${t}&address=${e.address}`).then(o=>o.json()):a.value.theme=="default"?await fetch(`${v.value.api}/v2/histogram?date_type=${u}&typ=${c}&limit=${t}`).then(o=>o.json()):await fetch(`${v.value.api}/v2/sui/histogram?date_type=${u}&typ=${c}&limit=${t}`).then(o=>o.json());let s=d.list;const m={categoryData:[],valueData:[],wheelBase:[]};s&&s.forEach(o=>{m.categoryData.push(o.date.slice(0,10)),m.valueData.push(o.num)}),g.value=!1,f.value=m,O(t,_,B)},V=n({day:"",month:"",year:"",current:""}),H=t=>t==1?"Jan":t==2?"Feb":t==3?"Mar":t==4?"Apr":t==5?"May":t==6?"Jun":t==7?"Jul":t==8?"Aug":t==9?"Sep":t==10?"Oct":t==11?"Nov":"Dec",O=(t,_,B)=>{const c=document.getElementById("echartsBox"),u=K(c);let d={tooltip:{trigger:"axis",position:function(s,m,o,$,k){return[s[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(s){let m=s[0].axisValue.slice(5,7),o=H(m);const $=s[0].axisValue.slice(8,10),k=o,E=s[0].axisValue.slice(0,4);return V.value={day:$,month:k,year:E,current:""},w.value=s[0].value,a.value.theme=="default","&nbsp;&nbsp;&nbsp;"+$+"&nbsp;"+k+"&nbsp;"+E+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:a.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:f.value.categoryData.length>Number(t)?Number(t):f.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:f.value.categoryData},yAxis:{show:!1,max:function(s){return s.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:_,zoomLock:!0}],series:[{data:f.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:s=>a.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:B}],grid:{left:0,top:0,bottom:0,right:24}};document.body.clientWidth<750&&(d.grid={left:4,top:0,bottom:20,right:20}),a.value.theme=="default"&&(d.tooltip.backgroundColor="#293F38"),d&&u.setOption(d),d&&u.resize(),u.on("globalout",s=>{V.value={day:"",month:"",year:"",current:""},w.value=a.value.statsData.vol_in_usd_24h_sum_v1})};return{loading:g,getModeLabel:M,decimalUi:F,checkNullObj:z,store:a,addCommom:I,vol_in_usd_24h:y,vol_in_usd:b,tvl_in_usd:h,tx_num:W,changeEchart:U,echartVal:p,volTime:V,TradingVolume:w}}});const ue={class:"upgrade-chart-container"},de={class:"echarts-content-box"},ce={class:"echarts-content"},me={class:"echarts-content-top"},ve={class:"left"},he={key:1},pe={class:"echarts-tab"},fe={key:0,class:"echarts-content-bottom"},_e={id:"echartsBox",class:"echarts-content-bottom"};function ge(e,l,g,a,M,v){const y=se,b=oe;return C(),N("div",ue,[i("div",de,[i("div",ce,[i("div",me,[i("div",ve,[("checkNullObj"in e?e.checkNullObj:S(z))(e.store.statsData||{})?(C(),X(y,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):(C(),N("p",he,"$"+A(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:S(I))(("decimalUi"in e?e.decimalUi:S(F))(e.TradingVolume,2))),1)),i("span",null,A(e.address!==""?e.getModeLabel(e.mode):e.$t("common.tradingVal24h")),1)]),i("div",pe,[i("div",{class:x(["title-day",e.echartVal=="D"?"title-active":""]),onClick:l[0]||(l[0]=h=>e.changeEchart("D"))}," D ",2),i("div",{class:x(["title-week",e.echartVal=="W"?"title-active":""]),onClick:l[1]||(l[1]=h=>e.changeEchart("W"))}," W ",2),i("div",{class:x(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:l[2]||(l[2]=h=>e.changeEchart("M"))}," M ",2)])]),e.loading?(C(),N("div",fe,[Y(b)])):ee("",!0),te(i("div",_e,null,512),[[ae,!e.loading]])])])])}const Ve=Q(re,[["render",ge],["__scopeId","data-v-56080806"]]);export{Ve as _};
