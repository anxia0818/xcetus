import{_ as rn}from"./back.ea2191c6.js";import{_ as dn}from"./refresh-icon.ccc9f35b.js";import{a as ze,M as Eo,l as Po,r as w,m as vn,e as Xe,q as so,o as l,c as J,w as $e,h as o,i as z,j as je,t as m,f as g,F as to,s as Wo,v as Ve,x as O,y as mn,I as cn,B as So,p as Ge,k as He,z as yo,A as To,C as _,D as Ce,b as No,E as oo,G as Ro,H as eo,u as A,J as jo,K as Io,L as vo,N as pn,O as fn,P as Xo,S as zo}from"./entry.e56008ab.js";/* empty css              */import{_ as yn,a as gn,b as bn}from"./icon-error_2x.8858926b.js";import{u as Ke,a as Go}from"./autoPool.81a211a6.js";import{u as no,c as Je,a as q,g as Co,d as Ue,s as T,T as We,b as ue,p as Vo,e as Ho,f as hn}from"./pool.f3c016d6.js";import{_ as go}from"./token-warning.812071ac.js";import{_ as Yo}from"./auto-pool-apy-tips.2a44d47b.js";import{u as bo,a as qo}from"./sha256.b50de543.js";import{i as uo}from"./import-icon.de3e6c66.js";import{_ as Jo}from"./assets-card.f149ff43.js";import{_ as Ko}from"./coin-lock.b4fad766.js";import{_ as Zo,a as Qo}from"./auto-pool-remove-modal.5db64917.js";/* empty css              */import{D as a}from"./decimal.0bdeb344.js";import{afterCurrentPrice as wo}from"./data.0531f75a.js";import{V as Ao}from"./index.71c405d2.js";/* empty css              *//* empty css              */import"./decimal.6f03adc8.js";import{u as kn}from"./swapRouter.133b63c4.js";/* empty css              *//* empty css              */import"./img-lock_2x.a28135f4.js";import"./img-lock_2x.ed83f9fb.js";const _n=ze({components:{Modal:Eo},setup(e,t){const{t:V,locale:j}=Po(),N=Ke(),P=["0.1","0.5","1"],c=w(N.slippage||.1),{setSlippage:S}=N,b=vn();console.log(c.value,"slippage.value");const u=w(!1);function s(n,v){u.value=!1,c.value=v}function B(){S(c.value),t.emit("onClose",!1)}return{settingArr:P,changeActiveIndex:s,confirm:B,emit:b,slippage:c,t:V,isInput:u,inputChange:n=>{const v=new RegExp(/[^\d^\.]+/g);n.target.value=n.target.value.replace(v,""),c.value=n.target.value}}}});const xo=e=>(Ge("data-v-c5b99de4"),e=e(),He(),e),$n=xo(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),wn={class:"setting-container"},In={class:"title"},Cn=xo(()=>o("img",{src:bn,alt:""},null,-1)),An={class:"tag-list"},Pn={key:0,src:yn,alt:""},Sn={key:1,src:gn,alt:""},Tn={class:"footer"};function Nn(e,t,V,j,N,P){const c=mn,S=cn,b=So,u=so("Modal");return l(),J(u,{title:"Settings",class:"setting",centered:"",visible:!0,width:"400px",onCancel:t[3]||(t[3]=s=>e.$emit("onClose"))},{closeIcon:$e(()=>[$n]),footer:$e(()=>[o("div",Tn,[z(b,{type:"cancel",class:"cancel-btn cancel-btn-new",onClick:t[2]||(t[2]=s=>e.$emit("onClose"))},{default:$e(()=>[je(m(e.$t("button.cancel")),1)]),_:1}),z(b,{class:"confirmbtn",disabled:Number(e.slippage)==0||Number(e.slippage)>1||Number(e.slippage)<.01,onClick:e.confirm},{default:$e(()=>[je(m(e.$t("button.confirm")),1)]),_:1},8,["disabled","onClick"])])]),default:$e(()=>[o("div",wn,[o("div",In,[Cn,o("span",null,m(e.$t("modal.slippageTolerance")),1)]),o("div",An,[(l(!0),g(to,null,Wo(e.settingArr,(s,B)=>(l(),J(c,{key:B,class:Ve(!e.isInput&&s==e.slippage?"tag-active":""),onClick:p=>e.changeActiveIndex(B,s)},{default:$e(()=>[je(m(s)+"% ",1)]),_:2},1032,["class","onClick"]))),128)),z(c,{class:Ve(["input-tag",e.isInput?"tag-active":""]),onClick:t[1]||(t[1]=s=>e.isInput=!0)},{default:$e(()=>[z(S,{value:e.slippage,"onUpdate:value":t[0]||(t[0]=s=>e.slippage=s),placeholder:"",suffix:"%",class:Ve(["slippage-input",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-input-waring":Number(e.slippage)>1?"slippage-input-error":""]),onChange:e.inputChange},null,8,["value","class","onChange"])]),_:1},8,["class"])])]),Number(e.slippage)>.5&&Number(e.slippage)<1||Number(e.slippage)>1?(l(),g("div",{key:0,class:Ve(["slippage-hint",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-hint-waring":Number(e.slippage)>1?"slippage-hint-error":""])},[Number(e.slippage)>.5&&1>=Number(e.slippage)?(l(),g("img",Pn)):O("",!0),Number(e.slippage)>1?(l(),g("img",Sn)):O("",!0),o("p",null,m(Number(e.slippage)>.5&&1>=Number(e.slippage)?e.$t("tips.slippageTolerance2"):Number(e.slippage)>1?e.$t("tips.slippageTolerance1"):""),1)],2)):O("",!0)]),_:1})}const Rn=Xe(_n,[["render",Nn],["__scopeId","data-v-c5b99de4"]]),qn=ze({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const V=w(!1),j=w(null),N=w(0);let P=w(!1);const c=w(20);no();const S=Ke(),b=w(!1);yo(()=>{}),To(()=>{clearInterval(j.value)});const u=()=>{P.value=!1,j.value=setInterval(()=>{var d;b.value||N.value<c.value&&(N.value+=1,N.value===c.value&&((d=e==null?void 0:e.poolInfo)!=null&&d.address&&p(),N.value=0))},1e3)},s=_(()=>S.slippage),B=()=>{t.emit("clearAll")},p=()=>{P.value||(P.value=!0,N.value=0,t.emit("clickRefresh"),setTimeout(()=>{P.value=!1},1e3))};Ce(()=>e.poolInfo,d=>{d&&!j.value&&u()},{immediate:!0});const n=No(),v=oo();return console.log(v,"route"),{refresh:P,clickRefresh:p,isShowSwapSetting:V,countdown:N,autoRefreshTime:c,slippage:s,clearAll:B,checkNullObj:Je,router:n,route:v}}});const Dn=e=>(Ge("data-v-71491a33"),e=e(),He(),e),Bn={class:"title"},Ln={class:"left"},Un=Dn(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Fn={key:0,class:"deposit-progress"};function Mn(e,t,V,j,N,P){const c=rn,S=dn,b=Rn;return l(),g("div",Bn,[o("div",Ln,[z(c)]),o("div",{class:Ve(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[o("div",{class:"slippage-icon",onClick:t[0]||(t[0]=u=>e.isShowSwapSetting=!0)},[Un,o("span",null,m(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(l(),g("div",Fn,[z(S,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])):O("",!0)],2),e.isShowSwapSetting?(l(),J(b,{key:0,onOnClose:t[1]||(t[1]=u=>e.isShowSwapSetting=!1)})):O("",!0)])}const On=Xe(qn,[["render",Mn],["__scopeId","data-v-71491a33"]]),Vn=ze({components:{AutoPoolApyTips:Yo},setup(){const e=bo(),t=_(()=>e),V=no(),j=_(()=>V),N=Ke(),P=_(()=>N),c=_(()=>t.value.theme),S=oo(),b=w();Ce(()=>[P.value.positionInfoObj,S.params.id],([v,d])=>{v&&!Je(v)&&d&&(b.value=v[d],console.log(b.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const u=_(()=>{var v;return(v=b.value)==null?void 0:v.needReverse}),s=v=>{var d;return(v==null?void 0:v.logoURI)||(v==null?void 0:v.logo_url)||((d=j.value.tokensObj[v==null?void 0:v.address])==null?void 0:d.logo_url)||(c.value==="default"?uo("/image/coins/unknown.png"):uo("/image/coins/sui-unknown.png"))},B=_(()=>{var v,d;return console.log((v=b==null?void 0:b.value)==null?void 0:v.poolUSD,"##positionInfo?.value?.poolUSD"),(d=b==null?void 0:b.value)==null?void 0:d.poolUSD}),p=_(()=>{var v,d;return P.value.apyObj&&((d=P.value.apyObj[(v=b.value)==null?void 0:v.id])==null?void 0:d.apr)||"--"}),n=_(()=>t.value.currentExplorer);return{positionInfo:b,needReverse:u,getCoinIcon:s,tvl:B,apy:p,addCommom:q,getExplorerUrl:Co,currentExplorer:n}}});const Ye=e=>(Ge("data-v-0947d30b"),e=e(),He(),e),En={class:"auto-pool-v2-info"},Wn={class:"pool-info"},jn={class:"left"},Xn={class:"coin-a"},zn={alt:""},Gn={class:"coin-b"},Hn={alt:""},Yn={class:"position-name"},Jn={key:0,class:"pool-fee"},Kn=Ye(()=>o("span",null,"Fee tier",-1)),Zn={class:"vault-address"},Qn=["href"],xn=Ye(()=>o("span",null,"Vault Address",-1)),et=Ye(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),ot=[xn,et],nt={class:"apy-and-tvl"},tt={class:"apy"},st=Ye(()=>o("div",{class:"apy-title"},"APY",-1)),it={class:"apy-text"},lt={class:"tvl"},at=Ye(()=>o("div",{class:"tvl-title"},"TVL",-1)),ut={class:"tvl-text"},rt={class:"pool-info h5-pool-info"},dt={class:"left"},vt={class:"coin-a"},mt={alt:""},ct={class:"coin-b"},pt={alt:""},ft={class:"position-name"},yt={key:0,class:"pool-fee"},gt=Ye(()=>o("span",null,"Fee tier",-1)),bt={class:"left"},ht={class:"vault-address"},kt=["href"],_t=Ye(()=>o("span",null,"Vault Address",-1)),$t=Ye(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),wt=[_t,$t],It={class:"apy-and-tvl"},Ct={class:"apy"},At=Ye(()=>o("div",{class:"apy-title"},"APY",-1)),Pt={class:"apy-text"},St={class:"tvl"},Tt=Ye(()=>o("div",{class:"tvl-title"},"TVL",-1)),Nt={class:"tvl-text"};function Rt(e,t,V,j,N,P){var u,s,B,p,n,v,d,h,C,f,L,U,F,K,x,Z,y,r,D,ne,te,ve,G,ee,ke,_e,fe,me,H,se,be,ce,k,Y,Ne,ye,De,Ae,Be,we,Fe,Qe,ro,re,Pe,Re;const c=go,S=Yo,b=Ro("image");return l(),g("div",En,[o("div",Wn,[o("div",jn,[o("div",Xn,[eo(o("img",zn,null,512),[[b,e.needReverse?e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b):e.getCoinIcon((u=e.positionInfo)==null?void 0:u.token_a)]]),z(c,{address:e.needReverse?(v=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:v.address:(p=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:p.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Gn,[eo(o("img",Hn,null,512),[[b,e.needReverse?e.getCoinIcon((h=e.positionInfo)==null?void 0:h.token_a):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b)]]),z(c,{address:e.needReverse?(U=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:U.address:(f=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Yn,m(e.needReverse?(K=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:K.symbol:(Z=(x=e.positionInfo)==null?void 0:x.token_a)==null?void 0:Z.symbol)+" - "+m(e.needReverse?(r=(y=e.positionInfo)==null?void 0:y.token_a)==null?void 0:r.symbol:(ne=(D=e.positionInfo)==null?void 0:D.token_b)==null?void 0:ne.symbol),1),(te=e.positionInfo)!=null&&te.fee?(l(),g("div",Jn,[Kn,je(" "+m(((ve=e.positionInfo)==null?void 0:ve.fee)*100)+"% ",1)])):O("",!0),o("div",Zn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Co))(e.currentExplorer,"poolAddress",(G=e.positionInfo)==null?void 0:G.id),target:"_blank"},ot,8,Qn)])]),o("div",nt,[o("div",tt,[st,o("div",it,[je(m(e.apy)+" ",1),z(S)])]),o("div",lt,[at,o("div",ut,"$"+m(("addCommom"in e?e.addCommom:A(q))(e.tvl,2)),1)])])]),o("div",rt,[o("div",dt,[o("div",vt,[eo(o("img",mt,null,512),[[b,e.needReverse?e.getCoinIcon((ke=e.positionInfo)==null?void 0:ke.token_b):e.getCoinIcon((ee=e.positionInfo)==null?void 0:ee.token_a)]]),z(c,{address:e.needReverse?(H=(me=e.positionInfo)==null?void 0:me.token_b)==null?void 0:H.address:(fe=(_e=e.positionInfo)==null?void 0:_e.token_a)==null?void 0:fe.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",ct,[eo(o("img",pt,null,512),[[b,e.needReverse?e.getCoinIcon((be=e.positionInfo)==null?void 0:be.token_a):e.getCoinIcon((se=e.positionInfo)==null?void 0:se.token_b)]]),z(c,{address:e.needReverse?(Ne=(Y=e.positionInfo)==null?void 0:Y.token_a)==null?void 0:Ne.address:(k=(ce=e.positionInfo)==null?void 0:ce.token_b)==null?void 0:k.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",ft,m(e.needReverse?(De=(ye=e.positionInfo)==null?void 0:ye.token_b)==null?void 0:De.symbol:(Be=(Ae=e.positionInfo)==null?void 0:Ae.token_a)==null?void 0:Be.symbol)+" - "+m(e.needReverse?(Fe=(we=e.positionInfo)==null?void 0:we.token_a)==null?void 0:Fe.symbol:(ro=(Qe=e.positionInfo)==null?void 0:Qe.token_b)==null?void 0:ro.symbol),1),(re=e.positionInfo)!=null&&re.fee?(l(),g("div",yt,[gt,je(" "+m(((Pe=e.positionInfo)==null?void 0:Pe.fee)*100)+"% ",1)])):O("",!0)]),o("div",bt,[o("div",ht,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Co))(e.currentExplorer,"poolAddress",(Re=e.positionInfo)==null?void 0:Re.id),target:"_blank"},wt,8,kt)])]),o("div",It,[o("div",Ct,[At,o("div",Pt,[je(m(e.apy)+" ",1),z(S)])]),o("div",St,[Tt,o("div",Nt,"$"+m(("addCommom"in e?e.addCommom:A(q))(e.tvl,2)),1)])])])])}const en=Xe(Vn,[["render",Rt],["__scopeId","data-v-0947d30b"]]),qt=ze({components:{Slider:jo},setup(){const e=w(!0),t=no(),V=_(()=>t),j=Ke(),N=_(()=>j),P=oo(),c=w();Ce(()=>[N.value.positionInfoObj,P.params.id],([p,n])=>{p&&!Je(p)&&n&&(c.value=p[n],console.log(c.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const S=_(()=>{var p;return(p=c.value)==null?void 0:p.needReverse}),b=p=>{var n;return(p==null?void 0:p.logoURI)||(p==null?void 0:p.logo_url)||((n=V.value.tokensObj[p==null?void 0:p.address])==null?void 0:n.logo_url)||uo("/image/coins/sui-unknown.png")},u=_(()=>{var h,C,f,L,U,F,K;const p=e.value?((h=c.value)==null?void 0:h.minPrice)&&T(c==null?void 0:c.value.minPrice,6):((C=c.value)==null?void 0:C.maxPrice)&&T(1/(c==null?void 0:c.value.maxPrice),6),n=e.value?((f=c.value)==null?void 0:f.maxPrice)&&T((L=c.value)==null?void 0:L.maxPrice,6):((U=c.value)==null?void 0:U.minPrice)&&T(1/(c==null?void 0:c.value.minPrice),6),v=(S.value?!e.value:e.value)?T((F=c.value)==null?void 0:F.price,6):T(1/((K=c.value)==null?void 0:K.price),6);let d={};return d[p]={label:"Min Price"},d[n]={label:"Max Price"},v>p&&v<n?d[v]={label:"Current Price"}:v<p?d[Number(p)+1e-9]={label:"Current Price"}:v>n&&(d[Number(n)-1e-9]={label:"Current Price"}),console.log(d,"obj###"),d}),s=_(()=>{var n,v;const p=(S.value?!e.value:e.value)?Ue((n=c.value)==null?void 0:n.price,6):Ue(1/((v=c.value)==null?void 0:v.price),6);return console.log(p,"result##"),p}),B=_(()=>{var n,v;const p=(S.value?!e.value:e.value)?Ue((n=c.value)==null?void 0:n.price,6):Ue(1/((v=c.value)==null?void 0:v.price),6);return console.log(p,"result##111"),p});return{direct:e,positionInfo:c,needReverse:S,getCoinIcon:b,decimalUi:Ue,addCommom:q,sFixD:T,marks:u,currentPrice:s,currentPriceResever:B}}});const ho=e=>(Ge("data-v-44da997b"),e=e(),He(),e),Dt={class:"v2-position-range"},Bt={class:"position-range-top"},Lt=ho(()=>o("div",null,"Position Range",-1)),Ut={class:"base-coin"},Ft={key:0},Mt={alt:""},Ot={key:1},Vt={alt:""},Et={key:2},Wt={key:3},jt=ho(()=>o("p",null,"Base coin",-1)),Xt={class:"coin-rate"},zt=ho(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Gt=ho(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Ht=[zt,Gt],Yt={class:"position-range-bottom"},Jt={class:"price-range"},Kt={class:"price-range-bg"},Zt={key:0,class:"min-price"},Qt={key:0},xt={key:1},es={key:1,class:"max-price"},os={key:0},ns={key:1},ts={key:0,class:"min-price"},ss={key:0},is={key:1},ls={key:1,class:"max-price"},as={key:0},us={key:1};function rs(e,t,V,j,N,P){var u,s,B,p,n,v,d,h,C,f,L,U,F,K,x,Z,y,r,D,ne,te,ve,G,ee,ke,_e,fe,me;const c=go,S=so("Slider"),b=Ro("image");return l(),g("div",Dt,[o("div",Bt,[Lt,o("div",Ut,[e.needReverse?(l(),g("div",Ot,[eo(o("img",Vt,null,512),[[b,e.direct?e.getCoinIcon((h=e.positionInfo)==null?void 0:h.token_b):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_a)]]),z(c,{address:e.direct?(U=(L=e.positionInfo)==null?void 0:L.token_b)==null?void 0:U.address:(f=(C=e.positionInfo)==null?void 0:C.token_a)==null?void 0:f.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])):(l(),g("div",Ft,[eo(o("img",Mt,null,512),[[b,e.direct?e.getCoinIcon((u=e.positionInfo)==null?void 0:u.token_a):e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b)]]),z(c,{address:e.direct?(p=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:p.address:(v=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:v.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])),e.needReverse?(l(),g("span",Wt,m(e.direct?(r=(y=e.positionInfo)==null?void 0:y.token_b)==null?void 0:r.symbol:(ne=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:ne.symbol),1)):(l(),g("span",Et,m(e.direct?(K=(F=e.positionInfo)==null?void 0:F.token_a)==null?void 0:K.symbol:(Z=(x=e.positionInfo)==null?void 0:x.token_b)==null?void 0:Z.symbol),1)),jt,o("div",Xt,[o("div",{onClick:t[0]||(t[0]=H=>e.direct=!e.direct)},Ht)])])]),o("div",Yt,[o("div",Jt,[o("div",Kt,[e.direct?(l(),J(S,{key:0,value:e.currentPrice,class:Ve(["position-slider",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(T))((te=e.positionInfo)==null?void 0:te.minPrice,6))||e.currentPrice>Number(("sFixD"in e?e.sFixD:A(T))((ve=e.positionInfo)==null?void 0:ve.maxPrice,6))?"hide-handler":""]),step:null,marks:e.marks,disabled:!0,min:Number(("decimalUi"in e?e.decimalUi:A(Ue))((G=e.positionInfo)==null?void 0:G.minPrice,6)),max:Number(("decimalUi"in e?e.decimalUi:A(Ue))((ee=e.positionInfo)==null?void 0:ee.maxPrice,6))},{mark:$e(({label:H})=>{var se,be,ce,k,Y,Ne,ye,De,Ae,Be,we,Fe;return[H=="Min Price"?(l(),g("div",Zt,[o("div",null,m(H),1),e.direct?(l(),g("div",Qt,m(((se=e.positionInfo)==null?void 0:se.minPrice)&&("sFixD"in e?e.sFixD:A(T))((be=e.positionInfo)==null?void 0:be.minPrice,6)),1)):(l(),g("div",xt,m(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((k=e.positionInfo)==null?void 0:k.maxPrice),6)),1))])):O("",!0),H=="Max Price"?(l(),g("div",es,[o("div",null,m(H),1),e.direct?(l(),g("div",os,m(((Y=e.positionInfo)==null?void 0:Y.maxPrice)&&("sFixD"in e?e.sFixD:A(T))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(l(),g("div",ns,m(((ye=e.positionInfo)==null?void 0:ye.minPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):O("",!0),H=="Current Price"?(l(),g("div",{key:2,class:Ve(["current-price",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(T))((Ae=e.positionInfo)==null?void 0:Ae.minPrice,6))?"current-price-left":e.currentPrice>Number(("sFixD"in e?e.sFixD:A(T))((Be=e.positionInfo)==null?void 0:Be.maxPrice,6))?"current-price-right":""])},[o("div",null,m(H),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(l(),g(to,{key:0},[je(m(("addCommom"in e?e.addCommom:A(q))(("decimalUi"in e?e.decimalUi:A(Ue))((we=e.positionInfo)==null?void 0:we.price,6))),1)],64)):(l(),g(to,{key:1},[je(m(("addCommom"in e?e.addCommom:A(q))(("decimalUi"in e?e.decimalUi:A(Ue))(1/((Fe=e.positionInfo)==null?void 0:Fe.price),6))),1)],64))])],2)):O("",!0)]}),_:1},8,["value","class","marks","min","max"])):(l(),J(S,{key:1,value:e.currentPriceResever,class:Ve(["position-slider",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(T))(1/((ke=e.positionInfo)==null?void 0:ke.maxPrice),6))||e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(T))(1/((_e=e.positionInfo)==null?void 0:_e.minPrice),6))?"hide-handler":""]),step:null,min:Number(("decimalUi"in e?e.decimalUi:A(Ue))(1/((fe=e.positionInfo)==null?void 0:fe.maxPrice),6)),max:Number(("decimalUi"in e?e.decimalUi:A(Ue))(1/((me=e.positionInfo)==null?void 0:me.minPrice),6)),marks:e.marks,disabled:!0},{mark:$e(({label:H})=>{var se,be,ce,k,Y,Ne,ye,De,Ae,Be,we,Fe;return[H=="Min Price"?(l(),g("div",ts,[o("div",null,m(H),1),e.direct?(l(),g("div",ss,m(((se=e.positionInfo)==null?void 0:se.minPrice)&&("sFixD"in e?e.sFixD:A(T))((be=e.positionInfo)==null?void 0:be.minPrice,6)),1)):(l(),g("div",is,m(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((k=e.positionInfo)==null?void 0:k.maxPrice),6)),1))])):O("",!0),H=="Max Price"?(l(),g("div",ls,[o("div",null,m(H),1),e.direct?(l(),g("div",as,m(((Y=e.positionInfo)==null?void 0:Y.maxPrice)&&("sFixD"in e?e.sFixD:A(T))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(l(),g("div",us,m(((ye=e.positionInfo)==null?void 0:ye.minPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):O("",!0),H=="Current Price"?(l(),g("div",{key:2,class:Ve(["current-price current-price-direct",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(T))(1/((Ae=e.positionInfo)==null?void 0:Ae.maxPrice),6))?"current-price-left":e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(T))(1/((Be=e.positionInfo)==null?void 0:Be.minPrice),6))?"current-price-right":""])},[o("div",null,m(H),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(l(),g(to,{key:0},[je(m(("addCommom"in e?e.addCommom:A(q))(("decimalUi"in e?e.decimalUi:A(Ue))((we=e.positionInfo)==null?void 0:we.price,6))),1)],64)):(l(),g(to,{key:1},[je(m(("addCommom"in e?e.addCommom:A(q))(("decimalUi"in e?e.decimalUi:A(Ue))(1/((Fe=e.positionInfo)==null?void 0:Fe.price),6))),1)],64))])],2)):O("",!0)]}),_:1},8,["value","class","min","max","marks"]))])])])])}const on=Xe(qt,[["render",rs],["__scopeId","data-v-44da997b"]]),ds=ze({components:{Modal:Eo},props:{positionInfo:{type:Object,default:()=>({})}},setup(e){const t=_(()=>{var j,N;const V=Math.ceil(((j=e.positionInfo)==null?void 0:j.poolUSD)/((N=e.positionInfo)==null?void 0:N.quoteUSD)*100);return console.log(V,"Pool Capacity Ratio"),Number(V)});return{sFixD:T,addCommom:q,ratio:t}}});const Do=e=>(Ge("data-v-78a51262"),e=e(),He(),e),vs=Do(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ms={class:"deposit-slider"},cs={class:"info-block"},ps=Do(()=>o("div",{class:"leabl"},"Current Deposit：",-1)),fs={class:"text"},ys={class:"info-block"},gs=Do(()=>o("div",{class:"leabl"},"Max Capacity：",-1)),bs={class:"text"};function hs(e,t,V,j,N,P){const c=so("Modal");return l(),J(c,{width:"440px",visible:!0,footer:null,title:"Vault Capacity",onCancel:t[0]||(t[0]=S=>e.$emit("onClose"))},{closeIcon:$e(()=>[vs]),default:$e(()=>{var S,b,u,s;return[o("div",ms,[o("div",{class:"current-deposit",style:Io({width:`${e.ratio>100?100:e.ratio}%`})},null,4)]),o("div",cs,[ps,o("div",fs,m(("addCommom"in e?e.addCommom:A(q))(("sFixD"in e?e.sFixD:A(T))((S=e.positionInfo)==null?void 0:S.currentDeposit,2)))+" "+m((b=e.positionInfo)==null?void 0:b.quoteCoinInfo.symbol),1)]),o("div",ys,[gs,o("div",bs,m(("addCommom"in e?e.addCommom:A(q))(("sFixD"in e?e.sFixD:A(T))((u=e.positionInfo)==null?void 0:u.quoteUSD,2)))+" "+m((s=e.positionInfo)==null?void 0:s.quoteCoinInfo.symbol),1)])]}),_:1})}const nn=Xe(ds,[["render",hs],["__scopeId","data-v-78a51262"]]),ks=ze({components:{AutoPoolV2PoolCapacity:nn},setup(){const e=no(),t=_(()=>e),V=Ke(),j=_(()=>V),N=oo(),P=w();Ce(()=>[j.value.positionInfoObj,N.params.id],([u,s])=>{console.log(u,"##positionInfoObj"),u&&!Je(u)&&s&&(P.value=u[s],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=_(()=>{var u;return(u=P.value)==null?void 0:u.needReverse}),S=u=>{var s;return console.log(u,"info##"),(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((s=t.value.tokensObj[u==null?void 0:u.address])==null?void 0:s.logo_url)||uo("/image/coins/sui-unknown.png")},b=w(!1);return{needReverse:c,positionInfo:P,getCoinIcon:S,addCommom:q,isShowModal:b}}});const _s=e=>(Ge("data-v-ad8a33e9"),e=e(),He(),e),$s={class:"pool-composition"},ws={class:"pool-composition-top"},Is=_s(()=>o("span",null,"Vault Composition",-1)),Cs={class:"pool-composition-bottom"},As={class:"token-ratio"},Ps={class:"before-coin"},Ss={alt:""},Ts={class:"after-coin"},Ns={alt:""},Rs={class:"token-num"},qs={class:"num-box"},Ds={class:"num-box"};function Bs(e,t,V,j,N,P){var u,s,B,p,n,v,d,h,C,f,L,U,F,K,x,Z,y,r,D,ne,te,ve,G,ee,ke,_e,fe,me,H;const c=go,S=nn,b=Ro("image");return l(),g("div",$s,[o("div",ws,[Is,Number((u=e.positionInfo)==null?void 0:u.quoteUSD)>0?(l(),g("div",{key:0,class:"pool-capacity",onClick:t[0]||(t[0]=se=>e.isShowModal=!0)},"Vault Capacity")):O("",!0)]),o("div",Cs,[o("div",As,[o("div",Ps,[o("div",null,[z(c,{address:e.needReverse?(n=(p=e.positionInfo)==null?void 0:p.token_b)==null?void 0:n.address:(B=(s=e.positionInfo)==null?void 0:s.token_a)==null?void 0:B.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"]),eo(o("img",Ss,null,512),[[b,e.needReverse?e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b):e.getCoinIcon((v=e.positionInfo)==null?void 0:v.token_a)]])]),o("span",null,m((h=e.positionInfo)==null?void 0:h.poolCoinARatio)+"%",1)]),o("div",Ts,[o("span",null,m((C=e.positionInfo)==null?void 0:C.poolCoinBRatio)+"%",1),o("div",null,[eo(o("img",Ns,null,512),[[b,e.needReverse?e.getCoinIcon((L=e.positionInfo)==null?void 0:L.token_a):e.getCoinIcon((f=e.positionInfo)==null?void 0:f.token_b)]]),z(c,{address:e.needReverse?(x=(K=e.positionInfo)==null?void 0:K.token_a)==null?void 0:x.address:(F=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:F.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])])])]),o("div",Rs,[o("div",{class:"token-a-bg",style:Io({width:`${(Z=e.positionInfo)==null?void 0:Z.poolCoinARatio}%`})},null,4),o("div",{class:"token-b-bg",style:Io({width:`${(y=e.positionInfo)==null?void 0:y.poolCoinBRatio}%`})},null,4),o("div",qs,[o("div",null,m(("addCommom"in e?e.addCommom:A(q))((r=e.positionInfo)==null?void 0:r.poolCoinANum))+" "+m(e.needReverse?(ve=(te=e.positionInfo)==null?void 0:te.token_b)==null?void 0:ve.symbol:(ne=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:ne.symbol),1),o("div",null,"$"+m(("addCommom"in e?e.addCommom:A(q))((G=e.positionInfo)==null?void 0:G.poolCoinAUSD)),1)]),o("div",Ds,[o("div",null,m(("addCommom"in e?e.addCommom:A(q))((ee=e.positionInfo)==null?void 0:ee.poolCoinBNum))+" "+m(e.needReverse?(me=(fe=e.positionInfo)==null?void 0:fe.token_a)==null?void 0:me.symbol:(_e=(ke=e.positionInfo)==null?void 0:ke.token_b)==null?void 0:_e.symbol),1),o("div",null,"$"+m(("addCommom"in e?e.addCommom:A(q))((H=e.positionInfo)==null?void 0:H.poolCoinBUSD)),1)])])]),e.isShowModal?(l(),J(S,{key:0,"position-info":e.positionInfo,onOnClose:t[1]||(t[1]=se=>e.isShowModal=!1)},null,8,["position-info"])):O("",!0)])}const tn=Xe(ks,[["render",Bs],["__scopeId","data-v-ad8a33e9"]]),Ls=ze({setup(){const e=no(),t=_(()=>e),V=Ke(),j=_(()=>V),N=oo(),P=w();Ce(()=>[j.value.positionInfoObj,N.params.id],([s,B])=>{console.log(s,"##positionInfoObj"),s&&!Je(s)&&B&&(P.value=s[B],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=_(()=>{var s;return(s=P.value)==null?void 0:s.needReverse}),S=s=>{var B;return console.log(s,"info##"),(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((B=t.value.tokensObj[s==null?void 0:s.address])==null?void 0:B.logo_url)||uo("/image/coins/sui-unknown.png")},b=qo(),u=_(()=>b);return{needReverse:c,positionInfo:P,getCoinIcon:S,addCommom:q,wallet:u}}});const mo=e=>(Ge("data-v-61c3efe6"),e=e(),He(),e),Us={class:"my-liquidity"},Fs={class:"my-liquidity-top"},Ms=mo(()=>o("div",null,"My Liquidity",-1)),Os=mo(()=>o("p",null,"My share of pool",-1)),Vs={class:"my-liquidity-bottom"},Es={class:"lp-token"},Ws=mo(()=>o("div",null,[o("span",null,"LP Token Balance ")],-1)),js={class:"lp-balance"},Xs={class:"token-num-content"},zs={class:"token-num token-a-num"},Gs={class:"logo"},Hs=["src"],Ys={class:"text"},Js={class:"lp-logo"},Ks=["src"],Zs=mo(()=>o("div",null,"Pooled Assets",-1)),Qs={class:"token-num"},xs={class:"logo"},ei=["src"],oi={class:"text"},ni=mo(()=>o("div",{class:"token-num-content-bg"},null,-1));function ti(e,t,V,j,N,P){var S,b,u,s,B,p,n,v,d,h,C,f,L,U,F,K,x,Z,y,r,D,ne,te,ve,G,ee,ke,_e,fe;const c=go;return l(),g("div",Us,[o("div",Fs,[Ms,o("div",null,[Os,o("p",null,m(e.wallet.connected?(S=e.positionInfo)==null?void 0:S.myShare:"--")+"%",1)])]),o("div",Vs,[o("div",Es,[Ws,o("div",null,[o("span",js,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(q))((b=e.positionInfo)==null?void 0:b.myLiquidity):"--")+" LP",1),o("span",null,m(e.wallet.connected?((u=e.positionInfo)==null?void 0:u.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in e?e.addCommom:A(q))((s=e.positionInfo)==null?void 0:s.myLiquidityUSD)}`:"<$0.01":"--"),1)])]),o("div",Xs,[o("div",zs,[o("div",Gs,[o("img",{src:e.needReverse?e.getCoinIcon((p=e.positionInfo)==null?void 0:p.token_b):e.getCoinIcon((B=e.positionInfo)==null?void 0:B.token_a),alt:""},null,8,Hs),z(c,{address:e.needReverse?(h=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:h.address:(v=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:v.address,"style-params":{width:"14px",height:"14px",left:"18px",bottom:"0"}},null,8,["address"])]),o("div",Ys,[o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(q))((C=e.positionInfo)==null?void 0:C.amountA):"--")+" "+m(e.needReverse?(F=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:F.symbol:(L=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:L.symbol),1),o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(q))((K=e.positionInfo)==null?void 0:K.myAmountAUSD):"--"),1)])]),o("div",Js,[o("img",{src:e.getCoinIcon((x=e.positionInfo)==null?void 0:x.lpInfo),alt:""},null,8,Ks),Zs]),o("div",Qs,[o("div",xs,[o("img",{src:e.needReverse?e.getCoinIcon((y=e.positionInfo)==null?void 0:y.token_a):e.getCoinIcon((Z=e.positionInfo)==null?void 0:Z.token_b),alt:""},null,8,ei),z(c,{address:e.needReverse?(te=(ne=e.positionInfo)==null?void 0:ne.token_a)==null?void 0:te.address:(D=(r=e.positionInfo)==null?void 0:r.token_b)==null?void 0:D.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])]),o("div",oi,[o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(q))((ve=e.positionInfo)==null?void 0:ve.amountB):"--")+" "+m(e.needReverse?(_e=(ke=e.positionInfo)==null?void 0:ke.token_a)==null?void 0:_e.symbol:(ee=(G=e.positionInfo)==null?void 0:G.token_b)==null?void 0:ee.symbol),1),o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(q))((fe=e.positionInfo)==null?void 0:fe.myAmountBUSD):"--"),1)])]),ni])])])}const sn=Xe(Ls,[["render",ti],["__scopeId","data-v-61c3efe6"]]),si=""+globalThis.__publicAssetsURL("image/icon-tips-error@2x.png");const ii={},ln=e=>(Ge("data-v-fcbc716b"),e=e(),He(),e),li={class:"status"},ai=ln(()=>o("img",{src:si,alt:""},null,-1)),ui=ln(()=>o("span",null,"Rebalancing is in processing. New deposits and withdraws are paused and will be back in minutes. ",-1)),ri=[ai,ui];function di(e,t){return l(),g("div",li,ri)}const an=Xe(ii,[["render",di],["__scopeId","data-v-fcbc716b"]]),vi=ze({components:{AutoPoolAddModal:Zo,AutoPoolV2PoolStatus:an},setup(){const e=qo(),t=w(!1),V=bo(),j=_(()=>V),N=_(()=>j.value.chainName),P=_(()=>e),c=Ke(),S=_(()=>c),b=no(),u=_(()=>b),s=w(),B=oo(),p=w(!1),n=w(!1);Ce(()=>[S.value.positionInfoObj,B.params.id],([I,M])=>{I&&!Je(I)&&M&&(s.value=I[M],console.log(s.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const v=_(()=>{var I,M;return console.log((I=s.value)==null?void 0:I.needReverse,"##positionInfo.value?.needReverse"),(M=s.value)==null?void 0:M.needReverse}),d=w(),h=w(),C=w(),f=w(),L=w(!0),U=_(()=>P.value.assets&&d.value&&P.value.assets[d.value.address]?Vo(P.value.assets[d.value.address].balance,d.value.decimals):0),F=_(()=>P.value.assets&&h.value&&P.value.assets[h.value.address]?Vo(P.value.assets[h.value.address].balance,h.value.decimals):0),K=I=>{I==="fromCoin"?(L.value=!0,C.value=U.value>0?d.value.symbol=="SUI"?new a(Number(U.value)).sub(new a(.05)).lt(new a(0))?"0":new a(Number(U.value)).sub(new a(.05)).toString():String(U.value):""):(L.value=!1,f.value=F.value>0?h.value.symbol=="SUI"?new a(Number(F.value)).sub(new a(.05)).lt(new a(0))?"0":new a(Number(F.value)).sub(new a(.05)).toString():String(F.value):"")},x=I=>{I==="fromCoin"?(L.value=!0,C.value=U.value>0?T(new a(Number(U.value)).div(2).toString(),d.value.decimals).toString():""):(L.value=!1,f.value=F.value>0?T(new a(Number(F.value)).div(2).toString(),h.value.decimals).toString():"")},Z=_(()=>N.value?Ho(N.value):{}),y=_(()=>S.value.slippage),r=w("--"),D=w("--"),ne=I=>{const M=new a(s.value.autoPoolPositionInfo.liquidity),ie=new a(I.toString());if(M.toNumber()>0&&ie.toNumber()>0){const $=ie.add(M);console.log("totalLiquidity:",ie.div($).mul(100).toString());const Se=ie.div($).mul(100).toNumber(),pe=hn(Se),ge=pe==-1?2:pe+2,he=T(ie.div($).mul(100).toNumber(),ge);console.log(s.value.decimals,"##positionInfo.value.decimal");const Te=new a(1).div(new a(Math.pow(10,s.value.lpInfo.decimals))).toString();console.log(he,Te,"###288"),Number(he)<Number(Te)?r.value=`<${Te}`:r.value=he}else ie.toNumber()>0&&M.toNumber()<=0?r.value="100":r.value="--"},te=I=>{const M=new a(I.toString()),ie=new a(y.value).div(100);console.log(ie.toString(),"#slippageNum");const $=Ao.get_lp_amount_by_liquidity({liquidity:s.value.liquidity,total_supply:s.value.total_supply},I.toString()),Se=new a(Math.pow(10,s.value.lpInfo.decimals)),pe=new a($).div(Se).toString(),ge=new a(pe).mul(ie);console.log($,ge.toString(),"###409");const he=new a(pe).sub(ge);console.log(he.toString(),"##minLp"),console.log(M.toString(),$,pe,"lpDecimalNum##"),D.value=T(he.toString(),s.value.decimals)},ve=w(!1),G=w(!1),ee=w(""),ke=w(),_e=w(!1),fe=async()=>{if(!s.value)return;console.log(C.value,f.value,"####updateAmounts"),n.value=!1,_e.value=!0;const I=s.value.autoPoolPositionInfo.tick_lower_index,M=s.value.autoPoolPositionInfo.tick_upper_index,ie=We.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));We.tickIndexToSqrtPriceX64(I),We.tickIndexToSqrtPriceX64(M),ie<I&&(v.value?ve.value=!0:G.value=!0),ie>M&&(v.value?G.value=!0:ve.value=!0);let $;if(console.log(C.value||f.value,"#fromCoinAmount.value || toCoinAmount.value"),C.value||f.value){L.value?$=new a(C.value).mul(Math.pow(10,d.value.decimals)).toString():$=new a(f.value).mul(Math.pow(10,h.value.decimals)).toString();let Se,pe=L.value;if(console.log("执行##"),console.log(ie,I,M,"###520"),re.value||Pe.value){const R=new a(1);if(console.log(R.toString(),$,"decimalNum###"),new a($).lte(R))return n.value=!0,!1;console.log(v.value?L.value:!L.value,"#needReverse.value?fixedFromCoin.value:!fixedFromCoin.value"),console.log($,"##coinAmount"),console.log("1106###needReverse.value####",v.value),console.log("1106###calculateDepositSwapAmount###params###",{lowerTick:I,upperTick:M,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:$,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(y.value)/100,decimals:re.value?d.value.decimals:h.value.decimals});const E=await Qe.calculateDepositSwapAmount({lowerTick:I,upperTick:M,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:$,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(y.value)/100,decimals:re.value?d.value.decimals:h.value.decimals});if(console.log(E,"###swapResult"),console.log("1106###calculateDepositSwapAmount###result###",E),E){p.value=E.is_exceed,Se=new ue(E.afterSqrtPrice),$=E.fixAmountA===pe?new ue(new a($).sub(E.swapInAmount).toString()):new ue(E.swapOutAmount),ke.value={swap_amount:E.swapInAmount,route_obj:E.route_obj,a2b:pe,input_amount:$},pe=E.fixAmountA;const le=s.value.token_a.decimals,X=s.value.token_b.decimals;wo.value=We.sqrtPriceX64ToPrice(E.afterSqrtPrice,le,X).toString(),console.log(wo.value,"##afterCurrentPrice.value");const de=new a(E.swapInAmount).div(new a(Math.pow(10,le))).toString(),ae=T(new a(E.swapOutAmountLimit).div(new a(Math.pow(10,X))).toString(),X),Q=v.value?s.value.token_b.symbol:s.value.token_a.symbol,W=v.value?s.value.token_a.symbol:s.value.token_b.symbol;ee.value=`To deposit ${q(re.value?C.value:f.value)} ${re.value?Q:W},
          ${q(de)} ${re.value?Q:W}  will be traded for ${q(ae)} ${re.value?W:Q} added to the pool.`}else Se=s.value.current_sqrt_price,$=new ue($)}else p.value=!1,Se=s.value.current_sqrt_price,$=new ue($),wo.value="",ee.value="";console.log(ke,"##swapParams");let ge,he,Te;const i=Z.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value,tokenB:h.value,lowerTick:I,upperTick:M,coinAmount:$,iscoinA:pe,roundUp:!0,slippage:Number(y.value)/100,curSqrtPrice:new ue(Se)});console.log("amount#",i),ge=i.liquidityAmount,he=i.tokenMaxA,Te=i.tokenMaxB,!re.value&&!Pe.value&&(L.value?f.value=Number(Te)>0?Te:"":C.value=Number(he)>0?he:""),console.log(ge.toString(),"liquidityAmount###"),ne(ge),te(ge),_e.value=!1}};Ce(()=>s.value,I=>{I&&!Je(I)&&(d.value=I==null?void 0:I.token_a,h.value=I==null?void 0:I.token_b,ve.value=!1,G.value=!1,fe())},{immediate:!0});const me=_(()=>u.value.RATES),H=_(()=>{var I,M,ie,$,Se,pe,ge,he,Te,i;if((M=me.value[(I=d.value)==null?void 0:I.address])!=null&&M.price&&(($=me.value[(ie=h.value)==null?void 0:ie.address])!=null&&$.price)){console.log((pe=me.value[(Se=d.value)==null?void 0:Se.address])==null?void 0:pe.price,"RATES.value[fromCoin.value?.address]?.price");const R=new a(C.value||0).mul(new a((he=me.value[(ge=d.value)==null?void 0:ge.address])==null?void 0:he.price)),E=new a(f.value||0).mul(new a((i=me.value[(Te=h.value)==null?void 0:Te.address])==null?void 0:i.price));return R.add(E).toNumber()}else return"--"});Ce(()=>C.value,vo((I,M)=>{console.log(I,"##newVal"),I?fe():(r.value="--",f.value="",D.value="--")},500),{immediate:!0}),Ce(()=>f.value,vo((I,M)=>{I?fe():(C.value="",r.value="--",D.value="--")},500),{immediate:!0});const{t:se,locale:be}=Po(),ce=_(()=>{var I,M;if(re.value||Pe.value){const ie=re.value?C.value:f.value,$=re.value?d.value:h.value;if((I=me.value[$==null?void 0:$.address])!=null&&I.price)return new a(ie||0).mul(new a((M=me.value[$==null?void 0:$.address])==null?void 0:M.price)).toNumber()}return 0}),k=_(()=>{const I=Number(C.value)>Number(U.value),M=Number(f.value)>Number(F.value);return!C.value&&!f.value?se("button.enterAmount"):I?se("button.insufficientBalance",{name:d.value.symbol}):M?se("button.insufficientBalance",{name:h.value.symbol}):p.value?se("button.insufficientLiquidity"):Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(H.value)>Number(s.value.remainingTokenUSD)?"Exceeded the max capacity":n.value?se("button.enterAmount"):(console.log(ce.value),"Add Liquidity")}),Y=_(()=>{const I=Number(C.value)>Number(U.value),M=Number(f.value)>Number(F.value);return!!(!C.value&&!f.value||I||M||C.value<=0&&f.value<=0||p.value||po.value!=="STATUS_RUNNING"||(console.log(H.value,s.value.quoteUSD,"positionInfo.value.quoteUSD#"),Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(H.value)>Number(s.value.remainingTokenUSD))||n.value||ce.value>1e4)}),Ne=w(!0),{setIsShowSuccess:ye,setIsShowRejected:De,setIsShowWaiting:Ae,setTransactionDesc:Be,setTransactionTxid:we,setPositiomNum:Fe}=V,Qe=Go("Sui"),ro=async()=>{var Te,i;t.value=!1,Ne.value=!0,we("");const I=`${q(C.value)} ${(Te=d.value)==null?void 0:Te.symbol}`,M=`${q(f.value)} ${(i=h.value)==null?void 0:i.symbol}`;Be(`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?M:""}`),Ae(!0);const ie=L.value,$=s.value.autoPoolPositionInfo.tick_lower_index,Se=s.value.autoPoolPositionInfo.tick_upper_index,pe=We.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));let ge;L.value?ge=new a(C.value).mul(Math.pow(10,d.value.decimals)).toString():ge=new a(f.value).mul(Math.pow(10,h.value.decimals)).toString();const he=s.value.rewarderInfo.map(R=>R.coinAddress);console.log("1109###deposit###positionInfo###",s);try{const R={lowerTick:$,upperTick:Se,coinAmount:ge,fix_amount_a:ie,slippage:Number(y.value)/100,curSqrtPrice:new ue(s.value.current_sqrt_price),id:s.value.id,clmm_pool:s.value.autoPoolPositionInfo.pool,lp_token_type:s.value.lp_token_type,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:he,swapParams:ke.value,isOnlyA:re.value,isOnlyB:Pe.value,currentTickIndex:pe,decimal_b:s.value.coinB.decimals};console.log("1106###deposit###params###",R);const E=await Qe.deposit(R);console.log(E,"===>payloadAdd11111");const le=await P.value.currentWallet.signAndExecuteTransactionBlock(E);let X=Z.value.handleTx(le);if(console.log("toAdd###tx###",X),X&&X.hash){we(X.hash),Ae(!1),ye(!0),console.log(s,"===>positionInfo");const de={title:"Supplied",desc:`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?M:""}`,hash:X.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?M:""}`};N.value!=="Aptos"&&(de.res=X.res),Z.value.showTransitionPending(de),await Z.value.watchTransaction(de)&&setTimeout(()=>{c.updatePositionItem(s.value.id),Z.value.getAccount(P.value.address)},1e3),Fe()}else Ae(!1),De(!0);C.value="",f.value="",Ne.value=!1}catch(R){C.value="",f.value="",console.log("addError###",R),Ne.value=!1,Ae(!1),De(!0)}},re=w(!1),Pe=w(!1),Re=I=>{C.value="",f.value="",ee.value="",I=="only-a"?(re.value=!re.value,Pe.value=!1):(Pe.value=!Pe.value,re.value=!1)},po=_(()=>S.value.currentAutoPoolStatus),fo=w(),ko=()=>{fo.value=window.setInterval(()=>{(C.value||f.value)&&fe()},2e4)};yo(()=>{ko()}),To(()=>{window.clearInterval(fo.value)});const _o=pn(fn,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0});return{currentAutoPoolStatus:po,wallet:P,positionInfo:s,isShowAddModal:t,needReverse:v,fromCoin:d,toCoin:h,fromCoinAmount:C,toCoinAmount:f,fromCoinBlance:U,toCoinBlance:F,fixedFromCoin:L,maxBtnSelect:K,halfBtnSelect:x,totalAmountUSD:H,addCommom:q,shareOfPool:r,minimumReceivedLP:D,addLiquidityBtnText:k,addLiquidityBtnDisabled:Y,toAdd:ro,showToCoinLock:G,showFromCoinLock:ve,isOnlyA:re,isOnlyB:Pe,onlyToken:Re,onlyText:ee,onlyTokenUSD:ce,calculateLoading:_e,indicator:_o}}});const Ze=e=>(Ge("data-v-d520541b"),e=e(),He(),e),mi={class:"auto-pool-add"},ci={class:"auto-pool-add-content"},pi={class:"liquidity-action-tab"},fi=Ze(()=>o("div",{class:"increase tab-active"},"Add",-1)),yi={class:"only-token"},gi=Ze(()=>o("div",null,"Deposit Amounts",-1)),bi={key:0},hi=Ze(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),ki={key:0},_i=Ze(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),$i={key:0,class:"card-item"},wi={key:1,class:"card-item"},Ii=Ze(()=>o("span",null,"Pool Closed",-1)),Ci={key:0,class:"add-info"},Ai={key:0,class:"only-text"},Pi={class:"total-amount"},Si=Ze(()=>o("span",null,"Total Amount",-1)),Ti={key:0},Ni={class:"total-amount"},Ri=Ze(()=>o("span",null,"Share of Pool",-1)),qi={key:0},Di={class:"total-amount"},Bi=Ze(()=>o("span",null,"Minimum Received LP",-1)),Li={key:0},Ui={key:1,class:"add-info only-add-info"},Fi=Ze(()=>o("div",{class:"only-text"},"Single-asset deposit can't be higher than $10,000 at a time.",-1)),Mi=[Fi];function Oi(e,t,V,j,N,P){var p,n,v,d,h,C,f,L,U,F,K,x,Z,y,r;const c=Jo,S=Ko,b=so("AutoPoolV2PoolStatus"),u=So,s=zo,B=Zo;return l(),g("div",mi,[o("div",ci,[o("div",pi,[fi,o("div",{class:"remove",onClick:t[0]||(t[0]=Xo(D=>e.$emit("changeCurrentTab"),["stop"]))},"Remove")]),o("div",yi,[gi,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=D=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(l(),g("span",bi)):O("",!0)]),o("span",null,m(e.needReverse?(d=(v=e.positionInfo)==null?void 0:v.token_b)==null?void 0:d.symbol:(n=(p=e.positionInfo)==null?void 0:p.token_a)==null?void 0:n.symbol)+" only",1),hi]),o("div",{class:"only-b",onClick:t[2]||(t[2]=D=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(l(),g("span",ki)):O("",!0)]),o("span",null,m(e.needReverse?(L=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:L.symbol:(C=(h=e.positionInfo)==null?void 0:h.token_b)==null?void 0:C.symbol)+" only",1),_i])])]),o("div",{class:Ve(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(l(),g("div",$i,[z(c,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=D=>e.fromCoinAmount=D),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=D=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=D=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=D=>{e.fromCoinAmount=D}),onOnFocus:t[7]||(t[7]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.isOnlyA?(l(),J(S,{key:0})):O("",!0)])):O("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(l(),g("div",wi,[z(c,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=D=>e.toCoinAmount=D),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=D=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=D=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=D=>{e.toCoinAmount=D}),onOnFocus:t[12]||(t[12]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.isOnlyB?(l(),J(S,{key:0})):O("",!0)])):O("",!0)],2)]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(l(),J(b,{key:0})):O("",!0),(U=e.positionInfo)!=null&&U.is_pause?(l(),J(u,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:$e(()=>[Ii]),_:1})):e.wallet.connected?(l(),J(u,{key:2,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,onClick:t[13]||(t[13]=D=>e.isShowAddModal=!0)},{default:$e(()=>[o("span",null,m(e.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(l(),J(u,{key:3,class:"big-btn liquidity-btn",onClick:t[14]||(t[14]=D=>e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[o("span",null,m(e.$t("button.connectWallet")),1)]),_:1})),(((F=e.positionInfo)==null?void 0:F.quoteUSD)==0||Number((K=e.positionInfo)==null?void 0:K.remainingTokenUSD)>Number(e.totalAmountUSD))&&(Number(e.fromCoinAmount)>0||Number(e.toCoinAmount)>0)&&!e.addLiquidityBtnDisabled?(l(),g(to,{key:4},[e.onlyTokenUSD<=1e4?(l(),g("div",Ci,[e.onlyText&&(e.isOnlyA&&e.fromCoinAmount>0||e.isOnlyB&&e.toCoinAmount>0)?(l(),g("div",Ai,m(e.onlyText),1)):O("",!0),o("div",Pi,[Si,e.calculateLoading?(l(),J(s,{key:1,paragraph:!1,active:""})):(l(),g("span",Ti,m(Number(e.totalAmountUSD)>0&&Number(e.totalAmountUSD)<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:A(q))(e.totalAmountUSD,2)}`),1))]),o("div",Ni,[Ri,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),g("span",qi,m(e.shareOfPool)+"%",1)):(l(),J(s,{key:1,paragraph:!1,active:""}))]),o("div",Di,[Bi,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),g("span",Li,m(("addCommom"in e?e.addCommom:A(q))(e.minimumReceivedLP))+" "+m(e.needReverse?(x=e.toCoin)==null?void 0:x.symbol:(Z=e.fromCoin)==null?void 0:Z.symbol)+"-"+m(e.needReverse?(y=e.fromCoin)==null?void 0:y.symbol:(r=e.toCoin)==null?void 0:r.symbol),1)):(l(),J(s,{key:1,paragraph:!1,active:""}))])])):(l(),g("div",Ui,Mi))],64)):O("",!0),e.isShowAddModal?(l(),J(B,{key:5,"pool-info":e.positionInfo,"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"total-amount":e.totalAmountUSD,"share-of-pool":e.shareOfPool,"minimum-received-l-p":e.minimumReceivedLP,"is-only-a":e.isOnlyA,"is-only-b":e.isOnlyB,onOnClose:t[15]||(t[15]=D=>e.isShowAddModal=!1),onToAdd:e.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","is-only-a","is-only-b","onToAdd"])):O("",!0)])}const Vi=Xe(vi,[["render",Oi],["__scopeId","data-v-d520541b"]]),Ei=ze({components:{AutoPoolRemoveModal:Qo,AutoPoolV2PoolStatus:an},setup(){const e=qo(),t=_(()=>e),V=bo(),j=_(()=>V),N=_(()=>p.value.slippage),P=_(()=>j.value.chainName),c=kn(),S=_(()=>c),b=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],u=w(25),s=oo(),B=Ke(),p=_(()=>B),n=_(()=>(console.log(p.value.positionInfoObj[s.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),p.value.positionInfoObj[s.params.id])),v=_(()=>{var i;return(i=n.value)==null?void 0:i.needReverse}),d=w(),h=w(),C=w(!1),f=w(),L=_(()=>{var i;return(i=n.value)==null?void 0:i.myLiquidity}),U=w(!0),F=_(()=>P.value?Ho(P.value):{}),K=w(),x=w(),Z=Go("Sui"),y=w(""),r=w(""),D=w("--"),ne=w(!1),te=w(!1),ve=w(),G=w(!0),ee=w(),ke=no(),_e=_(()=>ke),fe=_(()=>_e.value.RATES),me=w(!1),H=async()=>{if(U.value||!n.value)return;x.value=!1,me.value=!0;const i=n.value.autoPoolPositionInfo.tick_lower_index,R=n.value.autoPoolPositionInfo.tick_upper_index,E=We.sqrtPriceX64ToTickIndex(new ue(n.value.current_sqrt_price));E<i&&(v.value?ne.value=!0:te.value=!0),E>R&&(v.value?te.value=!0:ne.value=!0);let le;if(console.log(y.value||r.value,"#fromCoinAmount.value || toCoinAmount.value"),y.value||r.value){G.value?le=new a(y.value).mul(Math.pow(10,d.value.decimals)).toString():le=new a(r.value).mul(Math.pow(10,h.value.decimals)).toString();let X,de=G.value;if(k.value||Y.value){k.value?Number(y.value)/Number($.value):Number(r.value)/Number($.value);const oe=await Z.calculateRemoveSwapAmount({lowerTick:i,upperTick:R,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:de,receiveAmount:le,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(N.value)/100,decimals:k.value?d.value.decimals:h.value.decimals,liquidity:y.value==$.value||r.value==$.value?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity});if(console.log(oe,"###swapResult"),oe){K.value=oe.is_exceed,le=new ue(oe.swapOutAmount),X=n.value.current_sqrt_price,ve.value={swap_amount:oe.swapInAmount,liquidity:oe.liquidity,a2b:!de,route_obj:oe.route_obj},de=!de;const Ee=n.value.token_a.decimals,Me=n.value.token_b.decimals,qe=new a(oe.swapInAmount).div(new a(Math.pow(10,Ee))).toString(),io=T(new a(oe.swapOutAmountLimit).div(new a(Math.pow(10,Me))).toString(),Me),Ie=v.value?n.value.token_b.symbol:n.value.token_a.symbol,Le=v.value?n.value.token_a.symbol:n.value.token_b.symbol;ee.value=y.value==$.value||r.value==$.value?`To withdraw ${q(k.value?y.value:r.value)} ${k.value?Ie:Le},
          ${q(k.value?n.value.amountB:n.value.amountA)} ${k.value?Le:Ie} 
           in the pool will be traded for ${qe} ${k.value?Ie:Le}`:`To withdraw ${q(k.value?y.value:r.value)} ${k.value?Ie:Le},
          ${q(qe)} ${k.value?Le:Ie}  in the pool will be traded for ${q(io)} ${k.value?Ie:Le}`}else{x.value=!0,ee.value="";return}}else K.value=!1,X=n.value.current_sqrt_price,le=new ue(le);console.log(X,"##curSqrtPrice"),console.log("执行了吗##");const{liquidityAmount:ae,tokenMaxA:Q,tokenMaxB:W}=F.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value,tokenB:h.value,lowerTick:i,upperTick:R,coinAmount:le,iscoinA:de,roundUp:!1,slippage:Number(N.value)/100,curSqrtPrice:new ue(X)});if(console.log(n.value.current_sqrt_price,"##positionInfo.value.current_sqrt_price"),console.log(W.toString(),Q.toString(),n.value,"###323"),!k.value&&!Y.value&&(G.value?r.value=Number(W)>0?W:"":y.value=Number(Q)>0?Q:""),(k.value||Y.value)&&(Number(y.value)>=Number($.value)||Number(r.value)>=Number($.value))){console.log("执行这里了吗"),f.value=n.value.myLiquidity;const oe=new a(100);D.value=new a(n.value.myLiquidity).mul(new a(Math.pow(10,n.value.lpInfo.decimals))).toString(),se.value=ae.toString(),u.value=oe.toNumber()}else{console.log("执行这里了吗1");const oe=Ao.get_lp_amount_by_liquidity({liquidity:n.value.liquidity,total_supply:n.value.total_supply},ae.toString()),Ee=new a(oe).div(new a(Math.pow(10,n.value.lpInfo.decimals))).toString();console.log(Ee,L.value,ae.toString(),n.value.liquidity,n.value.total_supply,"##lpBalance.value");const Me=new a(Ee).div(new a(L.value)).mul(100);console.log(Ee,L.value,Me.toNumber(),"lp##"),f.value=new a(L.value).mul(Me.div(100)).toString(),D.value=oe,se.value=ae.toString(),u.value=Me.toNumber()}me.value=!1}},se=w(),be=_(()=>{var i;return(i=n==null?void 0:n.value)==null?void 0:i.amountA}),ce=_(()=>{var i;return(i=n==null?void 0:n.value)==null?void 0:i.amountB}),k=w(!1),Y=w(!1),Ne=_(()=>{var de,ae,Q,W;const i=(ae=fe.value[(de=d==null?void 0:d.value)==null?void 0:de.address])==null?void 0:ae.price,R=(W=fe.value[(Q=h==null?void 0:h.value)==null?void 0:Q.address])==null?void 0:W.price;console.log(i,R,y.value,r.value,"####totalWithdraw");let E=y.value!=="--"&&y.value!==""?y.value:0,le=r.value!=="--"&&r.value!==""?r.value:0,X;return i&&R&&(k.value||Y.value?X=new a(k.value?E:le).mul(new a(k.value?i:R)).toString():(X=new a(E).mul(new a(i)).add(new a(le).mul(new a(R))).toString(),console.log(X,"result##"))),X>0&&X<.01?"<$0.01":`$${q(T(X,2))}`}),ye=async i=>{var Ee,Me,qe,io,Ie,Le,$o,Bo,Lo,Uo,Fo;if(!U.value)return;U.value=!0,x.value=!1,(Me=(Ee=n.value)==null?void 0:Ee.token_a)==null||Me.decimals,(io=(qe=n.value)==null?void 0:qe.token_b)==null||io.decimals;const R=(Ie=n.value)==null?void 0:Ie.tick_lower_index,E=(Le=n.value)==null?void 0:Le.tick_upper_index;We.tickIndexToSqrtPriceX64(R),We.tickIndexToSqrtPriceX64(E);const le=(Bo=($o=n.value)==null?void 0:$o.autoPoolPositionInfo)==null?void 0:Bo.tick_lower_index,X=(Uo=(Lo=n.value)==null?void 0:Lo.autoPoolPositionInfo)==null?void 0:Uo.tick_upper_index,de=We.sqrtPriceX64ToTickIndex(new ue((Fo=n==null?void 0:n.value)==null?void 0:Fo.current_sqrt_price));de<le&&(v.value?ne.value=!0:te.value=!0),de>X&&(v.value?te.value=!0:ne.value=!0);let ae="",Q,W;console.log(i.value,"##item.value"),console.log(W,"##coinAmount");let oe=G.value;if(console.log("执行##"),k.value||Y.value&&!ne.value&&!te.value){if(k.value){const xe=new a($.value).mul(Math.pow(10,d.value.decimals)).mul(i.value).toString();console.log(xe,"##amount"),W=T(xe,0),y.value=T(new a($.value).mul(i.value).toString(),d.value.decimals)}if(Y.value){const xe=new a($.value).mul(i.value).mul(Math.pow(10,h.value.decimals)).toString();W=T(xe,0),r.value=T(new a($.value).mul(i.value).toString(),h.value.decimals)}console.log(y.value,"##fromCoinAmount.value");const Oe=await Z.calculateRemoveSwapAmount({lowerTick:R,upperTick:E,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:oe,receiveAmount:W,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(N.value)/100,decimals:k.value?d.value.decimals:h.value.decimals,liquidity:i.value==1?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity});if(console.log(Oe,"###swapResult536"),Oe){K.value=Oe.is_exceed,W=new ue(Oe.swapOutAmount),n.value.current_sqrt_price,ve.value={swap_amount:Oe.swapInAmount,liquidity:Oe.liquidity,route_obj:Oe.route_obj,a2b:!oe},oe=!oe;const xe=n.value.token_a.decimals,Mo=n.value.token_b.decimals,un=new a(Oe.swapInAmount).div(new a(Math.pow(10,xe))).toString(),Oo=T(new a(Oe.swapOutAmountLimit).div(new a(Math.pow(10,Mo))).toString(),Mo),lo=v.value?n.value.token_b.symbol:n.value.token_a.symbol,ao=v.value?n.value.token_a.symbol:n.value.token_b.symbol;ee.value=i.value==1?`To withdraw ${q(k.value?y.value:r.value)} ${k.value?lo:ao},
          ${q(k.value?n.value.amountB:n.value.amountA)} ${k.value?ao:lo}  in the pool will be traded for ${q(Oo)} ${k.value?lo:ao}`:`To withdraw ${q(k.value?y.value:r.value)} ${k.value?lo:ao},
          ${q(un)} ${k.value?ao:lo}  in the pool will be traded for ${q(Oo)} ${k.value?lo:ao}`,ae=Oe.liquidity}else n.value.current_sqrt_price,W=new ue(W),ee.value="",x.value=!0;console.log(Q,"result###"),D.value=new a(n.value.myLiquidity).mul(new a(i.value)).toString(),console.log(n.value,n.value.liquidity,ae,D.value,"###positionInfo.value.liquidity"),console.log(D.value,"##lpTokenAmount.value"),f.value=new a(D.value),se.value=ae}else{K.value=!1;const Oe=new a(be.value).mul(Math.pow(10,d.value.decimals)).mul(i.value).toString();W=T(Oe,0),y.value=T(new a(be.value).mul(i.value).toString(),d.value.decimals);const xe=new a(ce.value).mul(i.value).mul(Math.pow(10,h.value.decimals)).toString();W=T(xe,0),r.value=T(new a(ce.value).mul(i.value).toString(),h.value.decimals),n.value.current_sqrt_price,W=new ue(W),i.value!==1?Q=new a(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).mul(i.value).toString():Q=new a(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).toString(),f.value=new a(Q).div(Math.pow(10,n.value.lpInfo.decimals)),ae=Ao.get_share_liquidity_by_amount({liquidity:n.value.liquidity,total_supply:n.value.total_supply},Q),D.value=T(Q,0),se.value=T(ae,0),console.log(ae,"###newLiquidity525")}};Ce(u,vo((i,R)=>{i!==R&&(Number(i)>100?u.value=100:i&&n.value?(console.log("687===>"),u.value=i,ye({value:u.value/100})):(y.value="",r.value=""))},300)),Ce(()=>y.value,vo((i,R)=>{i?H():!k.value&&!Y.value&&(r.value="",u.value=0)},500),{immediate:!0}),Ce(()=>r.value,vo((i,R)=>{i?H():!k.value&&!Y.value&&(y.value="",u.value=0)},500),{immediate:!0});const De=No(),{setIsShowSuccess:Ae,setIsShowRejected:Be,setIsShowWaiting:we,setTransactionDesc:Fe,setTransactionTxid:Qe,setPositiomNum:ro,setTransactionDescText:re}=V,Pe=w(!1),{t:Re}=Po(),po=async()=>{var Ee,Me;Pe.value=!0,Qe("");const i=Number(y.value)>0?`${q(y.value,d.value.decimals)} ${d.value.symbol}`:"",R=Number(r.value)>0?`${q(r.value,h.value.decimals)} ${h.value.symbol}`:"";console.log(i,R,"###transactionDescTo"),Fe(Re("tips.removeLiquidiyText",{from:v.value?R:i,and:Number(y.value)>0&&Number(r.value)>0?"and":"",to:v.value?i:R})),we(!0);const E=Re("modal.removeLiquidityText2");re(E);const le=n.value.autoPoolPositionInfo.tick_lower_index,X=n.value.autoPoolPositionInfo.tick_upper_index,de=We.tickIndexToSqrtPriceX64(le),ae=We.tickIndexToSqrtPriceX64(X),Q=n.value.rewarderInfo.map(qe=>qe.coinAddress);console.log(D.value,"##lpTokenAmount.value431");let W;G.value?W=new a(y.value).mul(Math.pow(10,d.value.decimals)).toString():W=new a(r.value).mul(Math.pow(10,h.value.decimals)).toString(),console.log();const oe={lowerSqrtPrice:de,upperSqrtPrice:ae,lpTokenAmount:D.value,liquidity:se.value,curSqrtPrice:new ue(n.value.object.current_sqrt_price),slippage:Number(N.value)/100,id:n.value.id,clmm_pool:n.value.autoPoolPositionInfo.pool,lp_token_type:n.value.lp_token_type,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:Q,swapParams:ve.value,fix_amount_a:G.value,isOnlyA:!ne.value&&!te.value?k.value:!1,isOnlyB:!te.value&&!ne.value?Y.value:!1,lowerTick:le,upperTick:X,receiveAmount:W,sliderVal:u.value,positionInfo:n.value,maxLiquidity:n.value.positionLiquidity};try{const qe=await Z.remove(oe);console.log(qe,"移除流动性payload");const io=await t.value.currentWallet.signAndExecuteTransactionBlock(qe);let Ie=F.value.handleTx(io);if(console.log("0331###remove###tx####",Ie),Ie&&Ie.hash){Qe(Ie.hash),we(!1),Ae(!0);const Le={title:Re("common.removeLiquidity"),desc:"",hash:Ie.hash,descTransactions:`Remove ${i} ${Number(y.value)>0&&Number(r.value)>0?"and":""} ${R} from the pool`,sender:t.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${y.value} ${(Ee=d.value)==null?void 0:Ee.symbol} and ${r.value} ${(Me=h.value)==null?void 0:Me.symbol}`};Le.res=Ie.res,F.value.showTransitionPending(Le),await F.value.watchTransaction(Le)&&(y.value="",r.value="",f.value="",u.value=0,setTimeout(()=>{B.updatePositionItem(n.value.id),F.value.getAccount(t.value.address)},1e3),Number(u.value)==100&&s.name=="auto-pool-detail"&&De.push("/pool/auto"))}else we(!1),Be(!0);Pe.value=!1}catch(qe){console.log("Remove error",qe),Pe.value=!1,we(!1),Be(!0)}};Ce(()=>n.value,(i,R)=>{i&&!Je(i)&&(d.value=i==null?void 0:i.token_a,h.value=i==null?void 0:i.token_b,console.log("触发###"),(!R||R&&R.address!==i.address)&&(u.value=u.value>0?u.value:25,ye({value:u.value/100})),R&&R.current_sqrt_price!==i.current_sqrt_price&&(U.value?ye({value:u.value/100}):H()))},{immediate:!0});const fo=_(()=>{const i=Number(f.value)>Number(L.value);return!y.value&&!r.value||!f.value||f.value<=0||!y.value&&k.value||!r.value&&Y.value?Re("button.enterAmount"):i?"Invalid Amount":K.value?Re("button.insufficientLiquidity"):x.value?Re("button.enterAmount"):(console.log(y.value,$.value,r.value,"856##"),k.value&&Number(y.value)>Number($.value)||Y.value&&Number(r.value)>Number($.value)?"Invalid Amount":Re("button.remove"))}),ko=_(()=>{const i=Number(f.value)>Number(L.value);return!!(!y.value&&!r.value||Number(y.value)<=0&&k.value||Number(r.value)<=0&&Y.value||!f.value||f.value<=0||i||K.value||ge.value!=="STATUS_RUNNING"||x.value||k.value&&Number(y.value)>Number($.value)||Y.value&&Number(r.value)>Number($.value))}),_o=i=>(i==null?void 0:i.logoURI)||(i==null?void 0:i.logo_url)||uo("/image/coins/sui-unknown.png"),I=i=>{y.value="",r.value="",U.value=!0,ee.value="",i=="only-a"?(k.value=!k.value,Y.value=!1,G.value=!0):(Y.value=!Y.value,k.value=!1,G.value=!1)},M=i=>{U.value=!0,u.value=100,i==="fromCoin"?G.value=!0:G.value=!1},ie=i=>{U.value=!0,u.value=50,i==="fromCoin"?G.value=!0:G.value=!1},$=w(),Se=async()=>{const i=n.value.token_a.decimals,R=n.value.token_b.decimals,E=new a(be.value).mul(new a(Math.pow(10,i))).toNumber(),le=new a(ce.value).mul(new a(Math.pow(10,R))).toNumber(),X=k.value?le:E,de=k.value?h.value.address===n.value.token_a.address:d.value.address===n.value.token_a.address;try{const ae=await S.value.swapRouterContract.getSwapRouter(k.value?h:d,k.value?d:h,X,!0,Number(N.value)/100,"",void 0,[{pool_id:n.value.address,tick_lower:n.value.autoPoolPositionInfo.tick_lower_index,tick_upper:n.value.autoPoolPositionInfo.tick_upper_index,delta_liquidity:Number(n.value.positionLiquidity),is_increase:!1}]),Q=new a(ae.amountOut);$.value=Q.sub(Q.mul(Number(N.value)/100)).add(new a(k.value?be.value:ce.value)).toString()}catch{if(k.value||Y.value){console.log(X,"##receiveAmount");let Q=await F.value.preSwap({pool:{address:n.value.address,coinA:n.value.token_a,coinB:n.value.token_b},a2b:de,byAmountIn:!0,amount:X});console.log(Q,Q.estimatedAmountOut,i,R,"##preSwapRes");const W=new a(Q.estimatedAmountOut);$.value=W.sub(W.mul(Number(N.value)/100)).add(new a(k.value?be.value:ce.value)).toString(),console.log("转换之后数量:",Q.estimatedAmountOut),console.log("转换之后滑点数量:",W.mul(Number(N.value)/100).toNumber()),console.log("原有数量减滑点数量:",W.sub(W.mul(Number(N.value)/100)).toNumber()),console.log("fromCoin原有数量:",be.value),console.log($.value,"###onlyTokenBalance.value"),k.value?y.value=T(new a($.value).mul(u.value/100).toString(),d.value.decimals):r.value=T(new a($.value).mul(u.value/100).toString(),h.value.decimals),ye({value:u.value/100})}}ye({value:u.value/100})};Ce(()=>[k.value,Y.value,be.value,ce.value],([i,R])=>{i||R?Se():ye({value:u.value/100})},{immediate:!0});const pe=i=>`${i}%`,ge=_(()=>p.value.currentAutoPoolStatus),he=w(),Te=()=>{he.value=window.setInterval(()=>{(y.value||r.value)&&!U.value?H():ye({value:u.value/100})},2e4)};return yo(()=>{Te()}),To(()=>{window.clearInterval(he.value)}),{removeLiquidityBtnText:fo,removeLiquidityBtnDisabled:ko,wallet:t,ratioArr:b,positionInfo:n,isShowRemoveModal:C,needReverse:v,fromCoin:d,toCoin:h,lpAmount:f,lpBalance:L,sliderVal:u,sFixD:T,isSlider:U,fromCoinAmount:y,toCoinAmount:r,setPercent:ye,toRemove:po,addCommom:q,getCoinIcon:_o,isOnlyA:k,isOnlyB:Y,onlyToken:I,fixedFromCoin:G,maxBtnSelect:M,halfBtnSelect:ie,fromCoinBlance:be,toCoinBlance:ce,showFromCoinLock:ne,showToCoinLock:te,removeText:ee,onlyTokenBalance:$,totalWithdraw:Ne,formatter:pe,currentAutoPoolStatus:ge,calculateLoading:me}}});const co=e=>(Ge("data-v-62179aad"),e=e(),He(),e),Wi={class:"auto-pool-add"},ji={class:"auto-pool-add-content"},Xi={class:"liquidity-action-tab"},zi=co(()=>o("div",{class:"remove tab-active"},"Remove",-1)),Gi={key:0,class:"only-token"},Hi=co(()=>o("div",null,"Deposit Amounts",-1)),Yi={key:0},Ji={key:0},Ki={key:0,class:"card-item"},Zi={key:1,class:"card-item"},Qi={class:"remove-ratio"},xi={class:"remove-ratio-select"},el={key:0,class:"ratio"},ol={key:1,class:"ratio"},nl={class:"ratio-list"},tl=["onClick"],sl=co(()=>o("span",null,"Pool Closed",-1)),il={key:4,class:"remove-info"},ll={key:0,class:"remove-text total-amount"},al={class:"total-amount"},ul=co(()=>o("span",null,"Total Withdraw",-1)),rl={key:0},dl={class:"total-amount"},vl=co(()=>o("span",null,"LP Burn Amount",-1)),ml={key:0};function cl(e,t,V,j,N,P){var n,v,d,h,C,f,L,U,F,K,x,Z,y;const c=Jo,S=Ko,b=jo,u=so("AutoPoolV2PoolStatus"),s=So,B=zo,p=Qo;return l(),g("div",Wi,[o("div",ji,[o("div",Xi,[o("div",{class:"increase",onClick:t[0]||(t[0]=Xo(r=>e.$emit("changeCurrentTab"),["stop"]))},"Add"),zi]),!e.showFromCoinLock&&!e.showToCoinLock?(l(),g("div",Gi,[Hi,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=r=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(l(),g("span",Yi)):O("",!0)]),o("span",null,m(e.needReverse?(h=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:h.symbol:(v=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:v.symbol)+" only",1)]),o("div",{class:"only-b",onClick:t[2]||(t[2]=r=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(l(),g("span",Ji)):O("",!0)]),o("span",null,m(e.needReverse?(U=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:U.symbol:(f=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:f.symbol)+" only",1)])])])):O("",!0),o("div",{class:Ve(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(l(),g("div",Ki,[z(c,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=r=>e.fromCoinAmount=r),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.isOnlyA?e.onlyTokenBalance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[4]||(t[4]=r=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=r=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=r=>{e.isSlider=!1,e.fromCoinAmount=r}),onOnFocus:t[7]||(t[7]=()=>{e.isSlider=!1,e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(l(),J(S,{key:0})):O("",!0)])):O("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(l(),g("div",Zi,[z(c,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=r=>e.toCoinAmount=r),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.isOnlyB?e.onlyTokenBalance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[9]||(t[9]=r=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=r=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=r=>{e.isSlider=!1,e.toCoinAmount=r}),onOnFocus:t[12]||(t[12]=()=>{e.isSlider=!1,e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(l(),J(S,{key:0})):O("",!0)])):O("",!0)],2),o("div",Qi,[o("div",xi,[Number(e.lpBalance)>=Number(e.lpAmount)?(l(),g("div",el,m(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:A(T))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:A(T))(e.sliderVal,2))+"% ",1)):(l(),g("div",ol,"--")),o("div",nl,[(l(!0),g(to,null,Wo(e.ratioArr,(r,D)=>(l(),g("div",{key:D,class:Ve(["ratio-item",e.sliderVal==r.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=r.value}},m(r.name),11,tl))),128))])]),z(b,{value:e.sliderVal,"onUpdate:value":t[13]||(t[13]=r=>e.sliderVal=r),"tip-formatter":e.formatter,onChange:t[14]||(t[14]=r=>e.isSlider=!0)},null,8,["value","tip-formatter"])])]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(l(),J(u,{key:0})):O("",!0),(F=e.positionInfo)!=null&&F.is_pause?(l(),J(s,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:$e(()=>[sl]),_:1})):e.wallet.connected?(l(),J(s,{key:2,class:"big-btn liquidity-btn",disabled:e.removeLiquidityBtnDisabled,onClick:t[15]||(t[15]=r=>e.toRemove())},{default:$e(()=>[o("span",null,m(e.removeLiquidityBtnText),1)]),_:1},8,["disabled"])):(l(),J(s,{key:3,class:"big-btn liquidity-btn",onClick:t[16]||(t[16]=r=>e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[o("span",null,m(e.$t("button.connectWallet")),1)]),_:1})),e.removeLiquidityBtnDisabled?O("",!0):(l(),g("div",il,[e.removeText&&(e.isOnlyA&&Number(e.fromCoinAmount)>0||e.isOnlyB&&Number(e.toCoinAmount)>0)?(l(),g("div",ll,m(e.removeText),1)):O("",!0),o("div",al,[ul,e.calculateLoading?(l(),J(B,{key:1,paragraph:!1,active:""})):(l(),g("span",rl,m(e.totalWithdraw),1))]),o("div",dl,[vl,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),g("span",ml,m(("addCommom"in e?e.addCommom:A(q))(("sFixD"in e?e.sFixD:A(T))(e.lpAmount,e.positionInfo.decimals)))+" "+m(e.needReverse?(K=e.toCoin)==null?void 0:K.symbol:(x=e.fromCoin)==null?void 0:x.symbol)+"-"+m(e.needReverse?(Z=e.fromCoin)==null?void 0:Z.symbol:(y=e.toCoin)==null?void 0:y.symbol),1)):(l(),J(B,{key:1,paragraph:!1,active:""}))])])),e.isShowRemoveModal?(l(),J(p,{key:5,"pool-info":e.positionInfo,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,onOnClose:t[17]||(t[17]=r=>e.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):O("",!0)])}const pl=Xe(Ei,[["render",cl],["__scopeId","data-v-62179aad"]]),fl=ze({components:{AutoPoolV2Info:en,AutoPoolV2PositionRange:on,AutoPoolV2PoolComposition:tn,AutoPoolV2PoolLiquidity:sn,AutoPoolV2PoolAdd:Vi,AutoPoolV2PoolRemove:pl},setup(){const e=Ke();no();const t=bo(),V=_(()=>t),j=_(()=>e),N=oo(),P=w();Ce(()=>[j.value.positionInfoObj,N.params.id],([b,u])=>{b&&!Je(b)&&u&&(P.value=b[u],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=async()=>{console.log("重新获取数据"),e.getAutoPoolAPY(),e.getVault(N.params.id)},S=w();return Ce(()=>N.query.action,b=>{b&&(S.value=b)},{immediate:!0}),yo(()=>{e.getVault(N.params.id)}),_(()=>V.value.chainName),No(),{clickRefresh:c,currentTab:S,positionInfo:P}}});const yl={class:"auto-pool-detail-v2"},gl={class:"detail-top"},bl={class:"detail-bottom pc-detail"},hl={class:"detail-bottom-left"},kl={class:"detail-bottom-right"},_l={class:"h5-detail"};function $l(e,t,V,j,N,P){const c=On,S=en,b=on,u=tn,s=sn,B=so("AutoPoolV2PoolAdd"),p=so("AutoPoolV2PoolRemove");return l(),g("div",yl,[o("div",gl,[z(c,{"pool-info":e.positionInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"]),z(S)]),o("div",bl,[o("div",hl,[z(b),z(u),z(s)]),o("div",kl,[e.currentTab=="add"?(l(),J(B,{key:0,onChangeCurrentTab:t[0]||(t[0]=n=>e.currentTab="remove")})):(l(),J(p,{key:1,onChangeCurrentTab:t[1]||(t[1]=n=>e.currentTab="add")}))])]),o("div",_l,[e.currentTab=="add"?(l(),J(B,{key:0,onChangeCurrentTab:t[2]||(t[2]=n=>e.currentTab="remove")})):(l(),J(p,{key:1,onChangeCurrentTab:t[3]||(t[3]=n=>e.currentTab="add")})),z(b),z(u),z(s)])])}const Jl=Xe(fl,[["render",$l],["__scopeId","data-v-8f92038d"]]);export{Jl as default};
