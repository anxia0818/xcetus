import{_ as Ze}from"./back.2798c1fa.js";import{_ as _e}from"./coin-pair-name.f957a6f8.js";import{_ as xe}from"./status-block.7cadb9e0.js";import{_ as Ke,a as Qe,c as eo,b as oo}from"./add-liquidity.38a33e22.js";import{_ as no,a as io}from"./coin-select.b53f1f36.js";import{a as so,_ as ao}from"./network-tips.9ba0c7cb.js";import{a as to,u as lo,i as uo,j as ee,p as We,h as ro,f as He,g as pe,b as vo,c as mo,D as f,d as de,k as fo,l as po,s as Ge}from"./pool.ccb2d30f.js";import{p as ce}from"./precision.a7a6c57b.js";import{x as co,a as bo,b as B,r as p,q as ko,L as Io,A as Ue,y as yo,e as wo,o as k,f as w,h as n,l as F,t,s as Je,u as C,j as fe,w as ho,c as Xe,E as go,G as Co,B as So,J as Ao,p as No,m as $o}from"./entry.555960f3.js";/* empty css              */import{i as Ro}from"./import-icon.de3e6c66.js";/* empty css              */import"./c-switch.858262a0.js";import"./notifi.af1216a6.js";/* empty css              *//* empty css              */import"./img-no-Positions_2x.01c4e398.js";const Po=co({setup(){const{t:e,locale:a}=bo(),be=to(),$=B(()=>be),ke=p(20),j=p(0),Ie=p(null);let oe=p(!1);const ye=p(!1),z=p(!1),G=p("fromCoin"),ne=p(""),ie=p(""),se=p(!1),ae=p(!1),A=p(!0),r=p(""),u=p(""),te=p(!1),we=p(!1),J=B(()=>be.slippage),he=B(()=>{const o=Number(r.value)>Number(h.value),c=Number(u.value)>Number(g.value);return le.value?e("button.enterAmount"):o?e("button.insufficientBalance",{name:i.value.symbol}):c?e("button.insufficientBalance",{name:s.value.symbol}):e("newAdd.addMore")}),ge=B(()=>m.value&&!d.value&&u.value||d.value&&!m.value&&r.value?!1:!(!d.value&&!m.value&&u.value&&r.value)),Ce=B(()=>{const o=Number(r.value)>Number(h.value),c=Number(u.value)>Number(g.value);return m.value&&!d.value&&!c||d.value&&!m.value&&!o?!1:!(!m.value&&!d.value&&!o&&!c.value)}),le=B(()=>m.value&&!d.value&&!u.value||d.value&&!m.value&&!r.value?!0:!m.value&&!d.value&&(!r.value||!u.value)),U=p(""),E=p(""),V=p(""),Se=lo(),b=B(()=>Se),i=p({}),s=p({}),v=p(b.value.currentPositionInfo||{}),Ae=uo(),S=B(()=>Ae),M=yo();ko(()=>{ue()}),Io(()=>{S.value.connected||M.push("/position")});const q=B(()=>$.value.chainName?vo($.value.chainName):{}),K=async()=>{b.value.setCurrentPositionLoading(!0);const o=M.currentRoute.value.query.token||"",c=M.currentRoute.value.query.collect||"",I=M.currentRoute.value.query.pos||"";$.value.chainName==="Aptos"?o&&c&&(U.value=c,E.value=M.currentRoute.value.query.address,V.value=o,b.value.setCurrentPositionInfo(E.value,U.value,V.value,$.value.chainName),v.value=b.value.currentPositionInfo):I&&(U.value=c,E.value=M.currentRoute.value.query.address,V.value=o,b.value.setCurrentPositionInfo(E.value,U.value,V.value,$.value.chainName,I),v.value=b.value.currentPositionInfo)};Ue(()=>b.value.addressLpTokens,o=>{mo(o)||K()},{immediate:!0}),Ue(()=>b.value.currentPositionInfo,o=>{if(o){v.value=o,i.value=v.value.token_a,s.value=v.value.token_b;let c=Number(v.value.tick_lower_index),I=Number(v.value.tick_upper_index);const y=Number(v.value.current_tick_index);(v.value.maxPrice.indexOf("+")>0?"∞":v.value.maxPrice)=="∞"||y>c&&y<I?(m.value=!1,d.value=!1):y>=I?(r.value="",m.value=!0,d.value=!1):y<=c?(m.value=!1,d.value=!0,u.value=""):(m.value=!0,r.value="",d.value=!0,u.value=""),Z()}});const m=p(!1),d=p(!1),D=p({}),Q=p(),Y=p(),Z=()=>{var me;if(!v.value||!r.value&&!u.value)return;const{TickMath:o,TickUtil:c}=q.value;let I=v.value.minPrice,y=v.value.maxPrice.indexOf("+")>0?"∞":v.value.maxPrice;console.log(v.value,"positionInfo.value====>");let l=Number(v.value.tick_lower_index),O=Number(v.value.tick_upper_index);const H=Number(v.value.current_tick_index);let _,x,De=Number(I).toString(),je=v.value.maxPrice.indexOf("+")>0?"∞":Number(y);if(De=="0"&&je=="∞"?(l=Number(v.value.tick_lower_index),O=Number(v.value.tick_upper_index)):(_=o.priceToSqrtPriceX64(new f(I),i.value.decimals,s.value.decimals),x=o.priceToSqrtPriceX64(new f(y),i.value.decimals,s.value.decimals)),Q.value=l,Y.value=O,console.log(l,O,"tick_lowertick_lower"),y!=="∞"&&l>=O){m.value=!0,r.value="",d.value=!0,u.value="";return}if(y=="∞"||H>l&&H<O){console.log("0413###increase###11111"),m.value=!1,d.value=!1;let P;if(r.value||u.value){if(A.value){const Ve=new f(r.value).mul(Math.pow(10,i.value.decimals)).toString();P=new de(Ve)}else{const Ve=new f(u.value).mul(Math.pow(10,s.value.decimals)).toString();P=new de(Ve)}const{liquidityAmount:T,tokenMaxA:N,tokenMaxB:L,tokenMaxAOrigin:ze,tokenMaxBOrigin:Ye}=q.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:i.value,tokenB:s.value,lowerTick:l,upperTick:O,coinAmount:P,iscoinA:W.value?A.value:!A.value,roundUp:!0,slippage:Number(J.value)/100,curSqrtPrice:new de(v.value.current_sqrt_price)});D.value={liquidityAmount:T,tokenMaxA:N,tokenMaxB:L,tokenMaxAOrigin:ze,tokenMaxBOrigin:Ye},W.value?A.value?u.value=Number(L)>0?L:"":r.value=Number(N)>0?N:"":A.value?u.value=N:r.value=L}}else if(H>=O){if(console.log("0413###increase###22222"),r.value="",m.value=!0,d.value=!1,r.value||u.value){let P;const T=new f(u.value).mul(Math.pow(10,(me=s.value)==null?void 0:me.decimals)).toString();P=new de(T),D.value={liquidityAmount:fo(_,x,P),tokenMaxA:0,tokenMaxB:u.value}}}else if(H<=l){if(console.log("0413###increase###33333"),m.value=!1,d.value=!0,u.value="",r.value||u.value){let P;const T=new f(r.value).mul(Math.pow(10,i.value.decimals)).toString();P=new de(T),D.value={liquidityAmount:po(_,x,P),tokenMaxA:r.value,tokenMaxB:0}}}else console.log("0413###increase###4444"),m.value=!0,r.value="",d.value=!0,u.value=""};Ue(r,(o,c)=>{o&&Z(),o==""&&(u.value="")}),Ue(u,(o,c)=>{o&&Z(),o==""&&(r.value="")});const h=B(()=>S.value.assets&&i.value&&S.value.assets[i.value.address]?We(S.value.assets[i.value.address].balance,i.value.decimals):0),g=B(()=>S.value.assets&&s.value&&S.value.assets[s.value.address]?We(S.value.assets[s.value.address].balance,s.value.decimals):0),W=p(!0);function Ne(o){W.value=o}const $e=()=>{K(),j.value=0,oe.value=!0,setTimeout(()=>{oe.value=!1},1e3)},Re=()=>{const o=i.value;i.value=s.value,s.value=o,ae.value=!ae.value},Pe=o=>{var c,I,y,l;G.value=o,o==="fromCoin"?(ne.value=((c=s.value)==null?void 0:c.symbol)||"",ie.value=((I=i.value)==null?void 0:I.symbol)||""):(ne.value=((y=i.value)==null?void 0:y.symbol)||"",ie.value=((l=s.value)==null?void 0:l.symbol)||""),se.value=!0},Be=o=>{G.value==="fromCoin"?(s.value&&o.symbol.toLowerCase()===(s==null?void 0:s.value.symbol.toLowerCase())&&(s.value=null),i.value=o):(i.value&&o.symbol.toLowerCase()===(i==null?void 0:i.value.symbol.toLowerCase())&&(i.value=null),s.value=o),se.value=!1},Te=o=>{o==="fromCoin"?(A.value=!0,$.value.chainName==="Aptos"?r.value=h.value>0?i.value.symbol=="APT"?new f(Number(h.value)).sub(new f(.1)).lt(new f(0))?"0":new f(Number(h.value)).sub(new f(.1)).toString():String(h.value):"":r.value=h.value>0?i.value.symbol=="SUI"?new f(Number(h.value)).sub(new f(1e-4)).lt(new f(0))?"0":new f(Number(h.value)).sub(new f(1e-4)).toString():String(h.value):""):(A.value=!1,$.value.chainName==="Aptos"?u.value=g.value>0?s.value.symbol=="APT"?new f(Number(g.value)).sub(new f(.1)).lt(new f(0))?"0":new f(Number(g.value)).sub(new f(.1)).toString():String(g.value):"":u.value=g.value>0?s.value.symbol=="SUI"?new f(Number(g.value)).sub(new f(1e-4)).lt(new f(0))?"0":new f(Number(g.value)).sub(new f(1e-4)).toString():String(g.value):"")},qe=o=>{o==="fromCoin"?(A.value=!0,r.value=Ge(new f(Number(h.value)).div(2).toString(),i.value.decimals).toString()):(A.value=!1,u.value=Ge(new f(Number(g.value)).div(2).toString(),s.value.decimals).toString())},ue=()=>{Ie.value=setInterval(()=>{ye.value||j.value<ke.value&&(j.value+=1,j.value===ke.value&&(j.value=0))},1e3)},{setIsShowSuccess:Oe,setIsShowRejected:re,setIsShowWaiting:X,setTransactionDesc:Le,setTransactionTxid:ve,setPositiomNum:Me}=be,Fe=async()=>{var y,l,O,H,_,x,De,je,me,P;te.value=!1,z.value=!0,ve("");const o=m.value?"":`${r.value} ${(y=i.value)==null?void 0:y.symbol}`,c=d.value?"":`${u.value} ${(l=s.value)==null?void 0:l.symbol}`;Le(e("tips.increaseLiquiditySuccess",{from:R.value?c:o,and:!m.value&&!d.value?"and":"",to:R.value?o:c})),X(!0);const I=A.value;console.log(I,"===>fix_amount_a"),console.log(Q.value,"tickLower.value===>"),console.log(Y.value,"tickUpper.value,===>"),console.log("0222###increase###positionInfo###",v);try{const T=await q.value.getAddLiquidityTransactionPayload({pool:{poolAddress:v.value.poolAddress,token_a:v.value.token_a,token_b:v.value.token_b},amount:I?D.value.tokenMaxA:D.value.tokenMaxB,fix_amount_a:I,tick_lower:Q.value,tick_upper:Y.value,index:$.value.chainName==="Aptos"?v.value.index:v.value.pos_object_id,slippage:Number(J.value)/100,roundUp:!0});console.log(T,"===>payloadAdd11111");let N;if($.value.chainName==="Aptos")N=await S.value.currentWallet.signAndSubmitTransaction(T);else{const L=await S.value.currentWallet.signAndExecuteTransactionBlock(T);N=q.value.handleTx(L)}if(console.log("toAdd###tx###",N),N&&N.hash){ve(N.hash),X(!1),Oe(!0),console.log(v,"===>positionInfo");const L={title:"Add Liquidity",desc:e("tips.addLiquiditySuccessText",{from:m.value?"":`${r.value} ${(O=i.value)==null?void 0:O.symbol}`,and:!m.value&&!d.value?"and":"",to:d.value?"":`${u.value} ${(H=s.value)==null?void 0:H.symbol}`}),hash:N.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",tokenInfo:{tokena:R.value?`${(x=s.value)==null?void 0:x.symbol}`:`${(_=i.value)==null?void 0:_.symbol}`,numa:m.value?"":R.value?`- ${u.value}`:`- ${r.value}`,logoa:R.value?b.value.tokensObj&&s.value&&s.value.address&&b.value.tokensObj[s.value.address]&&b.value.tokensObj[s.value.address].logoURI:b.value.tokensObj&&i.value&&i.value.address&&b.value.tokensObj[i.value.address]&&b.value.tokensObj[i.value.address].logoURI,tokenb:R.value?`${(je=i.value)==null?void 0:je.symbol}`:`${(De=s.value)==null?void 0:De.symbol}`,numb:d.value?"":R.value?`- ${r.value}`:`- ${u.value}`,logob:R.value?b.value.tokensObj&&i.value&&i.value.address&&b.value.tokensObj[i.value.address]&&b.value.tokensObj[i.value.address].logoURI:b.value.tokensObj&&s.value&&s.value.address&&b.value.tokensObj[s.value.address]&&b.value.tokensObj[s.value.address].logoURI},text:`Deopsit ${m.value?"":`${r.value} ${(me=i.value)==null?void 0:me.symbol}`} ${!m.value&&!d.value?"and":""} ${d.value?"":`${u.value} ${(P=s.value)==null?void 0:P.symbol}`}`};$.value.chainName!=="Aptos"&&(L.res=N.res),q.value.showTransitionPending(L),await q.value.watchTransaction(L)&&setTimeout(()=>{K(),q.value.getAccount(S.value.address)},1e3),Me()}else X(!1),re(!0);r.value="",u.value="",z.value=!1}catch(T){r.value="",u.value="",console.log("addError###",T),z.value=!1,X(!1),re(!0)}},R=B(()=>{var o,c;return(c=(o=v.value)==null?void 0:o.poolInfo)==null?void 0:c.needReverse});return{halfBtnSelect:qe,showNum:ee,precision:ce,noEnterAmount:le,insufficientBalance:Ce,isDisabled:ge,prettyAmount:We,addCommom:ro,wallet:S,addLoading:z,toAdd:Fe,fromCoinBlance:h,toCoinBlance:g,storeIndex:$,showToCoinLock:d,showFromCoinLock:m,pools:b,t:e,importIcon:Ro,changeDirect:Ne,fixD:He,decimalFormat:pe,direct:W,positionInfo:v,clickRefresh:$e,refresh:oe,autoRefreshTime:ke,countdown:j,setMarketTimer:ue,marketTimer:Ie,loading:ye,slippage:J,fromCoin:i,toCoin:s,openCoinSelect:Pe,onCoinSelect:Be,existingCoins:ne,lastSelectCoin:ie,currentCoinKey:G,showCoinSelect:se,fromCoinAmount:r,toCoinAmount:u,maxBtnSelect:Te,fixedFromCoin:A,change:ae,toggle:Re,addLiquidityBtnText:he,isShowLiquidityModal:te,isShowSwapSetting:we,needReverse:R}}});const Ee=e=>(No("data-v-6e51c481"),e=e(),$o(),e),Bo={class:"increase-liquidity-container"},To={class:"back-title"},qo={class:"title"},Oo={class:"right title-right"},Lo=Ee(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Mo=Ee(()=>n("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Fo=[Mo],Do={class:"price-range"},jo={class:"price-range-header"},Uo={class:"left"},Eo={class:"right"},Vo={class:"fee"},Wo={class:"price-range-footer"},Xo={class:"select-range"},Ho={class:"range-bottom"},zo={key:0,class:"price"},Go={key:1,class:"price"},Jo={class:"price-range-block"},Ko={class:"price-item"},Qo={class:"title"},Yo={key:0,class:"price"},Zo={key:1,class:"price"},_o={key:2,class:"text"},xo={key:3,class:"text"},en={class:"price-item"},on={class:"title"},nn={key:0,class:"price"},sn={key:1,class:"price"},an={key:2,class:"text"},tn={key:3,class:"text"},ln={class:"text-block"},un={class:"note"},rn={class:"note"},vn={class:"card-item"},mn={key:0,class:"unilateral"},dn={key:0,src:Ke,alt:""},fn={key:1,src:Qe,alt:""},pn={class:"card-item"},cn={key:0,class:"unilateral"},bn={key:0,src:Ke,alt:""},kn={key:1,src:Qe,alt:""},In={class:"induction remove-liquidity-bottom"},yn={class:"item"},wn={class:"induction-text"},hn={class:"induction-value"},gn={class:"item"},Cn=Ee(()=>n("div",{class:"induction-text"},null,-1)),Sn={class:"induction-value"},An=Ee(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon-add"})],-1)),Nn={class:"loading-global"};function $n(e,a,be,$,ke,j){var u,te,we,J,he,ge,Ce,le,U,E,V,Se,b,i,s,v,Ae,S,M,q,K,m,d,D,Q,Y,Z,h,g,W,Ne,$e,Re,Pe,Be,Te,qe,ue,Oe,re,X,Le,ve,Me,Fe,R,o,c,I,y;const Ie=Ze,oe=_e,ye=xe,z=eo,G=no,ne=So,ie=so,se=io,ae=ao,A=oo,r=Ao;return k(),w("div",Bo,[n("div",To,[F(Ie),n("div",qo,[n("p",null,t(e.$t("common.increaseLiquidity")),1),n("div",Oo,[n("div",{class:"slippage-icon",onClick:a[0]||(a[0]=l=>e.isShowSwapSetting=!0)},[Lo,n("span",null,t(e.slippage)+"%",1)]),(k(),w("svg",{"aria-hidden":"true",class:Je(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:a[1]||(a[1]=(...l)=>e.clickRefresh&&e.clickRefresh(...l))},Fo,2))])])]),n("div",Do,[n("div",jo,[n("div",Uo,[F(oe,{"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b},null,8,["from-coin","to-coin"]),n("div",Eo,[n("div",Vo,t(e.positionInfo.fee*100)+"%",1)])]),F(ye,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),n("div",Wo,[n("div",Xo,[n("p",null,t(e.$t("common.selectedRange")),1),n("div",Ho,[(e.needReverse?!e.direct:e.direct)?(k(),w("div",zo," 1 "+t(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" ≈ "+t(("fixD"in e?e.fixD:C(He))((u=e.positionInfo)==null?void 0:u.currentPrice,e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.decimals))+" "+t(e.positionInfo&&e.positionInfo.token_b&&((te=e.positionInfo)==null?void 0:te.token_b.symbol)),1)):(k(),w("div",Go," 1 "+t(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" ≈ "+t(("fixD"in e?e.fixD:C(He))(1/((we=e.positionInfo)==null?void 0:we.currentPrice),e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.decimals))+" "+t(e.positionInfo&&e.positionInfo.token_a&&((J=e.positionInfo)==null?void 0:J.token_a.symbol)),1)),F(z,{direct:e.direct,"form-coin-symbol":e.needReverse?(le=(Ce=e.positionInfo)==null?void 0:Ce.token_b)==null?void 0:le.symbol:(ge=(he=e.positionInfo)==null?void 0:he.token_a)==null?void 0:ge.symbol,"to-coin-symbol":e.needReverse?(Se=(V=e.positionInfo)==null?void 0:V.token_a)==null?void 0:Se.symbol:(E=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:E.symbol,onChangeDirect:a[2]||(a[2]=l=>e.direct=l)},null,8,["direct","form-coin-symbol","to-coin-symbol"])])]),n("div",Jo,[n("div",Ko,[n("div",Qo,t(e.$t("common.minPrice")),1),(e.needReverse?!e.direct:e.direct)?(k(),w("p",Yo,t(((b=e.positionInfo)==null?void 0:b.minPrice)&&("decimalFormat"in e?e.decimalFormat:C(pe))(e.positionInfo.minPrice,6)),1)):(k(),w("p",Zo,t(e.positionInfo&&e.positionInfo.minPrice&&("decimalFormat"in e?e.decimalFormat:C(pe))(1/((i=e.positionInfo)==null?void 0:i.maxPrice),6)),1)),(e.needReverse?e.direct:!e.direct)?(k(),w("div",_o,t(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+t(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)):(k(),w("div",xo,t(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+t(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1))]),n("div",en,[n("div",on,t(e.$t("common.maxPrice")),1),(e.needReverse?!e.direct:e.direct)?(k(),w("p",nn,t(((v=(s=e.positionInfo)==null?void 0:s.maxPrice)==null?void 0:v.indexOf("+"))>0?"∞":("decimalFormat"in e?e.decimalFormat:C(pe))(e.positionInfo.maxPrice,6)),1)):(k(),w("p",sn,t(((S=(Ae=e.positionInfo)==null?void 0:Ae.maxPrice)==null?void 0:S.indexOf("+"))>0?"∞":("decimalFormat"in e?e.decimalFormat:C(pe))(1/e.positionInfo.minPrice,6)),1)),(e.needReverse?e.direct:!e.direct)?(k(),w("div",an,t(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+t(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)):(k(),w("div",tn,t(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+t(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1))])]),n("div",ln,[n("div",un,t(e.t("common.positionwillBe",{symbol:(e.needReverse?!e.direct:e.direct)?`${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol}`:`${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol}`})),1),n("div",rn,t(e.t("common.positionwillBe",{symbol:(e.needReverse?!e.direct:e.direct)?`${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol}`:`${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol}`})),1)])])]),n("div",{class:Je(e.needReverse?"card-container reverse":"card-container")},[n("div",vn,[F(G,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":a[3]||(a[3]=l=>e.fromCoinAmount=l),"has-arrow":!1,"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:a[4]||(a[4]=l=>e.maxBtnSelect("fromCoin")),onOnHalf:a[5]||(a[5]=l=>e.halfBtnSelect("fromCoin")),onOnInput:a[6]||(a[6]=l=>e.fromCoinAmount=l),onOnFocus:a[7]||(a[7]=()=>{e.fixedFromCoin=!0}),onOnSelect:a[8]||(a[8]=l=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(k(),w("div",mn,[e.storeIndex.theme=="default"?(k(),w("img",dn)):(k(),w("img",fn)),n("p",null,t(e.$t("tips.marketprice")),1)])):fe("",!0)]),n("div",pn,[F(G,{modelValue:e.toCoinAmount,"onUpdate:modelValue":a[9]||(a[9]=l=>e.toCoinAmount=l),"has-arrow":!1,"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"",onOnMax:a[10]||(a[10]=l=>e.maxBtnSelect("toCoin")),onOnHalf:a[11]||(a[11]=l=>e.halfBtnSelect("toCoin")),onOnInput:a[12]||(a[12]=l=>e.toCoinAmount=l),onOnFocus:a[13]||(a[13]=()=>{e.fixedFromCoin=!1}),onOnSelect:a[14]||(a[14]=l=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(k(),w("div",cn,[e.storeIndex.theme=="default"?(k(),w("img",bn)):(k(),w("img",kn)),n("p",null,t(e.$t("tips.marketprice")),1)])):fe("",!0)])],2),n("div",In,[n("div",yn,[n("div",wn,t(e.$t("common.liquidity")),1),n("div",hn,t(("showNum"in e?e.showNum:C(ee))(e.needReverse?e.positionInfo.amountB:e.positionInfo.amountA,e.needReverse?(m=(K=e.positionInfo)==null?void 0:K.token_b)==null?void 0:m.decimals:(q=(M=e.positionInfo)==null?void 0:M.token_a)==null?void 0:q.decimals))+" "+t(e.needReverse?(Y=(Q=e.positionInfo)==null?void 0:Q.token_b)==null?void 0:Y.symbol:(D=(d=e.positionInfo)==null?void 0:d.token_a)==null?void 0:D.symbol)+" → "+t(("showNum"in e?e.showNum:C(ee))(e.needReverse?("precision"in e?e.precision:C(ce)).plus(Number(e.positionInfo.amountB),Number(e.toCoinAmount)):("precision"in e?e.precision:C(ce)).plus(Number(e.positionInfo.amountA),Number(e.fromCoinAmount)),e.needReverse?(W=(g=e.positionInfo)==null?void 0:g.token_b)==null?void 0:W.decimals:(h=(Z=e.positionInfo)==null?void 0:Z.token_a)==null?void 0:h.decimals))+" "+t(e.needReverse?(Pe=(Re=e.positionInfo)==null?void 0:Re.token_b)==null?void 0:Pe.symbol:($e=(Ne=e.positionInfo)==null?void 0:Ne.token_a)==null?void 0:$e.symbol),1)]),n("div",gn,[Cn,n("div",Sn,t(("showNum"in e?e.showNum:C(ee))(e.needReverse?e.positionInfo.amountA:e.positionInfo.amountB,e.needReverse?(ue=(qe=e.positionInfo)==null?void 0:qe.token_a)==null?void 0:ue.decimals:(Te=(Be=e.positionInfo)==null?void 0:Be.token_b)==null?void 0:Te.decimals))+" "+t(e.needReverse?(Le=(X=e.positionInfo)==null?void 0:X.token_a)==null?void 0:Le.symbol:(re=(Oe=e.positionInfo)==null?void 0:Oe.token_b)==null?void 0:re.symbol)+" → "+t(e.needReverse?("showNum"in e?e.showNum:C(ee))(("precision"in e?e.precision:C(ce)).plus(Number(e.positionInfo.amountA),Number(e.fromCoinAmount)),(R=(Fe=e.positionInfo)==null?void 0:Fe.token_a)==null?void 0:R.decimals):("showNum"in e?e.showNum:C(ee))(("precision"in e?e.precision:C(ce)).plus(Number(e.positionInfo.amountB),Number(e.toCoinAmount)),(Me=(ve=e.positionInfo)==null?void 0:ve.token_b)==null?void 0:Me.decimals))+" "+t(e.needReverse?(y=(I=e.positionInfo)==null?void 0:I.token_a)==null?void 0:y.symbol:(c=(o=e.positionInfo)==null?void 0:o.token_b)==null?void 0:c.symbol),1)])]),F(ne,{disabled:e.wallet.connected?e.noEnterAmount||e.insufficientBalance||e.isDisabled||e.addLoading||e.addLiquidityBtnText!==e.t("newAdd.addMore"):!1,class:"big-btn",onClick:a[15]||(a[15]=l=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ho(()=>[An,n("span",null,t(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),F(ie),e.showCoinSelect?(k(),Xe(se,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:a[16]||(a[16]=l=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):fe("",!0),e.isShowSwapSetting?(k(),Xe(ae,{key:1,onOnClose:a[17]||(a[17]=l=>e.isShowSwapSetting=!1)})):fe("",!0),e.isShowLiquidityModal?(k(),Xe(A,{key:2,"is-increase":!0,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice,"current-price":e.positionInfo.currentPrice,"current-price-reverse":1/e.positionInfo.currentPrice,"pool-info":e.positionInfo,onToAdd:e.toAdd,onOnClose:a[18]||(a[18]=l=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","onToAdd"])):fe("",!0),go(n("div",Nn,[F(r)],512),[[Co,e.pools.currentPositionLoading]])])}const zn=wo(Po,[["render",$n],["__scopeId","data-v-6e51c481"]]);export{zn as default};
