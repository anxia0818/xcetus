import{_ as ce}from"./new-position-title.63cd0d59.js";import{_ as Ho}from"./token-warning.d2256cd7.js";import{_ as me}from"./status-block.884dd771.js";import{u as To,g as ve,a as q,d as $o,c as Ro,p as Yo,b as Qo,s as ao,e as no,f as pe,T as wo,C as Ko}from"./pool.72b09d47.js";import{u as qo,a as jo}from"./sha256.b0541a2e.js";import{i as yo}from"./import-icon.de3e6c66.js";import{u as No,a as Zo}from"./autoPool.e6349a18.js";import{a as _o,l as c,r as L,m as go,q as to,e as ho,s as Lo,o as R,f as Y,h as e,t as D,i as X,v as d,j as co,x as Go,u as F,p as Io,k as ko,M as xo,y as Mo,z as oe,c as so,w as mo,B as Fo,A as ee,C as zo,D as fe,L as _e,I as ge,S as ne,E as he,b as be,F as $e,G as ye,H as Ie,J as ke}from"./entry.e5b3353b.js";import{_ as Ce}from"./assets-card.ae4901b8.js";import{D as b}from"./decimal.0e8aa3f1.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./decimal.633e31ee.js";import"./back.b1f9d733.js";import"./swap-setting.da227dbc.js";/* empty css              */import"./index.8b3fdfe0.js";/* empty css              */const Se=_o({setup(){const o=qo(),n=c(()=>o),T=To(),S=c(()=>T),A=c(()=>n.value.theme),h=t=>{var l;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((l=S.value.tokensObj[t==null?void 0:t.address])==null?void 0:l.logo_url)||(A.value==="default"?yo("/image/coins/unknown.png"):yo("/image/coins/sui-unknown.png"))},p=L(!0),v=No(),g=c(()=>v),r=go(),i=L();to(()=>[g.value.positionInfoObj,r.params.id],([t,l])=>{t&&!Ro(t)&&l&&(i.value=t[l],console.log(i.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const s=c(()=>{var t;return(t=i.value)==null?void 0:t.needReverse}),u=c(()=>{var t;return(t=n.value.newTopPoolsObj[r.params.id])==null?void 0:t.tvl_in_usd});return{positionInfo:i,tvl:u,store:n,indexStore:o,needReverse:s,getCoinIcon:h,getExplorerUrl:ve,addCommom:q,decimalUi:$o,direct:p}}});const Bo=o=>(Io("data-v-b3b0f98e"),o=o(),ko(),o),Ae={class:"auto-position-info"},Pe={class:"pool-info"},we={class:"left"},Re={class:"coin-a"},Te={alt:""},qe={class:"coin-b"},Le={alt:""},Be={class:"position-name"},Ne={key:0,class:"pool-fee"},Me=Bo(()=>e("span",null,"Fee tier",-1)),Oe={class:"right"},De={class:"price-info"},Ue={class:"current-price"},je=Bo(()=>e("span",null,"Current Price",-1)),Fe={class:"coin-rate"},Ee=Bo(()=>e("div",null,[e("svg",{class:"icon icon-up","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),We=Bo(()=>e("div",null,[e("svg",{class:"icon icon-down","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Xe=[Ee,We],ze={key:0},He={key:1},Ge={class:"apy-and-tvl"},Je=Bo(()=>e("div",{class:"apy"},[e("div",{class:"apy-title"},"APY"),e("div",{class:"apy-text"},"--%")],-1)),Ve={class:"tvl"},Ye=Bo(()=>e("div",{class:"tvl-title"},"TVL",-1)),Ke={class:"tvl-text"};function Qe(o,n,T,S,A,h){var r,i,s,u,t,l,f,m,$,_,I,z,P,y,U,N,B,H,w,E,M,J,j,K,V,io,Q,vo,k,G,uo,lo,ro;const p=Ho,v=me,g=Lo("image");return R(),Y("div",Ae,[e("div",Pe,[e("div",we,[e("div",Re,[D(e("img",Te,null,512),[[g,o.needReverse?o.getCoinIcon((i=o.positionInfo)==null?void 0:i.token_b):o.getCoinIcon((r=o.positionInfo)==null?void 0:r.token_a)]]),X(p,{address:o.needReverse?(l=(t=o.positionInfo)==null?void 0:t.token_b)==null?void 0:l.address:(u=(s=o.positionInfo)==null?void 0:s.token_a)==null?void 0:u.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),e("div",qe,[D(e("img",Le,null,512),[[g,o.needReverse?o.getCoinIcon((m=o.positionInfo)==null?void 0:m.token_a):o.getCoinIcon((f=o.positionInfo)==null?void 0:f.token_b)]]),X(p,{address:o.needReverse?(z=(I=o.positionInfo)==null?void 0:I.token_a)==null?void 0:z.address:(_=($=o.positionInfo)==null?void 0:$.token_b)==null?void 0:_.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),e("div",Be,d(o.needReverse?(y=(P=o.positionInfo)==null?void 0:P.token_b)==null?void 0:y.symbol:(N=(U=o.positionInfo)==null?void 0:U.token_a)==null?void 0:N.symbol)+" "+d(o.needReverse?(H=(B=o.positionInfo)==null?void 0:B.token_a)==null?void 0:H.symbol:(E=(w=o.positionInfo)==null?void 0:w.token_b)==null?void 0:E.symbol),1),(M=o.positionInfo)!=null&&M.fee?(R(),Y("div",Ne,[Me,co(" "+d(((J=o.positionInfo)==null?void 0:J.fee)*100)+"% ",1)])):Go("",!0)]),e("div",Oe,[X(v,{"current-status":(j=o.positionInfo)==null?void 0:j.currentStatus},null,8,["current-status"])])]),e("div",De,[e("div",Ue,[e("div",null,[je,e("div",Fe,[e("div",{onClick:n[0]||(n[0]=po=>o.direct=!o.direct)},Xe)])]),(o.needReverse?!o.direct:o.direct)?(R(),Y("div",ze,[co(d(("addCommom"in o?o.addCommom:F(q))(("decimalUi"in o?o.decimalUi:F($o))((K=o.positionInfo)==null?void 0:K.price,6)))+"   ",1),e("span",null,d((io=(V=o.positionInfo)==null?void 0:V.token_b)==null?void 0:io.symbol)+" per "+d((vo=(Q=o.positionInfo)==null?void 0:Q.token_a)==null?void 0:vo.symbol),1)])):(R(),Y("div",He,[co(d(("addCommom"in o?o.addCommom:F(q))(("decimalUi"in o?o.decimalUi:F($o))(1/((k=o.positionInfo)==null?void 0:k.price),6)))+"   ",1),e("span",null,d((uo=(G=o.positionInfo)==null?void 0:G.token_a)==null?void 0:uo.symbol)+" per "+d((ro=(lo=o.positionInfo)==null?void 0:lo.token_b)==null?void 0:ro.symbol),1)]))]),e("div",Ge,[Je,e("div",Ve,[Ye,e("div",Ke,"$"+d(("addCommom"in o?o.addCommom:F(q))(o.tvl)),1)])])])])}const te=ho(Se,[["render",Qe],["__scopeId","data-v-b3b0f98e"]]),Ze=_o({setup(){const o=No(),n=c(()=>o),T=go(),S=c(()=>(console.log(n.value.positionInfoObj[T.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),n.value.positionInfoObj[T.params.id])),A=c(()=>{var h;return(h=S.value)==null?void 0:h.needReverse});return{positionInfo:S,needReverse:A,addCommom:q}}});const Jo=o=>(Io("data-v-5ba420a3"),o=o(),ko(),o),xe={class:"auto-position-liquidity"},on={class:"my-liquidity"},en={class:"left"},nn=Jo(()=>e("div",null,"My Liquidity",-1)),tn={class:"right"},sn=Jo(()=>e("div",null,"My share",-1)),ln={class:"my-liquidity-info"},an={class:"lp-info"},un={class:"lp-bg"},dn={alt:""},rn={alt:""},cn={class:"lp-num"},mn=Jo(()=>e("div",{class:"assets-pooled-title"}," Pooled Assets ",-1)),vn={class:"assets-pooled"},pn={alt:""},fn={alt:""};function _n(o,n,T,S,A,h){var v,g,r,i,s,u,t,l,f,m,$,_,I,z,P,y,U,N,B,H,w,E,M,J,j,K,V,io,Q,vo;const p=Lo("image");return R(),Y("div",xe,[e("div",on,[e("div",en,[nn,e("div",null,"$"+d(("addCommom"in o?o.addCommom:F(q))((v=o.positionInfo)==null?void 0:v.myLiquidityUSD)),1)]),e("div",tn,[sn,e("div",null,d(o.positionInfo.myShare),1)])]),e("div",ln,[e("div",an,[e("div",un,[D(e("img",dn,null,512),[[p,o.needReverse?(r=(g=o.positionInfo)==null?void 0:g.token_b)==null?void 0:r.logo_url:(s=(i=o.positionInfo)==null?void 0:i.token_a)==null?void 0:s.logo_url]]),D(e("img",rn,null,512),[[p,o.needReverse?(t=(u=o.positionInfo)==null?void 0:u.token_a)==null?void 0:t.logo_url:(f=(l=o.positionInfo)==null?void 0:l.token_b)==null?void 0:f.logo_url]])]),e("div",cn,d(("addCommom"in o?o.addCommom:F(q))((m=o.positionInfo)==null?void 0:m.myLiquidity))+"LP",1)]),mn,e("div",vn,[e("div",null,[D(e("img",pn,null,512),[[p,o.needReverse?(_=($=o.positionInfo)==null?void 0:$.token_b)==null?void 0:_.logo_url:(z=(I=o.positionInfo)==null?void 0:I.token_a)==null?void 0:z.logo_url]]),e("div",null,[e("p",null,"$"+d(("addCommom"in o?o.addCommom:F(q))((P=o.positionInfo)==null?void 0:P.myAmountAUSD)),1),e("p",null,d(("addCommom"in o?o.addCommom:F(q))((y=o.positionInfo)==null?void 0:y.amountA))+" "+d(o.needReverse?(N=(U=o.positionInfo)==null?void 0:U.token_b)==null?void 0:N.symbol:(H=(B=o.positionInfo)==null?void 0:B.token_a)==null?void 0:H.symbol),1)])]),e("div",null,[D(e("img",fn,null,512),[[p,o.needReverse?(E=(w=o.positionInfo)==null?void 0:w.token_a)==null?void 0:E.logo_url:(J=(M=o.positionInfo)==null?void 0:M.token_b)==null?void 0:J.logo_url]]),e("div",null,[e("p",null,"$"+d(("addCommom"in o?o.addCommom:F(q))((j=o.positionInfo)==null?void 0:j.myAmountBUSD)),1),e("p",null,d(("addCommom"in o?o.addCommom:F(q))((K=o.positionInfo)==null?void 0:K.amountB))+" "+d(o.needReverse?(io=(V=o.positionInfo)==null?void 0:V.token_a)==null?void 0:io.symbol:(vo=(Q=o.positionInfo)==null?void 0:Q.token_b)==null?void 0:vo.symbol),1)])])])])])}const se=ho(Ze,[["render",_n],["__scopeId","data-v-5ba420a3"]]),gn=_o({components:{Modal:xo},props:{poolInfo:{type:Object,default:()=>({})},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},totalAmount:{type:String,default:""},shareOfPool:{type:String,default:""},minimumReceivedLP:{type:String,default:""}},setup(o,n){const{t:T}=Mo(),S=c(()=>{var u,t,l;return((u=o==null?void 0:o.poolInfo)==null?void 0:u.needReverse)||((l=(t=o==null?void 0:o.poolInfo)==null?void 0:t.poolInfo)==null?void 0:l.needReverse)}),A=To(),h=c(()=>A),p=qo(),v=c(()=>p),g=u=>{var t;return(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((t=h.value.tokensObj[u==null?void 0:u.address])==null?void 0:t.logo_url)||(v.value.theme==="default"?yo("/image/coins/unknown.png"):yo("/image/coins/sui-unknown.png"))},r=go(),i=L(!1),s=()=>{n.emit("toAdd")};return console.log(o,"props451"),{needReverse:S,getCoinIcon:g,addCommom:q,t:T,route:r,checked:i,decimalUi:$o,clickSubmit:s}}});const Oo=o=>(Io("data-v-aad63c94"),o=o(),ko(),o),hn=Oo(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),bn={class:"modal-content"},$n={class:"pool-info"},yn={class:"left"},In={alt:""},kn={alt:""},Cn={class:"pool-name"},Sn={class:"right"},An={class:"coin-info"},Pn={class:"from-coin-info"},wn={class:"left"},Rn={class:"coin-amount"},Tn={class:"coin-symbol"},qn={class:"right"},Ln={class:"to-coin-info"},Bn={class:"left"},Nn={class:"coin-amount"},Mn={class:"coin-symbol"},On={class:"right"},Dn=Oo(()=>e("div",{class:"to-swap-logo"},null,-1)),Un={class:"add-info"},jn={class:"total-amount"},Fn=Oo(()=>e("span",null,"Total Amount",-1)),En={class:"total-amount"},Wn=Oo(()=>e("span",null,"Share of Pool",-1)),Xn={class:"total-amount"},zn=Oo(()=>e("span",null,"Minimum Received LP",-1));function Hn(o,n,T,S,A,h){const p=Ho,v=Fo,g=oe("Modal"),r=Lo("image");return R(),so(g,{width:"440px",visible:!0,footer:null,title:"Add Liquidity",onCancel:n[0]||(n[0]=i=>o.$emit("onClose"))},{closeIcon:mo(()=>[hn]),default:mo(()=>{var i,s,u,t,l,f,m,$,_,I,z,P,y,U,N,B,H,w,E,M,J,j,K,V;return[e("div",bn,[e("div",$n,[e("div",yn,[e("div",null,[D(e("img",In,null,512),[[r,o.needReverse?(t=(u=o.poolInfo)==null?void 0:u.token_b)==null?void 0:t.logo_url:(s=(i=o.poolInfo)==null?void 0:i.token_a)==null?void 0:s.logo_url]]),X(p,{address:o.needReverse?($=(m=o.poolInfo)==null?void 0:m.token_b)==null?void 0:$.address:(f=(l=o.poolInfo)==null?void 0:l.token_a)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",null,[D(e("img",kn,null,512),[[r,o.needReverse?(P=(z=o.poolInfo)==null?void 0:z.token_a)==null?void 0:P.logo_url:(I=(_=o.poolInfo)==null?void 0:_.token_b)==null?void 0:I.logo_url]]),X(p,{address:o.needReverse?(B=(N=o.poolInfo)==null?void 0:N.token_a)==null?void 0:B.address:(U=(y=o.poolInfo)==null?void 0:y.token_b)==null?void 0:U.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",Cn,[e("span",null,d(o.needReverse?(M=(E=o.poolInfo)==null?void 0:E.token_b)==null?void 0:M.symbol:(w=(H=o.poolInfo)==null?void 0:H.token_a)==null?void 0:w.symbol),1),co(" - "),e("span",null,d(o.needReverse?(V=(K=o.poolInfo)==null?void 0:K.token_a)==null?void 0:V.symbol:(j=(J=o.poolInfo)==null?void 0:J.token_b)==null?void 0:j.symbol),1)])]),e("div",Sn,[co(" Fee tier "),e("span",null,d(o.poolInfo&&o.poolInfo.fee*100)+"%",1)])]),e("div",An,[e("div",Pn,[e("div",wn,[e("div",Rn,d(("addCommom"in o?o.addCommom:F(q))(o.fromCoinAmount)||0),1),e("div",Tn,d(o.fromCoin&&o.fromCoin.symbol),1)]),e("div",qn,[D(e("img",null,null,512),[[r,o.fromCoin&&o.fromCoin.logoURI||o.getCoinIcon(o.fromCoin)]]),X(p,{address:o.fromCoin&&o.fromCoin.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])])]),e("div",Ln,[e("div",Bn,[e("div",Nn,d(("addCommom"in o?o.addCommom:F(q))(o.toCoinAmount)||0),1),e("div",Mn,d(o.toCoin&&o.toCoin.symbol),1)]),e("div",On,[D(e("img",null,null,512),[[r,o.toCoin&&o.toCoin.logoURI||o.getCoinIcon(o.toCoin)]]),X(p,{address:o.toCoin&&o.toCoin.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),Dn])]),e("div",Un,[e("div",jn,[Fn,e("span",null,"$"+d(("addCommom"in o?o.addCommom:F(q))(o.totalAmount)),1)]),e("div",En,[Wn,e("span",null,d(o.shareOfPool)+"%",1)]),e("div",Xn,[zn,e("span",null,d(("addCommom"in o?o.addCommom:F(q))(o.minimumReceivedLP))+" "+d(o.fromCoin.symbol)+"-"+d(o.toCoin.symbol),1)])])]),X(v,{class:"big-btn liquidity-btn",onClick:o.clickSubmit},{default:mo(()=>[co(" Add Liquidity ")]),_:1},8,["onClick"])]}),_:1})}const ie=ho(gn,[["render",Hn],["__scopeId","data-v-aad63c94"]]),Gn=_o({components:{AutoPoolAddModal:ie},setup(){const o=jo(),n=L(!1),T=qo(),S=c(()=>T),A=c(()=>S.value.chainName),h=c(()=>o),p=No(),v=c(()=>p),g=To(),r=c(()=>g),i=L(),s=go();to(()=>[v.value.positionInfoObj,s.params.id],([a,C])=>{a&&!Ro(a)&&C&&(i.value=a[C],console.log(i.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const u=c(()=>{var a;return(a=i.value)==null?void 0:a.needReverse}),t=L(),l=L();to(()=>i.value,a=>{a&&!Ro(a)&&(t.value=a==null?void 0:a.token_a,l.value=a==null?void 0:a.token_b)},{immediate:!0});const f=L(),m=L(),$=L(!0),_=c(()=>h.value.assets&&t.value&&h.value.assets[t.value.address]?Yo(h.value.assets[t.value.address].balance,t.value.decimals):0),I=c(()=>h.value.assets&&l.value&&h.value.assets[l.value.address]?Yo(h.value.assets[l.value.address].balance,l.value.decimals):0),z=a=>{a==="fromCoin"?($.value=!0,f.value=_.value>0?t.value.symbol=="SUI"?new b(Number(_.value)).sub(new b(.05)).lt(new b(0))?"0":new b(Number(_.value)).sub(new b(.05)).toString():String(_.value):""):($.value=!1,m.value=I.value>0?l.value.symbol=="SUI"?new b(Number(I.value)).sub(new b(.05)).lt(new b(0))?"0":new b(Number(I.value)).sub(new b(.05)).toString():String(I.value):"")},P=a=>{a==="fromCoin"?($.value=!0,f.value=_.value>0?ao(new b(Number(_.value)).div(2).toString(),t.value.decimals).toString():""):($.value=!1,m.value=I.value>0?ao(new b(Number(I.value)).div(2).toString(),l.value.decimals).toString():"")},y=c(()=>A.value?Qo(A.value):{}),U=c(()=>S.value.slippage),N=L("--"),B=L("--"),H=a=>{const C=new b(i.value.autoPoolPositionInfo.liquidity),O=new b(a.toString());N.value=ao(O.div(C).div(100).toString(),i.value.decimals)},w=a=>{const C=new b(a.toString());console.log(a.toString(),"##liquidityAmount.toString()");const O=C.mul(new b(U.value).div(100)),W=new b(Math.pow(10,i.value.decimals));B.value=ao(C.minus(O).div(W).toString(),i.value.decimals)},E=()=>{if(console.log(i.value,"238##"),!i.value||!f.value&&!m.value)return;const a=i.value.autoPoolPositionInfo.tick_lower_index,C=i.value.autoPoolPositionInfo.tick_upper_index;let O;if(f.value||m.value){if($.value){const x=new b(f.value).mul(Math.pow(10,t.value.decimals)).toString();O=new no(x)}else{const x=new b(m.value).mul(Math.pow(10,l.value.decimals)).toString();O=new no(x)}const{liquidityAmount:W,tokenMaxA:oo,tokenMaxB:eo,tokenMaxAOrigin:fo,tokenMaxBOrigin:Z}=y.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:t.value,tokenB:l.value,lowerTick:a,upperTick:C,coinAmount:O,iscoinA:$.value,roundUp:!0,slippage:Number(U.value)/100,curSqrtPrice:new no(i.value.current_sqrt_price)});console.log(eo.toString(),oo.toString(),i.value,"###323"),$.value?m.value=Number(eo)>0?eo:"":f.value=Number(oo)>0?oo:"",H(W),w(W)}},M=c(()=>r.value.RATES),J=c(()=>{var a,C,O,W,oo,eo,fo,Z,x,Ao;if((C=M.value[(a=t.value)==null?void 0:a.address])!=null&&C.price&&((W=M.value[(O=l.value)==null?void 0:O.address])!=null&&W.price)){console.log((eo=M.value[(oo=t.value)==null?void 0:oo.address])==null?void 0:eo.price,"RATES.value[fromCoin.value?.address]?.price");const Do=new b(f.value||0).mul(new b((Z=M.value[(fo=t.value)==null?void 0:fo.address])==null?void 0:Z.price)),Uo=new b(m.value||0).mul(new b((Ao=M.value[(x=l.value)==null?void 0:x.address])==null?void 0:Ao.price));return ao(Do.add(Uo).toString(),6)}else return"--"});to(f,(a,C)=>{a&&E(),a==""&&(N.value="--",m.value="",B.value="--")}),to(m,(a,C)=>{a&&E(),a==""&&(f.value="",N.value="--",B.value="--")});const{t:j,locale:K}=Mo(),V=c(()=>{const a=Number(f.value)>Number(_.value),C=Number(m.value)>Number(I.value);return!f.value&&!m.value?j("button.enterAmount"):a?j("button.insufficientBalance",{name:t.value.symbol}):C?j("button.insufficientBalance",{name:l.value.symbol}):"Add Liquidity"}),io=c(()=>{const a=Number(f.value)>Number(_.value),C=Number(m.value)>Number(I.value);return!!(!f.value&&!m.value||a||C)}),Q=L(!0),{setIsShowSuccess:vo,setIsShowRejected:k,setIsShowWaiting:G,setTransactionDesc:uo,setTransactionTxid:lo,setPositiomNum:ro}=T,po=Zo("Sui");return{wallet:h,positionInfo:i,isShowAddModal:n,needReverse:u,fromCoin:t,toCoin:l,fromCoinAmount:f,toCoinAmount:m,fromCoinBlance:_,toCoinBlance:I,fixedFromCoin:$,maxBtnSelect:z,halfBtnSelect:P,totalAmountUSD:J,addCommom:q,shareOfPool:N,minimumReceivedLP:B,addLiquidityBtnText:V,addLiquidityBtnDisabled:io,toAdd:async()=>{var fo,Z,x,Ao,Do,Uo;n.value=!1,Q.value=!0,lo("");const a=`${f.value} ${(fo=t.value)==null?void 0:fo.symbol}`,C=`${m.value} ${(Z=l.value)==null?void 0:Z.symbol}`;uo(j("tips.increaseLiquiditySuccess",{from:u.value?C:a,and:"and",to:u.value?a:C})),G(!0);const O=$.value,W=i.value.autoPoolPositionInfo.tick_lower_index,oo=i.value.autoPoolPositionInfo.tick_upper_index;let eo;if($.value){const bo=new b(f.value).mul(Math.pow(10,t.value.decimals)).toString();eo=new no(bo)}else{const bo=new b(m.value).mul(Math.pow(10,l.value.decimals)).toString();eo=new no(bo)}try{const bo={lowerTick:W,upperTick:oo,coinAmount:eo,fix_amount_a:O,slippage:Number(U.value)/100,curSqrtPrice:new no(i.value.current_sqrt_price),id:i.value.id,clmm_pool:i.value.autoPoolPositionInfo.pool,lp_token_type:i.value.lp_token_type,coinTypeA:i.value.autoPoolPositionInfo.coin_type_a,coinTypeB:i.value.autoPoolPositionInfo.coin_type_b},Vo=await po.deposit(bo);console.log(Vo,"===>payloadAdd11111");const re=await h.value.currentWallet.signAndExecuteTransactionBlock(Vo);let Po=y.value.handleTx(re);if(console.log("toAdd###tx###",Po),Po&&Po.hash){lo(Po.hash),G(!1),vo(!0),console.log(i,"===>positionInfo");const Xo={title:"Supplied",desc:j("tips.addLiquiditySuccessText",{from:`${f.value} ${(x=t.value)==null?void 0:x.symbol}`,and:"and",to:`${m.value} ${(Ao=l.value)==null?void 0:Ao.symbol}`}),hash:Po.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deopsit ${f.value} ${(Do=t.value)==null?void 0:Do.symbol} and ${m.value} ${(Uo=l.value)==null?void 0:Uo.symbol}`};A.value!=="Aptos"&&(Xo.res=Po.res),y.value.showTransitionPending(Xo),await y.value.watchTransaction(Xo)&&setTimeout(()=>{p.updatePositionItem(i.value.address),y.value.getAccount(h.value.address)},1e3),ro()}else G(!1),k(!0);f.value="",m.value="",Q.value=!1}catch(bo){f.value="",m.value="",console.log("addError###",bo),Q.value=!1,G(!1),k(!0)}}}}});const Eo=o=>(Io("data-v-1fdead2f"),o=o(),ko(),o),Jn={class:"auto-pool-add"},Vn={class:"auto-pool-add-content"},Yn={class:"liquidity-action-tab"},Kn=Eo(()=>e("div",{class:"increase tab-active"},"Add",-1)),Qn={class:"card-item"},Zn={class:"card-item"},xn={class:"add-info"},ot={class:"total-amount"},et=Eo(()=>e("span",null,"Total Amount",-1)),nt={class:"total-amount"},tt=Eo(()=>e("span",null,"Share of Pool",-1)),st={class:"total-amount"},it=Eo(()=>e("span",null,"Minimum Received LP",-1));function lt(o,n,T,S,A,h){var r,i;const p=Ce,v=Fo,g=ie;return R(),Y("div",Jn,[e("div",Vn,[e("div",Yn,[Kn,e("div",{class:"remove",onClick:n[0]||(n[0]=ee(s=>o.$emit("changeCurrentTab"),["stop"]))},"Remove")]),e("div",{class:zo(o.needReverse?"card-container reverse":"card-container")},[e("div",Qn,[X(p,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":n[1]||(n[1]=s=>o.fromCoinAmount=s),"input-value":o.fromCoinAmount,"coin-symbol":o.fromCoin?o.fromCoin.symbol:null,"coin-name":o.fromCoin?o.fromCoin.name:null,balance:o.fromCoinBlance,"coin-icon":o.fromCoin?o.fromCoin.logoURI:"",address:o.fromCoin?o.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[2]||(n[2]=s=>o.maxBtnSelect("fromCoin")),onOnHalf:n[3]||(n[3]=s=>o.halfBtnSelect("fromCoin")),onOnInput:n[4]||(n[4]=s=>{o.fromCoinAmount=s}),onOnFocus:n[5]||(n[5]=()=>{o.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),e("div",Zn,[X(p,{modelValue:o.toCoinAmount,"onUpdate:modelValue":n[6]||(n[6]=s=>o.toCoinAmount=s),"input-value":o.toCoinAmount,"coin-symbol":o.toCoin?o.toCoin.symbol:null,"coin-name":o.toCoin?o.toCoin.name:null,balance:o.toCoinBlance,"swap-direct":"To","coin-icon":o.toCoin?o.toCoin.logoURI:"",address:o.toCoin?o.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[7]||(n[7]=s=>o.maxBtnSelect("toCoin")),onOnHalf:n[8]||(n[8]=s=>o.halfBtnSelect("toCoin")),onOnInput:n[9]||(n[9]=s=>{o.toCoinAmount=s}),onOnFocus:n[10]||(n[10]=()=>{o.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])])],2),e("div",xn,[e("div",ot,[et,e("span",null,"$"+d(("addCommom"in o?o.addCommom:F(q))(o.totalAmountUSD)),1)]),e("div",nt,[tt,e("span",null,d(o.shareOfPool)+"%",1)]),e("div",st,[it,e("span",null,d(("addCommom"in o?o.addCommom:F(q))(o.minimumReceivedLP))+" "+d((r=o.fromCoin)==null?void 0:r.symbol)+"-"+d((i=o.toCoin)==null?void 0:i.symbol),1)])])]),o.wallet.connected?(R(),so(v,{key:0,class:"big-btn liquidity-btn",disabled:o.addLiquidityBtnDisabled,onClick:n[11]||(n[11]=s=>o.isShowAddModal=!0)},{default:mo(()=>[e("span",null,d(o.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(R(),so(v,{key:1,class:"big-btn",onClick:n[12]||(n[12]=s=>o.wallet.setIsShowWalletModal(!0))},{default:mo(()=>[e("span",null,d(o.$t("button.connectWallet")),1)]),_:1})),o.isShowAddModal?(R(),so(g,{key:2,"pool-info":o.positionInfo,"from-coin":o.positionInfo.token_a,"to-coin":o.positionInfo.token_b,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,"total-amount":o.totalAmountUSD,"share-of-pool":o.shareOfPool,"minimum-received-l-p":o.minimumReceivedLP,onOnClose:n[13]||(n[13]=s=>o.isShowAddModal=!1),onToAdd:o.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","onToAdd"])):Go("",!0)])}const le=ho(Gn,[["render",lt],["__scopeId","data-v-1fdead2f"]]),at=_o({props:{inputValue:{type:String,default:""},balance:{type:String,default:""},lpDecimals:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},inputDisabled:{type:Boolean,default:!1}},setup(o,n){const{t:T,locale:S}=Mo(),A=qo(),h=c(()=>A),p=c(()=>new b(Number(o.balance)).div(2)),v=fe(_e,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function g(){this.$emit("onSelect")}const r=_=>{const I=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${o.lpDecimals&&o.lpDecimals}})?).*$`);_.target.value=_.target.value.replace(I,"$1")},i=jo(),s=c(()=>i),u=To(),t=c(()=>u),l=c(()=>t.value.tokensWarningObj);to(()=>t.value.RATES,_=>{_&&console.log(_,"price====>")},{immediate:!0});const f=c(()=>t.value.tokensObj),m=c(()=>h.value.theme);return{route:go(),theme:m,tokensObj:f,pool:t,halfBalance:p,t:T,addCommom:q,store:h,wallet:s,indicator:v,inputChange:r,importIcon:yo,selectCoin:g,formatNumber:pe,tokensWarningObj:l,checkNullObj:Ro}}});const ae=o=>(Io("data-v-84de2193"),o=o(),ko(),o),ut={class:"card"},dt={class:"top"},rt={key:1,class:"input-div"},ct={key:0},mt={class:"left"},vt={class:"loading-token"},pt={class:"lp-bg"},ft={alt:""},_t={alt:""},gt=ae(()=>e("p",null,"LP",-1)),ht={class:"bottom"},bt=ae(()=>e("div",null,null,-1)),$t={class:"top"},yt={class:"right"},It={class:"balance"};function kt(o,n,T,S,A,h){const p=ge,v=ne,g=Lo("image");return R(),Y("div",ut,[e("div",dt,[o.inputDisabled?(R(),Y("div",rt,[o.inputValue?(R(),Y("span",ct,d(o.inputValue),1)):(R(),so(v,{key:1,indicator:o.indicator},null,8,["indicator"]))])):(R(),so(p,{key:0,value:o.inputValue=="InsufficientLiquidity"?"":o.inputValue,placeholder:"0.0",disabled:o.inputDisabled,onChange:o.inputChange,onInput:n[0]||(n[0]=r=>o.$emit("onInput",r.target.value)),onFocus:n[1]||(n[1]=r=>o.$emit("onFocus"))},null,8,["value","disabled","onChange"])),e("div",mt,[e("div",vt,[e("div",pt,[D(e("img",ft,null,512),[[g,o.fromCoin.logo_url]]),D(e("img",_t,null,512),[[g,o.toCoin.logo_url]])]),gt])])]),e("div",ht,[bt,e("div",$t,[e("div",yt,[co(d(o.$t("common.balance"))+" ",1),e("span",It,d(o.wallet.connected?("addCommom"in o?o.addCommom:F(q))(o.balance,o.lpDecimals):"0"),1)])])])])}const Ct=ho(at,[["render",kt],["__scopeId","data-v-84de2193"]]),St=_o({components:{Modal:xo},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"11111111111"},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(o,n){const{t:T}=Mo(),S=c(()=>{var u,t,l;return((u=o==null?void 0:o.poolInfo)==null?void 0:u.needReverse)||((l=(t=o==null?void 0:o.poolInfo)==null?void 0:t.poolInfo)==null?void 0:l.needReverse)}),A=To(),h=c(()=>A),p=qo(),v=c(()=>p),g=u=>{var t;return(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((t=h.value.tokensObj[u==null?void 0:u.address])==null?void 0:t.logo_url)||(v.value.theme==="default"?yo("/image/coins/unknown.png"):yo("/image/coins/sui-unknown.png"))},r=go(),i=L(!1),s=()=>{n.emit("toAdd")};return console.log(o,"props451"),{needReverse:S,getCoinIcon:g,addCommom:q,t:T,route:r,checked:i,decimalUi:$o,clickSubmit:s}}});const Co=o=>(Io("data-v-6d964534"),o=o(),ko(),o),At=Co(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Pt={class:"modal-content"},wt={class:"pool-info"},Rt={class:"left"},Tt={alt:""},qt={alt:""},Lt={class:"pool-name"},Bt={class:"right"},Nt={class:"lp-info"},Mt=Co(()=>e("div",{class:"lp-num"},[e("p",null,"1,126,122.123456"),e("span",null,"USDT-USDC LP")],-1)),Ot={class:"lp-bg"},Dt={alt:""},Ut={alt:""},jt={class:"est-receive"},Ft=Co(()=>e("div",{class:"est-receive-title"},"Estimated Receive",-1)),Et={class:"token-a"},Wt=Co(()=>e("div",null,"0.941824",-1)),Xt={alt:""},zt=Co(()=>e("span",null,"USDT",-1)),Ht={class:"token-a"},Gt=Co(()=>e("div",null,"0.941824",-1)),Jt={alt:""},Vt=Co(()=>e("span",null,"USDC",-1));function Yt(o,n,T,S,A,h){const p=Ho,v=Fo,g=oe("Modal"),r=Lo("image");return R(),so(g,{width:"440px",visible:!0,footer:null,title:"Add Liquidity",onCancel:n[0]||(n[0]=i=>o.$emit("onClose"))},{closeIcon:mo(()=>[At]),default:mo(()=>{var i,s,u,t,l,f,m,$,_,I,z,P,y,U,N,B,H,w,E,M,J,j,K,V;return[e("div",Pt,[e("div",wt,[e("div",Rt,[e("div",null,[D(e("img",Tt,null,512),[[r,o.needReverse?(t=(u=o.poolInfo)==null?void 0:u.token_b)==null?void 0:t.logo_url:(s=(i=o.poolInfo)==null?void 0:i.token_a)==null?void 0:s.logo_url]]),X(p,{address:o.needReverse?($=(m=o.poolInfo)==null?void 0:m.token_b)==null?void 0:$.address:(f=(l=o.poolInfo)==null?void 0:l.token_a)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",null,[D(e("img",qt,null,512),[[r,o.needReverse?(P=(z=o.poolInfo)==null?void 0:z.token_a)==null?void 0:P.logo_url:(I=(_=o.poolInfo)==null?void 0:_.token_b)==null?void 0:I.logo_url]]),X(p,{address:o.needReverse?(B=(N=o.poolInfo)==null?void 0:N.token_a)==null?void 0:B.address:(U=(y=o.poolInfo)==null?void 0:y.token_b)==null?void 0:U.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",Lt,[e("span",null,d(o.needReverse?(M=(E=o.poolInfo)==null?void 0:E.token_b)==null?void 0:M.symbol:(w=(H=o.poolInfo)==null?void 0:H.token_a)==null?void 0:w.symbol),1),co(" - "),e("span",null,d(o.needReverse?(V=(K=o.poolInfo)==null?void 0:K.token_a)==null?void 0:V.symbol:(j=(J=o.poolInfo)==null?void 0:J.token_b)==null?void 0:j.symbol),1)])]),e("div",Bt,[co(" Fee tier "),e("span",null,d(o.poolInfo&&o.poolInfo.fee*100)+"%",1)])]),e("div",Nt,[Mt,e("div",Ot,[D(e("img",Dt,null,512),[[r,o.needReverse?o.poolInfo.token_b.logo_url:o.poolInfo.token_a.logo_url]]),D(e("img",Ut,null,512),[[r,o.needReverse?o.poolInfo.token_a.logo_url:o.poolInfo.token_b.logo_url]])])]),e("div",jt,[Ft,e("div",Et,[Wt,e("div",null,[D(e("img",Xt,null,512),[[r,"1"]]),zt])]),e("div",Ht,[Gt,e("div",null,[D(e("img",Jt,null,512),[[r,"1"]]),Vt])])])]),X(v,{class:"big-btn liquidity-btn",onClick:o.clickSubmit},{default:mo(()=>[co(d(o.isIncrease?"Increase Liquidity":o.title==o.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["onClick"])]}),_:1})}const ue=ho(St,[["render",Yt],["__scopeId","data-v-6d964534"]]),Kt=_o({components:{AutoPoolRemoveModal:ue},setup(){const o=jo(),n=c(()=>o),T=qo(),S=c(()=>T),A=c(()=>S.value.slippage),h=c(()=>S.value.chainName),p=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],v=L(25),g=go(),r=No(),i=c(()=>r),s=c(()=>(console.log(i.value.positionInfoObj[g.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),i.value.positionInfoObj[g.params.id])),u=c(()=>{var k;return(k=s.value)==null?void 0:k.needReverse}),t=L(),l=L(),f=L(!1),m=L(),$=c(()=>s.value.myLiquidity),_=L(!0),I=c(()=>h.value?Qo(h.value):{}),z=Zo("Sui"),P=L("--"),y=L("--"),U=()=>{if(_.value||!s.value)return;if(!m.value){P.value="--",y.value="--",v.value=0;return}if(Number(m.value)>Number($.value))return;if(Number(m.value)*Math.pow(10,s.value.decimals)==Number($.value)){v.value=100,B({value:1}),_.value=!0;return}console.log($.value,"##lpBalance.value");const k=new b(m.value).mul(Math.pow(10,s.value.decimals)).toString();console.log(k.toString(),$.value,"lpBalance.value##");const G=new b(m.value).div(new b($.value)).mul(100),uo=s.value.autoPoolPositionInfo.tick_lower_index,lo=s.value.autoPoolPositionInfo.tick_upper_index,ro=s.value.token_a.decimals,po=s.value.token_b.decimals,So=wo.tickIndexToSqrtPriceX64(uo),a=wo.tickIndexToSqrtPriceX64(lo);console.log(s.value.object.current_sqrt_price,"##positionInfo.value.object.current_sqrt_price");const C=Ko.getCoinAmountFromLiquidity(new no(m.value),new no(s.value.object.current_sqrt_price),So,a,!1),O=new b(C.coinA.toString()).div(Math.pow(10,ro)).toString(),W=new b(C.coinB.toString()).div(Math.pow(10,po)).toString();P.value=Number(O)>0?O:"--",y.value=Number(W)>0?W:"--",console.log(G.toString(),"##ratio"),v.value=G.toNumber(),N.value=ao(m.value,0)},N=L(),B=k=>{if(!_.value)return;_.value=!0;const G=s.value.token_a.decimals,uo=s.value.token_b.decimals,lo=s.value.tick_lower_index,ro=s.value.tick_upper_index,po=wo.tickIndexToSqrtPriceX64(lo),So=wo.tickIndexToSqrtPriceX64(ro);let a="";console.log(s.value,"positionInfo.value.myLiquidity###"),k.value!==1?a=new b(s.value.myLiquidity).mul(k.value).toString():a=s.value.myLiquidity,a=ao(a,0)||"0",N.value=ao(a,0),m.value=a;const C=Ko.getCoinAmountFromLiquidity(new no(a),new no(s.value.object.current_sqrt_price),po,So,!1),O=new b(C.coinA.toString()).div(Math.pow(10,G)).toString(),W=new b(C.coinB.toString()).div(Math.pow(10,uo)).toString();console.log(O,W,"amountA121212"),P.value=Number(O)>0?O:"--",y.value=Number(W)>0?W:"--"};to(v,he((k,G)=>{k!==G&&(Number(k)>100?v.value=100:k&&s.value?(console.log("687===>"),v.value=k,B({value:v.value/100})):(P.value="--",y.value="--"))},300)),to(()=>m.value,k=>{U()},{immediate:!0});const H=be(),{setIsShowSuccess:w,setIsShowRejected:E,setIsShowWaiting:M,setTransactionDesc:J,setTransactionTxid:j,setPositiomNum:K,setTransactionDescText:V}=T,io=L(!1),{t:Q}=Mo(),vo=async()=>{var a,C,O,W;io.value=!0,j("");const k=q(P.value,t.value.decimals)==0?"":`${$o(P.value,t.value.decimals)} ${t.value.symbol}`,G=q(y.value,l.value.decimals)==0?"":`${$o(y.value,l.value.decimals)} ${l.value.symbol}`;J(Q("tips.removeLiquidiyText",{from:u.value?G:k,and:q(P.value,t.value.decimals)==0||q(y.value,l.value.decimals)==0?"":"and",to:u.value?k:G})),M(!0);const uo=Q("modal.removeLiquidityText2");V(uo);const lo=s.value.autoPoolPositionInfo.tick_lower_index,ro=s.value.autoPoolPositionInfo.tick_upper_index,po=wo.tickIndexToSqrtPriceX64(lo),So=wo.tickIndexToSqrtPriceX64(ro);try{const oo={lowerSqrtPrice:po,upperSqrtPrice:So,lpTokenAmount:new no(N.value),curSqrtPrice:new no(s.value.object.current_sqrt_price),slippage:A.value,id:s.value.id,clmm_pool:s.value.autoPoolPositionInfo.pool,lp_token_type:s.value.lp_token_type,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b},eo=await z.remove(oo),fo=await n.value.currentWallet.signAndExecuteTransactionBlock(eo);let Z=I.value.handleTx(fo);if(console.log("0331###remove###tx####",Z),Z&&Z.hash){j(Z.hash),M(!1),w(!0);const x={title:Q("common.removeLiquidity"),desc:"",hash:Z.hash,descTransactions:`Remove ${P.value} ${(a=t.value)==null?void 0:a.symbol} and ${y.value} ${(C=l.value)==null?void 0:C.symbol} 
             from the pool`,sender:n.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${P.value} ${(O=t.value)==null?void 0:O.symbol} and ${y.value} ${(W=l.value)==null?void 0:W.symbol}`};x.res=Z.res,I.value.showTransitionPending(x),await I.value.watchTransaction(x)&&(P.value="",y.value="",setTimeout(()=>{r.updatePositionItem(s.value.address),I.value.getAccount(n.value.address)},1e3),Number(v.value)==100&&g.name=="auto-pool-detail"&&H.push("/pool/auto"))}else M(!1),E(!0);io.value=!1}catch(oo){console.log("Remove error",oo),io.value=!1,M(!1),E(!0)}};return to(()=>s.value,k=>{k&&!Ro(k)&&(t.value=k==null?void 0:k.token_a,l.value=k==null?void 0:k.token_b,B({value:v.value/100}))},{immediate:!0}),{wallet:n,ratioArr:p,positionInfo:s,isShowRemoveModal:f,needReverse:u,fromCoin:t,toCoin:l,lpAmount:m,lpBalance:$,sliderVal:v,sFixD:ao,isSlider:_,fromCoinAmount:P,toCoinAmount:y,setPercent:B,toRemove:vo}}});const Wo=o=>(Io("data-v-759533e1"),o=o(),ko(),o),Qt={class:"auto-pool-add"},Zt={class:"auto-pool-add-content"},xt={class:"liquidity-action-tab"},os=Wo(()=>e("div",{class:"remove tab-active"},"Remove",-1)),es={class:"card-item"},ns={class:"remove-ratio"},ts=Wo(()=>e("div",{class:"remove-ratio-title"},"Amount",-1)),ss={class:"remove-ratio-select"},is={key:0,class:"ratio"},ls={key:1,class:"ratio"},as={class:"ratio-list"},us=["onClick"],ds={class:"est-receive"},rs=Wo(()=>e("div",{class:"est-receive-title"},"Estimated Receive",-1)),cs={class:"token-a"},ms={alt:""},vs={class:"token-a"},ps={alt:""},fs=Wo(()=>e("span",null,"Remove Liquidity",-1));function _s(o,n,T,S,A,h){var s,u,t,l,f,m,$,_,I,z,P,y,U,N,B,H;const p=Ct,v=Ie,g=Fo,r=ue,i=Lo("image");return R(),Y("div",Qt,[e("div",Zt,[e("div",xt,[e("div",{class:"increase",onClick:n[0]||(n[0]=ee(w=>o.$emit("changeCurrentTab"),["stop"]))},"Add"),os]),e("div",{class:zo(o.needReverse?"card-container reverse":"card-container")},[e("div",es,[X(p,{modelValue:o.lpAmount,"onUpdate:modelValue":n[1]||(n[1]=w=>o.lpAmount=w),"input-value":o.lpAmount,balance:o.lpBalance,"from-coin":o.fromCoin,"to-coin":o.toCoin,onOnInput:n[2]||(n[2]=w=>{o.isSlider=!1,o.lpAmount=w})},null,8,["modelValue","input-value","balance","from-coin","to-coin"])])],2),e("div",ns,[ts,e("div",ss,[Number(o.lpBalance)>=Number(o.lpAmount)?(R(),Y("div",is,d(o.sliderVal>0&&Number(("sFixD"in o?o.sFixD:F(ao))(o.sliderVal,2))<.01?"<0.01":("sFixD"in o?o.sFixD:F(ao))(o.sliderVal,2))+"% ",1)):(R(),Y("div",ls,"--")),e("div",as,[(R(!0),Y($e,null,ye(o.ratioArr,(w,E)=>(R(),Y("div",{key:E,class:zo(["ratio-item",o.sliderVal==w.value?"ratio-item-active":""]),onClick:()=>{o.isSlider=!0,o.sliderVal=w.value}},d(w.name),11,us))),128))])]),X(v,{value:o.sliderVal,"onUpdate:value":n[3]||(n[3]=w=>o.sliderVal=w)},null,8,["value"])]),e("div",ds,[rs,e("div",cs,[e("div",null,d(o.fromCoinAmount),1),e("div",null,[D(e("img",ms,null,512),[[i,o.needReverse?(u=(s=o.positionInfo)==null?void 0:s.token_b)==null?void 0:u.logo_url:(l=(t=o.positionInfo)==null?void 0:t.token_a)==null?void 0:l.logo_url]]),e("span",null,d(o.needReverse?(m=(f=o.positionInfo)==null?void 0:f.token_b)==null?void 0:m.symbol:(_=($=o.positionInfo)==null?void 0:$.token_a)==null?void 0:_.symbol),1)])]),e("div",vs,[e("div",null,d(o.toCoinAmount),1),e("div",null,[D(e("img",ps,null,512),[[i,o.needReverse?(z=(I=o.positionInfo)==null?void 0:I.token_a)==null?void 0:z.logo_url:(y=(P=o.positionInfo)==null?void 0:P.token_b)==null?void 0:y.logo_url]]),e("span",null,d(o.needReverse?(N=(U=o.positionInfo)==null?void 0:U.token_a)==null?void 0:N.symbol:(H=(B=o.positionInfo)==null?void 0:B.token_b)==null?void 0:H.symbol),1)])])])]),o.wallet.connected?(R(),so(g,{key:0,class:"big-btn liquidity-btn",onClick:o.toRemove},{default:mo(()=>[fs]),_:1},8,["onClick"])):(R(),so(g,{key:1,class:"big-btn",onClick:n[4]||(n[4]=w=>o.wallet.setIsShowWalletModal(!0))},{default:mo(()=>[e("span",null,d(o.$t("button.connectWallet")),1)]),_:1})),o.isShowRemoveModal?(R(),so(r,{key:2,"pool-info":o.positionInfo,"from-coin":o.positionInfo.token_a,"to-coin":o.positionInfo.token_b,onOnClose:n[5]||(n[5]=w=>o.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):Go("",!0)])}const de=ho(Kt,[["render",_s],["__scopeId","data-v-759533e1"]]),gs=_o({components:{AutoPoolAdd:le,AutoPositionInfo:te,AutoPositionLiquidity:se,AutoPoolRemove:de},setup(){const o=L("add"),n=jo(),T=c(()=>n),S=No(),A=c(()=>S),h=To(),p=c(()=>h);to(()=>p.value.poolConfigList,r=>{r&&r.length>0&&S.getAutoPoolList()},{immediate:!0}),to(()=>[T.value.address,A.value.autoPoolList],([r,i])=>{r&&i&&i.length>0&&S.getMyAutoPoolPosition()},{immediate:!0}),to(()=>[A.value.positionInfoList,p.value.RATES],(r,i)=>{r[0]&&r[0].length>0&&r[1]&&!Ro(r[1])&&(console.log("执行了吗##"),S.getUserPositionUSD())},{immediate:!0});const v=go(),g=c(()=>(console.log(A.value.positionInfoObj[v.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),A.value.positionInfoObj[v.params.id]));return{currentTab:o,positionInfo:g}}});const hs={class:"auto-increase-liquidity"},bs={class:"auto-increase-liquidity-content"},$s={class:"left"},ys={class:"right"},Is={class:"loading-global"};function ks(o,n,T,S,A,h){const p=ce,v=te,g=se,r=le,i=de,s=ne;return R(),Y("div",hs,[X(p),e("div",bs,[e("div",$s,[X(v),X(g)]),e("div",ys,[o.currentTab=="add"?(R(),so(r,{key:0,onChangeCurrentTab:n[0]||(n[0]=u=>o.currentTab="remove")})):(R(),so(i,{key:1,onChangeCurrentTab:n[1]||(n[1]=u=>o.currentTab="add")}))])]),D(e("div",Is,[X(s)],512),[[ke,!o.positionInfo]])])}const Hs=ho(gs,[["render",ks],["__scopeId","data-v-e2ffc17a"]]);export{Hs as default};
