import{_ as Js}from"./back.37bd90ea.js";import{_ as Ks}from"./apr-tips.c8aa452b.js";import{u as Qs,a as Xs,h as z,c as Q,s as Ys,t as vs,f as ms}from"./pool.433d79a1.js";import{a as xs,m as X,r as _,v as se,A as cs,b as ee,e as oe,o as v,f as i,h as a,i as Z,j as T,t as u,x as P,F as os,q as ls,s as g,Z as le,u as Y,w as ps,p as ae,k as re,B as ne}from"./entry.a1d447f2.js";/* empty css              */import{i as is}from"./import-icon.de3e6c66.js";import{p as te}from"./precision.9d58cda5.js";import{_ as hs}from"./icon_on_stats.cdf13a69.js";import{_ as fs}from"./icon-Rewards.7b56aa2d.js";const ue=xs({setup(){const o=Qs(),n=X(()=>o),_s=X(()=>n.value.tokensObj||{}),as=Xs(),R=X(()=>as),G=ee();let rs=_("big");const w=_(1),b=_(1);let y=_(!1);const e=()=>{as.getStatsData(R.value.chainName)};se(()=>{as.getStatsData(R.value.chainName);const s=document.body.clientWidth;s<750?y.value=!1:y.value=!0,window.onresize=()=>{s<750?y.value=!1:y.value=!0},y.value,ss(w.value,10),es(b.value,10)});let p=_([]);const f=X(()=>R.value.topPoolsList),h=s=>(l,t)=>{let c=l[s],d=t[s];return c-d},r=s=>(l,t)=>{let c=l[s];return t[s]-c},k=_(!1),I=_(!1),C=_(!1),A=_(!1),$=_(!0),B=_(!1),E=_(!1),U=_(!1),D=_(!1),V=_(!1),O=_(!1),H=_(!1),F=_(!1),W=_(!1),q=_(!1),j=_(!0),m=_(!1),ns=_("TVL"),ts=_(["Volume (24H)","Volume (7D)","APR"]),x=_(!1),us=_("TVL"),ds=_(["Price","Volume (24H)","Price Change"]),ks=s=>{const l=f;if(s=="tvl_in_usd"?($.value?(k.value=!k.value,l.value.sort(k.value?h(s):r(s))):l.value.sort(r(s)),I.value=!1,C.value=!1,A.value=!1,$.value=!0,B.value=!1,E.value=!1,U.value=!1):s=="vol_in_usd_24h"?(B.value?(I.value=!I.value,l.value.sort(I.value?h(s):r(s))):l.value.sort(r(s)),k.value=!1,C.value=!1,A.value=!1,$.value=!1,B.value=!0,E.value=!1,U.value=!1):s=="vol_in_usd_7_day"?(E.value?(C.value=!C.value,l.value.sort(C.value?h(s):r(s))):l.value.sort(r(s)),k.value=!1,I.value=!1,A.value=!1,$.value=!1,B.value=!1,E.value=!0,U.value=!1):s=="aprNum"&&(U.value?(A.value=!A.value,l.value.sort(A.value?h(s):r(s))):l.value.sort(r(s)),k.value=!1,I.value=!1,C.value=!1,$.value=!1,B.value=!1,E.value=!1,U.value=!0),l.value.length<10)p.value=l.value.slice(0,10);else{const t=w.value*10;p.value=l.value.slice(t-10,t)}},gs=s=>{const l=J;if(s=="price"?(F.value?(D.value=!D.value,l.value.sort(D.value?h(s):r(s))):l.value.sort(r(s)),V.value=!1,O.value=!1,H.value=!1,F.value=!0,W.value=!1,q.value=!1,j.value=!1):s=="vol_in_usd_24h"?(q.value?(O.value=!O.value,l.value.sort(O.value?h(s):r(s))):l.value.sort(r(s)),D.value=!1,V.value=!1,H.value=!1,F.value=!1,W.value=!1,q.value=!0,j.value=!1):s=="tvl_in_usd"?(j.value?(H.value=!H.value,l.value.sort(H.value?h(s):r(s))):l.value.sort(r(s)),D.value=!1,V.value=!1,O.value=!1,F.value=!1,W.value=!1,q.value=!1,j.value=!0):s=="priceHour"&&(W.value?(V.value=!V.value,l.value.sort(V.value?h(s):r(s))):l.value.sort(r(s)),D.value=!1,O.value=!1,H.value=!1,F.value=!1,W.value=!0,q.value=!1,j.value=!1),l.value.length<10)N.value=l.value.slice(0,10);else{const t=b.value*10;N.value=l.value.slice(t-10,t)}},ws=s=>{s=="label"?(x.value=!x.value,m.value=!1):s=="select"?(m.value=!m.value,x.value=!1):(m.value=!1,x.value=!1)},Ts=s=>{const l=[];l.push(ns.value),ts.value.forEach((t,c)=>{t!=s&&l.push(t)}),ts.value=l,ns.value=s,s=="TVL"?p.value.sort(r("tvl_in_usd")):s=="Volume (24H)"?p.value.sort(r("vol_in_usd_24h")):s=="Volume (7D)"?p.value.sort(r("vol_in_usd_7_day")):s=="APR"&&p.value.sort(r("aprNum"))},bs=s=>{const l=[];l.push(us.value),ds.value.forEach((t,c)=>{t!=s&&l.push(t)}),ds.value=l,us.value=s,s=="TVL"?N.value.sort(r("tvl_in_usd")):s=="Volume (24H)"?N.value.sort(r("vol_in_usd_24h")):s=="Price"?N.value.sort(r("price")):s=="Price Change"&&N.value.sort(r("priceHour"))};cs(f,()=>{y.value,ss(w.value,10)});const ss=(s,l)=>{w.value=s;const t=l*s-l;let c=l*s;c=c>f.value.length?f.value.length:c;const d=f.value;if(d.length>0){$.value&&!k.value?d.sort(ys):$.value&&k.value?d.sort(Is):B.value?I.value?d.sort(Cs):d.sort(Ls):E.value?C.value?d.sort(As):d.sort(Hs):U.value&&(A.value?d.sort($s):d.sort(Ps));const K=d.filter((M,S)=>S>=t&&S<c);p.value=K}return d},ys=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ls=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Hs=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,Ps=(s,l)=>l.aprNum-s.aprNum,Is=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Cs=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,As=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,$s=(s,l)=>s.aprNum-l.aprNum;let N=_([]);const J=X(()=>{const s=R.value.topTokensList,l=[];for(let t=0;t<s.length;t++){const c=s[t];l.push({...c,priceHour:c?Number(c.price_rate_24h.substring(0,c.price_rate_24h.length-1)):"0"})}return l});cs(J,()=>{y.value,es(b.value,10)});const es=(s,l)=>{b.value=s;const t=l*s-l;let c=l*s;c=c>J.value.length?J.value.length:c;const d=J.value;if(d.length>0){j.value&&!H.value?d.sort(Ds):j.value&&H.value?d.sort(Ns):F.value?D.value?d.sort(Ss):d.sort(Vs):W.value?V.value?d.sort(Rs):d.sort(Os):q.value&&(O.value?d.sort(Bs):d.sort(js));const K=d.filter((M,S)=>S>=t&&S<c);N.value=K}return d},Ds=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Vs=(s,l)=>l.price-s.price,Os=(s,l)=>l.priceHour-s.priceHour,js=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ns=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ss=(s,l)=>s.price-l.price,Rs=(s,l)=>s.priceHour-l.priceHour,Bs=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Es=s=>{const l=s.swap_account;return n.value.addressLpTokens&&n.value.addressLpTokens[l]&&n.value.addressLpTokens[l].rewarder_infos},Us=s=>{const l=s.swap_account;return n.value.addressLpTokens&&n.value.addressLpTokens[l]&&n.value.addressLpTokens[l].labels},Fs=s=>{if(!Q(s)&&!Q(n.value.addressLpTokens)&&!Q(n.value.tokensObj)){const l=n.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1},Ws=s=>{if(!Q(s)&&!Q(n.value.addressLpTokens)&&!Q(n.value.tokensObj)){const l=s.swap_account,t=n.value.addressLpTokens[l];let c=(t==null?void 0:t.rewarder_infos)||[];const d=[];c.forEach((M,S)=>{d.push({...M,symbol:n.value.tokensObj[M.coinAddress].symbol,rewarderApr:s.rewarder_apr[S],logoUrl:n.value.tokensObj[M.coinAddress].logoURI,rewarder_display:t[`rewarder_display${S+1}`]})});let K=[];return K=d.filter(M=>M.rewarder_display),K}},qs=(s,l)=>s&&l?Ys(te.plus(vs(s),vs(l)),2)+"%":s,Ms=s=>{let l=0;return s&&s.forEach(t=>{l+=vs(String(t))}),String(ms(String(l),2))},Zs=()=>{G&&G.push("/stats-pools")},zs=()=>{G&&G.push("/stats-tokens")},Gs=s=>{var l;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((l=n.value.tokensObj[s==null?void 0:s.address])==null?void 0:l.logo_url)||(R.value.theme==="default"?is("/image/coins/unknown.png"):is("/image/coins/sui-unknown.png"))};return{tokensObj:X(()=>n.value.tokensObj),getCoinIcon:Gs,getRewarderInfo:Es,addCommom:z,store:R,importIcon:is,topPoolsList:f,addressTokens:_s,showEcharts:rs,currentPools:w,onChangePools:ss,currentTopPoolsList:p,onChangeTokens:es,currentTokens:b,currentTopTokensList:N,topTokensList:J,router:G,isPc:y,getAprTotal:qs,getRewarderApr:Ms,toPoolsList:Zs,toTokensList:zs,changePoolsList:ks,changeTokensList:gs,tvlImprint:k,volHImprint:I,volDImprint:C,aprImprint:A,tokensPriceImprint:D,tokensPriceHImprint:V,tokensVolHImprint:O,tokensTvlImprint:H,labelToken:x,select:m,selectValue:ns,selectList:ts,reviseValue:ws,changeSort:Ts,tokenValue:us,tokensList:ds,changeSortLabel:bs,tvlImprintHighlight:$,volHImprintHighlight:B,volDImprintHighlight:E,aprImprintHighlight:U,tokensPriceImprintHighlight:F,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:q,tokensTvlImprintHighlight:j,getLabel:Us,rewardApr:Ws,getsad:e,rewardDisplay:Fs}}});const L=o=>(ae("data-v-043a599f"),o=o(),re(),o),de={class:"stats-container"},ve={class:"title"},ie={class:"top-pools-new"},_e={class:"sort-by"},ce=L(()=>a("img",{src:hs,alt:""},null,-1)),pe=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),he=[pe],fe={key:0,class:"select-item"},ke=["onClick"],ge=L(()=>a("img",{src:hs,alt:""},null,-1)),we={class:"content"},Te={class:"item"},be=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ye=[be],Le=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),He=[Le],Pe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ie=[Pe],Ce=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ae=[Ce],$e={class:"apr-hover-content"},De=L(()=>a("span",null,"Â ",-1)),Ve={class:"token"},Oe=["src"],je={key:1,class:"pool-warning"},Ne=["src"],Se={key:1,class:"pool-warning"},Re={class:"name"},Be={class:"token-name"},Ee={class:"fee-tier-top"},Ue={class:"label-all"},Fe={key:0},We={class:"tvl"},qe={class:"volume-hour"},Me={class:"volume-day"},Ze=L(()=>a("img",{src:fs,alt:""},null,-1)),ze={key:0,class:"apr-hover-content"},Ge={class:"btn-box"},Je={class:"top"},Ke={class:"token"},Qe=["src"],Xe={key:1,class:"pool-warning"},Ye=["src"],me={key:1,class:"pool-warning"},xe={class:"name"},so={class:"token-name"},eo={class:"label-all"},oo={key:0},lo={class:"fee-tier-hint"},ao={class:"middle"},ro={class:"item-pools"},no={class:"item-pools"},to={class:"item-pools"},uo=L(()=>a("img",{src:fs,alt:""},null,-1)),vo={key:0,class:"apr-hover-content"},io={class:"bottom"},_o={class:"panation"};function co(o,n,_s,as,R,G){const rs=Js,w=Ks,b=ne,y=le;return v(),i("div",de,[a("div",ve,[Z(rs),T(" "+u(o.$t("menu.pools")),1)]),a("div",ie,[a("div",_e,[a("div",null,u(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:n[0]||(n[0]=e=>o.reviseValue("select"))},[a("div",null,[T(u(o.selectValue)+" ",1),ce]),(v(),i("svg",{"aria-hidden":"true",class:P(o.select?"show-icon icon":"icon")},he,2)),o.select?(v(),i("div",fe,[(v(!0),i(os,null,ls(o.selectList,(e,p)=>(v(),i("div",{key:p,class:"select-menu-item",onClick:f=>o.changeSort(e)},[T(u(e)+" ",1),ge],8,ke))),128))])):g("",!0)])]),a("div",we,[a("div",Te,[a("span",null,u(o.$t("newAdd.pool")),1),a("span",{onClick:n[1]||(n[1]=e=>o.changePoolsList("tvl_in_usd"))},[T(u(o.$t("common.tvl"))+" ",1),(v(),i("svg",{"aria-hidden":"true",class:P(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ye,2))]),a("span",{onClick:n[2]||(n[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[T(u(o.$t("common.volume24H"))+" ",1),(v(),i("svg",{"aria-hidden":"true",class:P(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},He,2))]),a("span",{onClick:n[3]||(n[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[T(u(o.$t("newAdd.volume7D"))+" ",1),(v(),i("svg",{"aria-hidden":"true",class:P(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},Ie,2))]),a("span",{onClick:n[4]||(n[4]=e=>o.changePoolsList("aprNum"))},[T(" APR "),(v(),i("svg",{"aria-hidden":"true",class:P(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},Ae,2)),a("div",$e,[Z(w,{class:"noHover apr-hover-con"})])]),De]),(v(!0),i(os,null,ls(o.currentTopPoolsList,(e,p)=>{var f,h;return v(),i("div",{key:p,class:"item pc-item"},[a("div",Ve,[a("div",null,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_a_address]:o.addressTokens&&o.addressTokens[e.token_b_address])},null,8,Oe)):g("",!0),o.tokensObj&&o.tokensObj[e.token_a_address]&&o.tokensObj[e.token_a_address].isSelfBuilt?(v(),i("div",je)):g("",!0)]),a("div",null,[e!=null&&e.token_b_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_b_address]:o.addressTokens&&o.addressTokens[e.token_a_address])},null,8,Ne)):g("",!0),o.tokensObj&&o.tokensObj[e.token_b_address]&&o.tokensObj[e.token_b_address].isSelfBuilt?(v(),i("div",Se)):g("",!0)]),a("div",Re,[a("p",Be,u(e.token_a_reserves)+" - "+u(e.token_b_reserves),1),a("div",Ee,u((e==null?void 0:e.fee)*100)+"%",1),a("div",Ue,[(v(!0),i(os,null,ls(o.getLabel(e),(r,k)=>(v(),i("div",{key:k,class:P(["label",r])},[r!=="Native"?(v(),i("span",Fe,u(r),1)):g("",!0)],2))),128))])])]),a("div",We," $"+u(e.tvl_in_usd?("addCommom"in o?o.addCommom:Y(z))(e.tvl_in_usd,2):"--"),1),a("div",qe," $"+u(e!=null&&e.vol_in_usd_24h?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Me," $"+u(e!=null&&e.vol_in_usd_7_day?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",{class:P(["apr",((f=o.rewardApr(e))==null?void 0:f.length)>0&&o.rewardDisplay(e)?"apr-mark":""])},[Ze,T(" "+u(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((h=o.rewardApr(e))==null?void 0:h.length)!=0&&o.rewardDisplay(e)?(v(),i("div",ze,[Z(w,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):g("",!0)],2),a("div",Ge,[Z(b,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:ps(()=>[T(u(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),i(os,null,ls(o.currentTopPoolsList,(e,p)=>{var f,h;return v(),i("div",{key:p,class:"item h5-item"},[a("div",Je,[a("div",Ke,[a("div",null,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_a_address]:o.addressTokens&&o.addressTokens[e.token_b_address])},null,8,Qe)):g("",!0),o.tokensObj&&o.tokensObj[e.token_a_address]&&o.tokensObj[e.token_a_address].isSelfBuilt?(v(),i("div",Xe)):g("",!0)]),a("div",null,[e!=null&&e.token_b_address?(v(),i("img",{key:0,src:o.getCoinIcon(e.is_forward!==!1?o.addressTokens&&o.addressTokens[e.token_b_address]:o.addressTokens&&o.addressTokens[e.token_a_address])},null,8,Ye)):g("",!0),o.tokensObj&&o.tokensObj[e.token_b_address]&&o.tokensObj[e.token_b_address].isSelfBuilt?(v(),i("div",me)):g("",!0)]),a("div",xe,[a("p",so,u(e.token_a_reserves)+" - "+u(e.token_b_reserves),1),a("div",eo,[(v(!0),i(os,null,ls(o.getLabel(e),(r,k)=>(v(),i("div",{key:k,class:P(["label",r])},[r!=="Native"?(v(),i("span",oo,u(r),1)):g("",!0)],2))),128))])])]),a("div",lo,u((e==null?void 0:e.fee)*100)+"%",1)]),a("div",ao,[a("div",ro,[a("span",null,u(o.$t("common.tvl")),1),a("p",null," $"+u(e.tvl_in_usd?("addCommom"in o?o.addCommom:Y(z))(e.tvl_in_usd,2):"--"),1)]),a("div",no,[a("span",null,u(o.$t("common.volume24H")),1),a("p",null," $"+u(e!=null&&e.vol_in_usd_24h?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",to,[a("span",null,u(o.$t("newAdd.volume7D")),1),a("p",null," $"+u(e!=null&&e.vol_in_usd_7_day?("addCommom"in o?o.addCommom:Y(z))(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:P(["item-pools",((f=o.rewardApr(e))==null?void 0:f.length)>0&&o.rewardDisplay(e)?"":"apr-mark-h5"])},[a("span",null,u(o.$t("common.apr")),1),a("p",null,[uo,T(" "+u(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)]),((h=o.rewardApr(e))==null?void 0:h.length)!=0&&o.rewardDisplay(e)?(v(),i("div",vo,[Z(w,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):g("",!0)],2)]),a("div",io,[Z(b,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:ps(()=>[T(u(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",_o,[Z(y,{current:o.currentPools,"onUpdate:current":n[5]||(n[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const Ho=oe(ue,[["render",co],["__scopeId","data-v-043a599f"]]);export{Ho as default};
