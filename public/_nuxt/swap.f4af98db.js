import{_ as Zo,a as zo}from"./token-warning-modal.9690fe0e.js";import{_ as Yo,a as Go}from"./coin-select.5a57e14f.js";import{a as he,u as ye,b as ro,c as be,f as H,j as co,h as je,z as ao,_ as $e,w as to,e as Me,p as Ne,D as A,s as Le,g as ge,d as Ce}from"./pool.ba2fbf88.js";import{i as Z}from"./import-icon.de3e6c66.js";import{e as we,a as Be,a1 as mo,a2 as vo,r,m as b,A as X,o as t,f as d,i as ae,F as Te,h as o,u as L,j as W,t as a,c as P,s as k,x as ie,J as fo,S as po,p as Ae,k as Se,M as Co,l as go,K as ho,w as le,B as bo,a4 as Vo,q as io,b as lo,v as xo,z as en,a7 as Ee,D as on}from"./entry.6606c0ae.js";/* empty css              *//* empty css              */import{a as nn,_ as sn}from"./network-tips.a8d97bee.js";/* empty css              */import{u as an}from"./swapRouter.b7bd3895.js";import{_ as tn}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.edb8ca27.js";/* empty css              */import"./img-no-Positions_2x.09541c86.js";const ln=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const un=Be({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})}},setup(e){const l=mo(vo,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),p=r(!1),f=he(),S=b(()=>f),B=b(()=>S.value.slippage),m=b(()=>S.isShowRouterModal);X(()=>e,v=>{console.log(v,"==>newValue")},{immediate:!0,deep:!0});const N=ye(),I=b(()=>N),_=ro("Sui"),D=r({}),U=r({}),E=r({});return X(()=>[e.suiPreSwapdata,I.value.tokensObj],async([v,F])=>{v&&!be(v)&&F&&!be(F)&&(v.coinTypeA&&(D.value=F[v.coinTypeA]||(await _.getTokenListByCoinType([v.coinTypeA]))[0]),v.coinTypeB&&(U.value=F[v.coinTypeB]||(await _.getTokenListByCoinType([v.coinTypeB]))[0]),v.coinTypeC&&(E.value=F[v.coinTypeC]||(await _.getTokenListByCoinType([v.coinTypeC]))[0]))},{immediate:!0}),{indicator:l,rateChange:p,slippage:B,isShowRouterModal:m,indexStore:f,coinTypeA:D,coinTypeB:U,coinTypeC:E}}}),ke=e=>(Ae("data-v-4a7353fa"),e=e(),Se(),e),rn={key:0,class:"swap-info"},dn={key:0,class:"loading-swap"},cn=ke(()=>o("span",null,"Best route and price",-1)),mn={key:1,class:"swap-rate"},vn={key:0},fn=["src"],pn={key:0},Cn=["src"],gn={key:1},hn={key:0},bn=["src"],yn=["src"],wn=ke(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),An=[wn],Sn={class:"trade-info"},kn={key:0,class:"trade-block"},In=ke(()=>o("div",{class:"lebal"},"Price Impact",-1)),$n={class:"trade-block"},Nn={class:"lebal"},Tn={key:0,class:"text"},Bn={key:1,class:"trade-block"},Rn=ke(()=>o("div",{class:"lebal"},"Route",-1)),On={key:0,class:"text"},Un={key:0},Pn={key:1},_n={key:2},Dn=ke(()=>o("img",{src:ln,alt:""},null,-1));function Fn(e,l,p,f,S,B){const m=fo,N=po;return(e.fromCoinAmount||e.toCoinAmount)&&!e.insufficientLiquidity&&e.toCoinAmount>0&&e.routerPool&&e.routerPool.length>0?(t(),d("div",rn,[e.swapLoading?(t(),d("div",dn,[ae(m,{indicator:e.indicator},null,8,["indicator"]),cn])):(t(),d("div",mn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.swapLoading?(t(),d(Te,{key:0},[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(t(),d("span",gn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(t(),d("span",hn,[o("img",{src:e.toCoinUrl||("importIcon"in e?e.importIcon:L(Z))(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,bn),W(" 1 "+a(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoin.logoURI||("importIcon"in e?e.importIcon:L(Z))(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,yn),W(a(e.oneFromAmount)+" "+a(e.fromCoin.symbol),1)])):(t(),P(m,{key:1,indicator:e.indicator},null,8,["indicator"]))])):k("",!0):(t(),d("span",vn,[o("img",{src:e.fromCoin.logoURI||("importIcon"in e?e.importIcon:L(Z))(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,fn),W(" 1 "+a(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(t(),d("span",pn,[o("img",{src:e.toCoinUrl||("importIcon"in e?e.importIcon:L(Z))(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,Cn),W(a(e.oneToAmount)+" "+a(e.toCoin.symbol),1)])):(t(),P(m,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(t(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:l[0]||(l[0]=I=>e.rateChange=!e.rateChange)},An))],64)):k("",!0)])),o("div",Sn,[e.routerPool&&e.routerPool.poolAddress&&e.routerPool.poolAddress.length==1?(t(),d("div",kn,[In,e.swapLoading?(t(),P(N,{key:1,paragraph:!1,active:""})):(t(),d("div",{key:0,class:ie(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",3))])):k("",!0),o("div",$n,[o("div",Nn,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapLoading?(t(),P(N,{key:1,paragraph:!1,active:""})):(t(),d("div",Tn,a(e.fixedFromCoin?("fixD"in e?e.fixD:L(H))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:L(H))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),e.insufficientLiquidity?k("",!0):(t(),d("div",Bn,[Rn,e.swapLoading?(t(),P(N,{key:1,paragraph:!1,active:""})):(t(),d("div",{key:0,class:"text",onClick:l[1]||(l[1]=I=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[e.swapLoading?k("",!0):(t(),d("div",On,[e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeA?(t(),d("span",Un,a(e.coinTypeA.symbol)+" "+a(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?"> ":""),1)):k("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?(t(),d("span",Pn,a(e.coinTypeB.symbol)+" "+a(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?"> ":""),1)):k("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?(t(),d("span",_n,a(e.coinTypeC.symbol),1)):k("",!0)])),Dn]))]))])])):k("",!0)}const Ln=we(un,[["render",Fn],["__scopeId","data-v-4a7353fa"]]),uo={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},En={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:uo.USDT,coinB:uo.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function jn(e,l){const p=Object.values(En).filter(f=>e===f.coinA.symbol&&l===f.coinB.symbol||e===f.coinB.symbol&&l===f.coinA.symbol);return p&&p[0]||null}const Mn=Be({components:{Modal:Co},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,l){const{t:p,locale:f}=go(),S=he(),B=co();b(()=>B);const m=b(()=>{const w=jn(e.fromCoin.symbol,e.toCoin.symbol);return je(ao(e.fromCoinAmount).mul(ao(w.fee).div(100)).toString(),e.fromCoin.decimals)}),N=r(S.slippage||.5),I=r(!0),_=r(!1);function D(w){I.value=w}const U=async()=>{l.emit("to-swap")},E=ye(),v=b(()=>E),F=b(()=>v.value.tokensObj&&e.fromCoin.address&&v.value.tokensObj[e.fromCoin.address]&&v.value.tokensObj[e.fromCoin.address].logoURI),J=b(()=>v.value.tokensObj&&e.toCoin.address&&v.value.tokensObj[e.toCoin.address]&&v.value.tokensObj[e.toCoin.address].logoURI),V=he(),g=b(()=>V);return{fromCoinUrl:F,toCoinUrl:J,t:p,importIcon:Z,fixD:H,decimalFormat:je,direct:I,changeDirect:D,rateChange:_,clickNextBtn:U,slippage:N,liquidityProviderFee:m,getCoinIcon:w=>{var j;return(w==null?void 0:w.logoURI)||(w==null?void 0:w.logo_url)||((j=v.value.tokensObj[w==null?void 0:w.address])==null?void 0:j.logo_url)||(g.value.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))}}}});const Re=e=>(Ae("data-v-c39d37df"),e=e(),Se(),e),Wn=Re(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),qn={class:"swap-confirm-container"},Qn={class:"card-content"},Xn={class:"top"},Hn={class:"coin"},Jn=["src"],Kn=Re(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),Zn={class:"coin"},zn=["src"],Yn={class:"bottom"},Gn={class:"induction"},Vn={class:"item"},xn={class:"induction-text"},es={class:"induction-value induction-value-change"},os={key:0},ns={key:1},ss=Re(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),as=[ss],ts={class:"item"},is={class:"induction-text"},ls={class:"induction-value"},us={class:"item"},rs={class:"induction-text"},ds={class:"induction-value"},cs={key:0,class:"item"},ms={class:"induction-text"},vs={key:0,class:"icon","aria-hidden":"true"},fs=Re(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),ps=[fs],Cs={key:1,class:"item"},gs={class:"induction-text"},hs={class:"induction-value"};function bs(e,l,p,f,S,B){const m=bo,N=ho("Modal");return t(),P(N,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:l[2]||(l[2]=I=>e.$emit("on-close"))},{closeIcon:le(()=>[Wn]),default:le(()=>[o("div",qn,[o("div",Qn,[o("div",Xn,[o("div",Hn,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Jn),o("p",null,a(e.fromCoinAmount),1),W("    "),o("p",null,a(e.fromCoin.symbol),1)]),Kn,o("div",Zn,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,zn),o("p",null,a(e.toCoinAmount),1),W("    "),o("p",null,a(e.toCoin.symbol),1)])]),o("div",Yn,[o("div",Gn,[o("div",Vn,[o("div",xn,a(e.$t("common.rate")),1),o("div",es,[e.rateChange?(t(),d("span",ns," 1 "+a(e.toCoin.symbol)+" ≈ "+a(("fixD"in e?e.fixD:L(H))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals))+" "+a(e.fromCoin.symbol),1)):(t(),d("span",os," 1 "+a(e.fromCoin.symbol)+" ≈ "+a(("fixD"in e?e.fixD:L(H))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals))+" "+a(e.toCoin.symbol),1)),(t(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:l[0]||(l[0]=I=>e.rateChange=!e.rateChange)},as))])]),o("div",ts,[o("div",is,a(e.$t("modal.slippageTolerance")),1),o("div",ls,a(e.slippage)+"%",1)]),o("div",us,[o("div",rs,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",ds,a(e.fixedFromCoin?("fixD"in e?e.fixD:L(H))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:L(H))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(t(),d("div",cs,[o("div",ms,a(e.$t("common.priceImpact")),1),o("div",{class:ie(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[W(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(t(),d("svg",vs,ps)):k("",!0)],2)])):k("",!0),e.fee?(t(),d("div",Cs,[o("div",gs,a(e.$t("common.fee")),1),o("div",hs,a(e.formatFee)+" "+a(e.fromCoin.symbol)+" ("+a(e.fee*100)+"%) ",1)])):k("",!0)])])])]),ae(m,{class:"big-btn swap-confirm-btn",onClick:l[1]||(l[1]=I=>e.clickNextBtn())},{default:le(()=>[W(a(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const ys=we(Mn,[["render",bs],["__scopeId","data-v-c39d37df"]]);async function ws(e){const{prices:l}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return l}const As={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,l){const{$echarts:p}=Vo();let f=null,S;const B=r(!0),m=(i,s,z)=>{S={xAxis:{type:"category",boundaryGap:!1,show:!1,data:s},yAxis:{type:"value",show:!1,min:function(y){return y.min-y.min*.1},max:function(y){return y.max+y.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:v.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(y){return`<div class="chart-tip">
              <div>${y&&y[0]&&y[0].name}</div>
              <div>$${H(y&&y[0]&&y[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:v.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:v.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:i,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:v.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},S&&f.clear(),S&&f.setOption(S,!0),f.resize(),B.value=!1},N=ye(),I=b(()=>N),_=r(""),D=r(""),U=async i=>{var x,re;const s=[],z=[],y=await ws(i);_.value=y&&y.length>1&&(y[y.length-1][1]-y[0][1])/y[0][1]*100,D.value=y&&y.length>1&&y[y.length-1][1],y.forEach(O=>{s.push(O[1]);const M=to(O[0],"MD"),u=to(O[0],"HM");z.push(M+" "+u)});let ue=document.getElementById(`main${(x=e.coin)==null?void 0:x.name}`);f=p.init(ue),m(s,z,(re=e.coin)==null?void 0:re.name)},E=he(),v=b(()=>E),F=b(()=>v.value.chainName),J=b(()=>$e[F.value]);X(()=>e.id,(i,s)=>{console.log(i,s,"===>oldValue"),console.log(!B.value,"!isFirst.value"),i&&(_.value="",D.value="",setTimeout(()=>{U(i)},1e3))},{immediate:!0});const V=r(""),g=r(""),ee=r(""),w=r("");X(()=>[I.value.tokensObj,e.coin],([i,s])=>{var z,y;i&&s&&i[s.address]&&(console.log(i[s.address],"===>newValue[coin.address]"),g.value=((z=i[s.address])==null?void 0:z.labels)&&((y=i[s.address])==null?void 0:y.labels[0]),V.value=i[s.address].name,ee.value=i[s.address].symbol,w.value=i[s.address].address)},{immediate:!0,deep:!0}),X(()=>e.refresh,i=>{i&&U(e.id)});const j=b(()=>v.value.theme);return console.log(e.coin.address=="0x2::sui::SUI","0x2::sui::SUI"),{theme:j,store:E,importIcon:Z,fixD:H,config:J,price_rate_24h:_,nowPrice:D,coinName:V,coinLabels:g,coinSymbol:ee,address:w}}};const Ss=e=>(Ae("data-v-079780ad"),e=e(),Se(),e),ks={class:"token-info"},Is={class:"token-info-padding"},$s={class:"token-info-header"},Ns={class:"left"},Ts=["src","onerror"],Bs={class:"name"},Rs={class:"desc"},Os={class:"right"},Us={class:"price"},Ps={class:"token-info-footer"},_s={class:"left"},Ds={class:"address"},Fs={key:0,class:"pc-address"},Ls={key:1,class:"pc-address"},Es={class:"h5-address"},js=Ss(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Ms=[js],Ws={class:"right"},qs=["id"];function Qs(e,l,p,f,S,B){var m;return t(),d("div",ks,[o("div",Is,[o("div",$s,[o("div",Ns,[o("img",{src:p.coin.logoURI||f.importIcon(`/image/coins/${p.coin.symbol.toLowerCase()}.png`),onerror:f.theme=="default"?f.importIcon("/image/coins/unknown.png"):f.importIcon("/image/coins/sui-unknown.png")},null,8,Ts),o("div",null,[o("div",Bs,a(f.coinSymbol),1),o("div",Rs,[o("span",null,a(f.coinName)+" "+a(f.coinLabels?`(${f.coinLabels})`:""),1)])])]),o("div",Os,[o("div",Us,"$"+a(f.fixD(f.nowPrice,2)),1),f.price_rate_24h?(t(),d("div",{key:0,class:ie(f.price_rate_24h>0?"increase up":f.price_rate_24h<0?"increase down":"increase up")},a(f.price_rate_24h>0?`+ ${f.fixD(f.price_rate_24h,2)}`:f.price_rate_24h<0?+`${f.fixD(f.price_rate_24h,2)}`:`+${f.fixD(f.price_rate_24h,2)}`)+"% ",3)):k("",!0)])]),o("div",Ps,[o("div",_s,[o("div",Ds,[p.coin&&f.address!=="0x2::sui::SUI"?(t(),d("span",Fs,a(p.coin&&p.coin.address.substr(0,13))+" ... "+a(p.coin&&p.coin.address.substr(p.coin.address.length-13,13)),1)):(t(),d("span",Ls,a(p.coin&&p.coin.address),1)),o("span",Es,a(p.coin&&p.coin.address.substr(0,4))+" ... "+a(p.coin&&p.coin.address.substr(p.coin.address.length-4,4)),1),(t(),d("svg",{class:"icon","aria-hidden":"true",onClick:l[0]||(l[0]=N=>f.store.copy(p.coin&&p.coin.address))},Ms))])]),o("div",Ws,[o("div",{id:`main${(m=p.coin)==null?void 0:m.name}`,class:"main"},null,8,qs)])])])])}const Xs=we(As,[["render",Qs],["__scopeId","data-v-079780ad"]]);const Hs=Be({components:{Modal:Co},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""}},setup(e){const l=ye(),p=b(()=>l),f=r([]);return X(()=>[e.routerPool,p.value.poolConfigObj,e.routerTotalAmounts],([S,B,m])=>{if(console.log(e,"props=====>100"),S&&S.length>0&&B&&!be(B)&&m){const N=[];S.forEach(I=>{const _=m.div(I.amountIn).mul(new Me(100)).toString(),D=Ne(I.amountIn.toString(),e.fromCoin.decimals),U=Ne(I.amountOut.toString(),e.toCoin.decimals),E=I.poolAddress.map((v,F)=>{const J=B&&B[v];return console.log(I,"ele===>118"),{...J}});N.push({percent:_,...I,amountIn:D,amountOut:U,poolAddress:E})}),console.log(N,"result===>"),f.value=N}},{immediate:!0}),b(()=>{var S,B;return(B=(S=p.value)==null?void 0:S.poolInfo)==null?void 0:B.needReverse}),{routerStep:f}}}),We=e=>(Ae("data-v-4831194e"),e=e(),Se(),e),Js={class:"route-top"},Ks={class:"token-a"},Zs=["src"],zs={class:"token-num"},Ys={class:"token-symbol"},Gs={class:"token-b"},Vs={class:"token-num"},xs={class:"token-symbol"},ea=["src"],oa={class:"route-bottom"},na=We(()=>o("div",{class:"left-round"},null,-1)),sa=We(()=>o("div",{class:"right-round"},null,-1)),aa={class:"percent"},ta={class:"pool-info"},ia=["src"],la=["src"],ua={key:0,class:"icon","aria-hidden":"true"},ra=We(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),da=[ra];function ca(e,l,p,f,S,B){const m=ho("Modal");return t(),P(m,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:l[0]||(l[0]=N=>e.$emit("onClose"))},{default:le(()=>{var N,I,_,D;return[o("div",Js,[o("div",Ks,[o("img",{src:(N=e.fromCoin)==null?void 0:N.logo_url,alt:""},null,8,Zs),o("span",zs,a(e.fromCoinAmount),1),o("span",Ys,a((I=e.fromCoin)==null?void 0:I.symbol),1)]),o("div",Gs,[o("span",Vs,a(e.toCoinAmount),1),o("span",xs,a((_=e.toCoin)==null?void 0:_.symbol),1),o("img",{src:(D=e.toCoin)==null?void 0:D.logo_url,alt:""},null,8,ea)])]),o("div",oa,[na,sa,(t(!0),d(Te,null,io(e.routerStep,(U,E)=>(t(),d("div",{key:U,class:ie(["route-path",E!==0?"route-path-active":""])},[o("div",aa,[o("span",null,a(U.percent)+"%",1),o("span",null,a(U.amountOut)+" "+a(e.toCoin.symbol),1)]),(t(!0),d(Te,null,io(U.poolAddress,(v,F)=>(t(),d("div",{key:F,class:"pool-info-box"},[o("div",ta,[o("img",{class:"token-a-img",src:v.needReverse?v.coinB.logo_url:v.coinA.logo_url,alt:""},null,8,ia),o("img",{class:"token-b-img",src:v.needReverse?v.coinA.logo_url:v.coinB.logo_url,alt:""},null,8,la),o("span",null,a(v.fee*100)+"%",1)]),F!==U.poolAddress.length-1?(t(),d("svg",ua,da)):k("",!0)]))),128))],2))),128))])]}),_:1})}const ma=we(Hs,[["render",ca],["__scopeId","data-v-4831194e"]]),va=Be({setup(){const e=lo(),l=mo(vo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:p,locale:f}=go(),S=he(),B=ye(),m=b(()=>B);let N=r(!1),I=r(!1),_=r(!1),D=r(!1),U=r(!1),E=r(!1);const v=r("fromCoin"),F=r(""),J=r(""),V=r(!1),g=r(!0),ee=r(!1),w=r(!1),j=r(!1),i=r(""),s=r(""),z=r(20),y=r(0),ue=r(null),x=r(!1),re=b(()=>S.slippage),O=b(()=>S.chainName),M=b(()=>O.value?ro(O.value):{}),u=r(),c=r(),qe=b(()=>$e&&$e[O.value]&&$e[O.value].hasRouter),Qe=b(()=>B.getPoolInfoSuccess),yo=b(()=>{var n;return R.value&&((n=R.value)!=null&&n.is_pause)?"Pool Closed":!u.value||!c.value?p("modal.selectTokenModalTitle"):!qe.value&&!R.value&&Qe.value?"Pool Not Found":qe.value&&Fe.value?"Router Not Found":x.value?p("button.insufficientLiquidity"):!Number(i.value)||Number(i.value)==0||Number(s.value)==0?p("button.enterAmount"):Number(i.value)>Number(Q.value)?p("button.insufficientBalance",{name:u.value.symbol}):p("button.swap")}),wo=n=>{var C,h,T,$;v.value=n,n==="fromCoin"?(F.value=((C=c.value)==null?void 0:C.address)||"",J.value=((h=u.value)==null?void 0:h.address)||""):(F.value=((T=u.value)==null?void 0:T.address)||"",J.value=(($=c.value)==null?void 0:$.address)||""),V.value=!0},Oe=r({}),Ue=r({}),Ao=n=>{v.value==="fromCoin"?(Oe.value=n,Pe(n)):(Ue.value=n,Pe(n))},So=n=>{n==="fromCoin"?(g.value=!0,O.value==="Aptos"?i.value=Q.value>0?u.value.symbol=="APT"?new A(Number(Q.value)).sub(new A(.1)).lt(new A(0))?"0":new A(Number(Q.value)).sub(new A(.1)).toString():String(Q.value):"":i.value=Q.value>0?u.value.symbol=="SUI"?new A(Number(Q.value)).sub(new A(.05)).lt(new A(0))?"0":new A(Number(Q.value)).sub(new A(.05)).toString():String(Q.value):""):(g.value=!1,O.value==="Aptos"?s.value=K.value>0?c.value.symbol=="APT"?new A(Number(K.value)).sub(new A(.1)).lt(new A(0))?"0":new A(Number(K.value)).sub(new A(.1)).toString():String(K.value):"":s.value=K.value>0?c.value.symbol=="SUI"?new A(Number(K.value)).sub(new A(.05)).lt(new A(0))?"0":new A(Number(K.value)).sub(new A(.05)).toString():String(K.value):"")},ko=n=>{n==="fromCoin"?(g.value=!0,i.value=Q.value>0?Le(new A(Number(Q.value)).div(2).toString(),u.value.decimals).toString():""):(g.value=!1,s.value=K.value>0?Le(new A(Number(K.value)).div(2).toString(),c.value.decimals).toString():"")};xo(()=>{Xe()}),en(()=>{clearInterval(ue.value)});const Io=b(()=>S),$o=()=>{R.value&&(clearInterval(ue.value),y.value=0,I.value=!0,B.updateCurrentPools(R.value.poolAddress,O.value),de(g.value?i.value:s.value),S.getStatsData(O.value,Io.value.filterCoinsObj),setTimeout(()=>{I.value=!1,Xe()},1e3))},No=()=>{const n=u.value;u.value=c.value,c.value=n,N.value=!0,g.value=!g.value,g.value?(i.value=s.value,s.value=""):(s.value=i.value,i.value=""),setTimeout(()=>{N.value=!1},300)},Xe=()=>{ue.value=setInterval(()=>{I.value=!1,ee.value||y.value<z.value&&(y.value+=1,y.value===z.value&&(R.value&&R.value.poolAddress&&B.updateCurrentPools(R.value.poolAddress,O.value),y.value=0,I.value=!0))},1e3)};X(g,Ee((n,C)=>{g.value=n},500));const He=r(!1);X(i,Ee((n,C)=>{n&&g.value&&de(n),n==""&&g.value&&(s.value="")},500)),X(s,Ee((n,C)=>{n&&!g.value&&de(n),n==""&&!g.value&&(i.value="")},500));const Je=r(1e-4),To=n=>{if(console.log(n,"poolInfo====>"),n.current_sqrt_price&&i.value&&s.value){const h=(u.value.address===n.coinA.address&&c.value.address===n.coinB.address?0:1)==0,T=new A(i.value),$=new A(s.value),q=T.sub(T.mul(new A(n.fee)).div(100));console.log("getImpact###fAmount####",T.toString()),console.log("getImpact###tAmount####",$.toString()),console.log("getImpact###f####",q.toString());const oe=$.div(q);return console.log("getImpact####rates####",oe.toString()),M.value.getPriceImpactPct(n,oe.toString(),h)}return 1e-4},Ke=r(0),Ze=r(0),Bo=r(),Y=r({}),Ro=async n=>{if(R.value&&(console.log(Number(i.value)==0,"===>Number(fromCoinAmount.value)==0"),!(g.value&&Number(i.value)==0)&&!(!g.value&&Number(s.value)==0)))if(u.value&&c.value&&(i.value||s.value)){w.value=!0,j.value=!0,He.value=!0,x.value=!1;const C=u.value.address===R.value.coinA.address&&c.value.address===R.value.coinB.address?0:1;console.log(R.value,"poolInfo=====>451"),console.log(g.value?i.value:s.value,"fixedFromCoin.value ? fromCoinAmount.value : toCoinAmount.value"),console.log(C,"===>direct");try{let h=await M.value.preSwap({pool:R.value,a2b:C==0,byAmountIn:g.value,amount:g.value?i.value:s.value});console.log(h,"preSwapRespreSwapRes"),x.value=h==null?void 0:h.isExceed,Bo.value=h==null?void 0:h.estimatedFeeAmount,g.value?(s.value=h.estimatedAmountOut,U.value?ve.value=(n/Number(h.estimatedAmountOut)).toString():fe.value=(Number(h.estimatedAmountOut)/n).toString()):(i.value=h.estimatedAmountIn,U.value?ve.value=(Number(h.estimatedAmountIn)/n).toString():fe.value=(n/Number(h.estimatedAmountIn)).toString()),Ke.value=new A(s.value).div(i.value).toString(),Ze.value=new A(i.value).div(s.value).toString(),Je.value=To(Y.value||R.value),w.value=!1,j.value=!1}catch(h){console.log("pre swap error",h),w.value=!1,j.value=!1}}else g.value?s.value="":i.value="",w.value=!1,j.value=!1},Oo=co(),G=b(()=>Oo),Uo=r({}),ve=r(""),fe=r("");X(N,()=>{ve.value="",fe.value="",g.value?de(i.value):de(s.value)});const Q=b(()=>G.value.assets&&u.value&&G.value.assets[u.value.address]?Ne(G.value.assets[u.value.address].balance,u.value.decimals):0),K=b(()=>G.value.assets&&c.value&&G.value.assets[c.value.address]?Ne(G.value.assets[c.value.address].balance,c.value.decimals):0),Po=lo();X(()=>m.value.tokensObj,async n=>{if(!be(n)){console.log(n,"===>newValue626"),console.log(Po,"===>route625");const C=e?e.currentRoute.value.query.to:"",h=e?e.currentRoute.value.query.from:"";h?u.value=await M.value.getTokenBySymbol(n,h):!h&&!u.value&&(u.value=await M.value.getTokenBySymbol(n,S.chainName==="Aptos"?"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75::coin::CetusUSDC":"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdc::USDC"),console.log(u.value,"===>fromCoin.value")),C?c.value=await M.value.getTokenBySymbol(n,C):!C&&!c.value&&(c.value=await M.value.getTokenBySymbol(n,S.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdt::USDT")),!h&&C&&(u.value="")}},{immediate:!0});const R=b(()=>{var n;if(u.value&&c.value){let C=null;const h={};Object.values(m.value.poolConfigList).forEach($=>{var q,oe,ce,pe;($.coinA.address.toUpperCase()===((q=u.value.address)==null?void 0:q.toUpperCase())&&$.coinB.address.toUpperCase()===((oe=c.value.address)==null?void 0:oe.toUpperCase())||$.coinB.address.toUpperCase()===((ce=u.value.address)==null?void 0:ce.toUpperCase())&&$.coinA.address.toUpperCase()===((pe=c.value.address)==null?void 0:pe.toUpperCase()))&&(h[$.address]={...$})});const T=Object.values(h).sort(($,q)=>$.fee-q.fee);console.log("0507####swap###poolInfo###poolSortList###",T);for(let $=0;$<T.length;$++)if(!((n=T[$])!=null&&n.is_pause)){C=T[$];break}return console.log("0507####swap###poolInfo###info###",C),C&&!be(C)?C:null}return null}),ze=r(!0),Ye=r(!1),_o=async n=>{n&&(de(g.value?i.value:s.value),Ye.value=!0,n.coinA.symbol.toLowerCase()===u.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===c.value.symbol.toLowerCase()?ze.value=!0:ze.value=!1,x.value=!1)};X(()=>R.value,(n,C)=>{n&&(!C||n.address!==C.address||n.current_sqrt_price!==C.current_sqrt_price)&&_o(n)},{immediate:!0,deep:!0});const Do=b(()=>m.value.tokensObj&&u.value&&u.value.address&&m.value.tokensObj[u.value.address]&&m.value.tokensObj[u.value.address].logoURI),Fo=b(()=>(console.log(m.value.tokensObj,"===>pools.value.tokensObj"),m.value.tokensObj&&c.value&&c.value.address&&m.value.tokensObj[c.value.address]&&m.value.tokensObj[c.value.address].logoURI)),Lo=b(()=>m.value.tokensObj&&u.value&&u.value.address&&m.value.tokensObj[u.value.address]&&m.value.tokensObj[u.value.address].coingecko_id||null),Eo=b(()=>m.value.tokensObj&&c.value&&c.value.address&&m.value.tokensObj[c.value.address]&&m.value.tokensObj[c.value.address].coingecko_id||null),jo=b(()=>{var T,$,q;const n=new A(i.value);console.log(Y.value,"===>toAddLiquidiPoolInfo"),console.log((T=Y==null?void 0:Y.value)==null?void 0:T.fee,"toAddLiquidiPoolInfo?.value?.fee");const C=new A(O.value=="Aptos"?($=R==null?void 0:R.value)==null?void 0:$.fee:(q=Y==null?void 0:Y.value)==null?void 0:q.fee),h=n.mul(C).toString();return console.log(h,"===>fee"),Number(h)<1/Math.pow(10,u.value.decimals)?`<${new A(1).div(new A(Math.pow(10,u.value.decimals))).toString()}`:Le(h,u.value.decimals)}),{setIsShowSuccess:Mo,setIsShowRejected:Ge,setIsShowWaiting:Ie,setTransactionDesc:Wo,setTransactionTxid:Ve}=S,qo=async()=>{var C,h,T,$,q,oe,ce,pe;E.value=!1,w.value=!0,Ve(""),Wo(p("tips.swapping",{from:`${i.value} ${(C=u.value)==null?void 0:C.symbol}`,to:`${s.value} ${(h=c.value)==null?void 0:h.symbol}`})),Ie(!0);let n=u.value.address===R.value.token_a.address&&c.value.address===R.value.token_b.address?0:1;try{console.log("0221####swap start####",O.value,"###",M),console.log("0412###toSwap###poolInfo.value###",R.value);let ne;O.value=="Aptos"?ne=await M.value.getSwapTransactionPayload({pool:R.value,a2b:n==0,byAmountIn:g.value,amount:g.value?i.value:s.value,slippage:Number(re.value)/100}):(console.log(Y.value,"===>toAddLiquidiPoolInfo.value"),ne=await De.value.swapRouterContract.getSwapRouterPayload(g.value)),console.log("0221####swap###swapPayload###",ne);let se;if(O.value==="Aptos")se=await G.value.currentWallet.signAndSubmitTransaction(ne);else{console.log("0221###swap###sui##signAndExecuteTransaction前###",O.value,"###swapPayload###",ne);const me=await G.value.currentWallet.signAndExecuteTransactionBlock(ne);console.log("0221###sui swap res###",me),se=M.value.handleTx(me),console.log("0221###swap###sui##tx###",se)}if(se&&se.hash){Ve(se.hash),Ie(!1),Mo(!0);const me={title:p("tips.swap"),desc:p("tips.swapSuccessText",{from:`${i.value} ${(T=u.value)==null?void 0:T.symbol}`,to:`${s.value} ${($=c.value)==null?void 0:$.symbol}`}),hash:se.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(q=u.value)==null?void 0:q.address}`,numa:`- ${i.value}`,logoa:m.value.tokensObj&&u.value&&u.value.address&&m.value.tokensObj[u.value.address]&&m.value.tokensObj[u.value.address].logoURI,tokenb:`${(oe=c.value)==null?void 0:oe.address}`,numb:`+ ${s.value}`,logob:m.value.tokensObj&&c.value&&c.value.address&&m.value.tokensObj[c.value.address]&&m.value.tokensObj[c.value.address].logoURI},text:`Pay ${i.value} ${(ce=u.value)==null?void 0:ce.symbol} to receive ${s.value} ${(pe=c.value)==null?void 0:pe.symbol}`};O.value!=="Aptos"&&(me.res=se.res),M.value.showTransitionPending(me);const so=await M.value.watchTransaction(me);console.log("0221###swap###transitionStatus####",so),so&&setTimeout(()=>{B.updateCurrentPools(R.value.poolAddress,O.value),M.value.getAccount(G.value.address)},1e3)}else Ie(!1),Ge(!0);i.value="",s.value="",w.value=!1}catch(ne){i.value="",s.value="",console.log("Swap Error###",ne),w.value=!1,Ie(!1),Ge(!0)}},Qo=n=>{var C;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((C=m.value.tokensObj[n==null?void 0:n.address])==null?void 0:C.logo_url)||(S.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))},Pe=n=>{console.log(v.value,"===>currentCoinKey.value"),console.log(n);const C=localStorage.getItem(n.address);console.log(m.value.tokensObj,"===>pools.value.tokensObj"),console.log(C,"===>coinLocak"),m.value.tokensObj&&m.value.tokensObj[n.address]&&m.value.tokensObj[n.address].isSelfBuilt&&!C?_e.value=!0:(v.value==="fromCoin"?(i.value="",c.value&&n.address.toLowerCase()===(c==null?void 0:c.value.address.toLowerCase())&&(c.value=null),u.value=n):(u.value&&(s.value="",n.address.toLowerCase()===(u==null?void 0:u.value.address.toLowerCase())&&(u.value=null)),c.value=n),xe())},_e=r(!1),xe=()=>{Ue.value={},Oe.value={},_e.value=!1},Xo=b(()=>S.isShowRouterModal),eo=r([]),oo=r(""),Ho=r(!1),Jo=an(),De=b(()=>Jo),Fe=r(!1),no=r({}),Ko=async n=>{if(u.value&&c.value&&(i.value||s.value)){(!i.value&&s.value||i.value&&!s.value)&&(w.value=!0);try{let C;if(g.value){const $=new A(i.value).mul(Math.pow(10,u.value.decimals)).toString();C=new Me($)}else{const $=new A(s.value).mul(Math.pow(10,c.value.decimals)).toString();C=new Me($)}const h=Number(re.value)/100;console.log(De.value,"===>swapRouterContract.value");const T=await De.value.swapRouterContract.getSwapRouter(u,c,C,g.value,h,"");T?(no.value=T,eo.value=T.paths,x.value=T.isExceed,oo.value=T.amountIn,console.log(T,"===> swapRouter"),g.value?s.value=T.maxAmountOut:i.value=T.maxAmountOut,ve.value=ge(Number(i.value)/Number(s.value),u.value.decimals),fe.value=ge(Number(s.value)/Number(i.value),c.value.decimals),w.value=!1,Fe.value=!1):(w.value=!1,Fe.value=!0)}catch(C){console.log("pre swap error",C),w.value=!1}}else g.value?s.value="":i.value="",w.value=!1;console.log(w.value,"====>routerSwaping")},de=async n=>{O.value=="Aptos"?Ro(n):Ko()};return{closeTokenWarning:xe,isShowTokenWarning:_e,getTokenSource:Pe,hasPool:Ye,getPoolInfoSuccess:Qe,halfBtnSelect:ko,formCoinId:Lo,toCoinId:Eo,fromCoinUrl:Do,toCoinUrl:Fo,t:p,indicator:l,wallet:G,currentLpInfo:Uo,fixD:H,decimalFormat:je,impact:Je,oneFromAmount:ve,oneToAmount:fe,importIcon:Z,clickExchange:No,clickRefresh:$o,refresh:I,change:N,isShowAddress:_,isShowSwapSetting:D,fromCoin:u,toCoin:c,slippage:re,openCoinSelect:wo,onCoinSelect:Ao,existingCoins:F,lastSelectCoin:J,currentCoinKey:v,showCoinSelect:V,fromCoinAmount:i,toCoinAmount:s,maxBtnSelect:So,fixedFromCoin:g,swapBtnText:yo,toSwap:qo,loading:ee,swaping:w,autoRefreshTime:z,countdown:y,marketTimer:ue,rateChange:U,isSwapConfirmMpdal:E,fromCoinBlance:Q,toCoinBlance:K,poolInfo:R,chainName:O,swapRouterLoading:He,formatFee:jo,calculating:j,currentRate:Ke,currentRateReverse:Ze,getCoinIcon:Qo,toAddLiquidiPoolInfo:Y,decimalUi:ge,warningToCoin:Ue,warningFromCoin:Oe,isShowRouterModal:Xo,toSwapLoading:Ho,insufficientLiquidity:x,routerPool:eo,routerTotalAmounts:oo,store:S,suiPreSwapdata:no}}}),fa="data:image/png;base64,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";const te=e=>(Ae("data-v-ea7e71a9"),e=e(),Se(),e),pa={class:"swap-container"},Ca={class:"title"},ga={class:"left"},ha={class:"right title-right"},ba=te(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),ya={class:"swap-card"},wa={class:"card-container"},Aa={class:"card-item"},Sa={class:"card-item"},ka=te(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),Ia=[ka],$a={key:1,class:"induction"},Na={key:0,class:"exchange-rate-btn"},Ta={key:0},Ba=["src"],Ra={key:0},Oa=["src"],Ua={key:0},Pa={key:1},_a={key:0},Da=["src"],Fa=["src"],La=te(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Ea=[La],ja={class:"item"},Ma={class:"induction-text"},Wa={key:0,class:"icon","aria-hidden":"true"},qa=te(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Qa=[qa],Xa={class:"item"},Ha={class:"induction-text"},Ja={key:0,class:"induction-value"},Ka={class:"item"},Za={class:"induction-text"},za={key:0,class:"induction-value"},Ya={key:0,class:"icon","aria-hidden":"true"},Ga=te(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Va=[Ga],xa={key:3,class:"token-info-container"},et={class:"token-info-title"},ot=te(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),nt=te(()=>o("img",{src:fa,alt:""},null,-1)),st=te(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function at(e,l,p,f,S,B){var j,i;const m=Zo,N=Yo,I=Ln,_=fo,D=po,U=bo,E=nn,v=Go,F=sn,J=ys,V=on,g=Xs,ee=zo,w=ma;return t(),d("div",pa,[o("div",Ca,[o("div",ga,a(e.$t("menu.swap")),1),o("div",ha,[o("div",{class:"slippage-icon",onClick:l[0]||(l[0]=s=>e.isShowSwapSetting=!0)},[ba,o("span",null,a(e.slippage)+"%",1)]),ae(m,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",ya,[o("div",wa,[o("div",Aa,[ae(N,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":l[1]||(l[1]=s=>e.fromCoinAmount=s),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:l[2]||(l[2]=s=>e.maxBtnSelect("fromCoin")),onOnHalf:l[3]||(l[3]=s=>e.halfBtnSelect("fromCoin")),onOnInput:l[4]||(l[4]=s=>{e.fromCoinAmount=s,e.fixedFromCoin=!0}),onOnSelect:l[5]||(l[5]=s=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",Sa,[ae(N,{modelValue:e.toCoinAmount,"onUpdate:modelValue":l[6]||(l[6]=s=>e.toCoinAmount=s),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:l[7]||(l[7]=s=>{e.toCoinAmount=s,e.fixedFromCoin=!1}),onOnSelect:l[8]||(l[8]=s=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ie(e.change?"gang animationex":"gang"),src:tn,alt:""},null,2),o("div",{class:"exchange",onClick:l[9]||(l[9]=s=>e.clickExchange())},[(t(),d("svg",{class:ie(e.change?"icon animationex":"icon"),"aria-hidden":"true"},Ia,2))])]),e.chainName=="Sui"?(t(),P(I,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(t(),d("div",$a,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(t(),d("div",Na,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(t(),d("span",Pa,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(t(),d("span",_a,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,Da),W(" 1 "+a(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Fa),o("span",null,a(("addCommom"in e?e.addCommom:L(Ce))(("decimalUi"in e?e.decimalUi:L(ge))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),W("  "+a(e.fromCoin.symbol),1)])):(t(),P(_,{key:1,indicator:e.indicator},null,8,["indicator"]))])):k("",!0):(t(),d("span",Ta,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Ba),W(" 1 "+a(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(t(),d("span",Ra,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,Oa),e.calculating?k("",!0):(t(),d("span",Ua,a(("addCommom"in e?e.addCommom:L(Ce))(("decimalUi"in e?e.decimalUi:L(ge))(e.currentRate,e.toCoin.decimals),e.toCoin.decimals)),1)),e.calculating?(t(),P(_,{key:1,indicator:e.indicator},null,8,["indicator"])):k("",!0),W("  "+a(e.toCoin.symbol),1)])):(t(),P(_,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(t(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:l[10]||(l[10]=s=>e.rateChange=!e.rateChange)},Ea))])):k("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(t(),d(Te,{key:1},[o("div",ja,[o("div",Ma,a(e.$t("common.priceImpact")),1),e.swaping?(t(),P(D,{key:1,paragraph:!1,active:""})):(t(),d("div",{key:0,class:ie(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[W(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(t(),d("svg",Wa,Qa)):k("",!0)],2))]),o("div",Xa,[o("div",Ha,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(t(),P(D,{key:1,paragraph:!1,active:""})):(t(),d("div",Ja,a(e.fixedFromCoin?("addCommom"in e?e.addCommom:L(Ce))(("fixD"in e?e.fixD:L(H))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:L(Ce))(("fixD"in e?e.fixD:L(H))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Ka,[o("div",Za,a(e.$t("common.fee")),1),e.swaping?(t(),P(D,{key:1,paragraph:!1,active:""})):(t(),d("div",za,a(("addCommom"in e?e.addCommom:L(Ce))(e.formatFee,e.fromCoin.decimals))+" "+a(e.fromCoin.symbol)+" ("+a(e.chainName=="Aptos"?e.poolInfo.fee*100:((j=e.toAddLiquidiPoolInfo)==null?void 0:j.fee)*100)+"%) ",1))])],64)):k("",!0)])):k("",!0)]),ae(U,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((i=e.poolInfo)==null?void 0:i.is_pause):!1,class:"big-btn",loading:e.swaping,onClick:l[11]||(l[11]=s=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:le(()=>[e.wallet.connected?(t(),d("svg",Ya,Va)):k("",!0),o("span",null,a(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),ae(E),e.showCoinSelect?(t(),P(v,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:l[12]||(l[12]=s=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):k("",!0),e.isShowSwapSetting?(t(),P(F,{key:1,onOnClose:l[13]||(l[13]=s=>e.isShowSwapSetting=!1)})):k("",!0),e.isSwapConfirmMpdal?(t(),P(J,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:"","format-fee":e.chainName=="Aptos"?e.formatFee:"",onOnClose:l[14]||(l[14]=s=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):k("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(t(),d("div",xa,[o("div",et,[ot,nt,ae(V,{placement:"top","arrow-point-at-center":""},{title:le(()=>[W(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:le(()=>[st]),_:1})]),e.fromCoin&&e.formCoinId?(t(),P(g,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):k("",!0),e.toCoin&&e.toCoinId?(t(),P(g,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):k("",!0)])):k("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(t(),P(ee,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):k("",!0),e.isShowRouterModal?(t(),P(w,{key:5,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:l[15]||(l[15]=s=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):k("",!0)])}const wt=we(va,[["render",at],["__scopeId","data-v-ea7e71a9"]]);export{wt as default};
