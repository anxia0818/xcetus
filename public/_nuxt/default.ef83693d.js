var lp=Object.defineProperty;var up=(e,t,n)=>t in e?lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var E=(e,t,n)=>(up(e,typeof t!="symbol"?t+"":t,n),n);import{f as Qt,o as L,l as j,G as Lu,j as gn,M as ai,a as Ae,H as Lr,c as Mt,z as bt,m as I,t as le,u as Fe,y as dn,A as xr,C as ci,s as Pr,v as Vr,q as se,I as Ec,J as Be,K as ra,L as dp,_ as hp,N as Io,r as Te,b as sa,h as ce,i as fp,x as ei,k as hn,O as pp,F as Un,B as Mn,p as Je,P as ns,Q as xt,R as kc,T as zu,D as Ao,U as gp,V as ju,W as wp,X as yp}from"./entry.3bf9cd71.js";import{U as mp,P as Dt,J as Nt,L as ws,V as bp,W as _p,X as so,Y as vp,Z as xp,_ as qn,$ as Za,a0 as jl,a1 as Sp,a2 as Tp,a3 as Pl,a4 as Vn,a5 as Ep,a6 as Pu,a7 as kp,a8 as Ip,a9 as Ap,aa as bn,ab as Up,ac as Mp,F as oc,ad as ti,ae as Bp,af as Np,ag as Fp,ah as rs,ai as Cp,aj as Dp,ak as Vu,al as Vl,K as Ds,N as $u,am as ys,an as Wu}from"./index.ced8e40a.js";const Rp={pro:{Aptos:[{name:"Default",link:"https://fullnode.mainnet.aptoslabs.com"},{name:"Custom",link:""}],Sui:[{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Custom",link:""}]},pre:{Aptos:[{name:"Default",link:"https://fullnode.mainnet.aptoslabs.com"},{name:"Custom",link:""}],Sui:[{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"Custom",link:""}]},preRoute:{Aptos:[{name:"Default",link:"https://fullnode.mainnet.aptoslabs.com"},{name:"Custom",link:""}],Sui:[{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"Custom",link:""}]},test:{Aptos:[{name:"Default",link:"https://fullnode.testnet.aptoslabs.com"},{name:"Custom",link:""}],Sui:[{name:"Suiscan",link:"https://rpc-testnet.suiscan.xyz:443"},{name:"Sui Official",link:"https://fullnode.testnet.sui.io"},{name:"Artifact",link:"https://testnet.artifact.systems/sui"},{name:"Custom",link:""}]}},hr={...Rp[mp]},Op={setup(){return{}}};const Lp={class:"webLoading-container"},zp=Lu('<div class="spot" style="--index:0;" data-v-cb831a29></div><div class="spot" style="--index:1;" data-v-cb831a29></div><div class="spot" style="--index:2;" data-v-cb831a29></div><div class="spot" style="--index:3;" data-v-cb831a29></div><div class="spot" style="--index:4;" data-v-cb831a29></div>',5),jp=[zp];function Pp(e,t,n,r,s,i){return L(),j("div",Lp,jp)}const Vp=Qt(Op,[["render",Pp],["__scopeId","data-v-cb831a29"]]);function We(e){return new URL(e,import.meta.url).href}const $p=gn({components:{Modal:ai},setup(){const e=Dt(),t=Ae(()=>e),n=Ae(()=>e.chainName),r=Ae(()=>t.value.chainName?Nt[t.value.chainName]:{});return{getExplorerUrl:ws,importIcon:We,store:t,chainName:n,config:r}}}),Wp=""+globalThis.__publicAssetsURL("images/img-Transaction-Submitted@2x.png");const Ic=e=>(Pr("data-v-97c66d46"),e=e(),Vr(),e),Hp=Ic(()=>I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Qp={class:"success-container"},Kp=Ic(()=>I("img",{src:Wp,alt:""},null,-1)),Zp={class:"waiting-title"},Gp={class:"waiting-text"},Yp=["href"],qp=Ic(()=>I("svg",{class:"icon","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-icon-jump"})],-1));function Jp(e,t,n,r,s,i){const o=ci,c=Lr("Modal");return L(),Mt(c,{visible:!0,class:"transaction-success",centered:"",title:"",width:"400px",footer:null,onCancel:t[1]||(t[1]=a=>e.$emit("onClose"))},{closeIcon:bt(()=>[Hp]),default:bt(()=>[I("div",Qp,[Kp,I("p",Zp,le(e.$t("common.transactionSubmitted")),1),I("p",Gp,[I("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:Fe(ws))("tx",e.store.currentTransactionTxid),target:"_blank"},[I("span",null,le(e.$t("common.viewExplorer")),1),qp],8,Yp)]),dn(o,{onClick:t[0]||(t[0]=a=>e.$emit("onClose"))},{default:bt(()=>[xr(le(e.$t("button.ok")),1)]),_:1})])]),_:1})}const Xp=Qt($p,[["render",Jp],["__scopeId","data-v-97c66d46"]]),e0=gn({components:{Modal:ai},setup(){const e=Dt(),t=Ae(()=>e);return{importIcon:We,store:t}}}),t0=""+globalThis.__publicAssetsURL("images/img-Transaction-rejected@2x.png");const Hu=e=>(Pr("data-v-c0bc6b77"),e=e(),Vr(),e),n0=Hu(()=>I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),r0={class:"rejected-container"},s0=Hu(()=>I("img",{src:t0,alt:""},null,-1)),i0={class:"waiting-title"};function o0(e,t,n,r,s,i){const o=ci,c=Lr("Modal");return L(),Mt(c,{visible:!0,class:"transiaction-rejected",centered:"",title:"",width:"400px",footer:null,onCancel:t[1]||(t[1]=a=>e.$emit("onClose"))},{closeIcon:bt(()=>[n0]),default:bt(()=>[I("div",r0,[s0,I("p",i0,le(e.$t("modal.rejectedModalText")),1),dn(o,{onClick:t[0]||(t[0]=a=>e.$emit("onClose"))},{default:bt(()=>[xr(le(e.$t("button.ok")),1)]),_:1})])]),_:1})}const a0=Qt(e0,[["render",o0],["__scopeId","data-v-c0bc6b77"]]),c0=gn({components:{Modal:ai},setup(){const e=Dt();return{store:Ae(()=>e),importIcon:We}}}),l0=""+globalThis.__publicAssetsURL("images/img-loading.png");const Qu=e=>(Pr("data-v-ceaee99f"),e=e(),Vr(),e),u0=Qu(()=>I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),d0={class:"waiting-container"},h0=Qu(()=>I("div",{class:"loading-pic"},[I("img",{src:l0,alt:""})],-1)),f0={class:"waiting-title"},p0={key:0,class:"waiting-title waiting-title1"},g0={class:"waiting-desc"};function w0(e,t,n,r,s,i){const o=Lr("Modal");return L(),Mt(o,{visible:!0,class:"transaction-waiting",centered:"",title:e.$t("modal.waitingModalTitle"),width:"400px",footer:null,onCancel:t[0]||(t[0]=c=>e.$emit("onClose"))},{closeIcon:bt(()=>[u0]),default:bt(()=>[I("div",d0,[h0,I("p",f0,le(e.store.currentTransactionDesc),1),e.$route.name==="remove-liquidity"?(L(),j("p",p0,le(e.store.currentTransactionDescText),1)):se("",!0),I("p",g0,le(e.$t("modal.waitingModalText")),1)])]),_:1},8,["title"])}const y0=Qt(c0,[["render",w0],["__scopeId","data-v-ceaee99f"]]);var ss="TrustWallet",m0=class{constructor(){this.name=ss,this.url="https://trustwallet.com/",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAyIiBoZWlnaHQ9IjQwMiIgdmlld0JveD0iMCAwIDQwMiA0MDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgo8cmVjdCB3aWR0aD0iNDAyIiBoZWlnaHQ9IjQwMiIgZmlsbD0idXJsKCNwYXR0ZXJuMCkiLz4KPGRlZnM+CjxwYXR0ZXJuIGlkPSJwYXR0ZXJuMCIgcGF0dGVybkNvbnRlbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPgo8dXNlIHhsaW5rOmhyZWY9IiNpbWFnZTBfMTY5NF8xODk2NyIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwMjQ4NzU2KSIvPgo8L3BhdHRlcm4+CjxpbWFnZSBpZD0iaW1hZ2UwXzE2OTRfMTg5NjciIHdpZHRoPSI0MDIiIGhlaWdodD0iNDAyIiB4bGluazpocmVmPSJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUFBQVFBQkFBRC8yd0JEQUFjRkJRWUZCQWNHQmdZSUJ3Y0lDeElMQ3dvS0N4WVBFQTBTR2hZYkdoa1dHUmdjSUNnaUhCNG1IaGdaSXpBa0ppb3JMUzR0R3lJeU5URXNOU2dzTFN6LzJ3QkRBUWNJQ0FzSkN4VUxDeFVzSFJrZExDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3ovd2dBUkNBR1NBWklEQVNJQUFoRUJBeEVCLzhRQUd3QUJBQUlEQVFFQUFBQUFBQUFBQUFBQUFBRUdCQVVIQXdML3hBQVpBUUVBQXdFQkFBQUFBQUFBQUFBQUFBQUFBUU1FQlFMLzJnQU1Bd0VBQWhBREVBQUFBZWtBQUFFRXhJaEloSWhJaEloSWhJaEloSWhJaEloSWhJaEloSWhJaElJRWdBQUFBQVFrQUFBQUFBQUFBQUFBQUFBQUFBQWlVRWdBQUFRa0FBQUFBQUFBQUFBQUFBQUFBQUFBQWlVRWdBRUVnQUFBQUFBQUFBQUFBQUFBQUFBQUFBQWlZa0FJa0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUk1FZ2lZa0FBQUFBQUFBQUFQT29XVjduWFZWdXg5TXllWTNYTG8zSXo2QUFBQUFBQUFBRVNENUV6RWdBQUFBQUFCR0xNWmJSNmUydTVWK3BlT25QazR4cXpCTUFicTE4NlVYOVZjNzNlVFRhV3J6NmJmVWVmUUFBQUFBQUdPSmozbUppUUFBQUFOTlVQckE2Zk95Zm53WFZ6Qk1BZ0EyOXFvdXJtNjNyRnI1cGk5U3JlbWlvc2pIMVpnbUFQdjF4MFRrN0RUUFBycUhyWGJGeStpSGoyQUFBQmppWTk1aVlrQUFBQURtMkhuWVBZNVFzTVRYbCt5cUx1YzdMb0UxV1ZiZTVpaTRLN0FBSTArNWV2TksxWFNtaWpsVHArSGJYenhlNlpkVmppMnE0V1d1V1BsZElLclFBQUFNY1RIdk1URWdBQUFBYzYxK3kxdlg1YTMxQzIxMldnY3pvQUFBQUFBQUFPYTlLNW5yeTR3MzRycFlkRHZ1VjB3cXNBQUFBeHhNZTh4TVNBQUFBQnovVmJuVGRibUxWVmJONTlXOGN2b2dBQUFBQUFBT1lkUDVac3lmSTNZNzF1OVB1T1Qwd3JzQUFBQXh4TWU4eE1TQUFBQUJSOUZZcTcxZWFzVmQzaGVSeXVrQUFBQUFBQUI4OHM2ZHpIZGpEWms2RnM4SE80L1ZEejZBQUFBeHhNZTh4TVNBQUFBQlVxdmNLZjArYzIycHo3UEhSaHlPb0FBQUFBQUFCaGMzNkJ6L29ZUTFaK201RVR4dXFFU0FBQUJqaVk5NWlZa0FBQUFEUlVmb1hQZWpnZTNpMDBkVmVYcnhlcUNRQUFBQUFBTkRTTFpVK2x6M3Y0Ykc2cm9nNC9WQUFBQUF4eE1lOHhNU0FBQUFCNDh3NnJ6TGJreHh0eDlDMmRic25KNllWMkFBQUFBQUFValE1bUgxK1czMmh0dmoxYUJ5K2tBQUFBQmppWTk1aVlrQUFBQUJSYjFYYjZhWU9uenQzZXVXZE53YmZZWk5RQUFBQUFERnlxdlpYVWgxdVk2QlErbjQ5WDBNTzBBQUFBREhFeDd6RXhJQUFBQUR3OXlPV2ZOaHIzWDVpeTFvZFZWeXg4cm9oNTlnQUFBRHhRNXZtNnZwWUEwVWIrN1lHZnl1a0ZWb0FBQUFHT0pqM21KaVFBQUFBQU1mbkhUOVhvbzU4Ky9qcFlHOTBUelBUTW5sdG13N0xZOC9UTG9CSUJyYWpkVFphZGpOK01MYWxrd2I3azFmUXdiUUFBQUFBTWNUSHZNVEVnQUFBQUFBYTZqZEs4NzZlWExQV3VoaCtSNzhlOXRwYXF6cXJudTZ4Yk4vVWRMNTZzNGFNNHpZbkNzTzgzR0xYOC9SajFnQUFBQUFBWTRtUGVZbUpBQUFBQUFBQVl1VW1LUm9lcTYzWGw1NDJXdDI1UW55UHBQemtiKzFaZEdoc01zT3NQUHNBQUFBQUFBUWZEMElpWWxJQUFBQUFBQUFBRVZ1eXZmamxuejB2QjJaYWxkczM2elhoVGNBQUFBQUFBQUFpWUpBaVlKQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFSSUFCRW9KQUFBQUFBQUFBQUFBQUFBQUFBQUFBaVlKQUFBQkVvSkFBQUFBQUFBQUFBQUFBQUFBQUFRRWdBQUFBQkNRUUpSSUFBQUFBQUFBQUFBQUFJSlFKaVFBQUFBQUFBQUErUkhpSkFBQUFBQUFBQUFBQWVub1FCSUFBQUFILzhRQUx4QUFBQVVFQWdFQ0JBVUZBQUFBQUFBQUFBRUNBd1FGRVRBeEVFQVNJRFFURkNGQklpUXpOV0FqTWxCd2dQL2FBQWdCQVFBQkJRTEhZV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVc1di9OTi81TGYrbC92L0FDVDcvd0FLazFOcGhTYTE5V0pEY2h2ckhvRjFsdUpiUk1xaW5PV1hsc09SS2kzSTY5d1d1bXBTVUprVmR0QWVrT3lGZW1OVTNXQXhPWWtkVTlsclBld1ZLWVFIS3RIU0hhdzZvT1BPUEhoWm55R1EzV2lDS2xGV0V1dHI2SjdMV09mUCtWSmN5UXMvbVh3YnpwZ3pNOEVXbHVQQitsTXVOdnhuWTZ2V1Mxa1BtSGg4eStJOVRmYVUyNGwxdkdleTFqbktOYzdDeFRYM2hHZ014dVZJU3RNaWpwTU94M1dEdzBaUm5HeG5zdFk1ZnZmU2xLbEczVHBMZ2FveEJtSXd4NnpJbEU5UzQ3Z2NvN3lRdUsrMTY2TCtqalBaYXh6ZmZjVTZFMUpiS2x4U0NZY2RBSWlJc3FtVzNBcW54VkE2VEZNU0VFMUk0bzN0OFo3TFdPZjcvaWkvcGRPWDd6aWplMHhuc3RZNmorNGNVWCszcHlQZGNVZjJXTTlsckhVLzNIaWlkUjM2dmNVbjJPTTlsckhWZmY4QUZGL1Y2YXZxcmlsL3QrTTlsckhWeS9POFVZL3pQU1VkazgwNHJVL0dleTFqckpmbWVLUWRwdlNmTzBmbUVWb09NOWxySFdpL0Z4VER0VU9sTk8wTG1PVm8yTTlsckhXaS9wY1FUOFozU3FSMnAvSkZaT005bHJIVnl2QzRhVjR2ZEtzS3RENFlUNVNNaDdMV09vcDhvSExTdk5ubzFwWDA0cDZmS2ZrUFpheHZKODJPYWN2emdkR3JyOHBuRklUZVprUFpheVNFZkRrOFVaeTdIUmxyK0pNNG9xUHdaRDJXc2xXYjhKdkZLZCtITTZFbDM0TWJtbXQvRGdaRDJXc2xZYThtT0VxTkMyWENlWnoxaC84QUR3MmczSEVwSktjaDdMV1I1c25tRkpOS3VLVEs4RlpublVzTlBPcWZlNHBEUG5KeW5zdFphdEg4SHVZRlNKd3NqcnFHVVRacXBhK1lVZjVhTmxQWmF5dnNwZlplYVV3N3pGcWJqSVprTnlFNFpWVGFZRDhoeVF2bWxSUE5lWTlsck5OaEpsTnJRcHRmS0ZxYlZHcTRRNGgxUHBrem1Zd2sxQjZSNllNRlVwYVVraE9ZOWxyUExoTnlreUl6a1pmb2FmY1lWRnF5SE9YcERjZEVtcU9PK3FIVEZPaEtTUW5PZXkxMEZvUzRpVlNESUtTYUZlaUxPZGpCK3NGNExjVTZ2MFI0ajBrNHRPYWo5STlscnBQeG1wQlNhVTYxaFpZY2ZWR3BLRUFpSWk2VnV0SmdzeVJKZ3V4dlNTVFVjV2tHWVEybHRQVCt3Ky9WTXJsTHBSS0NrcVFvUllUc280ME5xS25ybjJIb3pNZ0pwY1ZKa1JKTHJmZi9BSnd2M2I5Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN3bkwvQVAvRUFDY1JBQUlCQWdVRkFBSURBQUFBQUFBQUFBRUNBd0FSQkJBd01USVNJQ0ZBUVJSd0lsRlMvOW9BQ0FFREFRRS9BZjBhN2hONk03VkhNRzhIMWIyb3lxS2FjbmF0ODFtWmFXZFRRWUhiMEpKQ1RWejJKQ3pVSWxBdFR3RWNhMnp2UVlpa1BVTDZyYjBxbGpZVitPMUREajdTeHF1M1lWQjNvNGRmbEhEbis2ZU1wdmxGd0dxL0kxRHowc1JzTW8rQTFYNUdvZVkwc1I4eWo0alZsNW1vK1kwc1I4eVhpTldiblNjaHBZamxrTlhFY3RPZm5TK1RyWWdiSEtNM1VhTG03RTFFTHVOYVlYWExEdDR0b08zU3Q4c09QTjlkbDZUYWxicE42Vmd3dU8rV1RxOERLSmVsZGVXUHE4akpXSzdVazRQTHNlVlZwNUMrVU1kLzVIMFpJZzlNaFhmSkpDbTFDZFNQTlBNVzJ5QXZ0U1FmVzlNaTlQQi9taUNOODBnSjNwVkM3ZXN5aHQ2T0hQeWtpQ2ZvL3dEL3hBQWtFUUFDQVFNRUFnTUJBUUFBQUFBQUFBQUJBZ01BQkJFUU1ERXlFaUVnUUVFaWNQL2FBQWdCQWdFQlB3SC9BQTFJeS9GQzNURlNRRmZZK3FBVFN3dWFTMkE3VUJqVjRGYW10M0hGRlNPZm9SUmhWckErRHpxdE5NNU9hUzRCN1VEblhBb29wNUZPdmkyTjFlQlRNRUdUUnVWbzNSL0JUU00zSitDc1Y0b1hMRG1oZEQ5RkpLSDQwbTduZFRxS242YlZyeWRKZTUzWStncWZvZHExL2RKTzUzWXVncVhvZHExL2RIN0hkZzZDbjZuYXR1dWgzYlkveHQyNC9pbU9CbmV0VHlOSlJoenN4akNnVk1jSWQ2QnNQcGNyNzh0aU5mSnNhWFRlZ043aWtieUdhZGZNWU5NaFE0UHpoaThCazZTdjV0bmZobDhEZzhhTW9iMGFlM0k2L0JJV2VraVZOSjVjZnlQb3h6RlBWSTRmalI0bGZtbXQyQndLamdDODZFZ2MxSmNmaWZUQnh4U1hQNDFBZyt4ckpjQWVscG5MYy9XVnluc1VMbGNlNmttTC93Q0gvd0QveEFBM0VBQUJBUVFHQndZR0FnTUFBQUFBQUFBQkFnQURFUklRSUNFaVFGRXhRVkpoY1hLQkV5TXdVR0toQkRJemtaS3hRb0tBa1BELzJnQUlBUUVBQmo4Qy93QkMwcVIyaXR6WG5ObTR0TTdNZkw1bHFDUXhRNXVvejFtbWQyWUZwVlhIbVdmbGtWRUFiMmc1RTV6MU5GNHFOYVZmZUkzNld1cmdySStUM255UHUxMlpmQU4zYVFqM2FMeFpWeDhLeGNSa3ExdTlkZFV0OVNYaTExYVZjRGpwVTJ2RDdORXZsOURCdnJQUHlhMTR2N3RhZkFtZTkyajNMQU8rN1VHZzhURGZxUGdXS0k2dDlWZjVOOVo1K1RYMWRvbmV3V2d4QnhMMG5haDRVU096VG1wb3dtWHRHbVZRQkJ6YUxoVXZwTFFlSUtmQ1duSldKZmN4clFTQ2VEZlRsNXJHNzE1MFMxeDJBYzY4Q0lockIyWjlMWEZKWDdOZmRLSFN1ODVzUzk1cVZLZVJzT3B2a2oxYXh5ajdOWUllTmZkcFZ4RGZSSFJ0Q2gxWjRoT2hKaFN2bXhMM2pTOTQ0Ujl6bWxmUGlYdEwzcGhIdk1hVHo0bDUwL1ZMN3BoRjh4cC9zY1NyZ0tYdkRDRTBvNjRrY3RLeDZjR1RVZGY5cnhLRDZhZUtjRzhQcE5SMXk0bHllTktOOGYxZzMzTFVkREpJeExzNzZYWE5nM25UOTFBTXNUSEpWS0ZaS0J3WUdhcVhhYzFERlBmdlVRck1Sd1RwUEUwdWh2amlscHpTUlVkN3JNRkxzcHBKMlU0dDRqSlZLMFpHT0NlcTMwdlY5TVhOdGlOTXVwWWhnVnZNaFVSNnJjV2w1c0drS0drV3NsNG5Rb1lCTGtjVFNsQTBxTUdDUm9GbUxXN1A4Z3hTZElwN0Jac1Y4dmpsNHMyQmxQRmFUU1hoMEkvZU43WWZLdlR4cUIwK01GNmpuNHBXdFVBMlRzYUJVU2orV2s0MVR0V2dzWGE5SXFCTHkrajNEVE8xUjhLVkhlTDltbWVLalU3ZFl1ajVjZms4R2dzVUxFQ0treUZGSjNNRS9FRCt3YVpDZ29icTBDWmxiSWFFWkVaQ3JFMk9ocExCS1JBRHlDMnhlcFRRZUo2MVpuYWlscFgxeFdlcW1aNHFEU3V1N1Q3MWd0OWRSbHJMQktSQUR5S1ZhUW9NVmZEMmpaTFFVQ0R2cXdqTWpaTGR5bThkclUweTFGUnEzRTJablEweHZyelBrMEhpWTcybWRkNG4zOEdWMmtxYVo4WnpscWFBRUI1VEVpQzlvTkVpS05vVllKRVMwM3hGbnBEU29TRWpkNVpBdFA4QUQzVHN0S29RSW91aUNkb3RkRVZiUjh3N3hFZDdSbEo0bG9KRUIvbkovOFFBS2hBQUFRSUVCQVlEQVFFQkFBQUFBQUFBQVFBUklURmhjUkF3UVZFZ1FJR1JvYkZRNGZEQjhkSC8yZ0FJQVFFQUFUOGh5Q1FFNTI3cGp1bUtnRlFDb0JVQXFBVkFLZ0ZRQ29CVUFxQVZBS2dGUUNvQlVBcUFWQUtnRlFDb0JVQXFBVkFLZ0ZRQ1ltcVZHNlpia0NXVVRPQ0FiNEpta24zaG11OHBib0J2aG9pb1U4cncrSmJVSUY4ancrTEkxRTBJOFJpVzcvR21CZnZ3a3NnR0h4d2hEZ203YjQ4K3NTV0NBWWZJQ0RqQXlmSW1Zd0V6ekI4WUdZSmdPcSsvbFFGV28xRitaSk9XTmhEcVZHWElQNk5pSE1ieW1kamNTczVjQUFGSjVRb0hjeVRCT0Zab2ZaUEg3Um9PbkVPRmlLQ3hUUUJFcG5sWmlrMjVBZ0RrZ0NxbDRwR1U3eE5nZVU1Z2Z1WWs4UjFaVE9Eam9FWkFncVA0SzBtV3drTHduQjVHYmRTYlpnQkRBcnhrRzY4UFFlRi9wRk5GYzBSY2h2a05EMngrR1FnV0xBemU2Y2MyQjREa2VGNUFHUStwZjZSQVFKcWlNOUNtbmpjWmsyNmsyek5FUXV5R1RNcHY3a095WmcvWmh0aVp6YkFFOHZuUjdxOFdhSHJsRkJLRjFHWk51cE5zeUg4VWVKMUYyQjFxME4wQk1YNkg5SzZqQkU5K001Q0pNRUozSnV5N0o2SW51VW9MZUlkK01JOUhyTW0zVW0yWURYV01ieTJITXAwZDVyMzJkN1RLRUd3R2Q0b2txYkJ1STlLUVdpdTFQUWZIOTlNeWJkU2JaZ05peWhVK3VVSi8weHhDSlY2R1pOdXBOc3dHdUQwTVRoMS9ybERjbS91eEJxcGVobVRicVRiTUJxdjhNU2lQN1BsRGQ3K3pFV0d1WVRicVRiTUZxM294S0J1SEtGVkRpTFZEN1prMjZrMnpHaWJpZkp4dlova2NuUVFQd05LaFBsbVRicVRiTXZKdms0d0hjSHJrNkhFOGNEUm9PWk51cE5zeThRSHJHMHdlWEp1YXNjRkRWNHpKdDFKdG1PN2N4NCtzWFRRTzhPVHZ4bmhpQTVZS2xCc3liZFNiWmpmc2o3R1A2NkR5ZEJNZURqUWdlYzJiZFNiWmpHMkE3RHdVWi9Ea3V2eWVNYUVlQVBtemJxVGJNL053T0J5Nmg0bHVTYWRnUDdqWDBQOEFNMmJkU2Jac0FHZUFzK01ZNCtkL25KYThnbUJZUXhZM0pBL3V1Yk51cE5zMXgwQi9qK1l0SkdLNjVqa2Q3b1Y5T0NNSnVQcjlObXpicVRiTmFlYkJzY1Rqc2NBYXJWMEZ1UWFMeFAxNHlDUUNsT0lETm0zVW0yYkxRWXNnSXNSaU1RbGFFY2pvZHM5bVFQdlJUd0Y3WXN5Z3d1L0hPbTNVbTJjY1lmU3hTSzBNUVdYM3pRRWg2bFFDL3dEdHppQVNXRVNuRW03dWROdXBOczZRaXoyTzZEWXhlOWVBYTZHaHFzZFJxTGpLY0dOZ0dDNVZqQU5CYmdza1IxTytmTnVwTnM5NUJoZnFLT2hoaUR3QW9CMUprVVJFZnR3aGtvNmx4T25kcjEyVHZHUDJUcndnSXlSY29FT2dFd0EwejV0MUp0eUdnOUkwVUdRYUJJOEwxWlNSVEdJZDUvNGdRUTRMZzROUmpvTlRaUDdubGY4QUZNOEo0TXpoK2pJZEFaZ0JweUUyNmsyNUUrTU13VTRyVWVqMEtMQlhNQXg0UzREOFNHeVp3ZGlKL0RvME9PcDRlcXJDQk05bklDdzVLYmZsQm5zdEpDT3FlYkNKZW1xSUlMR0J5SE96WFlKbm92Si8xQVFBSkFjbkhIZENaNVVTZTZqN1J1aXBIMXdpNWhwQUJ5VXdtWjF1cFF1QWRBNVF6S1FYdHl3Q0FCQjBLZjJOWFNiYkk3TG5nY0pCT2NqN1U0Uk9ZZVdPZ3drNWdaQ01Ta0k2cDBxV0NoOFFVZ0F3SExpSkhFUWg4ZVN3UURERTc3Zkh6TnVHUnA4YWRoTlNIRE5EWS9Ga3NnTy9HUTZCME0vaVNXUUdwbmtrT25hZmY0ZDlCTkFkOHhtbDJUN3crRGRsRTBVczl0aW5PbzdKbS9PczNUN0JNVE05a0EzS0FBSktvVlVLcUZWQ3FoVlFxb1ZVS3FGVkNxaFZRcW9WVUtxRlZDcWhWUXFvVlVLcUZWQ3FoVlFxb1ZVS2luSE4vOW9BREFNQkFBSUFBd0FBQUJEenp6UlR6enp6enp6enp6enp6enp6VHp6enp6eVJ6enp6enp6enp6enp6enp6enp3elR6enlUenp6enp6enp6enp6enp6enp6enp5anp5aHp6enp6enp6enp6enp6enp6enp6enp4end6enp6enp6enp6enp6enp6enp6enp6enl6enp6enp6enp6enp6OVBmenp6enp6enp6enpEenp6enp6enp6UW9NTU9EN0h6enp6enp6ekx6enp6enl1QUFNTTkrNHNNUE9MM3p6enp3THp6enp6eUVJV1kzenp3MjAwd1A4QTg4ODg4Qzg4ODg4OEtRODg4ODg4ODg4NkQwODg4ODhDODg4ODg4cUU4ODg4ODg4ODhyRGQ4ODg4OEM4ODg4ODhxRzg4ODg4ODg4OGdEVzg4ODg4Qzg4ODg4OGpTODg4ODg4ODg4SkdWODg4ODhDODg4ODg4cEEvODg4ODg4ODhDSDg4ODg4OEM4ODg4ODhNRDE4ODg4ODg4OEpIODg4ODg4Qzg4ODg4OG9EYjg4ODg4ODg1REQ4ODg4ODhDODg4ODg4L0NDLzhBUFBQUFB3UjkvUFBQUFBBdlBQUFBQUE9DQWZ0L1BPOEF5dlBQUFBQUEF2UFBQUFBQUERqUTQwcUF4VDNQUFBQUFBQQXZQUFBQUFBQUExmUUF3RGovQUR6enp6enp6elB6enp6enp6enp6eTJLL3dBODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODhFODhVODg4ODg4ODg4ODg4ODg4ODg4ODg4MGM4OHN3ODg4ODg4ODg4ODg4ODg4ODg4OHM4ODg4ODhjODg4ODg4ODg4ODg4ODg4ODhFODg4ODg4ODg4akJCQkJCQkJCQkJCQkIvOEFQUFBQUFAvRUFDWVJBUUFDQVFNRUFnSURBUUFBQUFBQUFBRUFFU0VRTURGQVFXRnhJS0ZSY0lHUnNmRC8yZ0FJQVFNQkFUOFEvUm8xd2xzYW5ZQjZWSEpuZjc5VEdHb3FyZGNRNUp5V0p5UytnYmw0SjV2aGtPQ1k0dVpUSWlLcDFFY01Xc1pTL251OHZ2U1FkeElMbE9BZkF1aGNaeXFkbkExNzZmWVp4ZFRKajdtZjhQVzF4L2xwOUxkRlFkYlE4ajNvYUR3YnBwUlVuazJuZ2VOQlFHNktMNGcwM0JzdlpWcnhCU2VlZ2l4YlB1amZoZjhBak9saS9IWXVORjYzcUNVeGxVY3g4OUNnV3k3MkRTbUhuZnI5d2lWaGlGcVlUQitvSTVOY0x5emx1UHhvNjdIUTVRd3h1aG9sbGlYREJtT3dORVZDVmY0empvZ0ZNRnovQUVqdEN0Y2ppZmNIbzdWYmg5Q1djc1ROY3Y2UC84UUFKaEVCQUFJQUJRUURBQU1CQUFBQUFBQUFBUUFSRUNFd01WRkJZWEdoSUVDeFlIQ0I4UC9hQUFnQkFnRUJQeEQralg2MmN3bEV1ZFpUNnV3RnpvdGVabVN1QUtESE16Sm5LcHM1UG9ER3JXZHI0WkdOc3BScVpabGZVQVdPS201Q2FoZGNkWDFpZE1VSHNNYjB2aTR0YnFiVUdkU1I5TmZ2V0p2L0FPZnVsNldIdmFydndrRi85ZGRJNXJ4Zzc4anF1L0ZEZmkwaGt2R0N0TzdxdS84QWI5aHN1enBITTk4RmF1cmNqaGlXVkVwclJvTHpMbmdmUUNtZDlIdzVyeXF1K1dGWUhYUXI4RkhKMWhWWkJNOVlLeXFEOGdWb25NRGhjamJwcjh3SU41a0hwdVovbVBjUkduSFBOam1iVHZ6Z1o2N3Y5SFAyWkJyZUJPVFBtYmtEbVp2bmNBYlZFdjhBMG0vMGtWcW1NZnJEYkxNZXJqNmpkdTlLOVJxMk95RzVrZXh4L09qV2ZuLy94QUFxRUFFQUFRSUNDUVVCQVFFQUFBQUFBQUFCRVFBaE1hRVFNRUZSWVhHQmtmRWdRTEhCOEZEUjRmL2FBQWdCQVFBQlB4RFVXUmI3akdwY0ljMVNZdm9SVzhsNXJYaXE4VlhpcThWWGlxOFZYaXE4VlhpcThWWGlxOFZYaXE4VlhpcThWWGlxOFZYaXE4VlhpcThWWGlxOFZYaXE4Vlc0STVNVk13NjE2azRoeVdva2hsYm4yQXFNWGNWR0lodVA5b0JZaitDZ2tKSlU4V09EY292Z1N5ZGJMZGZpMUJnUDRxQ1FralVZTTdqYVVJSkdUVXFCS3dGUTNOdHpmei9rcUhBZHB2b0JicWJ0UVhTNE1PUEgrV2srUlNCSjZ1U0g0ZnpjRndmeDlNUzJMWXF3ZnpyeTlsemw2QzVzV0gzL0FEemFURzRvUkJMam9tVXgyYzZnRGQvUXZibTV5MFhCdXY4QTBiRzMyZEZ6OVAzZjNDUERpWWU1dXZ5R2tTUU51ekE1SmZ1VUV2MkVJWGNObnQ4UjJsKzJqYTcxYy9iWTJvM2c1Y1hoUXEzWE5nNGJtZkxEU2tXeWRvTnliU2pIcXRKZTR2cHZ6OXVSTGNJcktudE1KS2lCMWFMZkd3YUw4NU9kVHFSd2VXTEhxa2dDeFlQNHN6MG9NQlByelk5RjlyTEQydFpWN0JxTllxZ281a1RFRHNGNkhFWmg4aEJ5bzVXNFd2dkJrMWNsTWtxSEl3T21xSi94d2k5em9sRkN2YkRaSHpRUkRPNXZXSXpvc3VtSDBqN0hPcXlyV1JXNkRxVGZ3T0hkS1V1eFE2UUsvYi9kRHdMeFgzVW9EdlUrc0ZZTHRQRmJjUkJjQndjWHRRVVlReU9YdDU0MHpPTEY5eFBveDFHelgzeDhWa3JIOTErMys2ZHgwblFtL0VubkpWMll6OVBFYmF6T3F5cldNVEtUd0xHUnFRUUFWYkFWZkNkZ2lPR042d2NhTWhyWVNqd1lmTGpwTGUwU2cxdkhHUlh5eEhXZVpVMkU0SW5rQ3ozMVN0ek80UUpPNVBYV1oxV1Zhd29IZjV2VURXOXBYWXBzUlBhRU9qZktuRmQrRWZqaFJBbE5sUDFYN2VzSW13TWljUnBGZWJWaTVyZG9wM1laRmw2TnM2ZVlWak4yRW5yNWtEV002ckt0WVFUZjU2UmZaQ2hSQTdxL08zNEpTUXlEQk5uV1ZGaVhBUVphNmF1TzFqTXFSbUg4S0tZZXJuM05PUXBKU3dPM1NTZmF3eTZ6T3F5cldRQ0l2ZTRhWnQwWDg2ZTBCWnVzK21MZkEvZlBXWjFXVmF5RzhidTJtYmQzN24rUGFZM1hkK2ZUTU41eWZyV1oxV1ZheTJON3B1YlJlMDdkWkdNN1dtVWJ4OEgxck02ckt0WktONitIMXBqM3Q5bC8zMmwwcGxjOU1vakhaejYxbWRWbFdzL1djSDFwZzN4N1A5dlo3S3ArdzlIR0R1ays5Wm5WWlZySWZISCsybWQ4bVgxN1B4ano5SEZydkwvZXN6cXNxMWtjVDZaWDNwanV4RHVmWHM3cVJQZEVmZm90NUdUSFdaMVdWYXkwKzJlY3RLNjhUK0p6OW54M0Y2L1JPbERDVllDakp3QWREV1oxV1ZhenlnNTltbTlrWERrSDJkeTd3WEFUNk5OaUp0dk1HdHpxc3Exa0tsek9nL0I2TGd6ZnQ4aCsvWlFCY1F1VUQ1ZE5ucGw3ajZhM09xeXJXUitTa2RVZWlWMlVyaElNZzlsRVRaZzRxL0JOTStscGJpcDhGMXVkVmxXdGUzQVRtUmxHa0c3RVRnSStWMzlrWmpJamZZWkJwbkV4NXlGZmhyYzZyS3RiQVJFejJTWGZCNjZUaHJnQ0grQ2RmWWhKUW5yMnpKU3F5M2RMUVVkOUxaTmF6cXNxMXJuWit6dmNPK25oWXJJTWxZSlFKdmJUb3lkUFlIYzFpTmdXSGVYb2FjMVlCWW9HNENOd0VHdHpxc3ExcmhRc3U5c2VqRDBwTGJ6c1JHRTAzOENCYmE5V3pqejE5eTFFYlZzSEZwRDlqVFlZQWNBZzAzVU1lMnlCMkpkdGRuVlpWcnRpMW9iRSt3bm1Pa1VFVVM0bEFaSFlYQVhaOHVldHhlejRpN2cydkNqb0VMbUw5bnhtNkFRS01BWFZvekppNXY0blFnNmE3T3F5clhCMWdBRjlrT0kxWkVwT3diQndmUWFka0ZiWEJjVGc5eW9LTkd3ZmRpR3FscU8yS2Z4WXlwUzVtSFk5dzJmUG9jcnZzTVA0SHp5MStkVmxXdkpZb0hCUGkrTzhwWU9HdWZ0L293UWdzUjJwelloQmM0N1RtZHF3c3VURGs3bmg2aDRaTFhPcGgxWDRVWTJCVFluYytIRDA3cUZybVptOTJVR2RRMEFOZm5WWlY3QzBrV0RTOENiVGgycVRSSGJ1Vy9XUHBCYlNSZEJNSHJTRFJzSE1tL1ZialFNQUpFWkUwVFlEaXZ1R0xVZmxrS052aS9BNzBxaXFyZFgwOEZCUVAweithZ3ppZUFld3pxc3E5amdxamNsU1EzbFlPRzA1TitMVFRsaFFPWStsMnhOMnNjMjFsd3JFZXdWbnVBeFpjNnhwaHZMeTRIRDB4RjRNWm9iWGdTMDRBSzVlT1J6dSt5MzNhcXdHNjNzNENjUUhaaS9UQ3BTSlhnc2NmbzdVaUJCaEVoSFVRd25FRWN4YkZObURmQWJqdHlIQ2piREFZQTRIc3drNTFXanVaOXJaUjFyZlZzSFB1VS9GTkYzMUdLNTkzMHNkdUZrY0FvcGw3aVhmQnlMOFNzRE9FUS82OGZhT0VNWXRRUUJnV3BzWGNqOW43WU1MUWhJbERHdVZHT2UydUdIS2xHWkE0UjBTT1pRYXpnYjNBNnhVTWpVRW5oRzQ0R2Z0cjNlTTl2eG9HSXhMME1rbUQ3Y1dERUJQSkMvU2pjSFpGUFlSUFdqTzNBd09BZTM0QUxIMys0YWJ6dTRjdjU5NEx1QnpxQU5KYkRITVVJZ2x4L25HUHNzT2ZwTUxhdzRPNythM0V1eU45QUFHQjZVQkRoU1IybXgzL3dBdUJoSzRHK29MdDFpK3NCR0c1M1VrNEh5L2toeExnYjZTY1JaYWtCRFV0K2ZsL3dDTzN3VGtLZ3VzcmJySjduaXcvd0NVR1lFdHp0L2hvc2NkMjJveGJOeGpRQWdJTmNna0pKVXpFT0RjcURhOFZXOWh6dDcxRmhFN3FtNHJ6dFc0QnUvMVFZQ1BhS1VBN3dwdmZOWG1xODFYbXE4MVhtcTgxWG1xODFYbXE4MVhtcTgxWG1xODFYbXE4MVhtcTgxWG1xODFYbXE4MVhtcTgxVjQrYWdHUjFYb0FJQURXZi9aIi8+CjwvZGVmcz4KPC9zdmc+Cg==",this.provider=typeof window<"u"?window.trustwallet:void 0}async connect(){var e,t;try{const n=await((t=(e=this.provider)==null?void 0:e.aptos)==null?void 0:t.connect());if(!n)throw`${ss} Address Info Error`;return n}catch(n){throw n}}async account(){var e,t;const n=await((t=(e=this.provider)==null?void 0:e.aptos)==null?void 0:t.account());if(!n)throw`${ss} Account Error`;return n}async disconnect(){var e,t;try{await((t=(e=this.provider)==null?void 0:e.aptos)==null?void 0:t.disconnect())}catch(n){throw n}}async signAndSubmitTransaction(e,t){var n,r;try{const s=await((r=(n=this.provider)==null?void 0:n.aptos)==null?void 0:r.signAndSubmitTransaction(e,t));if(s.code)throw new Error(s.message);return s}catch(s){throw s.message}}async signMessage(e){var t,n;try{(typeof e!="object"||!e.nonce)&&`${ss}`;const r=await((n=(t=this.provider)==null?void 0:t.aptos)==null?void 0:n.signMessage(e));if(r)return r;throw`${ss} Sign Message failed`}catch(r){throw r.message}}async network(){var e,t;try{const n=await((t=(e=this.provider)==null?void 0:e.aptos)==null?void 0:t.network());if(!n)throw`${ss} Network Error`;return{name:n}}catch(n){throw n}}async onNetworkChange(e){var t,n;try{const r=async s=>{e({name:s.networkName,chainId:void 0,api:void 0})};await((n=(t=this.provider)==null?void 0:t.aptos)==null?void 0:n.onNetworkChange(r))}catch(r){throw r.message}}async onAccountChange(e){var t,n;try{const r=async s=>{if(s!=null&&s.publicKey)e({publicKey:s.publicKey,address:s.address});else{const i=await this.connect();e({address:i==null?void 0:i.address,publicKey:i==null?void 0:i.publicKey})}};await((n=(t=this.provider)==null?void 0:t.aptos)==null?void 0:n.onAccountChange(r))}catch(r){throw console.log(r),r.message}}};class Cn extends Error{constructor(n,r){super(n);E(this,"error");this.error=r}}class Et extends Cn{constructor(){super(...arguments);E(this,"name","WalletNotReadyError")}}class Ga extends Cn{constructor(){super(...arguments);E(this,"name","WalletConnectionError")}}class kt extends Cn{constructor(){super(...arguments);E(this,"name","WalletDisconnectionError")}}class wn extends Cn{constructor(){super(...arguments);E(this,"name","WalletGetNetworkError")}}class Ot extends Cn{constructor(){super(...arguments);E(this,"name","WalletAccountChangeError")}}class Lt extends Cn{constructor(){super(...arguments);E(this,"name","WalletNetworkChangeError")}}class J extends Cn{constructor(){super(...arguments);E(this,"name","WalletNotConnectedError")}}class Ge extends Cn{constructor(){super(...arguments);E(this,"name","WalletSignMessageError")}}class Kt extends Cn{constructor(){super(...arguments);E(this,"name","WalletSignAndSubmitMessageError")}}class it extends Cn{constructor(){super(...arguments);E(this,"name","WalletSignTransactionError")}}var ni={},b0={get exports(){return ni},set exports(e){ni=e}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(a,u,h){this.fn=a,this.context=u,this.once=h||!1}function i(a,u,h,p,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new s(h,p||a,m),v=n?n+u:u;return a._events[v]?a._events[v].fn?a._events[v]=[a._events[v],w]:a._events[v].push(w):(a._events[v]=w,a._eventsCount++),a}function o(a,u){--a._eventsCount===0?a._events=new r:delete a._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)t.call(h,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},c.prototype.listeners=function(u){var h=n?n+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,w=p.length,v=new Array(w);m<w;m++)v[m]=p[m].fn;return v},c.prototype.listenerCount=function(u){var h=n?n+u:u,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(u,h,p,m,w,v){var b=n?n+u:u;if(!this._events[b])return!1;var S=this._events[b],N=arguments.length,C,x;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,m),!0;case 5:return S.fn.call(S.context,h,p,m,w),!0;case 6:return S.fn.call(S.context,h,p,m,w,v),!0}for(x=1,C=new Array(N-1);x<N;x++)C[x-1]=arguments[x];S.fn.apply(S.context,C)}else{var k=S.length,_;for(x=0;x<k;x++)switch(S[x].once&&this.removeListener(u,S[x].fn,void 0,!0),N){case 1:S[x].fn.call(S[x].context);break;case 2:S[x].fn.call(S[x].context,h);break;case 3:S[x].fn.call(S[x].context,h,p);break;case 4:S[x].fn.call(S[x].context,h,p,m);break;default:if(!C)for(_=1,C=new Array(N-1);_<N;_++)C[_-1]=arguments[_];S[x].fn.apply(S[x].context,C)}}return!0},c.prototype.on=function(u,h,p){return i(this,u,h,p,!1)},c.prototype.once=function(u,h,p){return i(this,u,h,p,!0)},c.prototype.removeListener=function(u,h,p,m){var w=n?n+u:u;if(!this._events[w])return this;if(!h)return o(this,w),this;var v=this._events[w];if(v.fn)v.fn===h&&(!m||v.once)&&(!p||v.context===p)&&o(this,w);else{for(var b=0,S=[],N=v.length;b<N;b++)(v[b].fn!==h||m&&!v[b].once||p&&v[b].context!==p)&&S.push(v[b]);S.length?this._events[w]=S.length===1?S[0]:S:o(this,w)}return this},c.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(b0);var Q=(e=>(e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported",e))(Q||{}),Uo=(e=>(e.Mainnet="mainnet",e.Testnet="testnet",e.Devnet="devnet",e))(Uo||{});class It extends ni{get connected(){return!!this.publicAccount.publicKey}}function zt(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function n(){if(e())for(const i of t)i()}const r=setInterval(n,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),t.push(()=>window.removeEventListener("load",n))),n()}const _0="Petra";class v0 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",_0);E(this,"url","https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci");E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/petra.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const n=this._provider||window.aptos,r=await(n==null?void 0:n.connect());this._wallet={address:r==null?void 0:r.address,publicKey:r==null?void 0:r.publicKey,isConnected:!0};try{const s=await(n==null?void 0:n.network()),i=null,o=null;this._network=s,this._chainId=i,this._api=o}catch(s){const i=s.message;throw this.emit("error",new wn(i)),s}this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider||window.aptos;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider||window.aptos;if(!s||!i)throw new J;const o=await i.signTransaction(n,r);if(o.code)throw new Error(o.message);return o}catch(s){const i=s.message;throw this.emit("error",new it(i)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider||window.aptos;if(!s||!i)throw new J;const o=await i.signAndSubmitTransaction(n,r);if(o.code)throw new Error(o.message);return o}catch(s){const i=s.message;throw this.emit("error",new Kt(i)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.aptos;if(!r||!s)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const i=await(s==null?void 0:s.signMessage(n));if(i)return i;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.aptos;if(!n||!r)throw new J;const s=async i=>{var o,c,a,u,h,p;if(i!=null&&i.publicKey)this._wallet={...this._wallet,publicKey:i.publicKey||((o=this._wallet)==null?void 0:o.publicKey),authKey:i.authKey||((c=this._wallet)==null?void 0:c.authKey),address:i.address||((a=this._wallet)==null?void 0:a.address)};else{const m=await(r==null?void 0:r.connect());this._wallet={...this._wallet,authKey:(m==null?void 0:m.authKey)||((u=this._wallet)==null?void 0:u.authKey),address:(m==null?void 0:m.address)||((h=this._wallet)==null?void 0:h.address),publicKey:(m==null?void 0:m.publicKey)||((p=this._wallet)==null?void 0:p.publicKey)}}this.emit("accountChange",i.publicKey)};await(r==null?void 0:r.onAccountChange(s))}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.aptos;if(!n||!r)throw new J;const s=async i=>{this._network=i.networkName,this.emit("networkChange",this._network)};await(r==null?void 0:r.onNetworkChange(s))}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}const x0="Martian";class S0 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",x0);E(this,"url","https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk");E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/martian.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.martian:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window.martian?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||window.martian;if(await(r==null?void 0:r.isConnected())&&await(r==null?void 0:r.disconnect()),!await(r==null?void 0:r.connect()))throw new J("No connect response");const o=await(r==null?void 0:r.account());if(o){this._wallet={...o,isConnected:!0};try{const c=await(r==null?void 0:r.network()),{chainId:a}=await(r==null?void 0:r.getChainId())||{chainId:""},u=null;this._network=c,this._chainId=a.toString(),this._api=u}catch(c){const a=c.message;throw this.emit("error",new wn(a)),c}}this.emit("connect",((n=this._wallet)==null?void 0:n.address)||"")}catch(r){throw this.emit("error",new Error(r)),r}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider||window.martian;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider||window.martian;if(!s||!i)throw new J;const o=await i.generateTransaction(s.address||"",n,r);if(!o)throw new Error("Cannot generate transaction");const c=await(i==null?void 0:i.signTransaction(o));if(!c)throw new Error("No response");return c}catch(s){throw this.emit("error",new it(s)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider||window.martian;if(!s||!i)throw new J;const o=await i.generateTransaction(s.address||"",n,r);if(!o)throw new Error("Cannot generate transaction");const c=await(i==null?void 0:i.signAndSubmitTransaction(o));if(!c)throw new Error("No response");return{hash:c}}catch(s){throw this.emit("error",new Kt(s)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.martian;if(!r||!s)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const i=await(s==null?void 0:s.signMessage(n));if(i)return i;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.martian;if(!n||!r)throw new J;const s=async i=>{const{publicKey:o}=await(r==null?void 0:r.account());this._wallet={...this._wallet,address:i,publicKey:o},this.emit("accountChange",i)};await(r==null?void 0:r.onAccountChange(s))}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.martian;if(!n||!r)throw new J;const s=async i=>{this._network=i,this.emit("networkChange",this._network)};await(r==null?void 0:r.onNetworkChange(s))}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}var wr={},Wt={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.output=st.exists=st.hash=st.bytes=st.bool=st.number=void 0;function Mo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}st.number=Mo;function Ku(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}st.bool=Ku;function Ac(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}st.bytes=Ac;function Zu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Mo(e.outputLen),Mo(e.blockLen)}st.hash=Zu;function Gu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}st.exists=Gu;function Yu(e,t){Ac(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}st.output=Yu;const T0={number:Mo,bool:Ku,bytes:Ac,hash:Zu,exists:Gu,output:Yu};st.default=T0;var Es={},qu={},$r={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.crypto=void 0;ia.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=ia,n=k=>new Uint8Array(k.buffer,k.byteOffset,k.byteLength);e.u8=n;const r=k=>new Uint32Array(k.buffer,k.byteOffset,Math.floor(k.byteLength/4));e.u32=r;const s=k=>new DataView(k.buffer,k.byteOffset,k.byteLength);e.createView=s;const i=(k,_)=>k<<32-_|k>>>_;if(e.rotr=i,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(k,_)=>_.toString(16).padStart(2,"0"));function c(k){if(!(k instanceof Uint8Array))throw new Error("Uint8Array expected");let _="";for(let A=0;A<k.length;A++)_+=o[k[A]];return _}e.bytesToHex=c;function a(k){if(typeof k!="string")throw new TypeError("hexToBytes: expected string, got "+typeof k);if(k.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const _=new Uint8Array(k.length/2);for(let A=0;A<_.length;A++){const F=A*2,D=k.slice(F,F+2),H=Number.parseInt(D,16);if(Number.isNaN(H)||H<0)throw new Error("Invalid byte sequence");_[A]=H}return _}e.hexToBytes=a;const u=async()=>{};e.nextTick=u;async function h(k,_,A){let F=Date.now();for(let D=0;D<k;D++){A(D);const H=Date.now()-F;H>=0&&H<_||(await(0,e.nextTick)(),F+=H)}}e.asyncLoop=h;function p(k){if(typeof k!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof k}`);return new TextEncoder().encode(k)}e.utf8ToBytes=p;function m(k){if(typeof k=="string"&&(k=p(k)),!(k instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof k})`);return k}e.toBytes=m;function w(...k){if(!k.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(k.length===1)return k[0];const _=k.reduce((F,D)=>F+D.length,0),A=new Uint8Array(_);for(let F=0,D=0;F<k.length;F++){const H=k[F];A.set(H,D),D+=H.length}return A}e.concatBytes=w;class v{clone(){return this._cloneInto()}}e.Hash=v;const b=k=>Object.prototype.toString.call(k)==="[object Object]"&&k.constructor===Object;function S(k,_){if(_!==void 0&&(typeof _!="object"||!b(_)))throw new TypeError("Options should be object or undefined");return Object.assign(k,_)}e.checkOpts=S;function N(k){const _=F=>k().update(m(F)).digest(),A=k();return _.outputLen=A.outputLen,_.blockLen=A.blockLen,_.create=()=>k(),_}e.wrapConstructor=N;function C(k){const _=(F,D)=>k(D).update(m(F)).digest(),A=k({});return _.outputLen=A.outputLen,_.blockLen=A.blockLen,_.create=F=>k(F),_}e.wrapConstructorWithOpts=C;function x(k=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(k));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(k).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=x})($r);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const t=st,n=$r;class r extends n.Hash{constructor(o,c){super(),this.finished=!1,this.destroyed=!1,t.default.hash(o);const a=(0,n.toBytes)(c);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,h=new Uint8Array(u);h.set(a.length>u?o.create().update(a).digest():a);for(let p=0;p<h.length;p++)h[p]^=54;this.iHash.update(h),this.oHash=o.create();for(let p=0;p<h.length;p++)h[p]^=106;this.oHash.update(h),h.fill(0)}update(o){return t.default.exists(this),this.iHash.update(o),this}digestInto(o){t.default.exists(this),t.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:c,iHash:a,finished:u,destroyed:h,blockLen:p,outputLen:m}=this;return o=o,o.finished=u,o.destroyed=h,o.blockLen=p,o.outputLen=m,o.oHash=c._cloneInto(o.oHash),o.iHash=a._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(i,o,c)=>new r(i,o).update(c).digest();e.hmac=s,e.hmac.create=(i,o)=>new r(i,o)})(qu);Object.defineProperty(Es,"__esModule",{value:!0});Es.pbkdf2Async=Es.pbkdf2=void 0;const io=st,E0=qu,ms=$r;function Ju(e,t,n,r){io.default.hash(e);const s=(0,ms.checkOpts)({dkLen:32,asyncTick:10},r),{c:i,dkLen:o,asyncTick:c}=s;if(io.default.number(i),io.default.number(o),io.default.number(c),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const a=(0,ms.toBytes)(t),u=(0,ms.toBytes)(n),h=new Uint8Array(o),p=E0.hmac.create(e,a),m=p._cloneInto().update(u);return{c:i,dkLen:o,asyncTick:c,DK:h,PRF:p,PRFSalt:m}}function Xu(e,t,n,r,s){return e.destroy(),t.destroy(),r&&r.destroy(),s.fill(0),n}function k0(e,t,n,r){const{c:s,dkLen:i,DK:o,PRF:c,PRFSalt:a}=Ju(e,t,n,r);let u;const h=new Uint8Array(4),p=(0,ms.createView)(h),m=new Uint8Array(c.outputLen);for(let w=1,v=0;v<i;w++,v+=c.outputLen){const b=o.subarray(v,v+c.outputLen);p.setInt32(0,w,!1),(u=a._cloneInto(u)).update(h).digestInto(m),b.set(m.subarray(0,b.length));for(let S=1;S<s;S++){c._cloneInto(u).update(m).digestInto(m);for(let N=0;N<b.length;N++)b[N]^=m[N]}}return Xu(c,a,o,u,m)}Es.pbkdf2=k0;async function I0(e,t,n,r){const{c:s,dkLen:i,asyncTick:o,DK:c,PRF:a,PRFSalt:u}=Ju(e,t,n,r);let h;const p=new Uint8Array(4),m=(0,ms.createView)(p),w=new Uint8Array(a.outputLen);for(let v=1,b=0;b<i;v++,b+=a.outputLen){const S=c.subarray(b,b+a.outputLen);m.setInt32(0,v,!1),(h=u._cloneInto(h)).update(p).digestInto(w),S.set(w.subarray(0,S.length)),await(0,ms.asyncLoop)(s-1,o,N=>{a._cloneInto(h).update(w).digestInto(w);for(let C=0;C<S.length;C++)S[C]^=w[C]})}return Xu(a,u,c,h,w)}Es.pbkdf2Async=I0;var ks={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.SHA2=void 0;const Ya=st,Ws=$r;function A0(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),c=Number(n&i),a=r?4:0,u=r?0:4;e.setUint32(t+a,o,r),e.setUint32(t+u,c,r)}let U0=class extends Ws.Hash{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Ws.createView)(this.buffer)}update(t){Ya.default.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=(0,Ws.toBytes)(t);const i=t.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const a=(0,Ws.createView)(t);for(;s<=i-o;o+=s)this.process(a,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ya.default.exists(this),Ya.default.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let p=o;p<s;p++)n[p]=0;A0(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=(0,Ws.createView)(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)c.setUint32(4*p,h[p],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:c}=this;return t.length=s,t.pos=c,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}};li.SHA2=U0;Object.defineProperty(ks,"__esModule",{value:!0});ks.sha224=ks.sha256=void 0;const M0=li,Gt=$r,B0=(e,t,n)=>e&t^~e&n,N0=(e,t,n)=>e&t^e&n^t&n,F0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xn=new Uint32Array(64);let ed=class extends M0.SHA2{constructor(){super(64,32,8,!1),this.A=Jn[0]|0,this.B=Jn[1]|0,this.C=Jn[2]|0,this.D=Jn[3]|0,this.E=Jn[4]|0,this.F=Jn[5]|0,this.G=Jn[6]|0,this.H=Jn[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:c,H:a}=this;return[t,n,r,s,i,o,c,a]}set(t,n,r,s,i,o,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=a|0}process(t,n){for(let p=0;p<16;p++,n+=4)Xn[p]=t.getUint32(n,!1);for(let p=16;p<64;p++){const m=Xn[p-15],w=Xn[p-2],v=(0,Gt.rotr)(m,7)^(0,Gt.rotr)(m,18)^m>>>3,b=(0,Gt.rotr)(w,17)^(0,Gt.rotr)(w,19)^w>>>10;Xn[p]=b+Xn[p-7]+v+Xn[p-16]|0}let{A:r,B:s,C:i,D:o,E:c,F:a,G:u,H:h}=this;for(let p=0;p<64;p++){const m=(0,Gt.rotr)(c,6)^(0,Gt.rotr)(c,11)^(0,Gt.rotr)(c,25),w=h+m+B0(c,a,u)+F0[p]+Xn[p]|0,b=((0,Gt.rotr)(r,2)^(0,Gt.rotr)(r,13)^(0,Gt.rotr)(r,22))+N0(r,s,i)|0;h=u,u=a,a=c,c=o+w|0,o=i,i=s,s=r,r=w+b|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,s,i,o,c,a,u,h)}roundClean(){Xn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class C0 extends ed{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ks.sha256=(0,Gt.wrapConstructor)(()=>new ed);ks.sha224=(0,Gt.wrapConstructor)(()=>new C0);var nn={},td={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const t=BigInt(2**32-1),n=BigInt(32);function r(W,q=!1){return q?{h:Number(W&t),l:Number(W>>n&t)}:{h:Number(W>>n&t)|0,l:Number(W&t)|0}}e.fromBig=r;function s(W,q=!1){let X=new Uint32Array(W.length),ke=new Uint32Array(W.length);for(let Se=0;Se<W.length;Se++){const{h:Pe,l:At}=r(W[Se],q);[X[Se],ke[Se]]=[Pe,At]}return[X,ke]}e.split=s;const i=(W,q)=>BigInt(W>>>0)<<n|BigInt(q>>>0);e.toBig=i;const o=(W,q,X)=>W>>>X,c=(W,q,X)=>W<<32-X|q>>>X,a=(W,q,X)=>W>>>X|q<<32-X,u=(W,q,X)=>W<<32-X|q>>>X,h=(W,q,X)=>W<<64-X|q>>>X-32,p=(W,q,X)=>W>>>X-32|q<<64-X,m=(W,q)=>q,w=(W,q)=>W,v=(W,q,X)=>W<<X|q>>>32-X,b=(W,q,X)=>q<<X|W>>>32-X,S=(W,q,X)=>q<<X-32|W>>>64-X,N=(W,q,X)=>W<<X-32|q>>>64-X;function C(W,q,X,ke){const Se=(q>>>0)+(ke>>>0);return{h:W+X+(Se/2**32|0)|0,l:Se|0}}e.add=C;const x=(W,q,X)=>(W>>>0)+(q>>>0)+(X>>>0),k=(W,q,X,ke)=>q+X+ke+(W/2**32|0)|0,_=(W,q,X,ke)=>(W>>>0)+(q>>>0)+(X>>>0)+(ke>>>0),A=(W,q,X,ke,Se)=>q+X+ke+Se+(W/2**32|0)|0,F=(W,q,X,ke,Se)=>(W>>>0)+(q>>>0)+(X>>>0)+(ke>>>0)+(Se>>>0),D=(W,q,X,ke,Se,Pe)=>q+X+ke+Se+Pe+(W/2**32|0)|0,H={fromBig:r,split:s,toBig:e.toBig,shrSH:o,shrSL:c,rotrSH:a,rotrSL:u,rotrBH:h,rotrBL:p,rotr32H:m,rotr32L:w,rotlSH:v,rotlSL:b,rotlBH:S,rotlBL:N,add:C,add3L:x,add3H:k,add4L:_,add4H:A,add5H:D,add5L:F};e.default=H})(td);Object.defineProperty(nn,"__esModule",{value:!0});nn.sha384=nn.sha512_256=nn.sha512_224=nn.sha512=nn.SHA512=void 0;const D0=li,xe=td,oa=$r,[R0,O0]=xe.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),er=new Uint32Array(80),tr=new Uint32Array(80);let ui=class extends D0.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:c,Dl:a,Eh:u,El:h,Fh:p,Fl:m,Gh:w,Gl:v,Hh:b,Hl:S}=this;return[t,n,r,s,i,o,c,a,u,h,p,m,w,v,b,S]}set(t,n,r,s,i,o,c,a,u,h,p,m,w,v,b,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=a|0,this.Eh=u|0,this.El=h|0,this.Fh=p|0,this.Fl=m|0,this.Gh=w|0,this.Gl=v|0,this.Hh=b|0,this.Hl=S|0}process(t,n){for(let x=0;x<16;x++,n+=4)er[x]=t.getUint32(n),tr[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const k=er[x-15]|0,_=tr[x-15]|0,A=xe.default.rotrSH(k,_,1)^xe.default.rotrSH(k,_,8)^xe.default.shrSH(k,_,7),F=xe.default.rotrSL(k,_,1)^xe.default.rotrSL(k,_,8)^xe.default.shrSL(k,_,7),D=er[x-2]|0,H=tr[x-2]|0,W=xe.default.rotrSH(D,H,19)^xe.default.rotrBH(D,H,61)^xe.default.shrSH(D,H,6),q=xe.default.rotrSL(D,H,19)^xe.default.rotrBL(D,H,61)^xe.default.shrSL(D,H,6),X=xe.default.add4L(F,q,tr[x-7],tr[x-16]),ke=xe.default.add4H(X,A,W,er[x-7],er[x-16]);er[x]=ke|0,tr[x]=X|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:c,Cl:a,Dh:u,Dl:h,Eh:p,El:m,Fh:w,Fl:v,Gh:b,Gl:S,Hh:N,Hl:C}=this;for(let x=0;x<80;x++){const k=xe.default.rotrSH(p,m,14)^xe.default.rotrSH(p,m,18)^xe.default.rotrBH(p,m,41),_=xe.default.rotrSL(p,m,14)^xe.default.rotrSL(p,m,18)^xe.default.rotrBL(p,m,41),A=p&w^~p&b,F=m&v^~m&S,D=xe.default.add5L(C,_,F,O0[x],tr[x]),H=xe.default.add5H(D,N,k,A,R0[x],er[x]),W=D|0,q=xe.default.rotrSH(r,s,28)^xe.default.rotrBH(r,s,34)^xe.default.rotrBH(r,s,39),X=xe.default.rotrSL(r,s,28)^xe.default.rotrBL(r,s,34)^xe.default.rotrBL(r,s,39),ke=r&i^r&c^i&c,Se=s&o^s&a^o&a;N=b|0,C=S|0,b=w|0,S=v|0,w=p|0,v=m|0,{h:p,l:m}=xe.default.add(u|0,h|0,H|0,W|0),u=c|0,h=a|0,c=i|0,a=o|0,i=r|0,o=s|0;const Pe=xe.default.add3L(W,X,Se);r=xe.default.add3H(Pe,H,q,ke),s=Pe|0}({h:r,l:s}=xe.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=xe.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:a}=xe.default.add(this.Ch|0,this.Cl|0,c|0,a|0),{h:u,l:h}=xe.default.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:p,l:m}=xe.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:w,l:v}=xe.default.add(this.Fh|0,this.Fl|0,w|0,v|0),{h:b,l:S}=xe.default.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:N,l:C}=xe.default.add(this.Hh|0,this.Hl|0,N|0,C|0),this.set(r,s,i,o,c,a,u,h,p,m,w,v,b,S,N,C)}roundClean(){er.fill(0),tr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};nn.SHA512=ui;class L0 extends ui{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}let z0=class extends ui{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},j0=class extends ui{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};nn.sha512=(0,oa.wrapConstructor)(()=>new ui);nn.sha512_224=(0,oa.wrapConstructor)(()=>new L0);nn.sha512_256=(0,oa.wrapConstructor)(()=>new z0);nn.sha384=(0,oa.wrapConstructor)(()=>new j0);Object.defineProperty(Wt,"__esModule",{value:!0});var nd=Wt.mnemonicToSeedSync=Wt.mnemonicToSeed=Wt.validateMnemonic=Wt.entropyToMnemonic=Wt.mnemonicToEntropy=Wt.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const rd=st,sd=Es,P0=ks,id=nn,V0=$r,oo=bp,$0=e=>e[0]==="";function od(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function Uc(e){const t=od(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function ad(e){rd.default.bytes(e,16,20,24,28,32)}function W0(e,t=128){if(rd.default.number(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return ud((0,V0.randomBytes)(t/8),e)}Wt.generateMnemonic=W0;const H0=e=>{const t=8-e.length/4;return new Uint8Array([(0,P0.sha256)(e)[0]>>t<<t])};function cd(e){if(!Array.isArray(e)||e.length!==2**11||typeof e[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return e.forEach(t=>{if(typeof t!="string")throw new Error(`Wordlist: non-string element: ${t}`)}),oo.utils.chain(oo.utils.checksum(1,H0),oo.utils.radix2(11,!0),oo.utils.alphabet(e))}function ld(e,t){const{words:n}=Uc(e),r=cd(t).decode(n);return ad(r),r}Wt.mnemonicToEntropy=ld;function ud(e,t){return ad(e),cd(t).encode(e).join($0(t)?"":" ")}Wt.entropyToMnemonic=ud;function Q0(e,t){try{ld(e,t)}catch{return!1}return!0}Wt.validateMnemonic=Q0;const dd=e=>od(`mnemonic${e}`);function K0(e,t=""){return(0,sd.pbkdf2Async)(id.sha512,Uc(e).nfkd,dd(t),{c:2048,dkLen:64})}Wt.mnemonicToSeed=K0;function Z0(e,t=""){return(0,sd.pbkdf2)(id.sha512,Uc(e).nfkd,dd(t),{c:2048,dkLen:64})}nd=Wt.mnemonicToSeedSync=Z0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G0=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),qa=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_n=(e,t)=>e<<32-t|e>>>t,Y0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Y0)throw new Error("Non little-endian hardware is not supported");const q0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hd(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=q0[e[n]];return t}function fd(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function J0(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function di(e){if(typeof e=="string"&&(e=J0(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class Mc{clone(){return this._cloneInto()}}function hi(e){const t=r=>e().update(di(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function X0(e){const t=(r,s)=>e(s).update(di(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function ac(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function eg(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function pd(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function tg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ac(e.outputLen),ac(e.blockLen)}function ng(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rg(e,t){pd(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ht={number:ac,bool:eg,bytes:pd,hash:tg,exists:ng,output:rg};function sg(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),c=Number(n&i),a=r?4:0,u=r?0:4;e.setUint32(t+a,o,r),e.setUint32(t+u,c,r)}class gd extends Mc{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qa(this.buffer)}update(t){Ht.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=di(t);const i=t.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const a=qa(t);for(;s<=i-o;o+=s)this.process(a,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ht.exists(this),Ht.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let a=o;a<s;a++)n[a]=0;sg(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=qa(t);this.get().forEach((a,u)=>c.setUint32(4*u,a,i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:c}=this;return t.length=s,t.pos=c,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const ig=(e,t,n)=>e&t^~e&n,og=(e,t,n)=>e&t^e&n^t&n,ag=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rr=new Uint32Array(64);class cg extends gd{constructor(){super(64,32,8,!1),this.A=nr[0]|0,this.B=nr[1]|0,this.C=nr[2]|0,this.D=nr[3]|0,this.E=nr[4]|0,this.F=nr[5]|0,this.G=nr[6]|0,this.H=nr[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:c,H:a}=this;return[t,n,r,s,i,o,c,a]}set(t,n,r,s,i,o,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=a|0}process(t,n){for(let p=0;p<16;p++,n+=4)rr[p]=t.getUint32(n,!1);for(let p=16;p<64;p++){const m=rr[p-15],w=rr[p-2],v=_n(m,7)^_n(m,18)^m>>>3,b=_n(w,17)^_n(w,19)^w>>>10;rr[p]=b+rr[p-7]+v+rr[p-16]|0}let{A:r,B:s,C:i,D:o,E:c,F:a,G:u,H:h}=this;for(let p=0;p<64;p++){const m=_n(c,6)^_n(c,11)^_n(c,25),w=h+m+ig(c,a,u)+ag[p]+rr[p]|0,b=(_n(r,2)^_n(r,13)^_n(r,22))+og(r,s,i)|0;h=u,u=a,a=c,c=o+w|0,o=i,i=s,s=r,r=w+b|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,s,i,o,c,a,u,h)}roundClean(){rr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const lg=hi(()=>new cg),ao=BigInt(2**32-1),cc=BigInt(32);function wd(e,t=!1){return t?{h:Number(e&ao),l:Number(e>>cc&ao)}:{h:Number(e>>cc&ao)|0,l:Number(e&ao)|0}}function ug(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=wd(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const dg=(e,t)=>BigInt(e>>>0)<<cc|BigInt(t>>>0),hg=(e,t,n)=>e>>>n,fg=(e,t,n)=>e<<32-n|t>>>n,pg=(e,t,n)=>e>>>n|t<<32-n,gg=(e,t,n)=>e<<32-n|t>>>n,wg=(e,t,n)=>e<<64-n|t>>>n-32,yg=(e,t,n)=>e>>>n-32|t<<64-n,mg=(e,t)=>t,bg=(e,t)=>e,_g=(e,t,n)=>e<<n|t>>>32-n,vg=(e,t,n)=>t<<n|e>>>32-n,xg=(e,t,n)=>t<<n-32|e>>>64-n,Sg=(e,t,n)=>e<<n-32|t>>>64-n;function Tg(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const Eg=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),kg=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Ig=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Ag=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,Ug=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Mg=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,me={fromBig:wd,split:ug,toBig:dg,shrSH:hg,shrSL:fg,rotrSH:pg,rotrSL:gg,rotrBH:wg,rotrBL:yg,rotr32H:mg,rotr32L:bg,rotlSH:_g,rotlSL:vg,rotlBH:xg,rotlBL:Sg,add:Tg,add3L:Eg,add3H:kg,add4L:Ig,add4H:Ag,add5H:Mg,add5L:Ug},[yd,md,bd]=[[],[],[]],Bg=BigInt(0),Hs=BigInt(1),Ng=BigInt(2),Fg=BigInt(7),Cg=BigInt(256),Dg=BigInt(113);for(let e=0,t=Hs,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],yd.push(2*(5*r+n)),md.push((e+1)*(e+2)/2%64);let s=Bg;for(let i=0;i<7;i++)t=(t<<Hs^(t>>Fg)*Dg)%Cg,t&Ng&&(s^=Hs<<(Hs<<BigInt(i))-Hs);bd.push(s)}const[Rg,Og]=me.split(bd,!0),$l=(e,t,n)=>n>32?me.rotlBH(e,t,n):me.rotlSH(e,t,n),Wl=(e,t,n)=>n>32?me.rotlBL(e,t,n):me.rotlSL(e,t,n);function Lg(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,a=(o+2)%10,u=n[a],h=n[a+1],p=$l(u,h,1)^n[c],m=Wl(u,h,1)^n[c+1];for(let w=0;w<50;w+=10)e[o+w]^=p,e[o+w+1]^=m}let s=e[2],i=e[3];for(let o=0;o<24;o++){const c=md[o],a=$l(s,i,c),u=Wl(s,i,c),h=yd[o];s=e[h],i=e[h+1],e[h]=a,e[h+1]=u}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Rg[r],e[1]^=Og[r]}n.fill(0)}let _d=class vd extends Mc{constructor(t,n,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ht.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=G0(this.state)}keccak(){Lg(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ht.exists(this);const{blockLen:n,state:r}=this;t=di(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let c=0;c<o;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ht.exists(this,!1),Ht.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ht.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ht.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new vd(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}};const Er=(e,t,n)=>hi(()=>new _d(t,e,n));Er(6,144,224/8);const Is=Er(6,136,256/8);Er(6,104,384/8);Er(6,72,512/8);Er(1,144,224/8);Er(1,136,256/8);Er(1,104,384/8);Er(1,72,512/8);const xd=(e,t,n)=>X0((r={})=>new _d(t,e,r.dkLen===void 0?n:r.dkLen,!0));xd(31,168,128/8);xd(31,136,256/8);class Sd extends Mc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ht.hash(t);const r=di(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ht.exists(this),this.iHash.update(t),this}digestInto(t){Ht.exists(this),Ht.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bc=(e,t,n)=>new Sd(e,t).update(n).digest();Bc.create=(e,t)=>new Sd(e,t);const[zg,jg]=me.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),sr=new Uint32Array(80),ir=new Uint32Array(80);class Nc extends gd{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:c,Dl:a,Eh:u,El:h,Fh:p,Fl:m,Gh:w,Gl:v,Hh:b,Hl:S}=this;return[t,n,r,s,i,o,c,a,u,h,p,m,w,v,b,S]}set(t,n,r,s,i,o,c,a,u,h,p,m,w,v,b,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=a|0,this.Eh=u|0,this.El=h|0,this.Fh=p|0,this.Fl=m|0,this.Gh=w|0,this.Gl=v|0,this.Hh=b|0,this.Hl=S|0}process(t,n){for(let x=0;x<16;x++,n+=4)sr[x]=t.getUint32(n),ir[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const k=sr[x-15]|0,_=ir[x-15]|0,A=me.rotrSH(k,_,1)^me.rotrSH(k,_,8)^me.shrSH(k,_,7),F=me.rotrSL(k,_,1)^me.rotrSL(k,_,8)^me.shrSL(k,_,7),D=sr[x-2]|0,H=ir[x-2]|0,W=me.rotrSH(D,H,19)^me.rotrBH(D,H,61)^me.shrSH(D,H,6),q=me.rotrSL(D,H,19)^me.rotrBL(D,H,61)^me.shrSL(D,H,6),X=me.add4L(F,q,ir[x-7],ir[x-16]),ke=me.add4H(X,A,W,sr[x-7],sr[x-16]);sr[x]=ke|0,ir[x]=X|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:c,Cl:a,Dh:u,Dl:h,Eh:p,El:m,Fh:w,Fl:v,Gh:b,Gl:S,Hh:N,Hl:C}=this;for(let x=0;x<80;x++){const k=me.rotrSH(p,m,14)^me.rotrSH(p,m,18)^me.rotrBH(p,m,41),_=me.rotrSL(p,m,14)^me.rotrSL(p,m,18)^me.rotrBL(p,m,41),A=p&w^~p&b,F=m&v^~m&S,D=me.add5L(C,_,F,jg[x],ir[x]),H=me.add5H(D,N,k,A,zg[x],sr[x]),W=D|0,q=me.rotrSH(r,s,28)^me.rotrBH(r,s,34)^me.rotrBH(r,s,39),X=me.rotrSL(r,s,28)^me.rotrBL(r,s,34)^me.rotrBL(r,s,39),ke=r&i^r&c^i&c,Se=s&o^s&a^o&a;N=b|0,C=S|0,b=w|0,S=v|0,w=p|0,v=m|0,{h:p,l:m}=me.add(u|0,h|0,H|0,W|0),u=c|0,h=a|0,c=i|0,a=o|0,i=r|0,o=s|0;const Pe=me.add3L(W,X,Se);r=me.add3H(Pe,H,q,ke),s=Pe|0}({h:r,l:s}=me.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=me.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:a}=me.add(this.Ch|0,this.Cl|0,c|0,a|0),{h:u,l:h}=me.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:p,l:m}=me.add(this.Eh|0,this.El|0,p|0,m|0),{h:w,l:v}=me.add(this.Fh|0,this.Fl|0,w|0,v|0),{h:b,l:S}=me.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:N,l:C}=me.add(this.Hh|0,this.Hl|0,N|0,C|0),this.set(r,s,i,o,c,a,u,h,p,m,w,v,b,S,N,C)}roundClean(){sr.fill(0),ir.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Pg extends Nc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Vg extends Nc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Td=hi(()=>new Nc);hi(()=>new Pg);hi(()=>new Vg);async function $g(e){var t;const{params:n,method:r,url:s,headers:i,body:o,overrides:c}=e,a={headers:i,method:r,url:s,params:n,data:o,withCredentials:(t=c==null?void 0:c.WITH_CREDENTIALS)!=null?t:!0};try{const u=await _p(a);return{status:u.status,statusText:u.statusText,data:u.data,headers:u.headers,config:u.config}}catch(u){const h=u;if(h.response)return h.response;throw u}}var Ed=Object.defineProperty,Wg=Object.getOwnPropertyDescriptor,aa=(e,t)=>{for(var n in t)Ed(e,n,{get:t[n],enumerable:!0})},Oe=(e,t,n,r)=>{for(var s=r>1?void 0:r?Wg(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Ed(t,n,s),s},Hg=/^m(\/[0-9]+')+$/,kd=e=>e.replace("'",""),Qg="ed25519 seed",Kg=2147483648,Zg=e=>{const n=Bc.create(Td,Qg).update(fd(e)).digest(),r=n.slice(0,32),s=n.slice(32);return{key:r,chainCode:s}},Gg=({key:e,chainCode:t},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const s=new Uint8Array(r),i=new Uint8Array([0]),o=new Uint8Array([...i,...e,...s]),c=Bc.create(Td,t).update(o).digest(),a=c.slice(0,32),u=c.slice(32);return{key:a,chainCode:u}},Yg=e=>Hg.test(e)?!e.split("/").slice(1).map(kd).some(Number.isNaN):!1,Id=(e,t,n=Kg)=>{if(!Yg(e))throw new Error("Invalid derivation path");const{key:r,chainCode:s}=Zg(t);return e.split("/").slice(1).map(kd).map(o=>parseInt(o,10)).reduce((o,c)=>Gg(o,c+n),{key:r,chainCode:s})},qg="1.14.0";async function Jg(e){return new Promise(t=>{setTimeout(t,e)})}var Hl="/v1";function Xg(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(Hl)||(t=`${t}${Hl}`),t}var Ad=2e5,Ud=20,Md=20,lc="0x1::aptos_coin::AptosCoin";function ca(e){let t,n,r;return typeof e=="object"?(t=e.hashFunction,n=e.ttlMs,r=e.tags):t=e,(s,i,o)=>{if(o.value!=null)o.value=Ql(o.value,t,n,r);else if(o.get!=null)o.get=Ql(o.get,t,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function ew(e,t){return ca({ttlMs:e,hashFunction:t})}var go=new Map;function tw(e){const t=new Set;for(const n of e){const r=go.get(n);if(r)for(const s of r)t.has(s)||(s.clear(),t.add(s))}return t.size}function Ql(e,t,n=0,r){const s=Symbol("__memoized_map__");return function(...i){let o;const c=this;c.hasOwnProperty(s)||Object.defineProperty(c,s,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const a=c[s];if(Array.isArray(r))for(const u of r)go.has(u)?go.get(u).push(a):go.set(u,[a]);if(t||i.length>0||n>0){let u;t===!0?u=i.map(m=>m.toString()).join("!"):t?u=t.apply(c,i):u=i[0];const h=`${u}__timestamp`;let p=!1;if(n>0)if(!a.has(h))p=!0;else{const m=a.get(h);p=Date.now()-m>n}a.has(u)&&!p?o=a.get(u):(o=e.apply(c,i),a.set(u,o),n>0&&a.set(h,Date.now()))}else{const u=c;a.has(u)?o=a.get(u):(o=e.apply(c,i),a.set(u,o))}return o}}var Fc=class extends Error{constructor(e,t,n){super(n),this.name="AptosApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data,this.request=e}},nw={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function rw(e,t,n,r,s,i){const o={...i==null?void 0:i.HEADERS,"x-aptos-client":`aptos-ts-sdk/${qg}`,"content-type":r??"application/json"};return i!=null&&i.TOKEN&&(o.Authorization=`Bearer ${i==null?void 0:i.TOKEN}`),await $g({url:e,method:t,body:n,params:s,headers:o,overrides:i})}async function Cc(e){const{url:t,endpoint:n,method:r,body:s,contentType:i,params:o,overrides:c}=e,a=`${t}/${n??""}`,u=await rw(a,r,s,i,o,c),h={status:u.status,statusText:u.statusText,data:u.data,headers:u.headers,config:u.config,url:a};if(h.status>=200&&h.status<300)return h;const p=nw[h.status];throw new Fc(e,h,p??"Generic Error")}async function _t(e){return await Cc({...e,method:"GET"})}async function Br(e){return await Cc({...e,method:"POST"})}async function Kl(e){const t=[];let n;const r=e.params;for(;;){r.start=n;const s=await _t({url:e.url,endpoint:e.endpoint,params:r,originMethod:e.originMethod,overrides:e.overrides});if(n=s.headers["x-aptos-cursor"],delete s.headers,t.push(...s.data),n==null)break}return t}var uc={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},sw={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Zl={"https://fullnode.mainnet.aptoslabs.com/v1":"mainnet","https://fullnode.testnet.aptoslabs.com/v1":"testnet","https://fullnode.devnet.aptoslabs.com/v1":"devnet"},Bd=(e=>(e.MAINNET="mainnet",e.TESTNET="testnet",e.DEVNET="devnet",e))(Bd||{}),Y=class{static fromBuffer(e){return Y.fromUint8Array(e)}static fromUint8Array(e){return new Y(hd(e))}static ensure(e){return typeof e=="string"?new Y(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(fd(this.noPrefix()))}},we={};aa(we,{AccountAddress:()=>De,AccountAuthenticator:()=>yr,AccountAuthenticatorEd25519:()=>Lc,AccountAuthenticatorMultiEd25519:()=>zc,ArgumentABI:()=>yi,AuthenticationKey:()=>jr,ChainId:()=>ya,ChangeSet:()=>xw,Ed25519PublicKey:()=>en,Ed25519Signature:()=>xn,EntryFunction:()=>Rr,EntryFunctionABI:()=>As,FeePayerRawTransaction:()=>pa,Identifier:()=>dt,Module:()=>Dd,ModuleId:()=>zr,MultiAgentRawTransaction:()=>fa,MultiEd25519PublicKey:()=>fi,MultiEd25519Signature:()=>la,MultiSig:()=>$c,MultiSigTransactionPayload:()=>Vc,RawTransaction:()=>Yr,RawTransactionWithData:()=>Wc,RotationProofChallenge:()=>Tw,Script:()=>ha,ScriptABI:()=>Ia,SignedTransaction:()=>pi,StructTag:()=>Tr,Transaction:()=>Rd,TransactionArgument:()=>yn,TransactionArgumentAddress:()=>Ta,TransactionArgumentBool:()=>ka,TransactionArgumentU128:()=>xa,TransactionArgumentU16:()=>ba,TransactionArgumentU256:()=>Sa,TransactionArgumentU32:()=>_a,TransactionArgumentU64:()=>va,TransactionArgumentU8:()=>ma,TransactionArgumentU8Vector:()=>Ea,TransactionAuthenticator:()=>Rs,TransactionAuthenticatorEd25519:()=>ua,TransactionAuthenticatorFeePayer:()=>Oc,TransactionAuthenticatorMultiAgent:()=>Rc,TransactionAuthenticatorMultiEd25519:()=>da,TransactionPayload:()=>gi,TransactionPayloadEntryFunction:()=>wa,TransactionPayloadMultisig:()=>Hc,TransactionPayloadScript:()=>ga,TransactionScriptABI:()=>Aa,TypeArgumentABI:()=>wi,TypeTag:()=>ht,TypeTagAddress:()=>Sr,TypeTagBool:()=>Hr,TypeTagParser:()=>Gr,TypeTagParserError:()=>Cd,TypeTagSigner:()=>jc,TypeTagStruct:()=>Zr,TypeTagU128:()=>Kr,TypeTagU16:()=>Os,TypeTagU256:()=>zs,TypeTagU32:()=>Ls,TypeTagU64:()=>Qr,TypeTagU8:()=>Kn,TypeTagVector:()=>js,UserTransaction:()=>Qc,WriteSet:()=>Sw,objectStructTag:()=>mw,optionStructTag:()=>yw,stringStructTag:()=>Pc});var Nd={};aa(Nd,{Deserializer:()=>Dc,Serializer:()=>Ke,bcsSerializeBool:()=>pw,bcsSerializeBytes:()=>ar,bcsSerializeFixedBytes:()=>ww,bcsSerializeStr:()=>gw,bcsSerializeU128:()=>hw,bcsSerializeU16:()=>uw,bcsSerializeU256:()=>fw,bcsSerializeU32:()=>dw,bcsSerializeU8:()=>dc,bcsSerializeUint64:()=>lw,bcsToBytes:()=>Bn,deserializeVector:()=>Tt,serializeVector:()=>ut,serializeVectorWithFunc:()=>cw});var iw=2**8-1,ow=2**16-1,ri=2**32-1,bs=BigInt(2**64)-BigInt(1),Fd=BigInt(2**128)-BigInt(1),aw=BigInt(2**256)-BigInt(1),Ke=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,n){this.ensureBufferWillHandleSize(t);const r=new DataView(this.buffer,this.offset);e.apply(r,[0,n,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(ri),n=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(n))}serializeU128(e){const t=BigInt(e.toString())&bs,n=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(n)}serializeU256(e){const t=BigInt(e.toString())&Fd,n=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(n)}serializeU32AsUleb128(e){let t=e;const n=[];for(;t>>>7;)n.push(t&127|128),t>>>=7;n.push(t),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};Oe([Wr(0,iw)],Ke.prototype,"serializeU8",1);Oe([Wr(0,ow)],Ke.prototype,"serializeU16",1);Oe([Wr(0,ri)],Ke.prototype,"serializeU32",1);Oe([Wr(BigInt(0),bs)],Ke.prototype,"serializeU64",1);Oe([Wr(BigInt(0),Fd)],Ke.prototype,"serializeU128",1);Oe([Wr(BigInt(0),aw)],Ke.prototype,"serializeU256",1);Oe([Wr(0,ri)],Ke.prototype,"serializeU32AsUleb128",1);function Wr(e,t,n){return(r,s,i)=>{const o=i.value;return i.value=function(a){const u=BigInt(a.toString());if(u>BigInt(t.toString())||u<BigInt(e.toString()))throw new Error(n||"Value is out of range");o.apply(this,[a])},i}}var Dc=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<ri;){const n=this.deserializeU8();if(e|=BigInt(n&127)<<BigInt(t),!(n&128))break;t+=7}if(e>ri)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function ut(e,t){t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)})}function cw(e,t){const n=new Ke;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(s=>{r.call(n,s)}),n.getBytes()}function Tt(e,t){const n=e.deserializeUleb128AsU32(),r=[];for(let s=0;s<n;s+=1)r.push(t.deserialize(e));return r}function Bn(e){const t=new Ke;return e.serialize(t),t.getBytes()}function lw(e){const t=new Ke;return t.serializeU64(e),t.getBytes()}function dc(e){const t=new Ke;return t.serializeU8(e),t.getBytes()}function uw(e){const t=new Ke;return t.serializeU16(e),t.getBytes()}function dw(e){const t=new Ke;return t.serializeU32(e),t.getBytes()}function hw(e){const t=new Ke;return t.serializeU128(e),t.getBytes()}function fw(e){const t=new Ke;return t.serializeU256(e),t.getBytes()}function pw(e){const t=new Ke;return t.serializeBool(e),t.getBytes()}function gw(e){const t=new Ke;return t.serializeStr(e),t.getBytes()}function ar(e){const t=new Ke;return t.serializeBytes(e),t.getBytes()}function ww(e){const t=new Ke;return t.serializeFixedBytes(e),t.getBytes()}var Yt=class{constructor(e){if(e.length!==Yt.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=Y.ensure(e);t.noPrefix().length%2!==0&&(t=new Y(`0${t.noPrefix()}`));const n=t.toUint8Array();if(n.length>Yt.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===Yt.LENGTH)return new Yt(n);const r=new Uint8Array(Yt.LENGTH);return r.set(n,Yt.LENGTH-n.length),new Yt(r)}static isValid(e){if(e==="")return!1;let t=Y.ensure(e);return t.noPrefix().length%2!==0&&(t=new Y(`0${t.noPrefix()}`)),t.toUint8Array().length<=Yt.LENGTH}toHexString(){return Y.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new Yt(e.deserializeFixedBytes(Yt.LENGTH))}static standardizeAddress(e){const t=e.toLowerCase();return`0x${(t.startsWith("0x")?t.slice(2):t).padStart(64,"0")}`}},De=Yt;De.LENGTH=32;De.CORE_CODE_ADDRESS=Yt.fromHex("0x1");var wo=class{constructor(e){if(e.length!==wo.LENGTH)throw new Error(`Ed25519PublicKey length should be ${wo.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new wo(t)}},en=wo;en.LENGTH=32;var yo=class{constructor(e){if(this.value=e,e.length!==yo.LENGTH)throw new Error(`Ed25519Signature length should be ${yo.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new yo(t)}},xn=yo;xn.LENGTH=64;var hc=32,fi=class{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>hc)throw new Error(`"threshold" cannot be larger than ${hc}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*en.LENGTH+1);return this.public_keys.forEach((t,n)=>{e.set(t.value,n*en.LENGTH)}),e[this.public_keys.length*en.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),n=t[t.length-1],r=[];for(let s=0;s<t.length-1;s+=en.LENGTH){const i=s;r.push(new en(t.subarray(i,i+en.LENGTH)))}return new fi(r,n)}},Zs=class{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==Zs.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Zs.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*xn.LENGTH+Zs.BITMAP_LEN);return this.signatures.forEach((t,n)=>{e.set(t.value,n*xn.LENGTH)}),e.set(this.bitmap,this.signatures.length*xn.LENGTH),e}static createBitmap(e){const n=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach(s=>{if(s>=hc)throw new Error(`Invalid bit value ${s}.`);if(r.has(s))throw new Error("Duplicated bits detected.");r.add(s);const i=Math.floor(s/8);let o=n[i];o|=128>>s%8,n[i]=o}),n}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),n=t.subarray(t.length-4),r=[];for(let s=0;s<t.length-n.length;s+=xn.LENGTH){const i=s;r.push(new xn(t.subarray(i,i+xn.LENGTH)))}return new Zs(r,n)}},la=Zs;la.BITMAP_LEN=4;var Rs=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ua.load(e);case 1:return da.load(e);case 2:return Rc.load(e);case 3:return Oc.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},ua=class extends Rs{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=en.deserialize(e),n=xn.deserialize(e);return new ua(t,n)}},da=class extends Rs{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=fi.deserialize(e),n=la.deserialize(e);return new da(t,n)}},Rc=class extends Rs{constructor(e,t,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=n}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),ut(this.secondary_signer_addresses,e),ut(this.secondary_signers,e)}static load(e){const t=yr.deserialize(e),n=Tt(e,De),r=Tt(e,yr);return new Rc(t,n,r)}},Oc=class extends Rs{constructor(e,t,n,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=n,this.fee_payer=r}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),ut(this.secondary_signer_addresses,e),ut(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){const t=yr.deserialize(e),n=Tt(e,De),r=Tt(e,yr),s=De.deserialize(e),i=yr.deserialize(e),o={address:s,authenticator:i};return new Oc(t,n,r,o)}},yr=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Lc.load(e);case 1:return zc.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},Lc=class extends yr{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=en.deserialize(e),n=xn.deserialize(e);return new Lc(t,n)}},zc=class extends yr{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=fi.deserialize(e),n=la.deserialize(e);return new zc(t,n)}},dt=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const t=e.deserializeStr();return new dt(t)}},ht=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Hr.load(e);case 1:return Kn.load(e);case 2:return Qr.load(e);case 3:return Kr.load(e);case 4:return Sr.load(e);case 5:return jc.load(e);case 6:return js.load(e);case 7:return Zr.load(e);case 8:return Os.load(e);case 9:return Ls.load(e);case 10:return zs.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},Hr=class extends ht{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Hr}},Kn=class extends ht{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Kn}},Os=class extends ht{serialize(e){e.serializeU32AsUleb128(8)}static load(e){return new Os}},Ls=class extends ht{serialize(e){e.serializeU32AsUleb128(9)}static load(e){return new Ls}},Qr=class extends ht{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Qr}},Kr=class extends ht{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Kr}},zs=class extends ht{serialize(e){e.serializeU32AsUleb128(10)}static load(e){return new zs}},Sr=class extends ht{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Sr}},jc=class extends ht{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new jc}},js=class extends ht{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const t=ht.deserialize(e);return new js(t)}},Zr=class extends ht{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const t=Tr.deserialize(e);return new Zr(t)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===De.CORE_CODE_ADDRESS.toHexString()}},Tr=class{constructor(e,t,n,r){this.address=e,this.module_name=t,this.name=n,this.type_args=r}static fromString(e){const t=new Gr(e).parseTypeTag();return new Tr(t.value.address,t.value.module_name,t.value.name,t.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),ut(this.type_args,e)}static deserialize(e){const t=De.deserialize(e),n=dt.deserialize(e),r=dt.deserialize(e),s=Tt(e,ht);return new Tr(t,n,r,s)}},Pc=new Tr(De.fromHex("0x1"),new dt("string"),new dt("String"),[]);function yw(e){return new Tr(De.fromHex("0x1"),new dt("option"),new dt("Option"),[e])}function mw(e){return new Tr(De.fromHex("0x1"),new dt("object"),new dt("Object"),[e])}function cr(e){throw new Cd(e)}function Gl(e){return!!e.match(/\s/)}function Yl(e){return!!e.match(/[_A-Za-z0-9]/g)}function bw(e){return!!e.match(/T\d+/g)}function _w(e,t){const n=e[t];if(n===":"){if(e.slice(t,t+2)==="::")return[["COLON","::"],2];cr("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(Gl(n)){let r="";for(let s=t;s<e.length;s+=1){const i=e[s];if(Gl(i))r=`${r}${i}`;else break}return[["SPACE",r],r.length]}else if(Yl(n)){let r="";for(let s=t;s<e.length;s+=1){const i=e[s];if(Yl(i))r=`${r}${i}`;else break}return bw(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function vw(e){let t=0;const n=[];for(;t<e.length;){const[r,s]=_w(e,t);r[0]!=="SPACE"&&n.push(r),t+=s}return n}var Gr=class{constructor(e,t){this.typeTags=[],this.tokens=vw(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();(!t||t[1]!==e)&&cr("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"&&this.consumeWholeGeneric(),this.tokens.shift();this.consume(">")}parseCommaList(e,t){const n=[];for(this.tokens.length<=0&&cr("Invalid type tag.");this.tokens[0][1]!==e&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&cr("Invalid type tag.");return n}parseTypeTag(){this.tokens.length===0&&cr("Invalid type tag.");const[e,t]=this.tokens.shift();if(t==="u8")return new Kn;if(t==="u16")return new Os;if(t==="u32")return new Ls;if(t==="u64")return new Qr;if(t==="u128")return new Kr;if(t==="u256")return new zs;if(t==="bool")return new Hr;if(t==="address")return new Sr;if(t==="vector"){this.consume("<");const n=this.parseTypeTag();return this.consume(">"),new js(n)}if(t==="string")return Pc;if(e==="IDENT"&&(t.startsWith("0x")||t.startsWith("0X"))){const n=De.fromHex(t);this.consume("::");const[r,s]=this.tokens.shift();r!=="IDENT"&&cr("Invalid type tag."),this.consume("::");const[i,o]=this.tokens.shift();if(i!=="IDENT"&&cr("Invalid type tag."),De.CORE_CODE_ADDRESS.toHexString()===n.toHexString()&&s==="object"&&o==="Object")return this.consumeWholeGeneric(),new Sr;let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const a=new Tr(n,new dt(s),new dt(o),c);return new Zr(a)}if(e==="GENERIC"){this.typeTags.length===0&&cr("Can't convert generic type since no typeTags were specified.");const n=parseInt(t.substring(1),10);return new Gr(this.typeTags[n]).parseTypeTag()}throw new Error("Invalid type tag.")}},Cd=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},Yr=class{constructor(e,t,n,r,s,i,o){this.sender=e,this.sequence_number=t,this.payload=n,this.max_gas_amount=r,this.gas_unit_price=s,this.expiration_timestamp_secs=i,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const t=De.deserialize(e),n=e.deserializeU64(),r=gi.deserialize(e),s=e.deserializeU64(),i=e.deserializeU64(),o=e.deserializeU64(),c=ya.deserialize(e);return new Yr(t,n,r,s,i,o,c)}},ha=class{constructor(e,t,n){this.code=e,this.ty_args=t,this.args=n}serialize(e){e.serializeBytes(this.code),ut(this.ty_args,e),ut(this.args,e)}static deserialize(e){const t=e.deserializeBytes(),n=Tt(e,ht),r=Tt(e,yn);return new ha(t,n,r)}},Rr=class{constructor(e,t,n,r){this.module_name=e,this.function_name=t,this.ty_args=n,this.args=r}static natural(e,t,n,r){return new Rr(zr.fromStr(e),new dt(t),n,r)}static natual(e,t,n,r){return Rr.natural(e,t,n,r)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),ut(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(e){const t=zr.deserialize(e),n=dt.deserialize(e),r=Tt(e,ht),s=e.deserializeUleb128AsU32(),i=[];for(let c=0;c<s;c+=1)i.push(e.deserializeBytes());const o=i;return new Rr(t,n,r,o)}},Vc=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new Vc(Rr.deserialize(e))}},$c=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const t=De.deserialize(e),n=e.deserializeBool();let r;return n&&(r=Vc.deserialize(e)),new $c(t,r)}},Dd=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const t=e.deserializeBytes();return new Dd(t)}},zr=class{constructor(e,t){this.address=e,this.name=t}static fromStr(e){const t=e.split("::");if(t.length!==2)throw new Error("Invalid module id.");return new zr(De.fromHex(new Y(t[0])),new dt(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const t=De.deserialize(e),n=dt.deserialize(e);return new zr(t,n)}},xw=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},Sw=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},pi=class{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const t=Yr.deserialize(e),n=Rs.deserialize(e);return new pi(t,n)}},Wc=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return fa.load(e);case 1:return pa.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},fa=class extends Wc{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),ut(this.secondary_signer_addresses,e)}static load(e){const t=Yr.deserialize(e),n=Tt(e,De);return new fa(t,n)}},pa=class extends Wc{constructor(e,t,n){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=n}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),ut(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(e){const t=Yr.deserialize(e),n=Tt(e,De),r=De.deserialize(e);return new pa(t,n,r)}},gi=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ga.load(e);case 2:return wa.load(e);case 3:return Hc.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},ga=class extends gi{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const t=ha.deserialize(e);return new ga(t)}},wa=class extends gi{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const t=Rr.deserialize(e);return new wa(t)}},Hc=class extends gi{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=$c.deserialize(e);return new Hc(t)}},ya=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const t=e.deserializeU8();return new ya(t)}},yn=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ma.load(e);case 1:return va.load(e);case 2:return xa.load(e);case 3:return Ta.load(e);case 4:return Ea.load(e);case 5:return ka.load(e);case 6:return ba.load(e);case 7:return _a.load(e);case 8:return Sa.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},ma=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const t=e.deserializeU8();return new ma(t)}},ba=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const t=e.deserializeU16();return new ba(t)}},_a=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const t=e.deserializeU32();return new _a(t)}},va=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const t=e.deserializeU64();return new va(t)}},xa=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const t=e.deserializeU128();return new xa(t)}},Sa=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const t=e.deserializeU256();return new Sa(t)}},Ta=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=De.deserialize(e);return new Ta(t)}},Ea=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const t=e.deserializeBytes();return new Ea(t)}},ka=class extends yn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const t=e.deserializeBool();return new ka(t)}},Rd=class{getHashSalt(){const t=Is.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return Qc.load(t);default:throw new Error(`Unknown variant index for Transaction: ${n}`)}}},Qc=class extends Rd{constructor(e){super(),this.value=e}hash(){const e=Is.create();return e.update(this.getHashSalt()),e.update(Bn(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new Qc(pi.deserialize(e))}},wi=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const t=e.deserializeStr();return new wi(t)}},yi=class{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const t=e.deserializeStr(),n=ht.deserialize(e);return new yi(t,n)}},Ia=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Aa.load(e);case 1:return As.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Aa=class extends Ia{constructor(e,t,n,r,s){super(),this.name=e,this.doc=t,this.code=n,this.ty_args=r,this.args=s}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),ut(this.ty_args,e),ut(this.args,e)}static load(e){const t=e.deserializeStr(),n=e.deserializeStr(),r=e.deserializeBytes(),s=Tt(e,wi),i=Tt(e,yi);return new Aa(t,n,r,s,i)}},As=class extends Ia{constructor(e,t,n,r,s){super(),this.name=e,this.module_name=t,this.doc=n,this.ty_args=r,this.args=s}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),ut(this.ty_args,e),ut(this.args,e)}static load(e){const t=e.deserializeStr(),n=zr.deserialize(e),r=e.deserializeStr(),s=Tt(e,wi),i=Tt(e,yi);return new As(t,n,r,s,i)}},as=class{constructor(e){if(e.length!==as.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const t=e.toBytes(),n=new Uint8Array(t.length+1);n.set(t),n.set([as.MULTI_ED25519_SCHEME],t.length);const r=Is.create();return r.update(n),new as(r.digest())}static fromEd25519PublicKey(e){const t=e.value,n=new Uint8Array(t.length+1);n.set(t),n.set([as.ED25519_SCHEME],t.length);const r=Is.create();return r.update(n),new as(r.digest())}derivedAddress(){return Y.fromUint8Array(this.bytes)}},jr=as;jr.LENGTH=32;jr.MULTI_ED25519_SCHEME=1;jr.ED25519_SCHEME=0;jr.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Tw=class{constructor(e,t,n,r,s,i,o){this.accountAddress=e,this.moduleName=t,this.structName=n,this.sequenceNumber=r,this.originator=s,this.currentAuthKey=i,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},mo=class{static fromAptosAccountObject(e){return new mo(Y.ensure(e.privateKeyHex).toUint8Array(),e.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(e,t){if(!mo.isValidPath(e))throw new Error("Invalid derivation path");const n=t.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:r}=Id(e,hd(nd(n)));return new mo(r)}constructor(e,t){e?this.signingKey=so.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=so.sign.keyPair(),this.accountAddress=Y.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new en(this.signingKey.publicKey);return jr.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const n=Bn(De.fromHex(e)),r=new Uint8Array([...n,...t,jr.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=Is.create();return s.update(r),Y.fromUint8Array(s.digest())}static getCollectionID(e,t){const n=new TextEncoder().encode(`${e}::${t}`),r=lg.create();return r.update(n),Y.fromUint8Array(r.digest())}pubKey(){return Y.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=so.sign.detached(e,this.signingKey.secretKey);return Y.fromUint8Array(t)}signHexString(e){const t=Y.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const n=Y.ensure(e).toUint8Array(),r=Y.ensure(t).toUint8Array();return so.sign.detached.verify(n,r,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Y.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},si=mo;Oe([ca()],si.prototype,"authKey",1);function Gs(e){return e instanceof si?e.address():Y.ensure(e)}var Od=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  is_fungible_v2
  is_soulbound_v2
  property_version_v1
  table_type_v1
  token_properties_mutated_v1
  amount
  last_transaction_timestamp
  last_transaction_version
  storage_id
  owner_address
  current_token_data {
    token_name
    token_data_id
    token_uri
    token_properties
    supply
    maximum
    last_transaction_version
    last_transaction_timestamp
    largest_property_version_v1
    current_collection {
      collection_name
      creator_address
      description
      uri
      collection_id
      last_transaction_version
      current_supply
      mutable_description
      total_minted_v2
      table_handle_v1
      mutable_uri
    }
  }
}
    `,Ew=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,kw=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,Iw=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,Aw=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${Ew}
${kw}`,Uw=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Mw=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,Bw=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,Nw=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int) {
  current_collections_v2(where: $where_condition, offset: $offset, limit: $limit) {
    collection_id
    token_standard
    collection_name
    creator_address
    current_supply
    description
    uri
  }
}
    `,Fw=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int) {
  current_collection_ownership_v2_view(
    where: $where_condition
    order_by: {last_transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    current_collection {
      creator_address
      collection_name
      token_standard
      collection_id
      description
      table_handle_v1
      uri
      total_minted_v2
      max_supply
    }
    distinct_tokens
    last_transaction_version
  }
}
    `,Cw=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,Dw=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,Rw=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
  }
}
    `,Ow=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${Od}`,Lw=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,zw=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,jw=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!) {
  current_token_ownerships_v2(where: $where_condition) {
    owner_address
  }
}
    `,Pw=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp) {
  current_token_datas_v2(where: $where_condition) {
    token_data_id
    token_name
    token_uri
    token_properties
    token_standard
    largest_property_version_v1
    maximum
    is_fungible_v2
    supply
    last_transaction_version
    last_transaction_timestamp
    current_collection {
      collection_id
      collection_name
      creator_address
      uri
      current_supply
    }
  }
}
    `,Vw=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${Od}`,$w=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!) {
  current_token_ownerships_v2(where: $where_condition) {
    owner_address
  }
}
    `,Ww=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,Hw=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `;function Ua(e,t,n){if(!(t!=null&&t.includes(typeof e)))throw new Error(n||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Ld(e){if(Ua(e,["boolean","string"]),typeof e=="boolean")return e;if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean string.")}function _s(e){if(Ua(e,["number","string"]),typeof e=="number")return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function vs(e){return Ua(e,["number","bigint","string"]),BigInt(e)}function Kc(e,t,n){Zc(e,t,n)}function Zc(e,t,n,r){if(t instanceof Hr)n.serializeBool(Ld(e));else if(t instanceof Kn)n.serializeU8(_s(e));else if(t instanceof Os)n.serializeU16(_s(e));else if(t instanceof Ls)n.serializeU32(_s(e));else if(t instanceof Qr)n.serializeU64(vs(e));else if(t instanceof Kr)n.serializeU128(vs(e));else if(t instanceof zs)n.serializeU256(vs(e));else if(t instanceof Sr)zd(e,n);else if(t instanceof js)Qw(e,t,n);else if(t instanceof Zr)Kw(e,t,n);else throw new Error("Unsupported arg type.")}function zd(e,t){let n;if(typeof e=="string"||e instanceof Y)n=De.fromHex(e);else if(e instanceof De)n=e;else throw new Error("Invalid account address.");n.serialize(t)}function Qw(e,t,n,r){if(t.value instanceof Kn){if(e instanceof Uint8Array){n.serializeBytes(e);return}if(e instanceof Y){n.serializeBytes(e.toUint8Array());return}if(typeof e=="string"){n.serializeStr(e);return}}if(!Array.isArray(e))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(e.length),e.forEach(s=>Zc(s,t.value,n))}function Kw(e,t,n,r){const{address:s,module_name:i,name:o,type_args:c}=t.value,a=`${Y.fromUint8Array(s.address).toShortString()}::${i.value}::${o.value}`;if(a==="0x1::string::String")Ua(e,["string"]),n.serializeStr(e);else if(a==="0x1::object::Object")zd(e,n);else if(a==="0x1::option::Option"){if(c.length!==1)throw new Error(`Option has the wrong number of type arguments ${c.length}`);Zw(e,c[0],n)}else throw new Error("Unsupported struct type in function argument")}function Zw(e,t,n,r){e==null?n.serializeU32AsUleb128(0):(n.serializeU32AsUleb128(1),Zc(e,t,n))}function Gw(e,t){if(t instanceof Hr)return new ka(Ld(e));if(t instanceof Kn)return new ma(_s(e));if(t instanceof Os)return new ba(_s(e));if(t instanceof Ls)return new _a(_s(e));if(t instanceof Qr)return new va(vs(e));if(t instanceof Kr)return new xa(vs(e));if(t instanceof zs)return new Sa(vs(e));if(t instanceof Sr){let n;if(typeof e=="string"||e instanceof Y)n=De.fromHex(e);else if(e instanceof De)n=e;else throw new Error("Invalid account address.");return new Ta(n)}if(t instanceof js&&t.value instanceof Kn){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new Ea(e)}throw new Error("Unknown type for TransactionArgument.")}var Yw="APTOS::RawTransaction",ql="APTOS::RawTransactionWithData",Sn=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,n)}static getSigningMessage(e){const t=Is.create();if(e instanceof Yr)t.update(Yw);else if(e instanceof fa)t.update(ql);else if(e instanceof pa)t.update(ql);else throw new Error("Unknown transaction type.");const n=t.digest(),r=Bn(e),s=new Uint8Array(n.length+r.length);return s.set(n),s.set(r,n.length),s}},bo=class extends Sn{constructor(e,t,n){super(e,n),this.publicKey=t}rawToSigned(e){const t=Sn.getSigningMessage(e),n=this.signingFunction(t),r=new ua(new en(this.publicKey),n);return new pi(e,r)}sign(e){return Bn(this.rawToSigned(e))}},jd=class extends Sn{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Sn.getSigningMessage(e),n=this.signingFunction(t),r=new da(this.publicKey,n);return new pi(e,r)}sign(e){return Bn(this.rawToSigned(e))}},Bo=class{constructor(e,t){this.abiMap=new Map,e.forEach(n=>{const r=new Dc(n),s=Ia.deserialize(r);let i;if(s instanceof As){const o=s,{address:c,name:a}=o.module_name;i=`${Y.fromUint8Array(c.address).toShortString()}::${a.value}::${o.name}`}else i=s.name;if(this.abiMap.has(i))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(i,s)}),this.builderConfig={maxGasAmount:BigInt(Ad),expSecFromNow:Ud,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((n,r)=>{const s=new Ke;return Kc(n,e[r].type_tag,s),s.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((n,r)=>Gw(n,e[r].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,n){const r=t.map(o=>new Gr(o).parseTypeTag());let s;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const i=this.abiMap.get(e);if(i instanceof As){const o=i,c=Bo.toBCSArgs(o.args,n);s=new wa(new Rr(o.module_name,new dt(o.name),r,c))}else if(i instanceof Aa){const o=i,c=Bo.toTransactionArguments(o.args,n);s=new ga(new ha(o.code,r,c))}else throw new Error("Unknown ABI format.");return s}build(e,t,n){const{sender:r,sequenceNumber:s,gasUnitPrice:i,maxGasAmount:o,expSecFromNow:c,chainId:a}=this.builderConfig;if(!i)throw new Error("No gasUnitPrice provided.");const u=r instanceof De?r:De.fromHex(r),h=BigInt(Math.floor(Date.now()/1e3)+Number(c)),p=this.buildTransactionPayload(e,t,n);if(p)return new Yr(u,BigInt(s),p,BigInt(o),BigInt(i),h,new ya(Number(a)));throw new Error("Invalid ABI.")}},Ze=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const n=(await this.aptosClient.getAccountModules(e)).map(s=>s.abi).flatMap(s=>s.exposed_functions.filter(i=>i.is_entry).map(i=>({fullName:`${s.address}::${s.name}::${i.name}`,...i}))),r=new Map;return n.forEach(s=>{r.set(s.fullName,s)}),r}async build(e,t,n){if(e=(x=>x.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[i,o]=e.split("::"),c=await this.fetchABI(i);if(!c.has(e))throw new Error(`${e} doesn't exist.`);const a=c.get(e),h=a.params.filter(x=>x!=="signer"&&x!=="&signer").map((x,k)=>new yi(`var${k}`,new Gr(x,t).parseTypeTag())),p=new As(a.name,zr.fromStr(`${i}::${o}`),"",a.generic_type_params.map((x,k)=>new wi(`${k}`)),h),{sender:m,...w}=this.builderConfig,v=m instanceof De?Y.fromUint8Array(m.address):m,[{sequence_number:b},S,{gas_estimate:N}]=await Promise.all([w!=null&&w.sequenceNumber?Promise.resolve({sequence_number:w==null?void 0:w.sequenceNumber}):this.aptosClient.getAccount(v),w!=null&&w.chainId?Promise.resolve(w==null?void 0:w.chainId):this.aptosClient.getChainId(),w!=null&&w.gasUnitPrice?Promise.resolve({gas_estimate:w==null?void 0:w.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Bo([Bn(p)],{sender:m,sequenceNumber:b,chainId:S,gasUnitPrice:BigInt(N),...w}).build(e,t,n)}};Oe([ew(10*60*1e3)],Ze.prototype,"fetchABI",1);var cs=class{constructor(e,t,n=!1){if(!e)throw new Error("Node URL cannot be empty.");n?this.nodeUrl=e:this.nodeUrl=Xg(e),this.config=t==null?{}:{...t}}async getAccount(e){const{data:t}=await _t({url:this.nodeUrl,endpoint:`accounts/${Y.ensure(e).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return t}async getAccountTransactions(e,t){const{data:n}=await _t({url:this.nodeUrl,endpoint:`accounts/${Y.ensure(e).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:t==null?void 0:t.start,limit:t==null?void 0:t.limit},overrides:{...this.config}});return n}async getAccountModules(e,t){return await Kl({url:this.nodeUrl,endpoint:`accounts/${e}/modules`,params:{ledger_version:t==null?void 0:t.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(e,t,n){const{data:r}=await _t({url:this.nodeUrl,endpoint:`accounts/${Y.ensure(e).hex()}/module/${t}`,originMethod:"getAccountModule",params:{ledger_version:n==null?void 0:n.ledgerVersion},overrides:{...this.config}});return r}async getAccountResources(e,t){return await Kl({url:this.nodeUrl,endpoint:`accounts/${e}/resources`,params:{ledger_version:t==null?void 0:t.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(e,t,n){const{data:r}=await _t({url:this.nodeUrl,endpoint:`accounts/${Y.ensure(e).hex()}/resource/${t}`,originMethod:"getAccountResource",params:{ledger_version:n==null?void 0:n.ledgerVersion},overrides:{...this.config}});return r}static generateBCSTransaction(e,t){return new bo(r=>{const s=e.signBuffer(r);return new we.Ed25519Signature(s.toUint8Array())},e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new bo(r=>{const s=new Uint8Array(64);return new we.Ed25519Signature(s)},e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,n){const r={sender:e};if(n!=null&&n.sequence_number&&(r.sequenceNumber=n.sequence_number),n!=null&&n.gas_unit_price&&(r.gasUnitPrice=n.gas_unit_price),n!=null&&n.max_gas_amount&&(r.maxGasAmount=n.max_gas_amount),n!=null&&n.expiration_timestamp_secs){const i=Number.parseInt(n.expiration_timestamp_secs,10);r.expSecFromNow=i-Math.floor(Date.now()/1e3)}return new Ze(this,r).build(t.function,t.type_arguments,t.arguments)}async signTransaction(e,t){return Promise.resolve(cs.generateBCSTransaction(e,t))}async getEventsByCreationNumber(e,t,n){const{data:r}=await _t({url:this.nodeUrl,endpoint:`accounts/${Y.ensure(e).hex()}/events/${t}`,originMethod:"getEventsByCreationNumber",params:{start:n==null?void 0:n.start,limit:n==null?void 0:n.limit},overrides:{...this.config}});return r}async getEventsByEventHandle(e,t,n,r){const{data:s}=await _t({url:this.nodeUrl,endpoint:`accounts/${Y.ensure(e).hex()}/events/${t}/${n}`,originMethod:"getEventsByEventHandle",params:{start:r==null?void 0:r.start,limit:r==null?void 0:r.limit},overrides:{...this.config}});return s}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,t,n){let r;return e instanceof si?r=cs.generateBCSSimulation(e,t):e instanceof fi?r=new jd(()=>{const{threshold:i}=e,o=[],c=[];for(let u=0;u<i;u+=1)o.push(u),c.push(new we.Ed25519Signature(new Uint8Array(64)));const a=we.MultiEd25519Signature.createBitmap(o);return new we.MultiEd25519Signature(c,a)},e).sign(t):r=new bo(()=>{const i=new Uint8Array(64);return new we.Ed25519Signature(i)},e.toBytes()).sign(t),this.submitBCSSimulation(r,n)}async submitSignedBCSTransaction(e){const{data:t}=await Br({url:this.nodeUrl,body:e,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return t}async submitBCSSimulation(e,t){var n,r,s;const i={estimate_gas_unit_price:(n=t==null?void 0:t.estimateGasUnitPrice)!=null?n:!1,estimate_max_gas_amount:(r=t==null?void 0:t.estimateMaxGasAmount)!=null?r:!1,estimate_prioritized_gas_unit_price:(s=t==null?void 0:t.estimatePrioritizedGasUnitPrice)!=null?s:!1},{data:o}=await Br({url:this.nodeUrl,body:e,endpoint:"transactions/simulate",params:i,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return o}async getTransactions(e){var t;const{data:n}=await _t({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:(t=e==null?void 0:e.start)==null?void 0:t.toString(),limit:e==null?void 0:e.limit},overrides:{...this.config}});return n}async getTransactionByHash(e){const{data:t}=await _t({url:this.nodeUrl,endpoint:`transactions/by_hash/${e}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return t}async getTransactionByVersion(e){const{data:t}=await _t({url:this.nodeUrl,endpoint:`transactions/by_version/${e}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return t}async transactionPending(e){try{return(await this.getTransactionByHash(e)).type==="pending_transaction"}catch(t){if((t==null?void 0:t.status)===404)return!0;throw t}}async waitForTransactionWithResult(e,t){var n,r;const s=(n=t==null?void 0:t.timeoutSecs)!=null?n:Md,i=(r=t==null?void 0:t.checkSuccess)!=null?r:!1;let o=!0,c=0,a;for(;o&&!(c>=s);){try{if(a=await this.getTransactionByHash(e),o=a.type==="pending_transaction",!o)break}catch(u){const h=u instanceof Ut,p=h&&u.status!==404&&u.status>=400&&u.status<500;if(!h||p)throw u}await Jg(1e3),c+=1}if(a===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(o)throw new Pd(`Waiting for transaction ${e} timed out after ${s} seconds`,a);if(!i)return a;if(!(a!=null&&a.success))throw new Vd(`Transaction ${e} committed to the blockchain but execution failed`,a);return a}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){const{data:e}=await _t({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return e}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,n){var r;return(await Br({url:this.nodeUrl,body:t,endpoint:`tables/${e}/item`,originMethod:"getTableItem",params:{ledger_version:(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString()},overrides:{...this.config}})).data}async generateRawTransaction(e,t,n){const[{sequence_number:r},s,{gas_estimate:i}]=await Promise.all([this.getAccount(e),this.getChainId(),n!=null&&n.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:c,expireTimestamp:a}={maxGasAmount:BigInt(Ad),gasUnitPrice:BigInt(i),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Ud),...n};return new we.RawTransaction(we.AccountAddress.fromHex(e),BigInt(r),t,o,c,a,new we.ChainId(s))}async generateSignSubmitTransaction(e,t,n){const r=await this.generateRawTransaction(e.address(),t,n),s=cs.generateBCSTransaction(e,r);return(await this.submitSignedBCSTransaction(s)).hash}async signAndSubmitTransaction(e,t){const n=cs.generateBCSTransaction(e,t);return(await this.submitSignedBCSTransaction(n)).hash}async publishPackage(e,t,n,r){const s=new Ke;ut(n,s);const i=new we.TransactionPayloadEntryFunction(we.EntryFunction.natural("0x1::code","publish_package_txn",[],[ar(t),s.getBytes()]));return this.generateSignSubmitTransaction(e,i,r)}async createResourceAccountAndPublishPackage(e,t,n,r,s){const i=new Ke;ut(r,i);const o=new we.TransactionPayloadEntryFunction(we.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[ar(t),ar(n),i.getBytes()]));return this.generateSignSubmitTransaction(e,o,s)}async generateSignSubmitWaitForTransaction(e,t,n){const r=await this.generateSignSubmitTransaction(e,t,n);return this.waitForTransactionWithResult(r,n)}async estimateGasPrice(){const{data:e}=await _t({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return e}async estimateMaxGasAmount(e){const t=`0x1::coin::CoinStore<${lc}>`,[{gas_estimate:n},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),s=r.find(o=>o.type===t);return BigInt(s.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(e,t,n){const{sequence_number:r,authentication_key:s}=await this.getAccount(e.address()),i=new si(t),o=new we.RotationProofChallenge(we.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(r),we.AccountAddress.fromHex(e.address()),new we.AccountAddress(new Y(s).toUint8Array()),i.pubKey().toUint8Array()),c=Y.fromUint8Array(Bn(o)),a=e.signHexString(c),u=i.signHexString(c),h=new we.TransactionPayloadEntryFunction(we.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[dc(0),ar(e.pubKey().toUint8Array()),dc(0),ar(i.pubKey().toUint8Array()),ar(a.toUint8Array()),ar(u.toUint8Array())])),p=await this.generateRawTransaction(e.address(),h,n),m=cs.generateBCSTransaction(e,p);return this.submitSignedBCSTransaction(m)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=t.data,r=await this.getTableItem(n,{key_type:"address",value_type:"address",key:Y.ensure(e).hex()});return new Y(r)}async getBlockByHeight(e,t){const{data:n}=await _t({url:this.nodeUrl,endpoint:`blocks/by_height/${e}`,originMethod:"getBlockByHeight",params:{with_transactions:t},overrides:{...this.config}});return n}async getBlockByVersion(e,t){const{data:n}=await _t({url:this.nodeUrl,endpoint:`blocks/by_version/${e}`,originMethod:"getBlockByVersion",params:{with_transactions:t},overrides:{...this.config}});return n}async view(e,t){const{data:n}=await Br({url:this.nodeUrl,body:e,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:t},overrides:{...this.config}});return n}clearCache(e){tw(e)}},_e=cs;Oe([Xe],_e.prototype,"getAccount",1);Oe([Xe],_e.prototype,"getAccountTransactions",1);Oe([Xe],_e.prototype,"getAccountModules",1);Oe([Xe],_e.prototype,"getAccountModule",1);Oe([Xe],_e.prototype,"getAccountResources",1);Oe([Xe],_e.prototype,"getAccountResource",1);Oe([Xe],_e.prototype,"getEventsByCreationNumber",1);Oe([Xe],_e.prototype,"getEventsByEventHandle",1);Oe([Xe],_e.prototype,"submitSignedBCSTransaction",1);Oe([Xe],_e.prototype,"submitBCSSimulation",1);Oe([Xe],_e.prototype,"getTransactions",1);Oe([Xe],_e.prototype,"getTransactionByHash",1);Oe([Xe],_e.prototype,"getTransactionByVersion",1);Oe([Xe],_e.prototype,"getLedgerInfo",1);Oe([ca()],_e.prototype,"getChainId",1);Oe([Xe],_e.prototype,"getTableItem",1);Oe([Xe,ca({ttlMs:5*60*1e3,tags:["gas_estimates"]})],_e.prototype,"estimateGasPrice",1);Oe([Xe],_e.prototype,"estimateMaxGasAmount",1);Oe([Xe],_e.prototype,"getBlockByHeight",1);Oe([Xe],_e.prototype,"getBlockByVersion",1);Oe([Xe],_e.prototype,"view",1);var Pd=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},Vd=class extends Error{constructor(e,t){super(e),this.transaction=t}},Ut=class extends Error{constructor(e,t,n,r){super(t),this.status=e,this.message=t,this.errorCode=n,this.vmErrorCode=r}};function Xe(e,t,n){const r=n.value;return n.value=async function(...i){var o,c;try{return await r.apply(this,[...i])}catch(a){throw a instanceof Fc?new Ut(a.status,JSON.stringify({message:a.message,...a.data}),(o=a.data)==null?void 0:o.error_code,(c=a.data)==null?void 0:c.vm_error_code):a}},n}var et=class{constructor(e,t){this.endpoint=e,this.config=t}static validateAddress(e){if(e.length<66)throw new Error(`${e} is less than 66 chars long.`)}async queryIndexer(e){const t=await Br({url:this.endpoint,body:e,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(t.data.errors)throw new Ut(t.data.errors[0].extensions.code,JSON.stringify({message:t.data.errors[0].message,error_code:t.data.errors[0].extensions.code}));return t.data.data}async getIndexerLedgerInfo(){const e={query:Dw};return this.queryIndexer(e)}async getAccountNFTs(e,t){const n=Y.ensure(e).hex();et.validateAddress(n);const r={query:Aw,variables:{address:n,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(r)}async getTokenActivities(e,t){const n={query:Lw,variables:{idHash:e,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(n)}async getAccountCoinsData(e,t){const n=Y.ensure(e).hex();et.validateAddress(n);const r={query:Iw,variables:{owner_address:n,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(r)}async getAccountTokensCount(e){const t=Y.ensure(e).hex();et.validateAddress(t);const n={query:Uw,variables:{owner_address:t}};return this.queryIndexer(n)}async getAccountTransactionsCount(e){const t=Y.ensure(e).hex();et.validateAddress(t);const n={query:Mw,variables:{address:t}};return this.queryIndexer(n)}async getAccountTransactionsData(e,t){const n=Y.ensure(e).hex();et.validateAddress(n);const r={query:Bw,variables:{address:n,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(r)}async getDelegatedStakingActivities(e,t){const n=Y.ensure(e).hex(),r=Y.ensure(t).hex();et.validateAddress(n),et.validateAddress(r);const s={query:Cw,variables:{delegatorAddress:n,poolAddress:r}};return this.queryIndexer(s)}async getTokenActivitiesCount(e){const t={query:zw,variables:{token_id:e}};return this.queryIndexer(t)}async getTokenData(e,t){const n=Y.ensure(e).hex();et.validateAddress(n);const r={token_data_id:{_eq:n}};t!=null&&t.tokenStandard&&(r.token_standard={_eq:t==null?void 0:t.tokenStandard});const s={query:Pw,variables:{where_condition:r}};return this.queryIndexer(s)}async getTokenOwnersData(e,t,n){const r=Y.ensure(e).hex();et.validateAddress(r);const s={token_data_id:{_eq:r}};t&&(s.property_version_v1={_eq:t}),n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});const i={query:$w,variables:{where_condition:s}};return this.queryIndexer(i)}async getTokenCurrentOwnerData(e,t,n){const r=Y.ensure(e).hex();et.validateAddress(r);const s={token_data_id:{_eq:r},amount:{_gt:"0"}};t&&(s.property_version_v1={_eq:t}),n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});const i={query:jw,variables:{where_condition:s}};return this.queryIndexer(i)}async getTopUserTransactions(e){const t={query:Ww,variables:{limit:e}};return this.queryIndexer(t)}async getUserTransactions(e,t){const n={query:Hw,variables:{start_version:e,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(n)}async getNumberOfDelegators(e){const t=Y.ensure(e).hex();et.validateAddress(t);const n={query:Rw,variables:{poolAddress:t}};return this.queryIndexer(n)}async getOwnedTokens(e,t){var n,r;const s=Y.ensure(e).hex();et.validateAddress(s);const i={owner_address:{_eq:s},amount:{_gt:0}};t!=null&&t.tokenStandard&&(i.token_standard={_eq:t==null?void 0:t.tokenStandard});const o={query:Ow,variables:{where_condition:i,offset:(n=t==null?void 0:t.options)==null?void 0:n.offset,limit:(r=t==null?void 0:t.options)==null?void 0:r.limit}};return this.queryIndexer(o)}async getTokenOwnedFromCollectionAddress(e,t,n){var r,s;const i=Y.ensure(e).hex();et.validateAddress(i);const o=Y.ensure(t).hex();et.validateAddress(o);const c={owner_address:{_eq:i},current_token_data:{collection_id:{_eq:o}},amount:{_gt:0}};n!=null&&n.tokenStandard&&(c.token_standard={_eq:n==null?void 0:n.tokenStandard});const a={query:Vw,variables:{where_condition:c,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(s=n==null?void 0:n.options)==null?void 0:s.limit}};return this.queryIndexer(a)}async getTokenOwnedFromCollectionNameAndCreatorAddress(e,t,n,r){const s=await this.getCollectionAddress(n,t,r);return await this.getTokenOwnedFromCollectionAddress(e,s,r)}async getCollectionData(e,t,n){var r,s;const i=Y.ensure(e).hex();et.validateAddress(i);const o={collection_name:{_eq:t},creator_address:{_eq:i}};n!=null&&n.tokenStandard&&(o.token_standard={_eq:n==null?void 0:n.tokenStandard});const c={query:Nw,variables:{where_condition:o,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(s=n==null?void 0:n.options)==null?void 0:s.limit}};return this.queryIndexer(c)}async getCollectionAddress(e,t,n){return(await this.getCollectionData(e,t,n)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(e,t){var n,r;const s=Y.ensure(e).hex();et.validateAddress(s);const i={owner_address:{_eq:s}};t!=null&&t.tokenStandard&&(i.current_collection={token_standard:{_eq:t==null?void 0:t.tokenStandard}});const o={query:Fw,variables:{where_condition:i,offset:(n=t==null?void 0:t.options)==null?void 0:n.offset,limit:(r=t==null?void 0:t.options)==null?void 0:r.limit}};return this.queryIndexer(o)}},ii=class{constructor(e,t,n=!1){let r=null,s=null;if(typeof e=="object"&&qw(e)?(r=e.fullnodeUrl,s=e.indexerUrl,this.network="CUSTOM"):(r=sw[e],s=uc[e],this.network=e),!r||!s)throw new Error("network is not provided");this.aptosClient=new _e(r,t,n),this.indexerClient=new et(s,t)}};function $d(e,t,n){Object.getOwnPropertyNames(t.prototype).forEach(r=>{const s=Object.getOwnPropertyDescriptor(t.prototype,r);s&&(s.value=function(...i){return this[n][r](...i)},Object.defineProperty(e.prototype,r,s))}),Object.getOwnPropertyNames(t).forEach(r=>{const s=Object.getOwnPropertyDescriptor(t,r);s&&(s.value=function(...i){return this[n][r](...i)},!e.hasOwnProperty.call(e,r)&&Object.defineProperty(e,r,s))})}$d(ii,_e,"aptosClient");$d(ii,et,"indexerClient");function qw(e){return e.fullnodeUrl!==void 0&&typeof e.fullnodeUrl=="string"&&e.indexerUrl!==void 0&&typeof e.indexerUrl=="string"}var Wd=class{constructor(e,t){this.type=e,this.value=t}},Gc=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function Yc(e){let t;return e==="string"||e==="String"?t=new Zr(Pc):t=new Gr(e).parseTypeTag(),t}function No(e,t){if(e.length!==t.length)throw new Error("Length of property values and types not match");const n=new Array;return t.forEach((r,s)=>{try{const i=Yc(r),o=new Ke;Kc(e[s],i,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(e[s]))}}),n}function Jl(e,t){if(!e||!t)throw new Error("value or type can not be empty");try{const n=Yc(t),r=new Ke;return Kc(e,n,r),r.getBytes()}catch{return new TextEncoder().encode(e)}}function qc(e){const t=e.map.data,n=new Gc;return t.forEach(r=>{const{key:s}=r,i=r.value.value,o=r.value.type,c=Yc(o),a=Hd(c,i),u=new Wd(o,a);n.setProperty(s,u)}),n}function Hd(e,t){const n=new Dc(new Y(t).toUint8Array());let r="";return e instanceof Kn?r=n.deserializeU8().toString():e instanceof Qr?r=n.deserializeU64().toString():e instanceof Kr?r=n.deserializeU128().toString():e instanceof Hr?r=n.deserializeBool()?"true":"false":e instanceof Sr?r=Y.fromUint8Array(n.deserializeFixedBytes(32)).hex():e instanceof Zr&&e.isStringTypeTag()?r=n.deserializeStr():r=t,r}var Qd={};aa(Qd,{PropertyMap:()=>Gc,PropertyValue:()=>Wd,Token:()=>Zd,TokenData:()=>Kd});var Kd=class{constructor(e,t,n,r,s,i,o,c){this.collection=e,this.description=t,this.name=n,this.maximum=r,this.supply=s,this.uri=i,this.default_properties=qc(o),this.mutability_config=c}},Zd=class{constructor(e,t,n){this.id=e,this.amount=t,this.token_properties=qc(n)}},Jw=class{constructor(e){this.aptosClient=e}async createCollection(e,t,n,r,s=bs,i){const c=await new Ze(this.aptosClient,{sender:e.address(),...i}).build("0x3::token::create_collection_script",[],[t,n,r,s,[!1,!1,!1]]),a=_e.generateBCSTransaction(e,c);return(await this.aptosClient.submitSignedBCSTransaction(a)).hash}async createToken(e,t,n,r,s,i,o=bs,c=e.address(),a=0,u=0,h=[],p=[],m=[],w){const b=await new Ze(this.aptosClient,{sender:e.address(),...w}).build("0x3::token::create_token_script",[],[t,n,r,s,o,i,c,a,u,[!1,!1,!1,!1,!1],h,No(p,m),m]),S=_e.generateBCSTransaction(e,b);return(await this.aptosClient.submitSignedBCSTransaction(S)).hash}async createTokenWithMutabilityConfig(e,t,n,r,s,i,o=bs,c=e.address(),a=0,u=0,h=[],p=[],m=[],w=[!1,!1,!1,!1,!1],v){const S=await new Ze(this.aptosClient,{sender:e.address(),...v}).build("0x3::token::create_token_script",[],[t,n,r,s,o,i,c,a,u,w,h,p,m]),N=_e.generateBCSTransaction(e,S);return(await this.aptosClient.submitSignedBCSTransaction(N)).hash}async offerToken(e,t,n,r,s,i,o=0,c){const u=await new Ze(this.aptosClient,{sender:e.address(),...c}).build("0x3::token_transfers::offer_script",[],[t,n,r,s,o,i]),h=_e.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(h)).hash}async claimToken(e,t,n,r,s,i=0,o){const a=await new Ze(this.aptosClient,{sender:e.address(),...o}).build("0x3::token_transfers::claim_script",[],[t,n,r,s,i]),u=_e.generateBCSTransaction(e,a);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async cancelTokenOffer(e,t,n,r,s,i=0,o){const a=await new Ze(this.aptosClient,{sender:e.address(),...o}).build("0x3::token_transfers::cancel_offer_script",[],[t,n,r,s,i]),u=_e.generateBCSTransaction(e,a);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async directTransferToken(e,t,n,r,s,i,o=0,c){const u=await new Ze(this.aptosClient,{sender:e.address(),...c}).build("0x3::token::direct_transfer_script",[],[n,r,s,o,i]),h=new we.MultiAgentRawTransaction(u,[we.AccountAddress.fromHex(t.address())]),p=new we.Ed25519Signature(e.signBuffer(Sn.getSigningMessage(h)).toUint8Array()),m=new we.AccountAuthenticatorEd25519(new we.Ed25519PublicKey(e.signingKey.publicKey),p),w=new we.Ed25519Signature(t.signBuffer(Sn.getSigningMessage(h)).toUint8Array()),v=new we.AccountAuthenticatorEd25519(new we.Ed25519PublicKey(t.signingKey.publicKey),w),b=new we.TransactionAuthenticatorMultiAgent(m,[we.AccountAddress.fromHex(t.address())],[v]),S=Bn(new we.SignedTransaction(u,b));return(await this.aptosClient.submitSignedBCSTransaction(S)).hash}async directTransferTokenWithFeePayer(e,t,n,r,s,i,o,c=0,a){const h=await new Ze(this.aptosClient,{sender:e.address(),...a}).build("0x3::token::direct_transfer_script",[],[n,r,s,c,i]),p=new we.FeePayerRawTransaction(h,[we.AccountAddress.fromHex(t.address())],we.AccountAddress.fromHex(o.address())),m=new we.Ed25519Signature(e.signBuffer(Sn.getSigningMessage(p)).toUint8Array()),w=new we.AccountAuthenticatorEd25519(new we.Ed25519PublicKey(e.signingKey.publicKey),m),v=new we.Ed25519Signature(t.signBuffer(Sn.getSigningMessage(p)).toUint8Array()),b=new we.AccountAuthenticatorEd25519(new we.Ed25519PublicKey(t.signingKey.publicKey),v),S=new we.Ed25519Signature(o.signBuffer(Sn.getSigningMessage(p)).toUint8Array()),N=new we.AccountAuthenticatorEd25519(new we.Ed25519PublicKey(o.signingKey.publicKey),S),C=new we.TransactionAuthenticatorFeePayer(w,[we.AccountAddress.fromHex(t.address())],[b],{address:we.AccountAddress.fromHex(o.address()),authenticator:N}),x=Bn(new we.SignedTransaction(h,C));return(await this.aptosClient.submitSignedBCSTransaction(x)).hash}async optInTokenTransfer(e,t,n){const s=await new Ze(this.aptosClient,{sender:e.address(),...n}).build("0x3::token::opt_in_direct_transfer",[],[t]),i=_e.generateBCSTransaction(e,s);return(await this.aptosClient.submitSignedBCSTransaction(i)).hash}async transferWithOptIn(e,t,n,r,s,i,o,c){const u=await new Ze(this.aptosClient,{sender:e.address(),...c}).build("0x3::token::transfer_with_opt_in",[],[t,n,r,s,i,o]),h=_e.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(h)).hash}async burnByCreator(e,t,n,r,s,i,o){const a=await new Ze(this.aptosClient,{sender:e.address(),...o}).build("0x3::token::burn_by_creator",[],[t,n,r,s,i]),u=_e.generateBCSTransaction(e,a);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async burnByOwner(e,t,n,r,s,i,o){const a=await new Ze(this.aptosClient,{sender:e.address(),...o}).build("0x3::token::burn",[],[t,n,r,s,i]),u=_e.generateBCSTransaction(e,a);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async mutateTokenProperties(e,t,n,r,s,i,o,c,a,u,h){const m=await new Ze(this.aptosClient,{sender:e.address(),...h}).build("0x3::token::mutate_token_properties",[],[t,n,r,s,i,o,c,a,u]),w=_e.generateBCSTransaction(e,m);return(await this.aptosClient.submitSignedBCSTransaction(w)).hash}async getCollectionData(e,t){const r=(await this.aptosClient.getAccountResources(e)).find(c=>c.type==="0x3::token::Collections"),{handle:s}=r.data.collection_data,i={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:t};return await this.aptosClient.getTableItem(s,i)}async getTokenData(e,t,n){const r=e instanceof Y?e.hex():e,s=await this.aptosClient.getAccountResource(r,"0x3::token::Collections"),{handle:i}=s.data.token_data,c={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:r,collection:t,name:n}},a=await this.aptosClient.getTableItem(i,c);return new Kd(a.collection,a.description,a.name,a.maximum,a.supply,a.uri,a.default_properties,a.mutability_config)}async getToken(e,t,n,r="0"){const s={creator:e instanceof Y?e.hex():e,collection:t,name:n};return this.getTokenForAccount(e,{token_data_id:s,property_version:r})}async getTokenForAccount(e,t){const n=await this.aptosClient.getAccountResource(e instanceof Y?e.hex():e,"0x3::token::TokenStore"),{handle:r}=n.data.tokens,s={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:t};try{const i=await this.aptosClient.getTableItem(r,s);return new Zd(i.id,i.amount,i.token_properties)}catch(i){return(i==null?void 0:i.status)===404?{id:t,amount:"0",token_properties:new Gc}:i}}},Fo=class{constructor(e){this.assetType="0x1::fungible_asset::Metadata",this.provider=e}async transfer(e,t,n,r,s){const i=await this.generateTransfer(e,t,n,r,s);return await this.provider.signAndSubmitTransaction(e,i)}async getPrimaryBalance(e,t){const n={function:"0x1::primary_fungible_store::balance",type_arguments:[this.assetType],arguments:[Y.ensure(e).hex(),Y.ensure(t).hex()]},r=await this.provider.view(n);return BigInt(r[0])}async generateTransfer(e,t,n,r,s){return await new Ze(this.provider,{sender:e.address(),...s}).build("0x1::primary_fungible_store::transfer",[this.assetType],[Y.ensure(t).hex(),Y.ensure(n).hex(),r])}},is={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},Xw=class{constructor(e){this.tokenType="0x4::token::Token",this.provider=e}async submitTransaction(e,t,n,r,s){const o=await new Ze(this.provider,{sender:e.address(),...s}).build(`0x4::aptos_token::${t}`,n,r),c=_e.generateBCSTransaction(e,o);return(await this.provider.submitSignedBCSTransaction(c)).hash}async createCollection(e,t,n,r,s=bs,i,o){var c,a,u,h,p,m,w,v,b,S,N;return this.submitTransaction(e,"create_collection",[],[t,s,n,r,(c=i==null?void 0:i.mutableDescription)!=null?c:!0,(a=i==null?void 0:i.mutableRoyalty)!=null?a:!0,(u=i==null?void 0:i.mutableURI)!=null?u:!0,(h=i==null?void 0:i.mutableTokenDescription)!=null?h:!0,(p=i==null?void 0:i.mutableTokenName)!=null?p:!0,(m=i==null?void 0:i.mutableTokenProperties)!=null?m:!0,(w=i==null?void 0:i.mutableTokenURI)!=null?w:!0,(v=i==null?void 0:i.tokensBurnableByCreator)!=null?v:!0,(b=i==null?void 0:i.tokensFreezableByCreator)!=null?b:!0,(S=i==null?void 0:i.royaltyNumerator)!=null?S:0,(N=i==null?void 0:i.royaltyDenominator)!=null?N:0],o)}async mint(e,t,n,r,s,i=[],o=[],c=[],a){return this.submitTransaction(e,"mint",[],[t,n,r,s,i,o,No(c,o)],a)}async mintSoulBound(e,t,n,r,s,i,o=[],c=[],a=[],u){return this.submitTransaction(e,"mint_soul_bound",[],[t,n,r,s,o,c,No(a,c),i.address().hex()],u)}async burnToken(e,t,n,r){return this.submitTransaction(e,"burn",[n||this.tokenType],[Y.ensure(t).hex()],r)}async freezeTokenTransafer(e,t,n,r){return this.submitTransaction(e,"freeze_transfer",[n||this.tokenType],[Y.ensure(t).hex()],r)}async unfreezeTokenTransafer(e,t,n,r){return this.submitTransaction(e,"unfreeze_transfer",[n||this.tokenType],[Y.ensure(t).hex()],r)}async setTokenDescription(e,t,n,r,s){return this.submitTransaction(e,"set_description",[r||this.tokenType],[Y.ensure(t).hex(),n],s)}async setTokenName(e,t,n,r,s){return this.submitTransaction(e,"set_name",[r||this.tokenType],[Y.ensure(t).hex(),n],s)}async setTokenURI(e,t,n,r,s){return this.submitTransaction(e,"set_uri",[r||this.tokenType],[Y.ensure(t).hex(),n],s)}async addTokenProperty(e,t,n,r,s,i,o){return this.submitTransaction(e,"add_property",[i||this.tokenType],[Y.ensure(t).hex(),n,is[r],Jl(s,is[r])],o)}async removeTokenProperty(e,t,n,r,s){return this.submitTransaction(e,"remove_property",[r||this.tokenType],[Y.ensure(t).hex(),n],s)}async updateTokenProperty(e,t,n,r,s,i,o){return this.submitTransaction(e,"update_property",[i||this.tokenType],[Y.ensure(t).hex(),n,is[r],Jl(s,is[r])],o)}async addTypedProperty(e,t,n,r,s,i,o){return this.submitTransaction(e,"add_typed_property",[i||this.tokenType,is[r]],[Y.ensure(t).hex(),n,s],o)}async updateTypedProperty(e,t,n,r,s,i,o){return this.submitTransaction(e,"update_typed_property",[i||this.tokenType,is[r]],[Y.ensure(t).hex(),n,s],o)}async transferTokenOwnership(e,t,n,r,s){const o=await new Ze(this.provider,{sender:e.address(),...s}).build("0x1::object::transfer",[r||this.tokenType],[Y.ensure(t).hex(),Y.ensure(n).hex()]),c=_e.generateBCSTransaction(e,o);return(await this.provider.submitSignedBCSTransaction(c)).hash}async transfer(e,t){let n=t;if(n==null&&(n=(await this.provider.getTokenData(Y.ensure(e.tokenAddress).hex())).current_token_datas_v2[0].is_fungible_v2),n){const i=e;return await new Fo(this.provider).transfer(i.owner,i.tokenAddress,i.recipient,i.amount,i.extraArgs)}const r=e;return await this.transferTokenOwnership(r.owner,r.tokenAddress,r.recipient,r.tokenType,r.extraArgs)}},e1=class{constructor(e){this.aptosClient=e}async transfer(e,t,n,r){var s,i;if(r!=null&&r.coinType&&De.isValid(r.coinType)){console.warn("to transfer a fungible asset, use `FungibleAssetClient()` class for better support");const w=new ii({fullnodeUrl:this.aptosClient.nodeUrl,indexerUrl:(s=uc[Zl[this.aptosClient.nodeUrl]])!=null?s:this.aptosClient.nodeUrl});return await new Fo(w).transfer(e,r==null?void 0:r.coinType,Gs(t),n)}const o=(i=r==null?void 0:r.coinType)!=null?i:lc,c=r!=null&&r.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",a=Gs(t),h=await new Ze(this.aptosClient,{sender:e.address(),...r}).build(c,[o],[a,n]),p=_e.generateBCSTransaction(e,h);return(await this.aptosClient.submitSignedBCSTransaction(p)).hash}async checkBalance(e,t){var n,r;if(t!=null&&t.coinType&&De.isValid(t.coinType)){console.warn("to check balance of a fungible asset, use `FungibleAssetClient()` class for better support");const a=new ii({fullnodeUrl:this.aptosClient.nodeUrl,indexerUrl:(n=uc[Zl[this.aptosClient.nodeUrl]])!=null?n:this.aptosClient.nodeUrl});return await new Fo(a).getPrimaryBalance(Gs(e),t==null?void 0:t.coinType)}const i=`0x1::coin::CoinStore<${(r=t==null?void 0:t.coinType)!=null?r:lc}>`,o=Gs(e),c=await this.aptosClient.getAccountResource(o,i);return BigInt(c.data.coin.value)}},t1=class extends _e{constructor(e,t,n){if(super(e,n),!t)throw new Error("Faucet URL cannot be empty.");this.faucetUrl=t,this.config=n}async fundAccount(e,t,n=Md){const{data:r}=await Br({url:this.faucetUrl,endpoint:"mint",body:null,params:{address:Y.ensure(e).noPrefix(),amount:t},overrides:{...this.config},originMethod:"fundAccount"}),s=[];for(let i=0;i<r.length;i+=1){const o=r[i];s.push(this.waitForTransaction(o,{timeoutSecs:n}))}return await Promise.all(s),r}},Xl={testnet:"0x5f8fd2347449685cf41d4db97926ec3a096eaf381332be4f1318ad4d16a8497c",mainnet:"0x867ed1f6bf916171b1de3ee92849b8978b7d1b9e0a8cc982a3d19d535dfd9c0c"},or=/^[a-z\d][a-z\d-]{1,61}[a-z\d]$/,n1=new RegExp("^(?:(?<subdomain>[^.]+)\\.(?!apt$))?(?<domain>[^.]+)(?:\\.apt)?$"),r1=class{constructor(e,t){var n;if(this.provider=e,!Xl[this.provider.network]&&!t)throw new Error("Error: For custom providers, you must pass in a contract address");this.contractAddress=(n=Xl[this.provider.network])!=null?n:t}async getPrimaryNameByAddress(e){const n=(await this.provider.getAccountResource(this.contractAddress,`${this.contractAddress}::domains::ReverseLookupRegistryV1`)).data,{handle:r}=n.registry,s={key_type:"address",value_type:`${this.contractAddress}::domains::NameRecordKeyV1`,key:e};try{const i=await this.provider.getTableItem(r,s);return i.subdomain_name.vec[0]?`${i.subdomain_name.vec[0]}.${i.domain_name}`:i.domain_name}catch(i){if(i.status===404)return null;throw new Error(i)}}async getAddressByName(e){var t,n;const{domain:r,subdomain:s}=(n=(t=e.match(n1))==null?void 0:t.groups)!=null?n:{};if(!r)return null;const i=s?await this.getRegistrationForSubdomainName(r,s):await this.getRegistrationForDomainName(r);return i===null?null:i.target}async mintAptosName(e,t,n=1,r){if(t.match(or)===null)throw new Ut(400,`Name ${t} is not valid`);const s=await this.getRegistrationForDomainName(t);if(s&&Math.ceil(Date.now()/1e3)<s.expirationTimestampSeconds)throw new Ut(400,`Name ${t} is not available`);const o=await new Ze(this.provider.aptosClient,{sender:e.address(),...r}).build(`${this.contractAddress}::domains::register_domain`,[],[t,n]),c=_e.generateBCSTransaction(e,o);return(await this.provider.submitSignedBCSTransaction(c)).hash}async mintAptosSubdomain(e,t,n,r,s){if(n.match(or)===null)throw new Ut(400,`Domain name ${n} is not valid`);if(t.match(or)===null)throw new Ut(400,`Subdomain name ${t} is not valid`);const i=await this.getRegistrationForSubdomainName(n,t);if(i&&Math.ceil(Date.now()/1e3)<i.expirationTimestampSeconds)throw new Ut(400,`Name ${t}.${n} is not available`);const o=await this.getRegistrationForDomainName(n);if(o===null)throw new Ut(400,`Domain name ${n} does not exist`);const c=Math.ceil(Date.now()/1e3);if(o.expirationTimestampSeconds<c)throw new Ut(400,`Domain name ${n} expired`);const a=r||o.expirationTimestampSeconds;if(a<c)throw new Ut(400,`Expiration for ${t}.${n} is before now`);const h=await new Ze(this.provider.aptosClient,{sender:e.address(),...s}).build(`${this.contractAddress}::domains::register_subdomain`,[],[t,n,a]),p=_e.generateBCSTransaction(e,h);return(await this.provider.submitSignedBCSTransaction(p)).hash}async setSubdomainAddress(e,t,n,r,s){const i=De.standardizeAddress(r);if(n.match(or)===null)throw new Ut(400,`Name ${n} is not valid`);if(t.match(or)===null)throw new Ut(400,`Name ${t} is not valid`);const c=await new Ze(this.provider.aptosClient,{sender:e.address(),...s}).build(`${this.contractAddress}::domains::set_subdomain_address`,[],[t,n,i]),a=_e.generateBCSTransaction(e,c);return(await this.provider.submitSignedBCSTransaction(a)).hash}async initReverseLookupRegistry(e,t){const r=await new Ze(this.provider.aptosClient,{sender:e.address(),...t}).build(`${this.contractAddress}::domains::init_reverse_lookup_registry_v1`,[],[]),s=_e.generateBCSTransaction(e,r);return(await this.provider.submitSignedBCSTransaction(s)).hash}async getRegistrationForDomainName(e){if(e.match(or)===null)return null;const n=(await this.provider.getAccountResource(this.contractAddress,`${this.contractAddress}::domains::NameRegistryV1`)).data,{handle:r}=n.registry,s={key_type:`${this.contractAddress}::domains::NameRecordKeyV1`,value_type:`${this.contractAddress}::domains::NameRecordV1`,key:{subdomain_name:{vec:[]},domain_name:e}};try{const i=await this.provider.getTableItem(r,s);return{target:i.target_address.vec.length===1?i.target_address.vec[0]:null,expirationTimestampSeconds:i.expiration_time_sec}}catch(i){if(i.status===404)return null;throw new Error(i)}}async getRegistrationForSubdomainName(e,t){if(e.match(or)===null||t.match(or)===null)return null;const r=(await this.provider.getAccountResource(this.contractAddress,`${this.contractAddress}::domains::NameRegistryV1`)).data,{handle:s}=r.registry,i={key_type:`${this.contractAddress}::domains::NameRecordKeyV1`,value_type:`${this.contractAddress}::domains::NameRecordV1`,key:{subdomain_name:{vec:[t]},domain_name:e}};try{const o=await this.provider.getTableItem(s,i);return{target:o.target_address.vec.length===1?o.target_address.vec[0]:null,expirationTimestampSeconds:o.expiration_time_sec}}catch(o){if(o.status===404)return null;throw new Error(o)}}},Gd={};aa(Gd,{AptosErrorCode:()=>Yd,MoveFunctionVisibility:()=>qd,RoleType:()=>Jd});var Yd=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.STATE_VALUE_NOT_FOUND="state_value_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(Yd||{}),qd=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(qd||{}),Jd=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(Jd||{});const s1=Object.freeze(Object.defineProperty({__proto__:null,AnsClient:r1,ApiError:Ut,AptosAccount:si,AptosApiError:Fc,AptosClient:_e,AptosToken:Xw,BCS:Nd,CoinClient:e1,FailedTransactionError:Vd,FaucetClient:t1,FungibleAssetClient:Fo,HexString:Y,IndexerClient:et,Network:Bd,Provider:ii,TokenClient:Jw,TokenTypes:Qd,TransactionBuilder:Sn,TransactionBuilderABI:Bo,TransactionBuilderEd25519:bo,TransactionBuilderMultiEd25519:jd,TransactionBuilderRemoteABI:Ze,TxnBuilderTypes:we,TypeTagParser:Gr,Types:Gd,WaitForTransactionError:Pd,aptosRequest:Cc,derivePath:Id,deserializePropertyMap:qc,deserializeValueBasedOnTypeTag:Hd,get:_t,getAddressFromAccountOrAddress:Gs,getPropertyValueRaw:No,post:Br},Symbol.toStringTag,{value:"Module"})),i1=Ec(s1);var Xd={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.toDecimal=Us.toHuman=void 0;const o1=(e,t,n=3,r=",")=>{if(e.length<t)return e.length+n<t?"0":`0${r}${e.slice(0,Math.min(n,t))}`;{const s=e.length-t,i=`${e.slice(s,Math.min(n,t))}`;return i!==""?`${e.slice(0,s)}${r}${i}`:`${e.slice(0,s)}`}};Us.toHuman=o1;const a1=(e,t,n=".")=>{var r=e.split(n);if(r.length!==2)throw new Error("Invalid number");const s=r[0]==="0"?"":r[0],i=r[1].length<=t?`${r[1]}${"0".repeat(t-r[1].length)}`:`${r[1].slice(0,t)}`;return s+i};Us.toDecimal=a1;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.isUrl=void 0;const c1=e=>!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e);Ma.isUrl=c1;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,c)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),n=Be&&Be.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Us,e),n(Ma,e)})(Xd);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});class l1{constructor(t){E(this,"provider");return this.provider=t,this}}Jc.default=l1;var mr={},mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.createReponse=void 0;const u1=(e,t,n)=>({method:e,status:t,data:n});mi.createReponse=u1;Object.defineProperty(mr,"__esModule",{value:!0});mr.MartianMask=mr.MartianMaskToken=mr.MartianMaskSDK=void 0;const He=mi;class eh{constructor(t){E(this,"provider");this.provider=t}async getAccountResources(t,n){const r=await this.provider.getAccountResources(t);return(0,He.createReponse)("getAccountResources",200,r)}async getAccount(t){const n=await this.provider.getAccount(t);return(0,He.createReponse)("getAccount",200,n)}async getTransactions(t){let n=null;return t?n=await this.provider.getTransactions(t):n=await this.provider.getTransactions(),(0,He.createReponse)("getTransactions",200,n)}async getAccountTransactions(t,n){const r=await this.provider.getAccountTransactions(t);return(0,He.createReponse)("getAccountTransactions",200,r)}async getTransactionByHash(t){const n=await this.provider.getTransaction(t);return(0,He.createReponse)("getTransactionByHash",200,n)}async getChainId(){const t=await this.provider.getChainId();return(0,He.createReponse)("getChainId",200,t)}}mr.MartianMaskSDK=eh;class th{constructor(t){E(this,"provider");this.provider=t}async createCollection(t,n,r,s){const i=await this.provider.createCollection(t,n,r);return(0,He.createReponse)("createCollection",200,i)}async createToken(t,n,r,s,i,o,c,a,u,h,p,m){const w=await this.provider.createToken(t,n,r,s,i,1);return(0,He.createReponse)("createToken",200,w)}}mr.MartianMaskToken=th;class d1{constructor(t){E(this,"provider");E(this,"user");E(this,"sdk");E(this,"token");this.provider=t,this.sdk=new eh(t),this.token=new th(t)}setUser(t){this.user=t}async reConnect(){const t=await this.provider.connect();if(t){const n={address:t.address,publicKey:t.publicKey};this.setUser(n)}}async connect(){const t=await this.provider.connect();if(t){const n={address:t.address,publicKey:t.publicKey};this.setUser(n)}return(0,He.createReponse)("connect",200,t)}async disconnect(){const t=await this.provider.disconnect();return this.setUser(null),(0,He.createReponse)("disconnect",200,t)}async isConnected(){return this.user.address&&this.user.publicKey?(0,He.createReponse)("isConnected",200,!0):(0,He.createReponse)("isConnected",200,!1)}async account(){return this.user||await this.reConnect(),(0,He.createReponse)("account",200,this.user)}async getNetwork(){const t=await this.provider.network();return console.log("7s62::getNetwork:",t),(0,He.createReponse)("getNetwork",200,t)}async getNetworkURL(){const t=await this.provider.network();return console.log("7s62::getNetworkURL:",t),(0,He.createReponse)("getNetworkURL",200,t)}async getBalance(){console.log("7s62::getBalance");const t=await this.provider.legacy.getAccountBalance();return console.log("7s62::getBalance:",t),(0,He.createReponse)("getAccountBalance",200,t)}async generateTransaction(t,n){console.log("7s62::generateTransaction"),this.user||await this.reConnect();const r=await this.provider.generateTransaction(this.user.address,t);return(0,He.createReponse)("generateTransaction",200,r)}async signTransaction(t){const n=await this.provider.signTransaction(t);return(0,He.createReponse)("signTransaction",200,n)}async submitTransaction(t){const n=await this.provider.submitTransaction(t);return(0,He.createReponse)("submitTransaction",200,n)}async generateSignSubmitTransaction(t,n){console.log("7s62::generateSignSubmitTransaction"),this.user||await this.reConnect();const r=await this.provider.generateTransaction(this.user.address,t),s=await this.provider.signTransaction(r),i=await this.provider.submitTransaction(s);return(0,He.createReponse)("generateSignSubmitTransaction",200,i)}async signAndSubmitTransaction(t){const n=await this.provider.signAndSubmitTransaction(t);return(0,He.createReponse)("signAndSubmit",200,n)}async signMessage(t){const n=await this.provider.signMessage(t);return(0,He.createReponse)("signMessage",200,n)}async createCollection(t,n,r,s){const i=await this.provider.createCollection(t,n,r,s);return(0,He.createReponse)("createCollection",200,i)}async createToken(t,n,r,s,i,o,c,a,u,h,p,m){const w=await this.provider.createToken(t,n,r,s,i,o,c,a,u,h,p,m);return(0,He.createReponse)("createToken",200,w)}async getTransactionByHash(t){const n=await this.provider.getTransaction(t);return(0,He.createReponse)("getTransactionByHash",200,n)}async getLedgerInfo(){const t=await this.provider.getLedgerInfo();return(0,He.createReponse)("getLedgerInfo",200,t)}}mr.MartianMask=d1;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.PetraMask=void 0;const ln=mi;class h1{constructor(t){E(this,"provider");this.provider=t}async connect(){if(await this.provider.connect()){const n=await this.provider.account();return(0,ln.createReponse)("connect",200,n)}return(0,ln.createReponse)("connect",400,null)}async account(){if(await this.provider.isConnected()){const n=await this.provider.account();return(0,ln.createReponse)("isConnected",200,n)}return(0,ln.createReponse)("isConnected",400,null)}async isConnected(){const t=await this.provider.isConnected();return(0,ln.createReponse)("isConnected",200,t)}async disconnect(){return await this.provider.disconnect()?(0,ln.createReponse)("disconnect",200,!0):(0,ln.createReponse)("disconnect",400,!1)}async getNetwork(){const t=await this.provider.network();return(0,ln.createReponse)("network",200,t)}async signAndSubmitTransaction(t){const n=await this.provider.signAndSubmitTransaction(t);return(0,ln.createReponse)("signAndSubmitTransaction",200,n)}async signTransaction(t){const n=await this.provider.signTransaction(t);return(0,ln.createReponse)("signTransaction",200,n)}async signMessage(t){const n=await this.provider.signMessage(t);return(0,ln.createReponse)("signMessage",200,n)}}Ba.PetraMask=h1;var f1=Be&&Be.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),p1=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nh=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&f1(t,e,n);return p1(t,e),t},g1=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wr,"__esModule",{value:!0});wr.Web3Provider=wr.utils=wr.Aptos=void 0;const w1=nh(i1);wr.Aptos=w1;const y1=nh(Xd);wr.utils=y1;const Ys=g1(Jc);wr.Web3Provider=Ys.default;const m1=mr,b1=Ba;class _1{constructor(t){E(this,"action");return t?t.isFewcha?this.action=new Ys.default(t).provider:t._isConnected!==void 0?this.action=new m1.MartianMask(t):this.action=new b1.PetraMask(t):(this.action=new Ys.default(window.fewcha).provider,window.addEventListener("fewcha#initialized",()=>{this.action=new Ys.default(window.fewcha).provider}),window.addEventListener("martian#initialized",()=>{this.action=new Ys.default(window.martian).provider})),this}setProvider(t){return this.action=t.provider,this}}var v1=wr.default=_1;const x1="Fewcha";class S1 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",x1);E(this,"url","https://fewcha.app/");E(this,"icon","https://miro.medium.com/fit/c/176/176/1*a0WaY-q7gjCRiuryRG6TkQ.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._network=void 0,this._provider=typeof window<"u"?new v1().action:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>{var r;return(r=window==null?void 0:window.fewcha)!=null&&r.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.connected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||((n=window==null?void 0:window.fewcha)==null?void 0:n.aptos),s=await r.isConnected();(s==null?void 0:s.data)===!0&&await r.disconnect();const i=await r.connect();if(i.status===401)throw new Ga("User has rejected the connection");if(i.status!==200)throw new Ga("Wallet connect issue");let o={...i.data};if(!o.publicKey){const c=await r.account();if(!c.data.publicKey)throw new Ga("Wallet connect issue",i.data);o={...c.data}}this._wallet={connected:!0,...o};try{const{data:c}=await(r==null?void 0:r.getNetwork()),a=null,u=null;this._network=c,this._chainId=a,this._api=u}catch(c){const a=c.message;throw this.emit("error",new wn(a)),c}this.emit("connect",this._wallet.publicKey)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){var r;const n=this._provider||((r=window==null?void 0:window.fewcha)==null?void 0:r.aptos);if(n)try{if((await n.disconnect()).data===!0)this._provider=void 0,this._wallet=null;else throw new Error("Disconnect failed")}catch(s){throw this.emit("error",new kt(s==null?void 0:s.message,s)),s}this.emit("disconnect")}async signTransaction(n,r){var s;try{if(!this._wallet)throw new J;const o=this._provider||((s=window==null?void 0:window.fewcha)==null?void 0:s.aptos),c=await o.generateTransaction(n,r);if(!c)throw new Error("Cannot generate transaction");const a=await(o==null?void 0:o.signTransaction(c.data));if(!a||a.status!==200)throw new Error("No response");return a.data}catch(i){const o=i instanceof Error?i.message:i.response.data.message;throw this.emit("error",new it(o)),i}}async signAndSubmitTransaction(n,r){var s;try{if(!this._wallet)throw new J;const o=this._provider||((s=window==null?void 0:window.fewcha)==null?void 0:s.aptos),c=await o.generateTransaction(n,r);if(!c)throw new Error("Cannot generate transaction");const a=await(o==null?void 0:o.signAndSubmitTransaction(c.data));if(a.status===401)throw new Error("User has rejected the transaction");if(a.status!==200)throw new Error("Transaction issue");return{hash:a.data}}catch(i){const o=i instanceof Error?i.message:i.response.data.message;throw this.emit("error",new Kt(o)),i}}async signMessage(n){var r;try{const s=this._wallet,i=this._provider||((r=window==null?void 0:window.fewcha)==null?void 0:r.aptos);if(!s||!i)throw new J;const o=await(i==null?void 0:i.signMessage(n));if(o)return o.data;throw new Error("Sign Message failed")}catch(s){const i=s.message;throw this.emit("error",new Ge(i)),s}}async onAccountChange(){var n;try{const r=this._wallet,s=this._provider||((n=window==null?void 0:window.fewcha)==null?void 0:n.aptos);if(!r||!s)throw new J}catch(r){const s=r.message;throw this.emit("error",new Ot(s)),r}}async onNetworkChange(){var n;try{const r=this._wallet,s=this._provider||((n=window==null?void 0:window.fewcha)==null?void 0:n.aptos);if(!r||!s)throw new J}catch(r){const s=r.message;throw this.emit("error",new Lt(s)),r}}}const T1="Pontem";class E1 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",T1);E(this,"url","https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba");E(this,"icon","https://www.gitbook.com/cdn-cgi/image/width=20,height=20,fit=contain,dpr=2,format=auto/https%3A%2F%2F736486047-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fspaces%252F-MVVJKmKQGx983dZy_jr%252Favatar-1619180126965.png%3Fgeneration%3D1619180127194239%26alt%3Dmedia");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.pontem:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window.pontem?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||window.pontem;await(r==null?void 0:r.isConnected())&&await(r==null?void 0:r.disconnect());const i=await(r==null?void 0:r.connect());if(!i)throw new J("No connect response");const o=i.address,c=i.publicKey;if(o){this._wallet={address:o,publicKey:c,isConnected:!0};try{const a=await(r==null?void 0:r.network());this._network=a.name,this._chainId=a.chainId,this._api=a.api}catch(a){const u=a.message;throw this.emit("error",new wn(u)),a}}this.emit("connect",((n=this._wallet)==null?void 0:n.address)||"")}catch(r){throw this.emit("error",new Error("User has rejected the connection")),r}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider||window.pontem;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider||window.pontem;if(!s||!i)throw new J;return await(i==null?void 0:i.signTransaction(n,r))}catch(s){throw this.emit("error",new it(s)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider||window.pontem;if(!s||!i)throw new J;const o=await(i==null?void 0:i.signAndSubmit(n,r));if(!o||!o.success)throw new Error("No response");return{hash:o.result.hash}}catch(s){throw this.emit("error",new Kt(s.message)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.pontem;if(!r||!s)throw new J;const i=await(s==null?void 0:s.signMessage(n));if(i.success)return i.result;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.pontem;if(!n||!r)throw new J;const s=async i=>{if(i===void 0){this.connected&&await(r==null?void 0:r.disconnect());return}const o=await(r==null?void 0:r.publicKey());this._wallet={...this._wallet,address:i,publicKey:o},this.emit("accountChange",i)};await(r==null?void 0:r.onAccountChange(s))}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.pontem;if(!n||!r)throw new J;const s=i=>{this._network=i.name,this._api=i.api,this._chainId=i.chainId,this._network&&this.emit("networkChange",this._network)};await(r==null?void 0:r.onNetworkChange(s))}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}var eu={},k1={get exports(){return eu},set exports(e){eu=e}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",n="finalize already called",r=typeof window=="object",s=r?window:{};s.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&typeof self=="object",o=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?s=Be:i&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,a=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],m=[1,256,65536,16777216],w=[6,1536,393216,100663296],v=[0,8,16,24],b=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],S=[224,256,384,512],N=[128,256],C=["hex","buffer","arrayBuffer","array","digest"],x={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"}),a&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(f){return typeof f=="object"&&f.buffer&&f.buffer.constructor===ArrayBuffer});for(var k=function(f,R,z){return function(P){return new ee(f,R,f).update(P)[z]()}},_=function(f,R,z){return function(P,G){return new ee(f,R,G).update(P)[z]()}},A=function(f,R,z){return function(P,G,re,ie){return Se["cshake"+f].update(P,G,re,ie)[z]()}},F=function(f,R,z){return function(P,G,re,ie){return Se["kmac"+f].update(P,G,re,ie)[z]()}},D=function(f,R,z,P){for(var G=0;G<C.length;++G){var re=C[G];f[re]=R(z,P,re)}return f},H=function(f,R){var z=k(f,R,"hex");return z.create=function(){return new ee(f,R,f)},z.update=function(P){return z.create().update(P)},D(z,k,f,R)},W=function(f,R){var z=_(f,R,"hex");return z.create=function(P){return new ee(f,R,P)},z.update=function(P,G){return z.create(G).update(P)},D(z,_,f,R)},q=function(f,R){var z=x[f],P=A(f,R,"hex");return P.create=function(G,re,ie){return!re&&!ie?Se["shake"+f].create(G):new ee(f,R,G).bytepad([re,ie],z)},P.update=function(G,re,ie,oe){return P.create(re,ie,oe).update(G)},D(P,A,f,R)},X=function(f,R){var z=x[f],P=F(f,R,"hex");return P.create=function(G,re,ie){return new Ie(f,R,re).bytepad(["KMAC",ie],z).bytepad([G],z)},P.update=function(G,re,ie,oe){return P.create(G,ie,oe).update(re)},D(P,F,f,R)},ke=[{name:"keccak",padding:m,bits:S,createMethod:H},{name:"sha3",padding:w,bits:S,createMethod:H},{name:"shake",padding:h,bits:N,createMethod:W},{name:"cshake",padding:p,bits:N,createMethod:q},{name:"kmac",padding:p,bits:N,createMethod:X}],Se={},Pe=[],At=0;At<ke.length;++At)for(var Ln=ke[At],ue=Ln.bits,K=0;K<ue.length;++K){var fe=Ln.name+"_"+ue[K];if(Pe.push(fe),Se[fe]=Ln.createMethod(ue[K],Ln.padding),Ln.name!=="sha3"){var ae=Ln.name+ue[K];Pe.push(ae),Se[ae]=Se[fe]}}function ee(f,R,z){this.blocks=[],this.s=[],this.padding=R,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(f<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var P=0;P<50;++P)this.s[P]=0}ee.prototype.update=function(f){if(this.finalized)throw new Error(n);var R,z=typeof f;if(z!=="string"){if(z==="object"){if(f===null)throw new Error(t);if(a&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!a||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);R=!0}for(var P=this.blocks,G=this.byteCount,re=f.length,ie=this.blockCount,oe=0,Ee=this.s,de,Le;oe<re;){if(this.reset)for(this.reset=!1,P[0]=this.block,de=1;de<ie+1;++de)P[de]=0;if(R)for(de=this.start;oe<re&&de<G;++oe)P[de>>2]|=f[oe]<<v[de++&3];else for(de=this.start;oe<re&&de<G;++oe)Le=f.charCodeAt(oe),Le<128?P[de>>2]|=Le<<v[de++&3]:Le<2048?(P[de>>2]|=(192|Le>>6)<<v[de++&3],P[de>>2]|=(128|Le&63)<<v[de++&3]):Le<55296||Le>=57344?(P[de>>2]|=(224|Le>>12)<<v[de++&3],P[de>>2]|=(128|Le>>6&63)<<v[de++&3],P[de>>2]|=(128|Le&63)<<v[de++&3]):(Le=65536+((Le&1023)<<10|f.charCodeAt(++oe)&1023),P[de>>2]|=(240|Le>>18)<<v[de++&3],P[de>>2]|=(128|Le>>12&63)<<v[de++&3],P[de>>2]|=(128|Le>>6&63)<<v[de++&3],P[de>>2]|=(128|Le&63)<<v[de++&3]);if(this.lastByteIndex=de,de>=G){for(this.start=de-G,this.block=P[ie],de=0;de<ie;++de)Ee[de]^=P[de];Ue(Ee),this.reset=!0}else this.start=de}return this},ee.prototype.encode=function(f,R){var z=f&255,P=1,G=[z];for(f=f>>8,z=f&255;z>0;)G.unshift(z),f=f>>8,z=f&255,++P;return R?G.push(P):G.unshift(P),this.update(G),G.length},ee.prototype.encodeString=function(f){var R,z=typeof f;if(z!=="string"){if(z==="object"){if(f===null)throw new Error(t);if(a&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!a||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);R=!0}var P=0,G=f.length;if(R)P=G;else for(var re=0;re<f.length;++re){var ie=f.charCodeAt(re);ie<128?P+=1:ie<2048?P+=2:ie<55296||ie>=57344?P+=3:(ie=65536+((ie&1023)<<10|f.charCodeAt(++re)&1023),P+=4)}return P+=this.encode(P*8),this.update(f),P},ee.prototype.bytepad=function(f,R){for(var z=this.encode(R),P=0;P<f.length;++P)z+=this.encodeString(f[P]);var G=R-z%R,re=[];return re.length=G,this.update(re),this},ee.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var f=this.blocks,R=this.lastByteIndex,z=this.blockCount,P=this.s;if(f[R>>2]|=this.padding[R&3],this.lastByteIndex===this.byteCount)for(f[0]=f[z],R=1;R<z+1;++R)f[R]=0;for(f[z-1]|=2147483648,R=0;R<z;++R)P[R]^=f[R];Ue(P)}},ee.prototype.toString=ee.prototype.hex=function(){this.finalize();for(var f=this.blockCount,R=this.s,z=this.outputBlocks,P=this.extraBytes,G=0,re=0,ie="",oe;re<z;){for(G=0;G<f&&re<z;++G,++re)oe=R[G],ie+=u[oe>>4&15]+u[oe&15]+u[oe>>12&15]+u[oe>>8&15]+u[oe>>20&15]+u[oe>>16&15]+u[oe>>28&15]+u[oe>>24&15];re%f===0&&(Ue(R),G=0)}return P&&(oe=R[G],ie+=u[oe>>4&15]+u[oe&15],P>1&&(ie+=u[oe>>12&15]+u[oe>>8&15]),P>2&&(ie+=u[oe>>20&15]+u[oe>>16&15])),ie},ee.prototype.arrayBuffer=function(){this.finalize();var f=this.blockCount,R=this.s,z=this.outputBlocks,P=this.extraBytes,G=0,re=0,ie=this.outputBits>>3,oe;P?oe=new ArrayBuffer(z+1<<2):oe=new ArrayBuffer(ie);for(var Ee=new Uint32Array(oe);re<z;){for(G=0;G<f&&re<z;++G,++re)Ee[re]=R[G];re%f===0&&Ue(R)}return P&&(Ee[G]=R[G],oe=oe.slice(0,ie)),oe},ee.prototype.buffer=ee.prototype.arrayBuffer,ee.prototype.digest=ee.prototype.array=function(){this.finalize();for(var f=this.blockCount,R=this.s,z=this.outputBlocks,P=this.extraBytes,G=0,re=0,ie=[],oe,Ee;re<z;){for(G=0;G<f&&re<z;++G,++re)oe=re<<2,Ee=R[G],ie[oe]=Ee&255,ie[oe+1]=Ee>>8&255,ie[oe+2]=Ee>>16&255,ie[oe+3]=Ee>>24&255;re%f===0&&Ue(R)}return P&&(oe=re<<2,Ee=R[G],ie[oe]=Ee&255,P>1&&(ie[oe+1]=Ee>>8&255),P>2&&(ie[oe+2]=Ee>>16&255)),ie};function Ie(f,R,z){ee.call(this,f,R,z)}Ie.prototype=new ee,Ie.prototype.finalize=function(){return this.encode(this.outputBits,!0),ee.prototype.finalize.call(this)};var Ue=function(f){var R,z,P,G,re,ie,oe,Ee,de,Le,zn,on,Gn,Yn,jn,an,nt,cn,mn,ft,Pn,g,l,d,y,T,U,O,be,Ve,ze,$e,Ne,Ai,Ui,Mi,Bi,Ni,Fi,Ci,Di,Ri,Oi,Li,zi,ji,Pi,Vi,$i,Wi,Hi,Qi,Ki,Zi,Gi,Yi,qi,Ji,Xi,eo,to,no,ro;for(P=0;P<48;P+=2)G=f[0]^f[10]^f[20]^f[30]^f[40],re=f[1]^f[11]^f[21]^f[31]^f[41],ie=f[2]^f[12]^f[22]^f[32]^f[42],oe=f[3]^f[13]^f[23]^f[33]^f[43],Ee=f[4]^f[14]^f[24]^f[34]^f[44],de=f[5]^f[15]^f[25]^f[35]^f[45],Le=f[6]^f[16]^f[26]^f[36]^f[46],zn=f[7]^f[17]^f[27]^f[37]^f[47],on=f[8]^f[18]^f[28]^f[38]^f[48],Gn=f[9]^f[19]^f[29]^f[39]^f[49],R=on^(ie<<1|oe>>>31),z=Gn^(oe<<1|ie>>>31),f[0]^=R,f[1]^=z,f[10]^=R,f[11]^=z,f[20]^=R,f[21]^=z,f[30]^=R,f[31]^=z,f[40]^=R,f[41]^=z,R=G^(Ee<<1|de>>>31),z=re^(de<<1|Ee>>>31),f[2]^=R,f[3]^=z,f[12]^=R,f[13]^=z,f[22]^=R,f[23]^=z,f[32]^=R,f[33]^=z,f[42]^=R,f[43]^=z,R=ie^(Le<<1|zn>>>31),z=oe^(zn<<1|Le>>>31),f[4]^=R,f[5]^=z,f[14]^=R,f[15]^=z,f[24]^=R,f[25]^=z,f[34]^=R,f[35]^=z,f[44]^=R,f[45]^=z,R=Ee^(on<<1|Gn>>>31),z=de^(Gn<<1|on>>>31),f[6]^=R,f[7]^=z,f[16]^=R,f[17]^=z,f[26]^=R,f[27]^=z,f[36]^=R,f[37]^=z,f[46]^=R,f[47]^=z,R=Le^(G<<1|re>>>31),z=zn^(re<<1|G>>>31),f[8]^=R,f[9]^=z,f[18]^=R,f[19]^=z,f[28]^=R,f[29]^=z,f[38]^=R,f[39]^=z,f[48]^=R,f[49]^=z,Yn=f[0],jn=f[1],ji=f[11]<<4|f[10]>>>28,Pi=f[10]<<4|f[11]>>>28,O=f[20]<<3|f[21]>>>29,be=f[21]<<3|f[20]>>>29,eo=f[31]<<9|f[30]>>>23,to=f[30]<<9|f[31]>>>23,Ri=f[40]<<18|f[41]>>>14,Oi=f[41]<<18|f[40]>>>14,Ai=f[2]<<1|f[3]>>>31,Ui=f[3]<<1|f[2]>>>31,an=f[13]<<12|f[12]>>>20,nt=f[12]<<12|f[13]>>>20,Vi=f[22]<<10|f[23]>>>22,$i=f[23]<<10|f[22]>>>22,Ve=f[33]<<13|f[32]>>>19,ze=f[32]<<13|f[33]>>>19,no=f[42]<<2|f[43]>>>30,ro=f[43]<<2|f[42]>>>30,Zi=f[5]<<30|f[4]>>>2,Gi=f[4]<<30|f[5]>>>2,Mi=f[14]<<6|f[15]>>>26,Bi=f[15]<<6|f[14]>>>26,cn=f[25]<<11|f[24]>>>21,mn=f[24]<<11|f[25]>>>21,Wi=f[34]<<15|f[35]>>>17,Hi=f[35]<<15|f[34]>>>17,$e=f[45]<<29|f[44]>>>3,Ne=f[44]<<29|f[45]>>>3,d=f[6]<<28|f[7]>>>4,y=f[7]<<28|f[6]>>>4,Yi=f[17]<<23|f[16]>>>9,qi=f[16]<<23|f[17]>>>9,Ni=f[26]<<25|f[27]>>>7,Fi=f[27]<<25|f[26]>>>7,ft=f[36]<<21|f[37]>>>11,Pn=f[37]<<21|f[36]>>>11,Qi=f[47]<<24|f[46]>>>8,Ki=f[46]<<24|f[47]>>>8,Li=f[8]<<27|f[9]>>>5,zi=f[9]<<27|f[8]>>>5,T=f[18]<<20|f[19]>>>12,U=f[19]<<20|f[18]>>>12,Ji=f[29]<<7|f[28]>>>25,Xi=f[28]<<7|f[29]>>>25,Ci=f[38]<<8|f[39]>>>24,Di=f[39]<<8|f[38]>>>24,g=f[48]<<14|f[49]>>>18,l=f[49]<<14|f[48]>>>18,f[0]=Yn^~an&cn,f[1]=jn^~nt&mn,f[10]=d^~T&O,f[11]=y^~U&be,f[20]=Ai^~Mi&Ni,f[21]=Ui^~Bi&Fi,f[30]=Li^~ji&Vi,f[31]=zi^~Pi&$i,f[40]=Zi^~Yi&Ji,f[41]=Gi^~qi&Xi,f[2]=an^~cn&ft,f[3]=nt^~mn&Pn,f[12]=T^~O&Ve,f[13]=U^~be&ze,f[22]=Mi^~Ni&Ci,f[23]=Bi^~Fi&Di,f[32]=ji^~Vi&Wi,f[33]=Pi^~$i&Hi,f[42]=Yi^~Ji&eo,f[43]=qi^~Xi&to,f[4]=cn^~ft&g,f[5]=mn^~Pn&l,f[14]=O^~Ve&$e,f[15]=be^~ze&Ne,f[24]=Ni^~Ci&Ri,f[25]=Fi^~Di&Oi,f[34]=Vi^~Wi&Qi,f[35]=$i^~Hi&Ki,f[44]=Ji^~eo&no,f[45]=Xi^~to&ro,f[6]=ft^~g&Yn,f[7]=Pn^~l&jn,f[16]=Ve^~$e&d,f[17]=ze^~Ne&y,f[26]=Ci^~Ri&Ai,f[27]=Di^~Oi&Ui,f[36]=Wi^~Qi&Li,f[37]=Hi^~Ki&zi,f[46]=eo^~no&Zi,f[47]=to^~ro&Gi,f[8]=g^~Yn&an,f[9]=l^~jn&nt,f[18]=$e^~d&T,f[19]=Ne^~y&U,f[28]=Ri^~Ai&Mi,f[29]=Oi^~Ui&Bi,f[38]=Qi^~Li&ji,f[39]=Ki^~zi&Pi,f[48]=no^~Zi&Yi,f[49]=ro^~Gi&qi,f[0]^=b[P],f[1]^=b[P+1]};if(c)e.exports=Se;else for(At=0;At<Pe.length;++At)s[Pe[At]]=Se[Pe[At]]})()})(k1);const I1="Nightly";class A1 extends It{constructor({timeout:n=1e4}={}){var r;super();E(this,"name",I1);E(this,"url","https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa/related?hl=en&authuser=0");E(this,"icon","https://lh3.googleusercontent.com/_feXM9qulMM5w9BYMLzMpZrxW2WlBmdyg3SbETIoRsHdAD9PANnLCEPabC7lzEK0N8fOyyvFkY3746jk8l73zUErxhU=w128-h128-e365-rj-sc0x00ffffff");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(r=window.nightly)==null?void 0:r.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>{var s;return(s=window.nightly)!=null&&s.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||((n=window.nightly)==null?void 0:n.aptos),s=await(r==null?void 0:r.connect(()=>{this._wallet=null,this.emit("disconnect")}));this._wallet={publicKey:s==null?void 0:s.asString(),address:s==null?void 0:s.address(),isConnected:!0},this.emit("connect",this._wallet.publicKey||"");const i=await(r==null?void 0:r.network());this._chainId=i==null?void 0:i.chainId.toString(),this._api=i==null?void 0:i.api,this._network=i==null?void 0:i.network.toLocaleLowerCase()}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){var r;if(this._wallet){this._wallet=null;try{const s=this._provider||((r=window.nightly)==null?void 0:r.aptos);await(s==null?void 0:s.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n){var r;try{if(!this._wallet)throw new J;try{const i=this._provider||((r=window.nightly)==null?void 0:r.aptos),o=await(i==null?void 0:i.signTransaction(n,!1));if(o)return o;throw new Error("Transaction failed")}catch(i){throw new it(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signAllTransaction(n){var r;try{if(!this._wallet)throw new J;try{const i=this._provider||((r=window.nightly)==null?void 0:r.aptos),o=await(i==null?void 0:i.signAllTransactions(n));if(o)return o;throw new Error("Transaction failed")}catch(i){throw new it(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signAndSubmitTransaction(n){var r;try{if(!this._wallet)throw new J;try{const i=this._provider||((r=window.nightly)==null?void 0:r.aptos),o=await(i==null?void 0:i.signTransaction(n,!0));if(o)return o;throw new Error("Transaction failed")}catch(i){const o=i instanceof Error?i.message:i.response.data.message;throw new it(o)}}catch(s){throw this.emit("error",s),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.nightly.aptos;if(!r||!s)throw new J;const i=await(s==null?void 0:s.signMessage(n));if(i)return Buffer.from(i).toString("hex");throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.nightly.aptos;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.nightly.aptos;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}const U1="Spika";class M1 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",U1);E(this,"url","https://chrome.google.com/webstore/detail/spika/fadkojdgchhfkdkklllhcphknohbmjmb");E(this,"icon","https://spika.app/assets/logo_400_nb.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.spika:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window.spika?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const n=this._provider||window.spika;await(n==null?void 0:n.isConnected());const r=await(n==null?void 0:n.connect());(r==null?void 0:r.publicKey)!==void 0?this._wallet={publicKey:r==null?void 0:r.publicKey,address:r==null?void 0:r.account,authKey:r==null?void 0:r.authKey,isConnected:!0}:this._wallet={isConnected:!1},this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){if(this._wallet){this._wallet=null;try{const r=this._provider||window.spika;await(r==null?void 0:r.disconnect())}catch(r){this.emit("error",new kt(r==null?void 0:r.message,r))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider||window.spika;if(!s||!i)throw new J;const o=await(i==null?void 0:i.signTransaction(n,r));if(o)return o;throw new Error("Sign Transaction failed")}catch(s){const i=s.message;throw this.emit("error",new it(i)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider||window.spika;if(!s||!i)throw new J;const o=await(i==null?void 0:i.signAndSubmitTransaction(n,r));if(o)return o;throw new Error("Transaction failed")}catch(s){const i=s.message;throw this.emit("error",new Kt(i)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.spika;if(!r||!s)throw new J;const i=await(s==null?void 0:s.signMessage(n));if(i)return i;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.spika;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.spika;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}const B1="Coin98";class N1 extends It{constructor({timeout:n=1e4}={}){var r;super();E(this,"name",B1);E(this,"url","https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg");E(this,"icon","https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98wallet.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(r=window.coin98)==null?void 0:r.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>{var s;return(s=window.coin98)!=null&&s.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||((n=window.coin98)==null?void 0:n.aptos);let s=await(r==null?void 0:r.connect());typeof s=="boolean"&&(s=await(r==null?void 0:r.account())),this._wallet={address:s==null?void 0:s.address,publicKey:s==null?void 0:s.publicKey,isConnected:!0};try{this._chainId=null,this._api=null}catch(i){const o=i.message;throw this.emit("error",new wn(o)),i}this.emit("connect",this._wallet.publicKey)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){var s;const n=this._wallet,r=this._provider||((s=window.coin98)==null?void 0:s.aptos);if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(i){this.emit("error",new kt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(n,r){var s;try{const i=this._wallet,o=this._provider||((s=window.coin98)==null?void 0:s.aptos);if(!i||!o)throw new J;const c=await o.signTransaction(n,r);if(c.code)throw new Error(c.message);return c}catch(i){const o=i.message;throw this.emit("error",new it(o)),i}}async signAndSubmitTransaction(n,r){var s;try{const i=this._wallet,o=this._provider||((s=window.coin98)==null?void 0:s.aptos);if(!i||!o)throw new J;const c=await o.signAndSubmitTransaction(n,r);if(c.code)throw new Error(c.message);return c}catch(i){const o=i.message;throw this.emit("error",new Kt(o)),i}}async signMessage(n){var r;try{const s=this._wallet,i=this._provider||((r=window.coin98)==null?void 0:r.aptos);if(!s||!i)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const o=await(i==null?void 0:i.signMessage(n));if(o)return o;throw new Error("Sign Message failed")}catch(s){const i=s.message;throw this.emit("error",new Ge(i)),s}}async onAccountChange(){var n;try{const r=this._wallet,s=this._provider||((n=window.coin98)==null?void 0:n.aptos);if(!r||!s)throw new J;const i=async o=>{var c,a,u,h;if(o!=null&&o.publicKey)this._wallet={...this._wallet,publicKey:o.publicKey||((c=this._wallet)==null?void 0:c.publicKey),address:o.address||((a=this._wallet)==null?void 0:a.address)};else{const p=await(s==null?void 0:s.connect());this._wallet={...this._wallet,address:(p==null?void 0:p.address)||((u=this._wallet)==null?void 0:u.address),publicKey:(p==null?void 0:p.publicKey)||((h=this._wallet)==null?void 0:h.publicKey)}}this.emit("accountChange",o.publicKey)};s.on("accountChange",i)}catch(r){const s=r.message;throw this.emit("error",new Ot(s)),r}}async onNetworkChange(){var n;try{const r=this._wallet,s=this._provider||((n=window.coin98)==null?void 0:n.aptos);if(!r||!s)throw new J}catch(r){const s=r.message;throw this.emit("error",new Lt(s)),r}}}var ye={},Na={};Na.byteLength=D1;Na.toByteArray=O1;Na.fromByteArray=j1;var Tn=[],qt=[],F1=typeof Uint8Array<"u"?Uint8Array:Array,Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var os=0,C1=Ja.length;os<C1;++os)Tn[os]=Ja[os],qt[Ja.charCodeAt(os)]=os;qt["-".charCodeAt(0)]=62;qt["_".charCodeAt(0)]=63;function rh(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function D1(e){var t=rh(e),n=t[0],r=t[1];return(n+r)*3/4-r}function R1(e,t,n){return(t+n)*3/4-n}function O1(e){var t,n=rh(e),r=n[0],s=n[1],i=new F1(R1(e,r,s)),o=0,c=s>0?r-4:r,a;for(a=0;a<c;a+=4)t=qt[e.charCodeAt(a)]<<18|qt[e.charCodeAt(a+1)]<<12|qt[e.charCodeAt(a+2)]<<6|qt[e.charCodeAt(a+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=qt[e.charCodeAt(a)]<<2|qt[e.charCodeAt(a+1)]>>4,i[o++]=t&255),s===1&&(t=qt[e.charCodeAt(a)]<<10|qt[e.charCodeAt(a+1)]<<4|qt[e.charCodeAt(a+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function L1(e){return Tn[e>>18&63]+Tn[e>>12&63]+Tn[e>>6&63]+Tn[e&63]}function z1(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(L1(r));return s.join("")}function j1(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,c=n-r;o<c;o+=i)s.push(z1(e,o,o+i>c?c:o+i));return r===1?(t=e[n-1],s.push(Tn[t>>2]+Tn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(Tn[t>>10]+Tn[t>>4&63]+Tn[t<<2&63]+"=")),s.join("")}var Xc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Xc.read=function(e,t,n,r,s){var i,o,c=s*8-r-1,a=(1<<c)-1,u=a>>1,h=-7,p=n?s-1:0,m=n?-1:1,w=e[t+p];for(p+=m,i=w&(1<<-h)-1,w>>=-h,h+=c;h>0;i=i*256+e[t+p],p+=m,h-=8);for(o=i&(1<<-h)-1,i>>=-h,h+=r;h>0;o=o*256+e[t+p],p+=m,h-=8);if(i===0)i=1-u;else{if(i===a)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(w?-1:1)*o*Math.pow(2,i-r)};Xc.write=function(e,t,n,r,s,i){var o,c,a,u=i*8-s-1,h=(1<<u)-1,p=h>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:i-1,v=r?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+p>=1?t+=m/a:t+=m*Math.pow(2,1-p),t*a>=2&&(o++,a/=2),o+p>=h?(c=0,o=h):o+p>=1?(c=(t*a-1)*Math.pow(2,s),o=o+p):(c=t*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;e[n+w]=c&255,w+=v,c/=256,s-=8);for(o=o<<s|c,u+=s;u>0;e[n+w]=o&255,w+=v,o/=256,u-=8);e[n+w-v]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Na,n=Xc,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=C,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(g,l),g.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function o(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const l=new Uint8Array(g);return Object.setPrototypeOf(l,c.prototype),l}function c(g,l,d){if(typeof g=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(g)}return a(g,l,d)}c.poolSize=8192;function a(g,l,d){if(typeof g=="string")return m(g,l);if(ArrayBuffer.isView(g))return v(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(nt(g,ArrayBuffer)||g&&nt(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(g,SharedArrayBuffer)||g&&nt(g.buffer,SharedArrayBuffer)))return b(g,l,d);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=g.valueOf&&g.valueOf();if(y!=null&&y!==g)return c.from(y,l,d);const T=S(g);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return c.from(g[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}c.from=function(g,l,d){return a(g,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function u(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function h(g,l,d){return u(g),g<=0?o(g):l!==void 0?typeof d=="string"?o(g).fill(l,d):o(g).fill(l):o(g)}c.alloc=function(g,l,d){return h(g,l,d)};function p(g){return u(g),o(g<0?0:N(g)|0)}c.allocUnsafe=function(g){return p(g)},c.allocUnsafeSlow=function(g){return p(g)};function m(g,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=x(g,l)|0;let y=o(d);const T=y.write(g,l);return T!==d&&(y=y.slice(0,T)),y}function w(g){const l=g.length<0?0:N(g.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=g[y]&255;return d}function v(g){if(nt(g,Uint8Array)){const l=new Uint8Array(g);return b(l.buffer,l.byteOffset,l.byteLength)}return w(g)}function b(g,l,d){if(l<0||g.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(g):d===void 0?y=new Uint8Array(g,l):y=new Uint8Array(g,l,d),Object.setPrototypeOf(y,c.prototype),y}function S(g){if(c.isBuffer(g)){const l=N(g.length)|0,d=o(l);return d.length===0||g.copy(d,0,0,l),d}if(g.length!==void 0)return typeof g.length!="number"||cn(g.length)?o(0):w(g);if(g.type==="Buffer"&&Array.isArray(g.data))return w(g.data)}function N(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function C(g){return+g!=g&&(g=0),c.alloc(+g)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(nt(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),nt(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,T=d.length;for(let U=0,O=Math.min(y,T);U<O;++U)if(l[U]!==d[U]){y=l[U],T=d[U];break}return y<T?-1:T<y?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const T=c.allocUnsafe(d);let U=0;for(y=0;y<l.length;++y){let O=l[y];if(nt(O,Uint8Array))U+O.length>T.length?(c.isBuffer(O)||(O=c.from(O)),O.copy(T,U)):Uint8Array.prototype.set.call(T,O,U);else if(c.isBuffer(O))O.copy(T,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=O.length}return T};function x(g,l){if(c.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||nt(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const d=g.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let T=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return on(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return jn(g).length;default:if(T)return y?-1:on(g).length;l=(""+l).toLowerCase(),T=!0}}c.byteLength=x;function k(g,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(g||(g="utf8");;)switch(g){case"hex":return K(this,l,d);case"utf8":case"utf-8":return Se(this,l,d);case"ascii":return Ln(this,l,d);case"latin1":case"binary":return ue(this,l,d);case"base64":return ke(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),y=!0}}c.prototype._isBuffer=!0;function _(g,l,d){const y=g[l];g[l]=g[d],g[d]=y}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)_(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)_(this,d,d+3),_(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)_(this,d,d+7),_(this,d+1,d+6),_(this,d+2,d+5),_(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?Se(this,0,l):k.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=e.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(l,d,y,T,U){if(nt(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),T===void 0&&(T=0),U===void 0&&(U=this.length),d<0||y>l.length||T<0||U>this.length)throw new RangeError("out of range index");if(T>=U&&d>=y)return 0;if(T>=U)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,T>>>=0,U>>>=0,this===l)return 0;let O=U-T,be=y-d;const Ve=Math.min(O,be),ze=this.slice(T,U),$e=l.slice(d,y);for(let Ne=0;Ne<Ve;++Ne)if(ze[Ne]!==$e[Ne]){O=ze[Ne],be=$e[Ne];break}return O<be?-1:be<O?1:0};function A(g,l,d,y,T){if(g.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,cn(d)&&(d=T?0:g.length-1),d<0&&(d=g.length+d),d>=g.length){if(T)return-1;d=g.length-1}else if(d<0)if(T)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,y)),c.isBuffer(l))return l.length===0?-1:F(g,l,d,y,T);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(g,l,d):Uint8Array.prototype.lastIndexOf.call(g,l,d):F(g,[l],d,y,T);throw new TypeError("val must be string, number or Buffer")}function F(g,l,d,y,T){let U=1,O=g.length,be=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(g.length<2||l.length<2)return-1;U=2,O/=2,be/=2,d/=2}function Ve($e,Ne){return U===1?$e[Ne]:$e.readUInt16BE(Ne*U)}let ze;if(T){let $e=-1;for(ze=d;ze<O;ze++)if(Ve(g,ze)===Ve(l,$e===-1?0:ze-$e)){if($e===-1&&($e=ze),ze-$e+1===be)return $e*U}else $e!==-1&&(ze-=ze-$e),$e=-1}else for(d+be>O&&(d=O-be),ze=d;ze>=0;ze--){let $e=!0;for(let Ne=0;Ne<be;Ne++)if(Ve(g,ze+Ne)!==Ve(l,Ne)){$e=!1;break}if($e)return ze}return-1}c.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},c.prototype.indexOf=function(l,d,y){return A(this,l,d,y,!0)},c.prototype.lastIndexOf=function(l,d,y){return A(this,l,d,y,!1)};function D(g,l,d,y){d=Number(d)||0;const T=g.length-d;y?(y=Number(y),y>T&&(y=T)):y=T;const U=l.length;y>U/2&&(y=U/2);let O;for(O=0;O<y;++O){const be=parseInt(l.substr(O*2,2),16);if(cn(be))return O;g[d+O]=be}return O}function H(g,l,d,y){return an(on(l,g.length-d),g,d,y)}function W(g,l,d,y){return an(Gn(l),g,d,y)}function q(g,l,d,y){return an(jn(l),g,d,y)}function X(g,l,d,y){return an(Yn(l,g.length-d),g,d,y)}c.prototype.write=function(l,d,y,T){if(d===void 0)T="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")T=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,T===void 0&&(T="utf8")):(T=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-d;if((y===void 0||y>U)&&(y=U),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let O=!1;for(;;)switch(T){case"hex":return D(this,l,d,y);case"utf8":case"utf-8":return H(this,l,d,y);case"ascii":case"latin1":case"binary":return W(this,l,d,y);case"base64":return q(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,l,d,y);default:if(O)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),O=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(g,l,d){return l===0&&d===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(l,d))}function Se(g,l,d){d=Math.min(g.length,d);const y=[];let T=l;for(;T<d;){const U=g[T];let O=null,be=U>239?4:U>223?3:U>191?2:1;if(T+be<=d){let Ve,ze,$e,Ne;switch(be){case 1:U<128&&(O=U);break;case 2:Ve=g[T+1],(Ve&192)===128&&(Ne=(U&31)<<6|Ve&63,Ne>127&&(O=Ne));break;case 3:Ve=g[T+1],ze=g[T+2],(Ve&192)===128&&(ze&192)===128&&(Ne=(U&15)<<12|(Ve&63)<<6|ze&63,Ne>2047&&(Ne<55296||Ne>57343)&&(O=Ne));break;case 4:Ve=g[T+1],ze=g[T+2],$e=g[T+3],(Ve&192)===128&&(ze&192)===128&&($e&192)===128&&(Ne=(U&15)<<18|(Ve&63)<<12|(ze&63)<<6|$e&63,Ne>65535&&Ne<1114112&&(O=Ne))}}O===null?(O=65533,be=1):O>65535&&(O-=65536,y.push(O>>>10&1023|55296),O=56320|O&1023),y.push(O),T+=be}return At(y)}const Pe=4096;function At(g){const l=g.length;if(l<=Pe)return String.fromCharCode.apply(String,g);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,g.slice(y,y+=Pe));return d}function Ln(g,l,d){let y="";d=Math.min(g.length,d);for(let T=l;T<d;++T)y+=String.fromCharCode(g[T]&127);return y}function ue(g,l,d){let y="";d=Math.min(g.length,d);for(let T=l;T<d;++T)y+=String.fromCharCode(g[T]);return y}function K(g,l,d){const y=g.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let T="";for(let U=l;U<d;++U)T+=mn[g[U]];return T}function fe(g,l,d){const y=g.slice(l,d);let T="";for(let U=0;U<y.length-1;U+=2)T+=String.fromCharCode(y[U]+y[U+1]*256);return T}c.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const T=this.subarray(l,d);return Object.setPrototypeOf(T,c.prototype),T};function ae(g,l,d){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||ae(l,d,this.length);let T=this[l],U=1,O=0;for(;++O<d&&(U*=256);)T+=this[l+O]*U;return T},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||ae(l,d,this.length);let T=this[l+--d],U=1;for(;d>0&&(U*=256);)T+=this[l+--d]*U;return T},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||ae(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||ae(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||ae(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||ae(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||ae(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=ft(function(l){l=l>>>0,Ee(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&de(l,this.length-8);const T=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,U=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(T)+(BigInt(U)<<BigInt(32))}),c.prototype.readBigUInt64BE=ft(function(l){l=l>>>0,Ee(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&de(l,this.length-8);const T=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],U=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(T)<<BigInt(32))+BigInt(U)}),c.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||ae(l,d,this.length);let T=this[l],U=1,O=0;for(;++O<d&&(U*=256);)T+=this[l+O]*U;return U*=128,T>=U&&(T-=Math.pow(2,8*d)),T},c.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||ae(l,d,this.length);let T=d,U=1,O=this[l+--T];for(;T>0&&(U*=256);)O+=this[l+--T]*U;return U*=128,O>=U&&(O-=Math.pow(2,8*d)),O},c.prototype.readInt8=function(l,d){return l=l>>>0,d||ae(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||ae(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||ae(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||ae(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||ae(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=ft(function(l){l=l>>>0,Ee(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&de(l,this.length-8);const T=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(T)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=ft(function(l){l=l>>>0,Ee(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&de(l,this.length-8);const T=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(T)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||ae(l,4,this.length),n.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||ae(l,4,this.length),n.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||ae(l,8,this.length),n.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||ae(l,8,this.length),n.read(this,l,!1,52,8)};function ee(g,l,d,y,T,U){if(!c.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>T||l<U)throw new RangeError('"value" argument is out of bounds');if(d+y>g.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,y,T){if(l=+l,d=d>>>0,y=y>>>0,!T){const be=Math.pow(2,8*y)-1;ee(this,l,d,y,be,0)}let U=1,O=0;for(this[d]=l&255;++O<y&&(U*=256);)this[d+O]=l/U&255;return d+y},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,y,T){if(l=+l,d=d>>>0,y=y>>>0,!T){const be=Math.pow(2,8*y)-1;ee(this,l,d,y,be,0)}let U=y-1,O=1;for(this[d+U]=l&255;--U>=0&&(O*=256);)this[d+U]=l/O&255;return d+y},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Ie(g,l,d,y,T){oe(l,y,T,g,d,7);let U=Number(l&BigInt(4294967295));g[d++]=U,U=U>>8,g[d++]=U,U=U>>8,g[d++]=U,U=U>>8,g[d++]=U;let O=Number(l>>BigInt(32)&BigInt(4294967295));return g[d++]=O,O=O>>8,g[d++]=O,O=O>>8,g[d++]=O,O=O>>8,g[d++]=O,d}function Ue(g,l,d,y,T){oe(l,y,T,g,d,7);let U=Number(l&BigInt(4294967295));g[d+7]=U,U=U>>8,g[d+6]=U,U=U>>8,g[d+5]=U,U=U>>8,g[d+4]=U;let O=Number(l>>BigInt(32)&BigInt(4294967295));return g[d+3]=O,O=O>>8,g[d+2]=O,O=O>>8,g[d+1]=O,O=O>>8,g[d]=O,d+8}c.prototype.writeBigUInt64LE=ft(function(l,d=0){return Ie(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ft(function(l,d=0){return Ue(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,y,T){if(l=+l,d=d>>>0,!T){const Ve=Math.pow(2,8*y-1);ee(this,l,d,y,Ve-1,-Ve)}let U=0,O=1,be=0;for(this[d]=l&255;++U<y&&(O*=256);)l<0&&be===0&&this[d+U-1]!==0&&(be=1),this[d+U]=(l/O>>0)-be&255;return d+y},c.prototype.writeIntBE=function(l,d,y,T){if(l=+l,d=d>>>0,!T){const Ve=Math.pow(2,8*y-1);ee(this,l,d,y,Ve-1,-Ve)}let U=y-1,O=1,be=0;for(this[d+U]=l&255;--U>=0&&(O*=256);)l<0&&be===0&&this[d+U+1]!==0&&(be=1),this[d+U]=(l/O>>0)-be&255;return d+y},c.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||ee(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=ft(function(l,d=0){return Ie(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ft(function(l,d=0){return Ue(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function f(g,l,d,y,T,U){if(d+y>g.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function R(g,l,d,y,T){return l=+l,d=d>>>0,T||f(g,l,d,4),n.write(g,l,d,y,23,4),d+4}c.prototype.writeFloatLE=function(l,d,y){return R(this,l,d,!0,y)},c.prototype.writeFloatBE=function(l,d,y){return R(this,l,d,!1,y)};function z(g,l,d,y,T){return l=+l,d=d>>>0,T||f(g,l,d,8),n.write(g,l,d,y,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,y){return z(this,l,d,!0,y)},c.prototype.writeDoubleBE=function(l,d,y){return z(this,l,d,!1,y)},c.prototype.copy=function(l,d,y,T){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!T&&T!==0&&(T=this.length),d>=l.length&&(d=l.length),d||(d=0),T>0&&T<y&&(T=y),T===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),l.length-d<T-y&&(T=l.length-d+y);const U=T-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,T):Uint8Array.prototype.set.call(l,this.subarray(y,T),d),U},c.prototype.fill=function(l,d,y,T){if(typeof l=="string"){if(typeof d=="string"?(T=d,d=0,y=this.length):typeof y=="string"&&(T=y,y=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(l.length===1){const O=l.charCodeAt(0);(T==="utf8"&&O<128||T==="latin1")&&(l=O)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let U;if(typeof l=="number")for(U=d;U<y;++U)this[U]=l;else{const O=c.isBuffer(l)?l:c.from(l,T),be=O.length;if(be===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(U=0;U<y-d;++U)this[U+d]=O[U%be]}return this};const P={};function G(g,l,d){P[g]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(g,l){return`The "${g}" argument must be of type number. Received type ${typeof l}`},TypeError),G("ERR_OUT_OF_RANGE",function(g,l,d){let y=`The value of "${g}" is out of range.`,T=d;return Number.isInteger(d)&&Math.abs(d)>2**32?T=re(String(d)):typeof d=="bigint"&&(T=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(T=re(T)),T+="n"),y+=` It must be ${l}. Received ${T}`,y},RangeError);function re(g){let l="",d=g.length;const y=g[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${g.slice(d-3,d)}${l}`;return`${g.slice(0,d)}${l}`}function ie(g,l,d){Ee(l,"offset"),(g[l]===void 0||g[l+d]===void 0)&&de(l,g.length-(d+1))}function oe(g,l,d,y,T,U){if(g>d||g<l){const O=typeof l=="bigint"?"n":"";let be;throw U>3?l===0||l===BigInt(0)?be=`>= 0${O} and < 2${O} ** ${(U+1)*8}${O}`:be=`>= -(2${O} ** ${(U+1)*8-1}${O}) and < 2 ** ${(U+1)*8-1}${O}`:be=`>= ${l}${O} and <= ${d}${O}`,new P.ERR_OUT_OF_RANGE("value",be,g)}ie(y,T,U)}function Ee(g,l){if(typeof g!="number")throw new P.ERR_INVALID_ARG_TYPE(l,"number",g)}function de(g,l,d){throw Math.floor(g)!==g?(Ee(g,d),new P.ERR_OUT_OF_RANGE(d||"offset","an integer",g)):l<0?new P.ERR_BUFFER_OUT_OF_BOUNDS:new P.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,g)}const Le=/[^+/0-9A-Za-z-_]/g;function zn(g){if(g=g.split("=")[0],g=g.trim().replace(Le,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function on(g,l){l=l||1/0;let d;const y=g.length;let T=null;const U=[];for(let O=0;O<y;++O){if(d=g.charCodeAt(O),d>55295&&d<57344){if(!T){if(d>56319){(l-=3)>-1&&U.push(239,191,189);continue}else if(O+1===y){(l-=3)>-1&&U.push(239,191,189);continue}T=d;continue}if(d<56320){(l-=3)>-1&&U.push(239,191,189),T=d;continue}d=(T-55296<<10|d-56320)+65536}else T&&(l-=3)>-1&&U.push(239,191,189);if(T=null,d<128){if((l-=1)<0)break;U.push(d)}else if(d<2048){if((l-=2)<0)break;U.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;U.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;U.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return U}function Gn(g){const l=[];for(let d=0;d<g.length;++d)l.push(g.charCodeAt(d)&255);return l}function Yn(g,l){let d,y,T;const U=[];for(let O=0;O<g.length&&!((l-=2)<0);++O)d=g.charCodeAt(O),y=d>>8,T=d%256,U.push(T),U.push(y);return U}function jn(g){return t.toByteArray(zn(g))}function an(g,l,d,y){let T;for(T=0;T<y&&!(T+d>=l.length||T>=g.length);++T)l[T+d]=g[T];return T}function nt(g,l){return g instanceof l||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===l.name}function cn(g){return g!==g}const mn=function(){const g="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let T=0;T<16;++T)l[y+T]=g[d]+g[T]}return l}();function ft(g){return typeof BigInt>"u"?Pn:g}function Pn(){throw new Error("BigInt not supported")}})(ye);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const un=BigInt(0),Pt=BigInt(1),co=BigInt(2),P1=BigInt(8),V1={zip215:!0};function $1(e){const t=vp(e);return xp(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function el(e){const t=$1(e),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:c,h:a}=t,u=co<<BigInt(c*8)-Pt,h=n.create,p=t.uvRatio||((ue,K)=>{try{return{isValid:!0,value:n.sqrt(ue*n.inv(K))}}catch{return{isValid:!1,value:un}}}),m=t.adjustScalarBytes||(ue=>ue),w=t.domain||((ue,K,fe)=>{if(K.length||fe)throw new Error("Contexts/pre-hash are not supported");return ue}),v=ue=>typeof ue=="bigint"&&un<ue,b=(ue,K)=>v(ue)&&v(K)&&ue<K,S=ue=>ue===un||b(ue,u);function N(ue,K){if(b(ue,K))return ue;throw new Error(`Expected valid scalar < ${K}, got ${typeof ue} ${ue}`)}function C(ue){return ue===un?ue:N(ue,r)}const x=new Map;function k(ue){if(!(ue instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(K,fe,ae,ee){if(this.ex=K,this.ey=fe,this.ez=ae,this.et=ee,!S(K))throw new Error("x required");if(!S(fe))throw new Error("y required");if(!S(ae))throw new Error("z required");if(!S(ee))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(K){if(K instanceof _)throw new Error("extended point not allowed");const{x:fe,y:ae}=K||{};if(!S(fe)||!S(ae))throw new Error("invalid affine point");return new _(fe,ae,Pt,h(fe*ae))}static normalizeZ(K){const fe=n.invertBatch(K.map(ae=>ae.ez));return K.map((ae,ee)=>ae.toAffine(fe[ee])).map(_.fromAffine)}_setWindowSize(K){this._WINDOW_SIZE=K,x.delete(this)}assertValidity(){const{a:K,d:fe}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:ae,ey:ee,ez:Ie,et:Ue}=this,f=h(ae*ae),R=h(ee*ee),z=h(Ie*Ie),P=h(z*z),G=h(f*K),re=h(z*h(G+R)),ie=h(P+h(fe*h(f*R)));if(re!==ie)throw new Error("bad point: equation left != right (1)");const oe=h(ae*ee),Ee=h(Ie*Ue);if(oe!==Ee)throw new Error("bad point: equation left != right (2)")}equals(K){k(K);const{ex:fe,ey:ae,ez:ee}=this,{ex:Ie,ey:Ue,ez:f}=K,R=h(fe*f),z=h(Ie*ee),P=h(ae*f),G=h(Ue*ee);return R===z&&P===G}is0(){return this.equals(_.ZERO)}negate(){return new _(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:K}=t,{ex:fe,ey:ae,ez:ee}=this,Ie=h(fe*fe),Ue=h(ae*ae),f=h(co*h(ee*ee)),R=h(K*Ie),z=fe+ae,P=h(h(z*z)-Ie-Ue),G=R+Ue,re=G-f,ie=R-Ue,oe=h(P*re),Ee=h(G*ie),de=h(P*ie),Le=h(re*G);return new _(oe,Ee,Le,de)}add(K){k(K);const{a:fe,d:ae}=t,{ex:ee,ey:Ie,ez:Ue,et:f}=this,{ex:R,ey:z,ez:P,et:G}=K;if(fe===BigInt(-1)){const nt=h((Ie-ee)*(z+R)),cn=h((Ie+ee)*(z-R)),mn=h(cn-nt);if(mn===un)return this.double();const ft=h(Ue*co*G),Pn=h(f*co*P),g=Pn+ft,l=cn+nt,d=Pn-ft,y=h(g*mn),T=h(l*d),U=h(g*d),O=h(mn*l);return new _(y,T,O,U)}const re=h(ee*R),ie=h(Ie*z),oe=h(f*ae*G),Ee=h(Ue*P),de=h((ee+Ie)*(R+z)-re-ie),Le=Ee-oe,zn=Ee+oe,on=h(ie-fe*re),Gn=h(de*Le),Yn=h(zn*on),jn=h(de*on),an=h(Le*zn);return new _(Gn,Yn,an,jn)}subtract(K){return this.add(K.negate())}wNAF(K){return D.wNAFCached(this,x,K,_.normalizeZ)}multiply(K){const{p:fe,f:ae}=this.wNAF(N(K,r));return _.normalizeZ([fe,ae])[0]}multiplyUnsafe(K){let fe=C(K);return fe===un?F:this.equals(F)||fe===Pt?this:this.equals(A)?this.wNAF(fe).p:D.unsafeLadder(this,fe)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return D.unsafeLadder(this,r).is0()}toAffine(K){const{ex:fe,ey:ae,ez:ee}=this,Ie=this.is0();K==null&&(K=Ie?P1:n.inv(ee));const Ue=h(fe*K),f=h(ae*K),R=h(ee*K);if(Ie)return{x:un,y:Pt};if(R!==Pt)throw new Error("invZ was invalid");return{x:Ue,y:f}}clearCofactor(){const{h:K}=t;return K===Pt?this:this.multiplyUnsafe(K)}static fromHex(K,fe=!1){const{d:ae,a:ee}=t,Ie=n.BYTES;K=qn("pointHex",K,Ie);const Ue=K.slice(),f=K[Ie-1];Ue[Ie-1]=f&-129;const R=Za(Ue);R===un||(fe?N(R,u):N(R,n.ORDER));const z=h(R*R),P=h(z-Pt),G=h(ae*z-ee);let{isValid:re,value:ie}=p(P,G);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const oe=(ie&Pt)===Pt,Ee=(f&128)!==0;if(!fe&&ie===un&&Ee)throw new Error("Point.fromHex: x=0 and x_0=1");return Ee!==oe&&(ie=h(-ie)),_.fromAffine({x:ie,y:R})}static fromPrivateKey(K){return q(K).point}toRawBytes(){const{x:K,y:fe}=this.toAffine(),ae=jl(fe,n.BYTES);return ae[ae.length-1]|=K&Pt?128:0,ae}toHex(){return Sp(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,Pt,h(t.Gx*t.Gy)),_.ZERO=new _(un,Pt,Pt,un);const{BASE:A,ZERO:F}=_,D=Tp(_,c*8);function H(ue){return Vn(ue,r)}function W(ue){return H(Za(ue))}function q(ue){const K=c;ue=qn("private key",ue,K);const fe=qn("hashed private key",i(ue),2*K),ae=m(fe.slice(0,K)),ee=fe.slice(K,2*K),Ie=W(ae),Ue=A.multiply(Ie),f=Ue.toRawBytes();return{head:ae,prefix:ee,scalar:Ie,point:Ue,pointBytes:f}}function X(ue){return q(ue).pointBytes}function ke(ue=new Uint8Array,...K){const fe=Pl(...K);return W(i(w(fe,qn("context",ue),!!s)))}function Se(ue,K,fe={}){ue=qn("message",ue),s&&(ue=s(ue));const{prefix:ae,scalar:ee,pointBytes:Ie}=q(K),Ue=ke(fe.context,ae,ue),f=A.multiply(Ue).toRawBytes(),R=ke(fe.context,f,Ie,ue),z=H(Ue+R*ee);C(z);const P=Pl(f,jl(z,n.BYTES));return qn("result",P,c*2)}const Pe=V1;function At(ue,K,fe,ae=Pe){const{context:ee,zip215:Ie}=ae,Ue=n.BYTES;ue=qn("signature",ue,2*Ue),K=qn("message",K),s&&(K=s(K));const f=Za(ue.slice(Ue,2*Ue));let R,z,P;try{R=_.fromHex(fe,Ie),z=_.fromHex(ue.slice(0,Ue),Ie),P=A.multiplyUnsafe(f)}catch{return!1}if(!Ie&&R.isSmallOrder())return!1;const G=ke(ee,z.toRawBytes(),R.toRawBytes(),K);return z.add(R.multiplyUnsafe(G)).subtract(P).clearCofactor().equals(_.ZERO)}return A._setWindowSize(8),{CURVE:t,getPublicKey:X,sign:Se,verify:At,ExtendedPoint:_,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(n.BYTES),precompute(ue=8,K=_.BASE){return K._setWindowSize(ue),K.multiply(BigInt(3)),K}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tl=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),tu=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const W1=BigInt(1),fc=BigInt(2),H1=BigInt(5),nu=BigInt(10),Q1=BigInt(20),K1=BigInt(40),ru=BigInt(80);function Z1(e){const t=tl,r=e*e%t*e%t,s=bn(r,fc,t)*r%t,i=bn(s,W1,t)*e%t,o=bn(i,H1,t)*i%t,c=bn(o,nu,t)*o%t,a=bn(c,Q1,t)*c%t,u=bn(a,K1,t)*a%t,h=bn(u,ru,t)*u%t,p=bn(h,ru,t)*u%t,m=bn(p,nu,t)*o%t;return{pow_p_5_8:bn(m,fc,t)*e%t,b2:r}}function G1(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Y1(e,t){const n=tl,r=Vn(t*t*t,n),s=Vn(r*r*t,n),i=Z1(e*s).pow_p_5_8;let o=Vn(e*r*i,n);const c=Vn(t*o*o,n),a=o,u=Vn(o*tu,n),h=c===e,p=c===Vn(-e,n),m=c===Vn(-e*tu,n);return h&&(o=a),(p||m)&&(o=u),Ap(o,n)&&(o=Vn(-o,n)),{isValid:h||p,value:o}}const Qn=Ep(tl,void 0,!0),nl={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Qn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Pu,randomBytes:kp,adjustScalarBytes:G1,uvRatio:Y1},Fa=el(nl);function sh(e,t,n){if(t.length>255)throw new Error("Context is too big");return Up(Mp("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}el({...nl,domain:sh});el({...nl,domain:sh,prehash:Pu});const q1=(Qn.ORDER+BigInt(3))/BigInt(8);Qn.pow(fc,q1);Qn.sqrt(Qn.neg(Qn.ONE));(Qn.ORDER-BigInt(5))/BigInt(8);BigInt(486662);Ip(Qn,Qn.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Co={},J1={get exports(){return Co},set exports(e){Co=e}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=ye,r=n.Buffer;function s(o,c){for(var a in o)c[a]=o[a]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i);function i(o,c,a){return r(o,c,a)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,c,a){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,c,a)},i.alloc=function(o,c,a){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return c!==void 0?typeof a=="string"?u.fill(c,a):u.fill(c):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(J1,Co);var lo=Co.Buffer;function X1(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,c=e.charAt(0),a=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=lo.from(w)),!lo.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var v=0,b=0,S=0,N=w.length;S!==N&&w[S]===0;)S++,v++;for(var C=(N-S)*u+1>>>0,x=new Uint8Array(C);S!==N;){for(var k=w[S],_=0,A=C-1;(k!==0||_<b)&&A!==-1;A--,_++)k+=256*x[A]>>>0,x[A]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");b=_,S++}for(var F=C-b;F!==C&&x[F]===0;)F++;for(var D=c.repeat(v);F<C;++F)D+=e.charAt(x[F]);return D}function p(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return lo.alloc(0);for(var v=0,b=0,S=0;w[v]===c;)b++,v++;for(var N=(w.length-v)*a+1>>>0,C=new Uint8Array(N);w[v];){var x=t[w.charCodeAt(v)];if(x===255)return;for(var k=0,_=N-1;(x!==0||k<S)&&_!==-1;_--,k++)x+=o*C[_]>>>0,C[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");S=k,v++}for(var A=N-S;A!==N&&C[A]===0;)A++;var F=lo.allocUnsafe(b+(N-A));F.fill(0,0,b);for(var D=b;A!==N;)F[D++]=C[A++];return F}function m(w){var v=p(w);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:p,decode:m}}var ey=X1,ty=ey,ny="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Bt=ty(ny),lt={};function $n(e,t,n){return t<=e&&e<=n}function Ca(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function ry(e){for(var t=String(e),n=t.length,r=0,s=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var c=i&1023,a=o&1023;s.push(65536+(c<<10)+a),r+=1}else s.push(65533)}r+=1}return s}function sy(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Do=-1;function rl(e){this.tokens=[].slice.call(e)}rl.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Do},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var Ms=-1;function Xa(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Ro="utf-8";function Oo(e,t){if(!(this instanceof Oo))return new Oo(e,t);if(e=e!==void 0?String(e).toLowerCase():Ro,e!==Ro)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ca(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Oo.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=Ca(n),this._streaming||(this._decoder=new iy({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new rl(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Ms);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Ms)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),sy(i)}};function Lo(e,t){if(!(this instanceof Lo))return new Lo(e,t);if(e=e!==void 0?String(e).toLowerCase():Ro,e!==Ro)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ca(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Lo.prototype={encode:function(t,n){t=t?String(t):"",n=Ca(n),this._streaming||(this._encoder=new oy(this._options)),this._streaming=!!n.stream;for(var r=[],s=new rl(ry(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Ms);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Ms;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function iy(e){var t=e.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(c,a){if(a===Do&&s!==0)return s=0,Xa(t);if(a===Do)return Ms;if(s===0){if($n(a,0,127))return a;if($n(a,194,223))s=1,n=a-192;else if($n(a,224,239))a===224&&(i=160),a===237&&(o=159),s=2,n=a-224;else if($n(a,240,244))a===240&&(i=144),a===244&&(o=143),s=3,n=a-240;else return Xa(t);return n=n<<6*s,null}if(!$n(a,i,o))return n=s=r=0,i=128,o=191,c.prepend(a),Xa(t);if(i=128,o=191,r+=1,n+=a-128<<6*(s-r),r!==s)return null;var u=n;return n=s=r=0,u}}function oy(e){e.fatal,this.handler=function(t,n){if(n===Do)return Ms;if($n(n,0,127))return n;var r,s;$n(n,128,2047)?(r=1,s=192):$n(n,2048,65535)?(r=2,s=224):$n(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const ay=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Oo,TextEncoder:Lo},Symbol.toStringTag,{value:"Module"})),cy=Ec(ay);var ly=Be&&Be.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),uy=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Dn=Be&&Be.__decorate||function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},dy=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&ly(t,e,n);return uy(t,e),t},ih=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0});var oh=lt.deserializeUnchecked=hh=lt.deserialize=dh=lt.serialize=lt.BinaryReader=lt.BinaryWriter=lt.BorshError=lt.baseDecode=lt.baseEncode=void 0;const fr=ih(oc),ah=ih(Bt),hy=dy(cy),fy=typeof TextDecoder!="function"?hy.TextDecoder:TextDecoder,py=new fy("utf-8",{fatal:!0});function gy(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),ah.default.encode(Buffer.from(e))}lt.baseEncode=gy;function wy(e){return Buffer.from(ah.default.decode(e))}lt.baseDecode=wy;const ec=1024;class St extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lt.BorshError=St;class ch{constructor(){this.buf=Buffer.alloc(ec),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ec)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new fr.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new fr.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new fr.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new fr.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(ec)]),this.length+=t.length}writeString(t){this.maybeResize();const n=Buffer.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}lt.BinaryWriter=ch;function Rn(e,t,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new St("Reached the end of buffer when deserializing")}throw i}}}class Zt{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new fr.default(t,"le")}readU128(){const t=this.readBuffer(16);return new fr.default(t,"le")}readU256(){const t=this.readBuffer(32);return new fr.default(t,"le")}readU512(){const t=this.readBuffer(64);return new fr.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new St(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return py.decode(n)}catch(r){throw new St(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(t());return r}}Dn([Rn],Zt.prototype,"readU8",null);Dn([Rn],Zt.prototype,"readU16",null);Dn([Rn],Zt.prototype,"readU32",null);Dn([Rn],Zt.prototype,"readU64",null);Dn([Rn],Zt.prototype,"readU128",null);Dn([Rn],Zt.prototype,"readU256",null);Dn([Rn],Zt.prototype,"readU512",null);Dn([Rn],Zt.prototype,"readString",null);Dn([Rn],Zt.prototype,"readFixedArray",null);Dn([Rn],Zt.prototype,"readArray",null);lt.BinaryReader=Zt;function lh(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ar(e,t,n,r,s){try{if(typeof r=="string")s[`write${lh(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new St(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new St(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Ar(e,null,n[i],r[0],s)}else s.writeArray(n,i=>{Ar(e,t,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Ar(e,t,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Ar(e,t,o,r.key,s),Ar(e,t,i,r.value,s)});break}default:throw new St(`FieldType ${r} unrecognized`)}else uh(e,n,s)}catch(i){throw i instanceof St&&i.addToFieldPath(t),i}}function uh(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const r=e.get(t.constructor);if(!r)throw new St(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Ar(e,s,t[s],i,n)});else if(r.kind==="enum"){const s=t[r.field];for(let i=0;i<r.values.length;++i){const[o,c]=r.values[i];if(o===s){n.writeU8(i),Ar(e,o,t[o],c,n);break}}}else throw new St(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function yy(e,t,n=ch){const r=new n;return uh(e,t,r),r.toArray()}var dh=lt.serialize=yy;function Ur(e,t,n,r){try{if(typeof n=="string")return r[`read${lh(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Ur(e,null,n[0],r));return s}else return r.readArray(()=>Ur(e,t,n[0],r))}if(n.kind==="option")return r.readU8()?Ur(e,t,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const c=Ur(e,t,n.key,r),a=Ur(e,t,n.value,r);s.set(c,a)}return s}return sl(e,n,r)}catch(s){throw s instanceof St&&s.addToFieldPath(t),s}}function sl(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new St(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of e.get(t).fields)s[i]=Ur(e,i,o,n);return new t(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new St(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],c=Ur(e,i,o,n);return new t({[i]:c})}throw new St(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function my(e,t,n,r=Zt){const s=new r(n),i=sl(e,t,s);if(s.offset<n.length)throw new St(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var hh=lt.deserialize=my;function by(e,t,n,r=Zt){const s=new r(n);return sl(e,t,s)}oh=lt.deserializeUnchecked=by;var B={};Object.defineProperty(B,"__esModule",{value:!0});B.s16=B.s8=B.nu64be=B.u48be=B.u40be=B.u32be=B.u24be=B.u16be=ct=B.nu64=B.u48=B.u40=pe=B.u32=B.u24=Xt=B.u16=qe=B.u8=Or=B.offset=B.greedy=B.Constant=B.UTF8=B.CString=B.Blob=B.Boolean=B.BitField=B.BitStructure=B.VariantLayout=B.Union=B.UnionLayoutDiscriminator=B.UnionDiscriminator=B.Structure=B.Sequence=B.DoubleBE=B.Double=B.FloatBE=B.Float=B.NearInt64BE=B.NearInt64=B.NearUInt64BE=B.NearUInt64=B.IntBE=B.Int=B.UIntBE=B.UInt=B.OffsetLayout=B.GreedyCount=B.ExternalLayout=B.bindConstructorLayout=B.nameWithProperty=B.Layout=B.uint8ArrayToBuffer=B.checkUint8Array=void 0;B.constant=B.utf8=B.cstr=tn=B.blob=B.unionLayoutDiscriminator=B.union=kn=B.seq=B.bits=he=B.struct=B.f64be=B.f64=B.f32be=B.f32=B.ns64be=B.s48be=B.s40be=B.s32be=B.s24be=B.s16be=$t=B.ns64=B.s48=B.s40=B.s32=B.s24=void 0;const il=ye;function Ps(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}B.checkUint8Array=Ps;function Ce(e){return Ps(e),il.Buffer.from(e.buffer,e.byteOffset,e.length)}B.uint8ArrayToBuffer=Ce;class je{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}B.Layout=je;function ol(e,t){return t.property?e+"["+t.property+"]":e}B.nameWithProperty=ol;function _y(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof je))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value(n,r){return t.decode(n,r)},writable:!0})}B.bindConstructorLayout=_y;class Ft extends je{isCount(){throw new Error("ExternalLayout is abstract")}}B.ExternalLayout=Ft;class fh extends Ft{constructor(t=1,n){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n=0){Ps(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}B.GreedyCount=fh;class al extends Ft{constructor(t,n=0,r){if(!(t instanceof je))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof rn||this.layout instanceof fn}decode(t,n=0){return this.layout.decode(t,n+this.offset)}encode(t,n,r=0){return this.layout.encode(t,n,r+this.offset)}}B.OffsetLayout=al;class rn extends je{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ce(t).readUIntLE(n,this.span)}encode(t,n,r=0){return Ce(n).writeUIntLE(t,r,this.span),this.span}}B.UInt=rn;class fn extends je{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ce(t).readUIntBE(n,this.span)}encode(t,n,r=0){return Ce(n).writeUIntBE(t,r,this.span),this.span}}B.UIntBE=fn;class qr extends je{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ce(t).readIntLE(n,this.span)}encode(t,n,r=0){return Ce(n).writeIntLE(t,r,this.span),this.span}}B.Int=qr;class Vs extends je{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Ce(t).readIntBE(n,this.span)}encode(t,n,r=0){return Ce(n).writeIntBE(t,r,this.span),this.span}}B.IntBE=Vs;const pc=Math.pow(2,32);function Da(e){const t=Math.floor(e/pc),n=e-t*pc;return{hi32:t,lo32:n}}function Ra(e,t){return e*pc+t}class ph extends je{constructor(t){super(8,t)}decode(t,n=0){const r=Ce(t),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Ra(i,s)}encode(t,n,r=0){const s=Da(t),i=Ce(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}B.NearUInt64=ph;class gh extends je{constructor(t){super(8,t)}decode(t,n=0){const r=Ce(t),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Ra(s,i)}encode(t,n,r=0){const s=Da(t),i=Ce(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}B.NearUInt64BE=gh;class wh extends je{constructor(t){super(8,t)}decode(t,n=0){const r=Ce(t),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Ra(i,s)}encode(t,n,r=0){const s=Da(t),i=Ce(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}B.NearInt64=wh;class yh extends je{constructor(t){super(8,t)}decode(t,n=0){const r=Ce(t),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Ra(s,i)}encode(t,n,r=0){const s=Da(t),i=Ce(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}B.NearInt64BE=yh;class mh extends je{constructor(t){super(4,t)}decode(t,n=0){return Ce(t).readFloatLE(n)}encode(t,n,r=0){return Ce(n).writeFloatLE(t,r),4}}B.Float=mh;class bh extends je{constructor(t){super(4,t)}decode(t,n=0){return Ce(t).readFloatBE(n)}encode(t,n,r=0){return Ce(n).writeFloatBE(t,r),4}}B.FloatBE=bh;class _h extends je{constructor(t){super(8,t)}decode(t,n=0){return Ce(t).readDoubleLE(n)}encode(t,n,r=0){return Ce(n).writeDoubleLE(t,r),8}}B.Double=_h;class vh extends je{constructor(t){super(8,t)}decode(t,n=0){return Ce(t).readDoubleBE(n)}encode(t,n,r=0){return Ce(n).writeDoubleBE(t,r),8}}B.DoubleBE=vh;class xh extends je{constructor(t,n,r){if(!(t instanceof je))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Ft&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof Ft)&&0<t.span&&(s=n*t.span),super(s,r),this.elementLayout=t,this.count=n}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof Ft&&(s=s.decode(t,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(t,n+r),++i}return r}decode(t,n=0){const r=[];let s=0,i=this.count;for(i instanceof Ft&&(i=i.decode(t,n));s<i;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),s+=1;return r}encode(t,n,r=0){const s=this.elementLayout,i=t.reduce((o,c)=>o+s.encode(c,n,r+o),0);return this.count instanceof Ft&&this.count.encode(t.length,n,r),i}}B.Sequence=xh;class Sh extends je{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof je,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(t,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n=0){Ps(t);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,n)),n+=s.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r=0){const s=r;let i=0,o=0;for(const c of this.fields){let a=c.span;if(o=0<a?a:0,c.property!==void 0){const u=t[c.property];u!==void 0&&(o=c.encode(u,n,r),0>a&&(a=c.getSpan(n,r)))}i=r,r+=a}return i+o-s}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}B.Structure=Sh;class cl{constructor(t){this.property=t}decode(t,n){throw new Error("UnionDiscriminator is abstract")}encode(t,n,r){throw new Error("UnionDiscriminator is abstract")}}B.UnionDiscriminator=cl;class zo extends cl{constructor(t,n){if(!(t instanceof Ft&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}B.UnionLayoutDiscriminator=zo;class ll extends je{constructor(t,n,r){let s;if(t instanceof rn||t instanceof fn)s=new zo(new al(t));else if(t instanceof Ft&&t.isCount())s=new zo(t);else if(t instanceof cl)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof je))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(t instanceof rn||t instanceof fn)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof rn||t instanceof fn,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(t,n=0){if(0<=this.span)return this.span;const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,n=0){let r;const s=this.discriminator,i=s.decode(t,n),o=this.registry[i];if(o===void 0){const c=this.defaultLayout;let a=0;this.usesPrefixDiscriminator&&(a=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[c.property]=c.decode(t,n+a)}else r=o.decode(t,n);return r}encode(t,n,r=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(t[i.property],n,r),c+o.encode(t[o.property],n,r+c)}return s.encode(t,n,r)}addVariant(t,n,r){const s=new Th(this,t,n,r);return this.registry[t]=s,s}getVariant(t,n=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,n):r=t,this.registry[r]}}B.Union=ll;class Th extends je{constructor(t,n,r,s){if(!(t instanceof ll))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof je))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,n+r)),r+s}decode(t,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(t[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}B.VariantLayout=Th;function ls(e){return 0>e&&(e+=4294967296),e}class ul extends je{constructor(t,n,r){if(!(t instanceof rn||t instanceof fn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=ls(i),this},this._packedGetValue=function(){return s}}decode(t,n=0){const r=this.makeDestinationObject(),s=this.word.decode(t,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new dl(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new Eh(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}B.BitStructure=ul;class dl{constructor(t,n,r){if(!(t instanceof ul))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,c)=>o+c.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=ls(this.valueMask<<this.start),this.property=r}decode(t,n){const r=this.container._packedGetValue();return ls(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==ls(t&this.valueMask))throw new TypeError(ol("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=ls(t<<this.start);this.container._packedSetValue(ls(n&~this.wordMask)|r)}}B.BitField=dl;let Eh=class extends dl{constructor(t,n){super(t,1,n)}decode(t,n){return!!super.decode(t,n)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};B.Boolean=Eh;class kh extends je{constructor(t,n){if(!(t instanceof Ft&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Ft||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n=0){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),Ce(t).slice(n,n+r)}encode(t,n,r){let s=this.length;if(this.length instanceof Ft&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(ol("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=Ce(t);return Ce(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof Ft&&this.length.encode(s,n,r),s}}B.Blob=kh;class Ih extends je{constructor(t){super(-1,t)}getSpan(t,n=0){Ps(t);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n=0){const r=this.getSpan(t,n);return Ce(t).slice(n,n+r-1).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=il.Buffer.from(t,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=Ce(n);return s.copy(o,r),o[r+i]=0,i+1}}B.CString=Ih;class Ah extends je{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n=0){return Ps(t),t.length-n}decode(t,n=0){const r=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Ce(t).slice(n,n+r).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=il.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(Ce(n),r),i}}B.UTF8=Ah;class Uh extends je{constructor(t,n){super(0,n),this.value=t}decode(t,n){return this.value}encode(t,n,r){return 0}}B.Constant=Uh;B.greedy=(e,t)=>new fh(e,t);var Or=B.offset=(e,t,n)=>new al(e,t,n),qe=B.u8=e=>new rn(1,e),Xt=B.u16=e=>new rn(2,e);B.u24=e=>new rn(3,e);var pe=B.u32=e=>new rn(4,e);B.u40=e=>new rn(5,e);B.u48=e=>new rn(6,e);var ct=B.nu64=e=>new ph(e);B.u16be=e=>new fn(2,e);B.u24be=e=>new fn(3,e);B.u32be=e=>new fn(4,e);B.u40be=e=>new fn(5,e);B.u48be=e=>new fn(6,e);B.nu64be=e=>new gh(e);B.s8=e=>new qr(1,e);B.s16=e=>new qr(2,e);B.s24=e=>new qr(3,e);B.s32=e=>new qr(4,e);B.s40=e=>new qr(5,e);B.s48=e=>new qr(6,e);var $t=B.ns64=e=>new wh(e);B.s16be=e=>new Vs(2,e);B.s24be=e=>new Vs(3,e);B.s32be=e=>new Vs(4,e);B.s40be=e=>new Vs(5,e);B.s48be=e=>new Vs(6,e);B.ns64be=e=>new yh(e);B.f32=e=>new mh(e);B.f32be=e=>new bh(e);B.f64=e=>new _h(e);B.f64be=e=>new vh(e);var he=B.struct=(e,t,n)=>new Sh(e,t,n);B.bits=(e,t,n)=>new ul(e,t,n);var kn=B.seq=(e,t,n)=>new xh(e,t,n);B.union=(e,t,n)=>new ll(e,t,n);B.unionLayoutDiscriminator=(e,t)=>new zo(e,t);var tn=B.blob=(e,t)=>new kh(e,t);B.cstr=e=>new Ih(e);B.utf8=(e,t)=>new Ah(e,t);B.constant=(e,t)=>new Uh(e,t);var bi={};Object.defineProperty(bi,"__esModule",{value:!0});function vy(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var xy=bi.toBigIntLE=vy;function Sy(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}bi.toBigIntBE=Sy;function Ty(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(t*2,"0").slice(0,t*2),"hex");return r.reverse(),r}}var Ey=bi.toBufferLE=Ty;function ky(e,t){{const n=e.toString(16);return Buffer.from(n.padStart(t*2,"0").slice(0,t*2),"hex")}}bi.toBufferBE=ky;class Iy extends TypeError{constructor(t,n){let r;const{message:s,...i}=t,{path:o}=t,c=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(c),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var a;return(a=r)!=null?a:r=[t,...n()]}}}function Ay(e){return br(e)&&typeof e[Symbol.iterator]=="function"}function br(e){return typeof e=="object"&&e!=null}function pn(e){return typeof e=="string"?JSON.stringify(e):""+e}function Uy(e){const{done:t,value:n}=e.next();return t?void 0:n}function My(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:c,message:a="Expected a value of type `"+o+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+pn(r)+"`"}=e;return{value:r,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...e,message:a}}function*su(e,t,n,r){Ay(e)||(e=[e]);for(const s of e){const i=My(s,t,n,r);i&&(yield i)}}function*hl(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:o=!1}=n,c={path:r,branch:s};if(i&&(e=t.coercer(e,c),o&&t.type!=="type"&&br(t.schema)&&br(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let a=!0;for(const u of t.validator(e,c))a=!1,yield[u,void 0];for(let[u,h,p]of t.entries(e,c)){const m=hl(h,p,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,h],coerce:i,mask:o});for(const w of m)w[0]?(a=!1,yield[w[0],void 0]):i&&(h=w[1],u===void 0?e=h:e instanceof Map?e.set(u,h):e instanceof Set?e.add(h):br(e)&&(e[u]=h))}if(a)for(const u of t.refiner(e,c))a=!1,yield[u,void 0];a&&(yield[void 0,e])}let On=class{constructor(t){const{type:n,schema:r,validator:s,refiner:i,coercer:o=a=>a,entries:c=function*(){}}=t;this.type=n,this.schema=r,this.entries=c,this.coercer=o,s?this.validator=(a,u)=>{const h=s(a,u);return su(h,u,this,a)}:this.validator=()=>[],i?this.refiner=(a,u)=>{const h=i(a,u);return su(h,u,this,a)}:this.refiner=()=>[]}assert(t){return By(t,this)}create(t){return oi(t,this)}is(t){return Mh(t,this)}mask(t){return Ny(t,this)}validate(t,n={}){return _i(t,this,n)}};function By(e,t){const n=_i(e,t);if(n[0])throw n[0]}function oi(e,t){const n=_i(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function Ny(e,t){const n=_i(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Mh(e,t){return!_i(e,t)[0]}function _i(e,t,n={}){const r=hl(e,t,n),s=Uy(r);return s[0]?[new Iy(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Jr(e,t){return new On({type:e,schema:null,validator:t})}function Fy(){return Jr("any",()=>!0)}function ne(e){return new On({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+pn(t)}})}function Nn(){return Jr("boolean",e=>typeof e=="boolean")}function fl(e){return Jr("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+pn(t))}function Ye(e){const t=pn(e),n=typeof e;return new On({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||"Expected the literal `"+t+"`, but received: "+pn(r)}})}function Cy(){return Jr("never",()=>!1)}function te(e){return new On({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function M(){return Jr("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+pn(e))}function ge(e){return new On({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Bh(e,t){return new On({type:"record",schema:null,*entries(n){if(br(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator(n){return br(n)||"Expected an object, but received: "+pn(n)}})}function Z(){return Jr("string",e=>typeof e=="string"||"Expected a string, but received: "+pn(e))}function pl(e){const t=Cy();return new On({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+pn(n)}})}function $(e){const t=Object.keys(e);return new On({type:"type",schema:e,*entries(n){if(br(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return br(n)||"Expected an object, but received: "+pn(n)}})}function Rt(e){const t=e.map(n=>n.type).join(" | ");return new On({type:"union",schema:null,validator(n,r){const s=[];for(const i of e){const[...o]=hl(n,i,r),[c]=o;if(c[0])for(const[a]of o)a&&s.push(a);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+pn(n),...s]}})}function vi(){return Jr("unknown",()=>!0)}function xi(e,t,n){return new On({...e,coercer:(r,s)=>Mh(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}var uo,Dy=new Uint8Array(16);function Nh(){if(!uo&&(uo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uo(Dy)}const Ry=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Oa(e){return typeof e=="string"&&Ry.test(e)}var at=[];for(var tc=0;tc<256;++tc)at.push((tc+256).toString(16).substr(1));function La(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(at[e[t+0]]+at[e[t+1]]+at[e[t+2]]+at[e[t+3]]+"-"+at[e[t+4]]+at[e[t+5]]+"-"+at[e[t+6]]+at[e[t+7]]+"-"+at[e[t+8]]+at[e[t+9]]+"-"+at[e[t+10]]+at[e[t+11]]+at[e[t+12]]+at[e[t+13]]+at[e[t+14]]+at[e[t+15]]).toLowerCase();if(!Oa(n))throw TypeError("Stringified UUID is invalid");return n}var iu,nc,rc=0,sc=0;function Oy(e,t,n){var r=t&&n||0,s=t||new Array(16);e=e||{};var i=e.node||iu,o=e.clockseq!==void 0?e.clockseq:nc;if(i==null||o==null){var c=e.random||(e.rng||Nh)();i==null&&(i=iu=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=nc=(c[6]<<8|c[7])&16383)}var a=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:sc+1,h=a-rc+(u-sc)/1e4;if(h<0&&e.clockseq===void 0&&(o=o+1&16383),(h<0||a>rc)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rc=a,sc=u,nc=o,a+=122192928e5;var p=((a&268435455)*1e4+u)%4294967296;s[r++]=p>>>24&255,s[r++]=p>>>16&255,s[r++]=p>>>8&255,s[r++]=p&255;var m=a/4294967296*1e4&268435455;s[r++]=m>>>8&255,s[r++]=m&255,s[r++]=m>>>24&15|16,s[r++]=m>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var w=0;w<6;++w)s[r+w]=i[w];return t||La(s)}function Fh(e){if(!Oa(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function Ly(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var zy="6ba7b810-9dad-11d1-80b4-00c04fd430c8",jy="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ch(e,t,n){function r(s,i,o,c){if(typeof s=="string"&&(s=Ly(s)),typeof i=="string"&&(i=Fh(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+s.length);if(a.set(i),a.set(s,i.length),a=n(a),a[6]=a[6]&15|t,a[8]=a[8]&63|128,o){c=c||0;for(var u=0;u<16;++u)o[c+u]=a[u];return o}return La(a)}try{r.name=e}catch{}return r.DNS=zy,r.URL=jy,r}function Py(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return Vy($y(Wy(e),e.length*8))}function Vy(e){for(var t=[],n=e.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=e[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(o)}return t}function Dh(e){return(e+64>>>9<<4)+14+1}function $y(e,t){e[t>>5]|=128<<t%32,e[Dh(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<e.length;o+=16){var c=n,a=r,u=s,h=i;n=pt(n,r,s,i,e[o],7,-680876936),i=pt(i,n,r,s,e[o+1],12,-389564586),s=pt(s,i,n,r,e[o+2],17,606105819),r=pt(r,s,i,n,e[o+3],22,-1044525330),n=pt(n,r,s,i,e[o+4],7,-176418897),i=pt(i,n,r,s,e[o+5],12,1200080426),s=pt(s,i,n,r,e[o+6],17,-1473231341),r=pt(r,s,i,n,e[o+7],22,-45705983),n=pt(n,r,s,i,e[o+8],7,1770035416),i=pt(i,n,r,s,e[o+9],12,-1958414417),s=pt(s,i,n,r,e[o+10],17,-42063),r=pt(r,s,i,n,e[o+11],22,-1990404162),n=pt(n,r,s,i,e[o+12],7,1804603682),i=pt(i,n,r,s,e[o+13],12,-40341101),s=pt(s,i,n,r,e[o+14],17,-1502002290),r=pt(r,s,i,n,e[o+15],22,1236535329),n=gt(n,r,s,i,e[o+1],5,-165796510),i=gt(i,n,r,s,e[o+6],9,-1069501632),s=gt(s,i,n,r,e[o+11],14,643717713),r=gt(r,s,i,n,e[o],20,-373897302),n=gt(n,r,s,i,e[o+5],5,-701558691),i=gt(i,n,r,s,e[o+10],9,38016083),s=gt(s,i,n,r,e[o+15],14,-660478335),r=gt(r,s,i,n,e[o+4],20,-405537848),n=gt(n,r,s,i,e[o+9],5,568446438),i=gt(i,n,r,s,e[o+14],9,-1019803690),s=gt(s,i,n,r,e[o+3],14,-187363961),r=gt(r,s,i,n,e[o+8],20,1163531501),n=gt(n,r,s,i,e[o+13],5,-1444681467),i=gt(i,n,r,s,e[o+2],9,-51403784),s=gt(s,i,n,r,e[o+7],14,1735328473),r=gt(r,s,i,n,e[o+12],20,-1926607734),n=wt(n,r,s,i,e[o+5],4,-378558),i=wt(i,n,r,s,e[o+8],11,-2022574463),s=wt(s,i,n,r,e[o+11],16,1839030562),r=wt(r,s,i,n,e[o+14],23,-35309556),n=wt(n,r,s,i,e[o+1],4,-1530992060),i=wt(i,n,r,s,e[o+4],11,1272893353),s=wt(s,i,n,r,e[o+7],16,-155497632),r=wt(r,s,i,n,e[o+10],23,-1094730640),n=wt(n,r,s,i,e[o+13],4,681279174),i=wt(i,n,r,s,e[o],11,-358537222),s=wt(s,i,n,r,e[o+3],16,-722521979),r=wt(r,s,i,n,e[o+6],23,76029189),n=wt(n,r,s,i,e[o+9],4,-640364487),i=wt(i,n,r,s,e[o+12],11,-421815835),s=wt(s,i,n,r,e[o+15],16,530742520),r=wt(r,s,i,n,e[o+2],23,-995338651),n=yt(n,r,s,i,e[o],6,-198630844),i=yt(i,n,r,s,e[o+7],10,1126891415),s=yt(s,i,n,r,e[o+14],15,-1416354905),r=yt(r,s,i,n,e[o+5],21,-57434055),n=yt(n,r,s,i,e[o+12],6,1700485571),i=yt(i,n,r,s,e[o+3],10,-1894986606),s=yt(s,i,n,r,e[o+10],15,-1051523),r=yt(r,s,i,n,e[o+1],21,-2054922799),n=yt(n,r,s,i,e[o+8],6,1873313359),i=yt(i,n,r,s,e[o+15],10,-30611744),s=yt(s,i,n,r,e[o+6],15,-1560198380),r=yt(r,s,i,n,e[o+13],21,1309151649),n=yt(n,r,s,i,e[o+4],6,-145523070),i=yt(i,n,r,s,e[o+11],10,-1120210379),s=yt(s,i,n,r,e[o+2],15,718787259),r=yt(r,s,i,n,e[o+9],21,-343485551),n=pr(n,c),r=pr(r,a),s=pr(s,u),i=pr(i,h)}return[n,r,s,i]}function Wy(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Dh(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function pr(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function Hy(e,t){return e<<t|e>>>32-t}function za(e,t,n,r,s,i){return pr(Hy(pr(pr(t,e),pr(r,i)),s),n)}function pt(e,t,n,r,s,i,o){return za(t&n|~t&r,e,t,s,i,o)}function gt(e,t,n,r,s,i,o){return za(t&r|n&~r,e,t,s,i,o)}function wt(e,t,n,r,s,i,o){return za(t^n^r,e,t,s,i,o)}function yt(e,t,n,r,s,i,o){return za(n^(t|~r),e,t,s,i,o)}var Qy=Ch("v3",48,Py);const Ky=Qy;function Zy(e,t,n){e=e||{};var r=e.random||(e.rng||Nh)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return La(r)}function Gy(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function ic(e,t){return e<<t|e>>>32-t}function Yy(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),c=new Array(o),a=0;a<o;++a){for(var u=new Uint32Array(16),h=0;h<16;++h)u[h]=e[a*64+h*4]<<24|e[a*64+h*4+1]<<16|e[a*64+h*4+2]<<8|e[a*64+h*4+3];c[a]=u}c[o-1][14]=(e.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<o;++p){for(var m=new Uint32Array(80),w=0;w<16;++w)m[w]=c[p][w];for(var v=16;v<80;++v)m[v]=ic(m[v-3]^m[v-8]^m[v-14]^m[v-16],1);for(var b=n[0],S=n[1],N=n[2],C=n[3],x=n[4],k=0;k<80;++k){var _=Math.floor(k/20),A=ic(b,5)+Gy(_,S,N,C)+x+t[_]+m[k]>>>0;x=C,C=N,N=ic(S,30)>>>0,S=b,b=A}n[0]=n[0]+b>>>0,n[1]=n[1]+S>>>0,n[2]=n[2]+N>>>0,n[3]=n[3]+C>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var qy=Ch("v5",80,Yy);const Jy=qy,Xy="00000000-0000-0000-0000-000000000000";function em(e){if(!Oa(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const tm=Object.freeze(Object.defineProperty({__proto__:null,NIL:Xy,parse:Fh,stringify:La,v1:Oy,v3:Ky,v4:Zy,v5:Jy,validate:Oa,version:em},Symbol.toStringTag,{value:"Module"})),Rh=Ec(tm);Rh.v4;Rh.v4;var nm={},jo={},rm={get exports(){return jo},set exports(e){jo=e}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(rm);var Po={},sm={get exports(){return Po},set exports(e){Po=e}},ou;function im(){return ou||(ou=1,function(e){function t(r,s,i,o,c,a,u){try{var h=r[a](u),p=h.value}catch(m){i(m);return}h.done?s(p):Promise.resolve(p).then(o,c)}function n(r){return function(){var s=this,i=arguments;return new Promise(function(o,c){var a=r.apply(s,i);function u(p){t(a,o,c,u,h,"next",p)}function h(p){t(a,o,c,u,h,"throw",p)}u(void 0)})}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(sm)),Po}var Vo={},om={get exports(){return Vo},set exports(e){Vo=e}},au;function Oh(){return au||(au=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(om)),Vo}var $o={},am={get exports(){return $o},set exports(e){$o=e}},Wo={},cm={get exports(){return Wo},set exports(e){Wo=e}},Ho={},lm={get exports(){return Ho},set exports(e){Ho=e}},cu;function um(){return cu||(cu=1,function(e){var t=ra.default;function n(r,s){if(t(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(t(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(lm)),Ho}var lu;function dm(){return lu||(lu=1,function(e){var t=ra.default,n=um();function r(s){var i=n(s,"string");return t(i)==="symbol"?i:String(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(cm)),Wo}var uu;function Lh(){return uu||(uu=1,function(e){var t=dm();function n(s,i){for(var o=0;o<i.length;o++){var c=i[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,t(c.key),c)}}function r(s,i,o){return i&&n(s.prototype,i),o&&n(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(am)),$o}var Qo={},hm={get exports(){return Qo},set exports(e){Qo=e}},Ko={},fm={get exports(){return Ko},set exports(e){Ko=e}},du;function pm(){return du||(du=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(fm)),Ko}var hu;function zh(){return hu||(hu=1,function(e){var t=pm();function n(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&t(r,s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(hm)),Qo}var Zo={},gm={get exports(){return Zo},set exports(e){Zo=e}},Go={},wm={get exports(){return Go},set exports(e){Go=e}},fu;function ym(){return fu||(fu=1,function(e){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(wm)),Go}var pu;function jh(){return pu||(pu=1,function(e){var t=ra.default,n=ym();function r(s,i){if(i&&(t(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(gm)),Zo}var Yo={},mm={get exports(){return Yo},set exports(e){Yo=e}},gu;function Ph(){return gu||(gu=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(mm)),Yo}(function(e){var t=jo;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(dp),r=t(im()),s=t(ra),i=t(Oh()),o=t(Lh()),c=t(zh()),a=t(jh()),u=t(Ph()),h=ni;function p(b){var S=m();return function(){var C=(0,u.default)(b),x;if(S){var k=(0,u.default)(this).constructor;x=Reflect.construct(C,arguments,k)}else x=C.apply(this,arguments);return(0,a.default)(this,x)}}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var w=function(b,S){var N={};for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&S.indexOf(C)<0&&(N[C]=b[C]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,C=Object.getOwnPropertySymbols(b);x<C.length;x++)S.indexOf(C[x])<0&&Object.prototype.propertyIsEnumerable.call(b,C[x])&&(N[C[x]]=b[C[x]]);return N},v=function(b){(0,c.default)(N,b);var S=p(N);function N(C){var x,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,N);var F=_.autoconnect,D=F===void 0?!0:F,H=_.reconnect,W=H===void 0?!0:H,q=_.reconnect_interval,X=q===void 0?1e3:q,ke=_.max_reconnects,Se=ke===void 0?5:ke,Pe=w(_,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return x=S.call(this),x.webSocketFactory=C,x.queue={},x.rpc_id=0,x.address=k,x.autoconnect=D,x.ready=!1,x.reconnect=W,x.reconnect_timer_id=void 0,x.reconnect_interval=X,x.max_reconnects=Se,x.rest_options=Pe,x.current_reconnects=0,x.generate_request_id=A||function(){return++x.rpc_id},x.autoconnect&&x._connect(x.address,Object.assign({autoconnect:x.autoconnect,reconnect:x.reconnect,reconnect_interval:x.reconnect_interval,max_reconnects:x.max_reconnects},x.rest_options)),x}return(0,o.default)(N,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(x,k,_,A){var F=this;return!A&&(0,s.default)(_)==="object"&&(A=_,_=null),new Promise(function(D,H){if(!F.ready)return H(new Error("socket not ready"));var W=F.generate_request_id(x,k),q={jsonrpc:"2.0",method:x,params:k||null,id:W};F.socket.send(JSON.stringify(q),A,function(X){if(X)return H(X);F.queue[W]={promise:[D,H]},_&&(F.queue[W].timeout=setTimeout(function(){delete F.queue[W],H(new Error("reply timeout"))},_))})})}},{key:"login",value:function(){var C=(0,r.default)(n.default.mark(function k(_){var A;return n.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this.call("rpc.login",_);case 2:if(A=D.sent,A){D.next=5;break}throw new Error("authentication failed");case 5:return D.abrupt("return",A);case 6:case"end":return D.stop()}},k,this)}));function x(k){return C.apply(this,arguments)}return x}()},{key:"listMethods",value:function(){var C=(0,r.default)(n.default.mark(function k(){return n.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.call("__listMethods");case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},k,this)}));function x(){return C.apply(this,arguments)}return x}()},{key:"notify",value:function(x,k){var _=this;return new Promise(function(A,F){if(!_.ready)return F(new Error("socket not ready"));var D={jsonrpc:"2.0",method:x,params:k||null};_.socket.send(JSON.stringify(D),function(H){if(H)return F(H);A()})})}},{key:"subscribe",value:function(){var C=(0,r.default)(n.default.mark(function k(_){var A;return n.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return typeof _=="string"&&(_=[_]),D.next=3,this.call("rpc.on",_);case 3:if(A=D.sent,!(typeof _=="string"&&A[_]!=="ok")){D.next=6;break}throw new Error("Failed subscribing to an event '"+_+"' with: "+A[_]);case 6:return D.abrupt("return",A);case 7:case"end":return D.stop()}},k,this)}));function x(k){return C.apply(this,arguments)}return x}()},{key:"unsubscribe",value:function(){var C=(0,r.default)(n.default.mark(function k(_){var A;return n.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return typeof _=="string"&&(_=[_]),D.next=3,this.call("rpc.off",_);case 3:if(A=D.sent,!(typeof _=="string"&&A[_]!=="ok")){D.next=6;break}throw new Error("Failed unsubscribing from an event with: "+A);case 6:return D.abrupt("return",A);case 7:case"end":return D.stop()}},k,this)}));function x(k){return C.apply(this,arguments)}return x}()},{key:"close",value:function(x,k){this.socket.close(x||1e3,k)}},{key:"_connect",value:function(x,k){var _=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(x,k),this.socket.addEventListener("open",function(){_.ready=!0,_.emit("open"),_.current_reconnects=0}),this.socket.addEventListener("message",function(A){var F=A.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&_.listeners(F.notification).length){if(!Object.keys(F.params).length)return _.emit(F.notification);var D=[F.notification];if(F.params.constructor===Object)D.push(F.params);else for(var H=0;H<F.params.length;H++)D.push(F.params[H]);return Promise.resolve().then(function(){_.emit.apply(_,D)})}if(!_.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){_.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&_.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),_.queue[F.id].timeout&&clearTimeout(_.queue[F.id].timeout),F.error?_.queue[F.id].promise[1](F.error):_.queue[F.id].promise[0](F.result),delete _.queue[F.id]}),this.socket.addEventListener("error",function(A){return _.emit("error",A)}),this.socket.addEventListener("close",function(A){var F=A.code,D=A.reason;_.ready&&setTimeout(function(){return _.emit("close",F,D)},0),_.ready=!1,_.socket=void 0,F!==1e3&&(_.current_reconnects++,_.reconnect&&(_.max_reconnects>_.current_reconnects||_.max_reconnects===0)&&(_.reconnect_timer_id=setTimeout(function(){return _._connect(x,k)},_.reconnect_interval)))})}}]),N}(h.EventEmitter);e.default=v})(nm);var bm={};(function(e){var t=jo;Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var n=t(Oh()),r=t(Lh()),s=t(zh()),i=t(jh()),o=t(Ph()),c=ni;function a(m){var w=u();return function(){var b=(0,o.default)(m),S;if(w){var N=(0,o.default)(this).constructor;S=Reflect.construct(b,arguments,N)}else S=b.apply(this,arguments);return(0,i.default)(this,S)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=function(m){(0,s.default)(v,m);var w=a(v);function v(b,S,N){var C;return(0,n.default)(this,v),C=w.call(this),C.socket=new window.WebSocket(b,N),C.socket.onopen=function(){return C.emit("open")},C.socket.onmessage=function(x){return C.emit("message",x.data)},C.socket.onerror=function(x){return C.emit("error",x)},C.socket.onclose=function(x){C.emit("close",x.code,x.reason)},C}return(0,r.default)(v,[{key:"send",value:function(S,N,C){var x=C||N;try{this.socket.send(S),x()}catch(k){x(k)}}},{key:"close",value:function(S,N){this.socket.close(S,N)}},{key:"addEventListener",value:function(S,N,C){this.socket.addEventListener(S,N,C)}}]),v}(c.EventEmitter);function p(m,w){return new h(m,w)}})(bm);const[Vh,$h,Wh]=[[],[],[]],_m=BigInt(0),Qs=BigInt(1),vm=BigInt(2),xm=BigInt(7),Sm=BigInt(256),Tm=BigInt(113);for(let e=0,t=Qs,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Vh.push(2*(5*r+n)),$h.push((e+1)*(e+2)/2%64);let s=_m;for(let i=0;i<7;i++)t=(t<<Qs^(t>>xm)*Tm)%Sm,t&vm&&(s^=Qs<<(Qs<<BigInt(i))-Qs);Wh.push(s)}const[Em,km]=ti.split(Wh,!0),wu=(e,t,n)=>n>32?ti.rotlBH(e,t,n):ti.rotlSH(e,t,n),yu=(e,t,n)=>n>32?ti.rotlBL(e,t,n):ti.rotlSL(e,t,n);function Im(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,a=(o+2)%10,u=n[a],h=n[a+1],p=wu(u,h,1)^n[c],m=yu(u,h,1)^n[c+1];for(let w=0;w<50;w+=10)e[o+w]^=p,e[o+w+1]^=m}let s=e[2],i=e[3];for(let o=0;o<24;o++){const c=$h[o],a=wu(s,i,c),u=yu(s,i,c),h=Vh[o];s=e[h],i=e[h+1],e[h]=a,e[h+1]=u}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Em[r],e[1]^=km[r]}n.fill(0)}class ja extends Fp{constructor(t,n,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,rs.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Cp(this.state)}keccak(){Im(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){rs.exists(this);const{blockLen:n,state:r}=this;t=Dp(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let c=0;c<o;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){rs.exists(this,!1),rs.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return rs.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(rs.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new ja(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const kr=(e,t,n)=>Bp(()=>new ja(t,e,n));kr(6,144,224/8);kr(6,136,256/8);kr(6,104,384/8);kr(6,72,512/8);kr(1,144,224/8);kr(1,136,256/8);kr(1,104,384/8);kr(1,72,512/8);const Hh=(e,t,n)=>Np((r={})=>new ja(t,e,r.dkLen===void 0?n:r.dkLen,!0));Hh(31,168,128/8);Hh(31,136,256/8);Fa.utils.randomPrivateKey;function mu(e){try{return Fa.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Am=(e,t)=>Fa.sign(e,t.slice(0,32)),Um=Fa.verify,gl=e=>ye.Buffer.isBuffer(e)?e:e instanceof Uint8Array?ye.Buffer.from(e.buffer,e.byteOffset,e.byteLength):ye.Buffer.from(e);class Mm{constructor(t){Object.assign(this,t)}encode(){return ye.Buffer.from(dh(_o,this))}static decode(t){return hh(_o,this,t)}static decodeUnchecked(t){return oh(_o,this,t)}}const _o=new Map;let Qh;const Bm=32,Nr=32;function Nm(e){return e._bn!==void 0}let bu=1;Qh=Symbol.toStringTag;class ve extends Mm{constructor(t){if(super({}),this._bn=void 0,Nm(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Bt.decode(t);if(n.length!=Nr)throw new Error("Invalid public key input");this._bn=new oc(n)}else this._bn=new oc(t);if(this._bn.byteLength()>Nr)throw new Error("Invalid public key input")}}static unique(){const t=new ve(bu);return bu+=1,new ve(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Bt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(ye.Buffer);if(t.length===Nr)return t;const n=ye.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Qh](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const s=ye.Buffer.concat([t.toBuffer(),ye.Buffer.from(n),r.toBuffer()]),i=Vl(s);return new ve(i)}static createProgramAddressSync(t,n){let r=ye.Buffer.alloc(0);t.forEach(function(i){if(i.length>Bm)throw new TypeError("Max seed length exceeded");r=ye.Buffer.concat([r,gl(i)])}),r=ye.Buffer.concat([r,n.toBuffer(),ye.Buffer.from("ProgramDerivedAddress")]);const s=Vl(r);if(mu(s))throw new Error("Invalid seeds, address must fall off the curve");return new ve(s)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,s;for(;r!=0;){try{const i=t.concat(ye.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ve(t);return mu(n.toBytes())}}ve.default=new ve("11111111111111111111111111111111");_o.set(ve,{kind:"struct",fields:[["_bn","u256"]]});new ve("BPFLoader1111111111111111111111111111111111");const gc=1280-40-8,Fm=127,wc=64;class _u{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Me=(e="publicKey")=>tn(32,e),ps=(e="string")=>{const t=he([pe("length"),pe("lengthPadding"),tn(Or(pe(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,c)=>{const a={chars:ye.Buffer.from(i,"utf8")};return r(a,o,c)},s.alloc=i=>pe().span+pe().span+ye.Buffer.from(i,"utf8").length,s},Cm=(e="authorized")=>he([Me("staker"),Me("withdrawer")],e),Dm=(e="lockup")=>he([$t("unixTimestamp"),$t("epoch"),Me("custodian")],e),Rm=(e="voteInit")=>he([Me("nodePubkey"),Me("authorizedVoter"),Me("authorizedWithdrawer"),qe("commission")],e),Om=(e="voteAuthorizeWithSeedArgs")=>he([pe("voteAuthorizationType"),Me("currentAuthorityDerivedKeyOwnerPubkey"),ps("currentAuthorityDerivedKeySeed"),Me("newAuthorized")],e);function qs(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function Js(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Vt(e,t){if(!e)throw new Error(t||"Assertion failed")}class wl{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,s=o=>{const c=o.toBase58();let a=r.get(c);return a===void 0&&(a={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,a)),a},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const c of o.keys){const a=s(c.pubkey);a.isSigner||(a.isSigner=c.isSigner),a.isWritable||(a.isWritable=c.isWritable)}}return new wl(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Vt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,a])=>a.isSigner&&a.isWritable),r=t.filter(([,a])=>a.isSigner&&!a.isWritable),s=t.filter(([,a])=>!a.isSigner&&a.isWritable),i=t.filter(([,a])=>!a.isSigner&&!a.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Vt(n.length>0,"Expected at least one writable signer key");const[a]=n[0];Vt(a===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...n.map(([a])=>new ve(a)),...r.map(([a])=>new ve(a)),...s.map(([a])=>new ve(a)),...i.map(([a])=>new ve(a))];return[o,c]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const c=new ve(i),a=t.findIndex(u=>u.equals(c));a>=0&&(Vt(a<256,"Max lookup table index exceeded"),r.push(a),s.push(c),this.keyMetaMap.delete(i))}return[r,s]}}class Bs{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ve(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Bt.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new _u(this.staticAccountKeys)}static compile(t){const n=wl.compile(t.instructions,t.payerKey),[r,s]=n.getMessageComponents(),o=new _u(s).compileInstructions(t.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Bt.encode(c.data)}));return new Bs({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];Js(n,t);const r=this.instructions.map(p=>{const{accounts:m,programIdIndex:w}=p,v=Array.from(Bt.decode(p.data));let b=[];Js(b,m.length);let S=[];return Js(S,v.length),{programIdIndex:w,keyIndicesCount:ye.Buffer.from(b),keyIndices:m,dataLength:ye.Buffer.from(S),data:v}});let s=[];Js(s,r.length);let i=ye.Buffer.alloc(gc);ye.Buffer.from(s).copy(i);let o=s.length;r.forEach(p=>{const w=he([qe("programIdIndex"),tn(p.keyIndicesCount.length,"keyIndicesCount"),kn(qe("keyIndex"),p.keyIndices.length,"keyIndices"),tn(p.dataLength.length,"dataLength"),kn(qe("userdatum"),p.data.length,"data")]).encode(p,i,o);o+=w}),i=i.slice(0,o);const c=he([tn(1,"numRequiredSignatures"),tn(1,"numReadonlySignedAccounts"),tn(1,"numReadonlyUnsignedAccounts"),tn(n.length,"keyCount"),kn(Me("key"),t,"keys"),Me("recentBlockhash")]),a={numRequiredSignatures:ye.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ye.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ye.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ye.Buffer.from(n),keys:this.accountKeys.map(p=>gl(p.toBytes())),recentBlockhash:Bt.decode(this.recentBlockhash)};let u=ye.Buffer.alloc(2048);const h=c.encode(a,u);return i.copy(u,h),u.slice(0,h+i.length)}static from(t){let n=[...t];const r=n.shift();if(r!==(r&Fm))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=n.shift(),i=n.shift(),o=qs(n);let c=[];for(let m=0;m<o;m++){const w=n.slice(0,Nr);n=n.slice(Nr),c.push(new ve(ye.Buffer.from(w)))}const a=n.slice(0,Nr);n=n.slice(Nr);const u=qs(n);let h=[];for(let m=0;m<u;m++){const w=n.shift(),v=qs(n),b=n.slice(0,v);n=n.slice(v);const S=qs(n),N=n.slice(0,S),C=Bt.encode(ye.Buffer.from(N));n=n.slice(S),h.push({programIdIndex:w,accounts:b,data:C})}const p={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Bt.encode(ye.Buffer.from(a)),accountKeys:c,instructions:h};return new Bs(p)}}const Lm=ye.Buffer.alloc(wc).fill(0);class yc{constructor(t){this.keys=void 0,this.programId=void 0,this.data=ye.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class qo{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new yc(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<n.length;b++)if(n[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);const s=[],i=[];n.forEach(b=>{b.keys.forEach(N=>{i.push({...N})});const S=b.programId.toString();s.includes(S)||s.push(S)}),s.forEach(b=>{i.push({pubkey:new ve(b),isSigner:!1,isWritable:!1})});const o=[];i.forEach(b=>{const S=b.pubkey.toString(),N=o.findIndex(C=>C.pubkey.toString()===S);N>-1?(o[N].isWritable=o[N].isWritable||b.isWritable,o[N].isSigner=o[N].isSigner||b.isSigner):o.push(b)}),o.sort(function(b,S){if(b.isSigner!==S.isSigner)return b.isSigner?-1:1;if(b.isWritable!==S.isWritable)return b.isWritable?-1:1;const N={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return b.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",N)});const c=o.findIndex(b=>b.pubkey.equals(r));if(c>-1){const[b]=o.splice(c,1);b.isSigner=!0,b.isWritable=!0,o.unshift(b)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const b of this.signatures){const S=o.findIndex(N=>N.pubkey.equals(b.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let a=0,u=0,h=0;const p=[],m=[];o.forEach(({pubkey:b,isSigner:S,isWritable:N})=>{S?(p.push(b.toString()),a+=1,N||(u+=1)):(m.push(b.toString()),N||(h+=1))});const w=p.concat(m),v=n.map(b=>{const{data:S,programId:N}=b;return{programIdIndex:w.indexOf(N.toString()),accounts:b.keys.map(C=>w.indexOf(C.pubkey.toString())),data:Bt.encode(S)}});return v.forEach(b=>{Vt(b.programIdIndex>=0),b.accounts.forEach(S=>Vt(S>=0))}),new Bs({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h},accountKeys:w,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(s=>{const i=Am(r,s.secretKey);this._addSignature(s.publicKey,gl(i))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Vt(n.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=ye.Buffer.from(n)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),t===void 0?!0:t)}_verifySignatures(t,n){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(n)return!1}else if(!Um(r,t,s.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r&&!this._verifySignatures(s,n))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(t){const{signatures:n}=this,r=[];Js(r,n.length);const s=r.length+n.length*64+t.length,i=ye.Buffer.alloc(s);return Vt(n.length<256),ye.Buffer.from(r).copy(i,0),n.forEach(({signature:o},c)=>{o!==null&&(Vt(o.length===64,"signature has invalid length"),ye.Buffer.from(o).copy(i,r.length+c*64))}),t.copy(i,r.length+n.length*64),Vt(i.length<=gc,`Transaction too large: ${i.length} > ${gc}`),i}get keys(){return Vt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Vt(this.instructions.length===1),this.instructions[0].programId}get data(){return Vt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=qs(n);let s=[];for(let i=0;i<r;i++){const o=n.slice(0,wc);n=n.slice(wc),s.push(Bt.encode(ye.Buffer.from(o)))}return qo.populate(Bs.from(n),s)}static populate(t,n=[]){const r=new qo;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==Bt.encode(Lm)?null:Bt.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const c=t.accountKeys[o];return{pubkey:c,isSigner:r.signatures.some(a=>a.publicKey.toString()===c.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});r.instructions.push(new yc({keys:i,programId:t.accountKeys[s.programIdIndex],data:Bt.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}new ve("SysvarC1ock11111111111111111111111111111111");new ve("SysvarEpochSchedu1e111111111111111111111111");new ve("Sysvar1nstructions1111111111111111111111111");new ve("SysvarRecentB1ockHashes11111111111111111111");new ve("SysvarRent111111111111111111111111111111111");new ve("SysvarRewards111111111111111111111111111111");new ve("SysvarS1otHashes111111111111111111111111111");new ve("SysvarS1otHistory11111111111111111111111111");new ve("SysvarStakeHistory1111111111111111111111111");const zm=ct("lamportsPerSignature"),jm=he([pe("version"),pe("state"),Me("authorizedPubkey"),Me("nonce"),he([zm],"feeCalculator")]);jm.span;const Pm=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},Vm=e=>t=>{const n=tn(e,t),{encode:r,decode:s}=Pm(n),i=n;return i.decode=(o,c)=>{const a=s(o,c);return xy(ye.Buffer.from(a))},i.encode=(o,c,a)=>{const u=Ey(o,e);return r(u,c,a)},i},Ns=Vm(8);Object.freeze({Create:{index:0,layout:he([pe("instruction"),$t("lamports"),$t("space"),Me("programId")])},Assign:{index:1,layout:he([pe("instruction"),Me("programId")])},Transfer:{index:2,layout:he([pe("instruction"),Ns("lamports")])},CreateWithSeed:{index:3,layout:he([pe("instruction"),Me("base"),ps("seed"),$t("lamports"),$t("space"),Me("programId")])},AdvanceNonceAccount:{index:4,layout:he([pe("instruction")])},WithdrawNonceAccount:{index:5,layout:he([pe("instruction"),$t("lamports")])},InitializeNonceAccount:{index:6,layout:he([pe("instruction"),Me("authorized")])},AuthorizeNonceAccount:{index:7,layout:he([pe("instruction"),Me("authorized")])},Allocate:{index:8,layout:he([pe("instruction"),$t("space")])},AllocateWithSeed:{index:9,layout:he([pe("instruction"),Me("base"),ps("seed"),$t("space"),Me("programId")])},AssignWithSeed:{index:10,layout:he([pe("instruction"),Me("base"),ps("seed"),Me("programId")])},TransferWithSeed:{index:11,layout:he([pe("instruction"),Ns("lamports"),ps("seed"),Me("programId")])},UpgradeNonceAccount:{index:12,layout:he([pe("instruction")])}});new ve("11111111111111111111111111111111");new ve("BPFLoader2111111111111111111111111111111111");he([pe("typeIndex"),Ns("deactivationSlot"),ct("lastExtendedSlot"),qe("lastExtendedStartIndex"),qe(),kn(Me(),Or(qe(),-1),"authority")]);const tt=xi(fl(ve),Z(),e=>new ve(e)),Kh=pl([Z(),Ye("base64")]),yl=xi(fl(ye.Buffer),Kh,e=>ye.Buffer.from(e[0],"base64"));function Zh(e){return Rt([$({jsonrpc:Ye("2.0"),id:Z(),result:e}),$({jsonrpc:Ye("2.0"),id:Z(),error:$({code:vi(),message:Z(),data:ge(Fy())})})])}const $m=Zh(vi());function Qe(e){return xi(Zh(e),$m,t=>"error"in t?t:{...t,result:oi(t.result,e)})}function sn(e){return Qe($({context:$({slot:M()}),value:e}))}function Pa(e){return $({context:$({slot:M()}),value:e})}const Wm=$({foundation:M(),foundationTerm:M(),initial:M(),taper:M(),terminal:M()});Qe(ne(te($({epoch:M(),effectiveSlot:M(),amount:M(),postBalance:M(),commission:ge(te(M()))}))));const Hm=ne($({slot:M(),prioritizationFee:M()})),Qm=$({total:M(),validator:M(),foundation:M(),epoch:M()}),Km=$({epoch:M(),slotIndex:M(),slotsInEpoch:M(),absoluteSlot:M(),blockHeight:ge(M()),transactionCount:ge(M())}),Zm=$({slotsPerEpoch:M(),leaderScheduleSlotOffset:M(),warmup:Nn(),firstNormalEpoch:M(),firstNormalSlot:M()}),Gm=Bh(Z(),ne(M())),Xr=te(Rt([$({}),Z()])),Ym=$({err:Xr}),qm=Ye("receivedSignature");$({"solana-core":Z(),"feature-set":ge(M())});sn($({err:te(Rt([$({}),Z()])),logs:te(ne(Z())),accounts:ge(te(ne(te($({executable:Nn(),owner:Z(),lamports:M(),data:ne(Z()),rentEpoch:ge(M())}))))),unitsConsumed:ge(M()),returnData:ge(te($({programId:Z(),data:pl([Z(),Ye("base64")])})))}));sn($({byIdentity:Bh(Z(),ne(M())),range:$({firstSlot:M(),lastSlot:M()})}));Qe(Wm);Qe(Qm);Qe(Hm);Qe(Km);Qe(Zm);Qe(Gm);Qe(M());sn($({total:M(),circulating:M(),nonCirculating:M(),nonCirculatingAccounts:ne(tt)}));const Jm=$({amount:Z(),uiAmount:te(M()),decimals:M(),uiAmountString:ge(Z())});sn(ne($({address:tt,amount:Z(),uiAmount:te(M()),decimals:M(),uiAmountString:ge(Z())})));sn(ne($({pubkey:tt,account:$({executable:Nn(),owner:tt,lamports:M(),data:yl,rentEpoch:M()})})));const mc=$({program:Z(),parsed:vi(),space:M()});sn(ne($({pubkey:tt,account:$({executable:Nn(),owner:tt,lamports:M(),data:mc,rentEpoch:M()})})));sn(ne($({lamports:M(),address:tt})));const ml=$({executable:Nn(),owner:tt,lamports:M(),data:yl,rentEpoch:M()});$({pubkey:tt,account:ml});const Xm=xi(Rt([fl(ye.Buffer),mc]),Rt([Kh,mc]),e=>Array.isArray(e)?oi(e,yl):e),eb=$({executable:Nn(),owner:tt,lamports:M(),data:Xm,rentEpoch:M()});$({pubkey:tt,account:eb});$({state:Rt([Ye("active"),Ye("inactive"),Ye("activating"),Ye("deactivating")]),active:M(),inactive:M()});Qe(ne($({signature:Z(),slot:M(),err:Xr,memo:te(Z()),blockTime:ge(te(M()))})));Qe(ne($({signature:Z(),slot:M(),err:Xr,memo:te(Z()),blockTime:ge(te(M()))})));$({subscription:M(),result:Pa(ml)});const tb=$({pubkey:tt,account:ml});$({subscription:M(),result:Pa(tb)});const nb=$({parent:M(),slot:M(),root:M()});$({subscription:M(),result:nb});const rb=Rt([$({type:Rt([Ye("firstShredReceived"),Ye("completed"),Ye("optimisticConfirmation"),Ye("root")]),slot:M(),timestamp:M()}),$({type:Ye("createdBank"),parent:M(),slot:M(),timestamp:M()}),$({type:Ye("frozen"),slot:M(),timestamp:M(),stats:$({numTransactionEntries:M(),numSuccessfulTransactions:M(),numFailedTransactions:M(),maxTransactionsPerEntry:M()})}),$({type:Ye("dead"),slot:M(),timestamp:M(),err:Z()})]);$({subscription:M(),result:rb});$({subscription:M(),result:Pa(Rt([Ym,qm]))});$({subscription:M(),result:M()});$({pubkey:Z(),gossip:te(Z()),tpu:te(Z()),rpc:te(Z()),version:te(Z())});const vu=$({votePubkey:Z(),nodePubkey:Z(),activatedStake:M(),epochVoteAccount:Nn(),epochCredits:ne(pl([M(),M(),M()])),commission:M(),lastVote:M(),rootSlot:te(M())});Qe($({current:ne(vu),delinquent:ne(vu)}));const sb=Rt([Ye("processed"),Ye("confirmed"),Ye("finalized")]),ib=$({slot:M(),confirmations:te(M()),err:Xr,confirmationStatus:ge(sb)});sn(ne(te(ib)));Qe(M());const Gh=$({accountKey:tt,writableIndexes:ne(M()),readonlyIndexes:ne(M())}),bl=$({signatures:ne(Z()),message:$({accountKeys:ne(Z()),header:$({numRequiredSignatures:M(),numReadonlySignedAccounts:M(),numReadonlyUnsignedAccounts:M()}),instructions:ne($({accounts:ne(M()),data:Z(),programIdIndex:M()})),recentBlockhash:Z(),addressTableLookups:ge(ne(Gh))})}),Yh=$({pubkey:tt,signer:Nn(),writable:Nn(),source:ge(Rt([Ye("transaction"),Ye("lookupTable")]))}),qh=$({accountKeys:ne(Yh),signatures:ne(Z())}),Jh=$({parsed:vi(),program:Z(),programId:tt}),Xh=$({accounts:ne(tt),data:Z(),programId:tt}),ob=Rt([Xh,Jh]),ab=Rt([$({parsed:vi(),program:Z(),programId:Z()}),$({accounts:ne(Z()),data:Z(),programId:Z()})]),ef=xi(ob,ab,e=>"accounts"in e?oi(e,Xh):oi(e,Jh)),tf=$({signatures:ne(Z()),message:$({accountKeys:ne(Yh),instructions:ne(ef),recentBlockhash:Z(),addressTableLookups:ge(te(ne(Gh)))})}),Jo=$({accountIndex:M(),mint:Z(),owner:ge(Z()),uiTokenAmount:Jm}),nf=$({writable:ne(tt),readonly:ne(tt)}),Va=$({err:Xr,fee:M(),innerInstructions:ge(te(ne($({index:M(),instructions:ne($({accounts:ne(M()),data:Z(),programIdIndex:M()}))})))),preBalances:ne(M()),postBalances:ne(M()),logMessages:ge(te(ne(Z()))),preTokenBalances:ge(te(ne(Jo))),postTokenBalances:ge(te(ne(Jo))),loadedAddresses:ge(nf),computeUnitsConsumed:ge(M())}),_l=$({err:Xr,fee:M(),innerInstructions:ge(te(ne($({index:M(),instructions:ne(ef)})))),preBalances:ne(M()),postBalances:ne(M()),logMessages:ge(te(ne(Z()))),preTokenBalances:ge(te(ne(Jo))),postTokenBalances:ge(te(ne(Jo))),loadedAddresses:ge(nf),computeUnitsConsumed:ge(M())}),$s=Rt([Ye(0),Ye("legacy")]),es=$({pubkey:Z(),lamports:M(),postBalance:te(M()),rewardType:te(Z()),commission:ge(te(M()))});Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),transactions:ne($({transaction:bl,meta:te(Va),version:ge($s)})),rewards:ge(ne(es)),blockTime:te(M()),blockHeight:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),rewards:ge(ne(es)),blockTime:te(M()),blockHeight:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),transactions:ne($({transaction:qh,meta:te(Va),version:ge($s)})),rewards:ge(ne(es)),blockTime:te(M()),blockHeight:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),transactions:ne($({transaction:tf,meta:te(_l),version:ge($s)})),rewards:ge(ne(es)),blockTime:te(M()),blockHeight:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),transactions:ne($({transaction:qh,meta:te(_l),version:ge($s)})),rewards:ge(ne(es)),blockTime:te(M()),blockHeight:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),rewards:ge(ne(es)),blockTime:te(M()),blockHeight:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),transactions:ne($({transaction:bl,meta:te(Va)})),rewards:ge(ne(es)),blockTime:te(M())})));Qe(te($({blockhash:Z(),previousBlockhash:Z(),parentSlot:M(),signatures:ne(Z()),blockTime:te(M())})));Qe(te($({slot:M(),meta:Va,blockTime:ge(te(M())),transaction:bl,version:ge($s)})));Qe(te($({slot:M(),transaction:tf,meta:te(_l),blockTime:ge(te(M())),version:ge($s)})));sn($({blockhash:Z(),feeCalculator:$({lamportsPerSignature:M()})}));sn($({blockhash:Z(),lastValidBlockHeight:M()}));sn(Nn());const cb=$({slot:M(),numTransactions:M(),numSlots:M(),samplePeriodSecs:M()});Qe(ne(cb));sn(te($({feeCalculator:$({lamportsPerSignature:M()})})));Qe(Z());Qe(Z());const lb=$({err:Xr,logs:ne(Z()),signature:Z()});$({result:Pa(lb),subscription:M()});Object.freeze({CreateLookupTable:{index:0,layout:he([pe("instruction"),Ns("recentSlot"),qe("bumpSeed")])},FreezeLookupTable:{index:1,layout:he([pe("instruction")])},ExtendLookupTable:{index:2,layout:he([pe("instruction"),Ns(),kn(Me(),Or(pe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:he([pe("instruction")])},CloseLookupTable:{index:4,layout:he([pe("instruction")])}});new ve("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:he([qe("instruction"),pe("units"),pe("additionalFee")])},RequestHeapFrame:{index:1,layout:he([qe("instruction"),pe("bytes")])},SetComputeUnitLimit:{index:2,layout:he([qe("instruction"),pe("units")])},SetComputeUnitPrice:{index:3,layout:he([qe("instruction"),Ns("microLamports")])}});new ve("ComputeBudget111111111111111111111111111111");he([qe("numSignatures"),qe("padding"),Xt("signatureOffset"),Xt("signatureInstructionIndex"),Xt("publicKeyOffset"),Xt("publicKeyInstructionIndex"),Xt("messageDataOffset"),Xt("messageDataSize"),Xt("messageInstructionIndex")]);new ve("Ed25519SigVerify111111111111111111111111111");Vu.utils.isValidPrivateKey;Vu.getPublicKey;he([qe("numSignatures"),Xt("signatureOffset"),qe("signatureInstructionIndex"),Xt("ethAddressOffset"),qe("ethAddressInstructionIndex"),Xt("messageDataOffset"),Xt("messageDataSize"),qe("messageInstructionIndex"),tn(20,"ethAddress"),tn(64,"signature"),qe("recoveryId")]);new ve("KeccakSecp256k11111111111111111111111111111");new ve("StakeConfig11111111111111111111111111111111");class xu{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}xu.default=new xu(0,0,ve.default);Object.freeze({Initialize:{index:0,layout:he([pe("instruction"),Cm(),Dm()])},Authorize:{index:1,layout:he([pe("instruction"),Me("newAuthorized"),pe("stakeAuthorizationType")])},Delegate:{index:2,layout:he([pe("instruction")])},Split:{index:3,layout:he([pe("instruction"),$t("lamports")])},Withdraw:{index:4,layout:he([pe("instruction"),$t("lamports")])},Deactivate:{index:5,layout:he([pe("instruction")])},Merge:{index:7,layout:he([pe("instruction")])},AuthorizeWithSeed:{index:8,layout:he([pe("instruction"),Me("newAuthorized"),pe("stakeAuthorizationType"),ps("authoritySeed"),Me("authorityOwner")])}});new ve("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:he([pe("instruction"),Rm()])},Authorize:{index:1,layout:he([pe("instruction"),Me("newAuthorized"),pe("voteAuthorizationType")])},Withdraw:{index:3,layout:he([pe("instruction"),$t("lamports")])},AuthorizeWithSeed:{index:10,layout:he([pe("instruction"),Om()])}});new ve("Vote111111111111111111111111111111111111111");new ve("Va1idator1nfo111111111111111111111111111111");$({name:Z(),website:ge(Z()),details:ge(Z()),keybaseUsername:ge(Z())});new ve("Vote111111111111111111111111111111111111111");he([Me("nodePubkey"),Me("authorizedWithdrawer"),qe("commission"),ct(),kn(he([ct("slot"),pe("confirmationCount")]),Or(pe(),-8),"votes"),qe("rootSlotValid"),ct("rootSlot"),ct(),kn(he([ct("epoch"),Me("authorizedVoter")]),Or(pe(),-8),"authorizedVoters"),he([kn(he([Me("authorizedPubkey"),ct("epochOfLastAuthorizedSwitch"),ct("targetEpoch")]),32,"buf"),ct("idx"),qe("isEmpty")],"priorVoters"),ct(),kn(he([ct("epoch"),ct("credits"),ct("prevCredits")]),Or(pe(),-8),"epochCredits"),he([ct("slot"),ct("timestamp")],"lastTimestamp")]);var Zn=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function rf(){throw new Error("setTimeout has not been defined")}function sf(){throw new Error("clearTimeout has not been defined")}var lr=rf,ur=sf;typeof Zn.setTimeout=="function"&&(lr=setTimeout);typeof Zn.clearTimeout=="function"&&(ur=clearTimeout);function of(e){if(lr===setTimeout)return setTimeout(e,0);if((lr===rf||!lr)&&setTimeout)return lr=setTimeout,setTimeout(e,0);try{return lr(e,0)}catch{try{return lr.call(null,e,0)}catch{return lr.call(this,e,0)}}}function ub(e){if(ur===clearTimeout)return clearTimeout(e);if((ur===sf||!ur)&&clearTimeout)return ur=clearTimeout,clearTimeout(e);try{return ur(e)}catch{try{return ur.call(null,e)}catch{return ur.call(this,e)}}}var Wn=[],xs=!1,Fr,vo=-1;function db(){!xs||!Fr||(xs=!1,Fr.length?Wn=Fr.concat(Wn):vo=-1,Wn.length&&af())}function af(){if(!xs){var e=of(db);xs=!0;for(var t=Wn.length;t;){for(Fr=Wn,Wn=[];++vo<t;)Fr&&Fr[vo].run();vo=-1,t=Wn.length}Fr=null,xs=!1,ub(e)}}function hb(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Wn.push(new cf(e,t)),Wn.length===1&&!xs&&of(af)}function cf(e,t){this.fun=e,this.array=t}cf.prototype.run=function(){this.fun.apply(null,this.array)};var fb="browser",pb="browser",gb=!0,wb={},yb=[],mb="",bb={},_b={},vb={};function ts(){}var xb=ts,Sb=ts,Tb=ts,Eb=ts,kb=ts,Ib=ts,Ab=ts;function Ub(e){throw new Error("process.binding is not supported")}function Mb(){return"/"}function Bb(e){throw new Error("process.chdir is not supported")}function Nb(){return 0}var us=Zn.performance||{},Fb=us.now||us.mozNow||us.msNow||us.oNow||us.webkitNow||function(){return new Date().getTime()};function Cb(e){var t=Fb.call(us)*.001,n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=1e9)),[n,r]}var Db=new Date;function Rb(){var e=new Date,t=e-Db;return t/1e3}var xo={nextTick:hb,title:fb,browser:gb,env:wb,argv:yb,version:mb,versions:bb,on:xb,addListener:Sb,once:Tb,off:Eb,removeListener:kb,removeAllListeners:Ib,emit:Ab,binding:Ub,cwd:Mb,chdir:Bb,umask:Nb,hrtime:Cb,platform:pb,release:_b,config:vb,uptime:Rb},Ob=function(e,t,n,r,s,i,o,c){if(xo.env.NODE_ENV!=="production"&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){var a;if(t===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,i,o,c],h=0;a=new Error(t.replace(/%s/g,function(){return u[h++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}},Ss=Ob;const Lb={56:"https://bsc-dataseed1.binance.org",97:"https://data-seed-prebsc-1-s1.binance.org:8545",137:"https://rpc-mainnet.maticvigil.com/",80001:"https://rpc-mumbai.matic.today/",43114:"https://api.avax.network/ext/bc/C/rpc",43113:"https://api.avax-test.network/ext/bc/C/rpc"},zb={1:"ethereum",4:"ethereum",56:"bsc",97:"bsc",137:"polygon",80001:"polygon",43114:"avalanche",43113:"avalanche"},jb={1:"mainnet",4:"rinkeby",56:"mainnet",97:"testnet",137:"mainnet",80001:"testnet",43114:"mainnet",43113:"testnet"},Pb={1:"https://wallet.blocto.app",4:"https://wallet-testnet.blocto.app",56:"https://wallet.blocto.app",97:"https://wallet-testnet.blocto.app",137:"https://wallet.blocto.app",80001:"https://wallet-testnet.blocto.app",43114:"https://wallet.blocto.app",43113:"https://wallet-testnet.blocto.app"},Vb={devnet:"https://wallet-testnet.blocto.app",testnet:"https://wallet-testnet.blocto.app","mainnet-beta":"https://wallet.blocto.app"},$b=["devnet","testnet","mainnet-beta"],Wb={1:"https://wallet.blocto.app",2:"https://wallet-testnet.blocto.app",3:"https://wallet-testnet.blocto.app",4:"https://wallet-testnet.blocto.app",5:"https://wallet.blocto.app"};var Mr;(function(e){e.Mainnet="mainnet",e.Testnet="testnet",e.Devnet="devnet",e.Testing="testing",e.Premainnet="premainnet"})(Mr||(Mr={}));const Hb={1:Mr.Mainnet,2:Mr.Testnet,3:Mr.Devnet,4:Mr.Testing,5:Mr.Premainnet},Qb={1:"https://fullnode.mainnet.aptoslabs.com/v1",2:"https://fullnode.testnet.aptoslabs.com/v1",3:"https://fullnode.devnet.aptoslabs.com/v1",4:"",5:"https://premainnet.aptosdev.com/v1"},Su=["connect","disconnect","message","chainChanged","accountsChanged"],vl=86400*1e3,Kb="sdk.session";class xl{constructor(){this.isBlocto=!0,this.isConnecting=!1,this.connected=!1,this.eventListeners={},this.code=null,this.sessionKey=Kb,this.off=this.removeListener,Su.forEach(t=>{this.eventListeners[t]=[]})}async request(t){}on(t,n){Su.includes(t)&&this.eventListeners[t].push(n)}once(){}removeListener(t,n){const s=this.eventListeners[t].findIndex(i=>i===n);s!==-1&&this.eventListeners[t].splice(s,1)}}const Zb="width:100vw;height:100%;position:fixed;top:0;left:0;z-index:20000;border:none;";function _r(e){const t=document.createElement("iframe");return t.setAttribute("src",e),t.setAttribute("style",Zb),t}function vr(e){document.body.appendChild(e)}function mt(e){const t=e&&e.parentNode;t&&t.removeChild instanceof Function&&t.removeChild(e)}var In=(e,t,n=window)=>{function r(s){t(s,()=>n.removeEventListener(e,r))}n.addEventListener(e,r)};class Gb{constructor(){this.storage={}}getItem(t){return this[t]||null}setItem(t,n){this.storage[t]=n}removeItem(t){delete this.storage[t]}}const lf=typeof window<"u"?window.memoryStorage:new Gb;typeof window<"u"&&(window.memoryStorage=lf);const Yb=()=>{if(typeof window>"u")return!1;try{window.localStorage.setItem("local_storage_supported","1");const e=window.localStorage.getItem("local_storage_supported");return window.localStorage.removeItem("local_storage_supported"),e==="1"}catch{return!1}},Sl=Yb()?window.localStorage:lf,qb=(e,t=null)=>{const n=Sl.getItem(e);try{return JSON.parse(n)||t}catch{return n||t}},Tl=(e,t=null)=>{const n=qb(e,null);return n?new Date().getTime()>n.expiry?(df(e),t):n.value:t},uf=(e,t)=>Sl.setItem(e,typeof t=="string"?t:JSON.stringify(t)),El=(e,t,n)=>uf(e,{value:t,expiry:new Date().getTime()+n}),df=e=>{uf(e,""),Sl.removeItem(e)};async function Fs(e,t){if(e.status===403)throw t.code=null,df(t.sessionKey),new Error("[Blocto SDK]: Session expired!");return e.json()}class Jb extends xl{constructor({chainId:t="0x1",rpc:n,server:r,appId:s}){super(),this.accounts=[],Ss(t,"'chainId' is required"),typeof t=="number"?this.chainId=t:t.includes("0x")?this.chainId=parseInt(t,16):this.chainId=parseInt(t,10),this.networkId=this.chainId,this.chain=zb[this.chainId],this.net=jb[this.chainId],Ss(this.chain,`unsupported 'chainId': ${this.chainId}`),this.rpc=n||Lb[this.chainId]||{}.RPC||"",Ss(this.rpc,"'rpc' is required for Ethereum"),this.server=r||Pb[this.chainId]||{}.SERVER||"",this.appId=s||{}.APP_ID}tryRetrieveSessionFromStorage(){const t=Tl(this.sessionKey,{}),n=t&&t.code,r=t&&t.address&&t.address[this.chain];this.connected=!!(n&&r),this.code=n||null,this.accounts=r?[r]:[]}checkNetworkMatched(){const t=window.ethereum;if(t&&t.isBlocto&&parseInt(t.chainId,16)!==this.chainId)throw new Error("Blocto SDK network mismatched")}async send(t,n){switch(!0){case n instanceof Function:return this.sendAsync(t,n);case(typeof t=="string"&&Array.isArray(n)):return this.sendAsync({method:t,params:n});default:return this.sendAsync(t)}}async sendAsync(t,n){const r=new Promise(s=>{if(Array.isArray(t)){const i=t.filter(h=>h.method==="eth_sendTransaction").map(h=>h.params[0]),o=Math.floor(Math.random()*1e4),c={method:"blocto_sendBatchTransaction",params:i},a=this.request(c),u=t.map(({method:h,params:p},m)=>h==="eth_sendTransaction"?a:this.request({id:o+m+1,jsonrpc:"2.0",method:h,params:p}));Promise.allSettled(u).then(h=>s(h.map((p,m)=>({id:o+m+1,jsonrpc:"2.0",result:p.status==="fulfilled"?p.value:void 0,error:p.status!=="fulfilled"?p.reason:void 0}))))}else this.request(t).then(s)});if(n)r.then(s=>n(null,s)).catch(s=>n(s));else return r}async request(t){const n=window.ethereum;if(n&&n.isBlocto)return n.request(t);this.connected||await this.enable();try{let r=null,s=null;switch(t.method){case"eth_requestAccounts":this.accounts=await this.fetchAccounts();case"eth_accounts":s=this.accounts.length?this.accounts:await this.fetchAccounts();break;case"eth_coinbase":{s=this.accounts[0];break}case"eth_chainId":{s=this.chainId,s=`0x${s.toString(16)}`;break}case"net_version":{s=this.networkId||this.chainId,s=`0x${s.toString(16)}`;break}case"eth_signTypedData_v3":case"eth_signTypedData":case"eth_signTypedData_v4":case"personal_sign":case"eth_sign":{s=await this.handleSign(t);break}case"blocto_sendBatchTransaction":case"eth_sendTransaction":s=await this.handleSendTransaction(t);break;case"eth_signTransaction":case"eth_sendRawTransaction":s=null;break;default:r=await this.handleReadRequests(t)}if(r&&!r.result&&r.error){const i=r.error.message?r.error.message:"Request failed";throw new Error(i)}return r?r.result:s}catch(r){throw console.error(r),r}}async enable(){const t=window.ethereum;if(t&&t.isBlocto){if(parseInt(t.chainId,16)!==this.chainId)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${this.chainId.toString(16)}`}]}),this.accounts=[t.address]}catch(n){console.error(n)}return new Promise((n,r)=>setTimeout(()=>t.enable().then(n).catch(r),10))}return this.tryRetrieveSessionFromStorage(),new Promise((n,r)=>{if(typeof window>"u"&&r("Currently only supported in browser"),this.connected)return n(this.accounts);const s=encodeURIComponent(window.location.origin),i=_r(`${this.server}/authn?l6n=${s}&chain=${this.chain}`);vr(i),In("message",(o,c)=>{const a=o;if(a.origin===this.server){if(a.data.type==="FCL::CHALLENGE::RESPONSE"){c(),mt(i),this.code=a.data.code,this.connected=!0,this.eventListeners.connect.forEach(h=>h(this.chainId));const u=a.data.address;this.accounts=u?[u[this.chain]]:[],El(this.sessionKey,{code:this.code,address:u},vl),n(this.accounts)}a.data.type==="FCL::CHALLENGE::CANCEL"&&(c(),mt(i),r(new Error("User declined the login request")))}})})}async fetchAccounts(){this.checkNetworkMatched();const{accounts:t}=await fetch(`${this.server}/api/${this.chain}/accounts?code=${this.code}`).then(n=>Fs(n,this));return this.accounts=t,t}async handleReadRequests(t){return this.checkNetworkMatched(),fetch(this.rpc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",...t})}).then(n=>n.json())}async handleSign({method:t,params:n}){const r=`${this.server}/user-signature/${this.chain}`,s=_r(r);vr(s);let i="";return Array.isArray(n)&&(t==="eth_sign"?i=n[1].slice(2):t==="personal_sign"?i=n[0].slice(2):["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t)&&(i=n[1])),In("message",(o,c)=>{const a=o;a.origin===this.server&&a.data.type==="ETH:FRAME:READY"&&(s.contentWindow&&s.contentWindow.postMessage({type:"ETH:FRAME:READY:RESPONSE",method:t,message:i,chain:this.chain},r),c())}),new Promise((o,c)=>In("message",(a,u)=>{const h=a;h.origin===this.server&&h.data.type==="ETH:FRAME:RESPONSE"&&(h.data.status==="APPROVED"&&(u(),mt(s),o(h.data.signature)),h.data.status==="DECLINED"&&(u(),mt(s),c(new Error("User declined the signing request"))))}))}async handleSendTransaction(t){this.checkNetworkMatched();const{authorizationId:n}=await fetch(`${this.server}/api/${this.chain}/authz?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.params)}).then(s=>Fs(s,this));if(typeof window>"u")throw new Error("Currently only supported in browser");const r=_r(`${this.server}/authz/${this.chain}/${n}`);return vr(r),new Promise((s,i)=>In("message",(o,c)=>{const a=o;a.origin===this.server&&a.data.type==="ETH:FRAME:RESPONSE"&&(a.data.status==="APPROVED"&&(c(),mt(r),s(a.data.txHash)),a.data.status==="DECLINED"&&(c(),mt(r),i(new Error("User declined to send the transaction"))))}))}}var En=[],Jt=[],Xb=typeof Uint8Array<"u"?Uint8Array:Array,kl=!1;function hf(){kl=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)En[t]=e[t],Jt[e.charCodeAt(t)]=t;Jt["-".charCodeAt(0)]=62,Jt["_".charCodeAt(0)]=63}function e_(e){kl||hf();var t,n,r,s,i,o,c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i=e[c-2]==="="?2:e[c-1]==="="?1:0,o=new Xb(c*3/4-i),r=i>0?c-4:c;var a=0;for(t=0,n=0;t<r;t+=4,n+=3)s=Jt[e.charCodeAt(t)]<<18|Jt[e.charCodeAt(t+1)]<<12|Jt[e.charCodeAt(t+2)]<<6|Jt[e.charCodeAt(t+3)],o[a++]=s>>16&255,o[a++]=s>>8&255,o[a++]=s&255;return i===2?(s=Jt[e.charCodeAt(t)]<<2|Jt[e.charCodeAt(t+1)]>>4,o[a++]=s&255):i===1&&(s=Jt[e.charCodeAt(t)]<<10|Jt[e.charCodeAt(t+1)]<<4|Jt[e.charCodeAt(t+2)]>>2,o[a++]=s>>8&255,o[a++]=s&255),o}function t_(e){return En[e>>18&63]+En[e>>12&63]+En[e>>6&63]+En[e&63]}function n_(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],s.push(t_(r));return s.join("")}function Tu(e){kl||hf();for(var t,n=e.length,r=n%3,s="",i=[],o=16383,c=0,a=n-r;c<a;c+=o)i.push(n_(e,c,c+o>a?a:c+o));return r===1?(t=e[n-1],s+=En[t>>2],s+=En[t<<4&63],s+="=="):r===2&&(t=(e[n-2]<<8)+e[n-1],s+=En[t>>10],s+=En[t>>4&63],s+=En[t<<2&63],s+="="),i.push(s),i.join("")}function $a(e,t,n,r,s){var i,o,c=s*8-r-1,a=(1<<c)-1,u=a>>1,h=-7,p=n?s-1:0,m=n?-1:1,w=e[t+p];for(p+=m,i=w&(1<<-h)-1,w>>=-h,h+=c;h>0;i=i*256+e[t+p],p+=m,h-=8);for(o=i&(1<<-h)-1,i>>=-h,h+=r;h>0;o=o*256+e[t+p],p+=m,h-=8);if(i===0)i=1-u;else{if(i===a)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(w?-1:1)*o*Math.pow(2,i-r)}function ff(e,t,n,r,s,i){var o,c,a,u=i*8-s-1,h=(1<<u)-1,p=h>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:i-1,v=r?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+p>=1?t+=m/a:t+=m*Math.pow(2,1-p),t*a>=2&&(o++,a/=2),o+p>=h?(c=0,o=h):o+p>=1?(c=(t*a-1)*Math.pow(2,s),o=o+p):(c=t*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;e[n+w]=c&255,w+=v,c/=256,s-=8);for(o=o<<s|c,u+=s;u>0;e[n+w]=o&255,w+=v,o/=256,u-=8);e[n+w-v]|=b*128}var r_={}.toString,pf=Array.isArray||function(e){return r_.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var gf=50;V.TYPED_ARRAY_SUPPORT=Zn.TYPED_ARRAY_SUPPORT!==void 0?Zn.TYPED_ARRAY_SUPPORT:!0;var s_=Xo();function Xo(){return V.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Hn(e,t){if(Xo()<t)throw new RangeError("Invalid typed array length");return V.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=V.prototype):(e===null&&(e=new V(t)),e.length=t),e}function V(e,t,n){if(!V.TYPED_ARRAY_SUPPORT&&!(this instanceof V))return new V(e,t,n);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Il(this,e)}return wf(this,e,t,n)}V.poolSize=8192;V._augment=function(e){return e.__proto__=V.prototype,e};function wf(e,t,n,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?a_(e,t,n,r):typeof t=="string"?o_(e,t,n):c_(e,t)}V.from=function(e,t,n){return wf(null,e,t,n)};V.TYPED_ARRAY_SUPPORT&&(V.prototype.__proto__=Uint8Array.prototype,V.__proto__=Uint8Array);function yf(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function i_(e,t,n,r){return yf(t),t<=0?Hn(e,t):n!==void 0?typeof r=="string"?Hn(e,t).fill(n,r):Hn(e,t).fill(n):Hn(e,t)}V.alloc=function(e,t,n){return i_(null,e,t,n)};function Il(e,t){if(yf(t),e=Hn(e,t<0?0:Al(t)|0),!V.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}V.allocUnsafe=function(e){return Il(null,e)};V.allocUnsafeSlow=function(e){return Il(null,e)};function o_(e,t,n){if((typeof n!="string"||n==="")&&(n="utf8"),!V.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=mf(t,n)|0;e=Hn(e,r);var s=e.write(t,n);return s!==r&&(e=e.slice(0,s)),e}function bc(e,t){var n=t.length<0?0:Al(t.length)|0;e=Hn(e,n);for(var r=0;r<n;r+=1)e[r]=t[r]&255;return e}function a_(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return n===void 0&&r===void 0?t=new Uint8Array(t):r===void 0?t=new Uint8Array(t,n):t=new Uint8Array(t,n,r),V.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=V.prototype):e=bc(e,t),e}function c_(e,t){if(Fn(t)){var n=Al(t.length)|0;return e=Hn(e,n),e.length===0||t.copy(e,0,0,n),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||A_(t.length)?Hn(e,0):bc(e,t);if(t.type==="Buffer"&&pf(t.data))return bc(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Al(e){if(e>=Xo())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Xo().toString(16)+" bytes");return e|0}function l_(e){return+e!=e&&(e=0),V.alloc(+e)}V.isBuffer=kf;function Fn(e){return!!(e!=null&&e._isBuffer)}V.compare=function(t,n){if(!Fn(t)||!Fn(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,s=n.length,i=0,o=Math.min(r,s);i<o;++i)if(t[i]!==n[i]){r=t[i],s=n[i];break}return r<s?-1:s<r?1:0};V.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};V.concat=function(t,n){if(!pf(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return V.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var s=V.allocUnsafe(n),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!Fn(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(s,i),i+=o.length}return s};function mf(e,t){if(Fn(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var n=e.length;if(n===0)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ea(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Ef(e).length;default:if(r)return ea(e).length;t=(""+t).toLowerCase(),r=!0}}V.byteLength=mf;function u_(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return __(this,t,n);case"utf8":case"utf-8":return vf(this,t,n);case"ascii":return m_(this,t,n);case"latin1":case"binary":return b_(this,t,n);case"base64":return w_(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v_(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}V.prototype._isBuffer=!0;function Cr(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}V.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)Cr(this,n,n+1);return this};V.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)Cr(this,n,n+3),Cr(this,n+1,n+2);return this};V.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)Cr(this,n,n+7),Cr(this,n+1,n+6),Cr(this,n+2,n+5),Cr(this,n+3,n+4);return this};V.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?vf(this,0,t):u_.apply(this,arguments)};V.prototype.equals=function(t){if(!Fn(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:V.compare(this,t)===0};V.prototype.inspect=function(){var t="",n=gf;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"};V.prototype.compare=function(t,n,r,s,i){if(!Fn(t))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=t?t.length:0),s===void 0&&(s=0),i===void 0&&(i=this.length),n<0||r>t.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&n>=r)return 0;if(s>=i)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,s>>>=0,i>>>=0,this===t)return 0;for(var o=i-s,c=r-n,a=Math.min(o,c),u=this.slice(s,i),h=t.slice(n,r),p=0;p<a;++p)if(u[p]!==h[p]){o=u[p],c=h[p];break}return o<c?-1:c<o?1:0};function bf(e,t,n,r,s){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0)if(s)n=0;else return-1;if(typeof t=="string"&&(t=V.from(t,r)),Fn(t))return t.length===0?-1:Eu(e,t,n,r,s);if(typeof t=="number")return t=t&255,V.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Eu(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function Eu(e,t,n,r,s){var i=1,o=e.length,c=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;i=2,o/=2,c/=2,n/=2}function a(w,v){return i===1?w[v]:w.readUInt16BE(v*i)}var u;if(s){var h=-1;for(u=n;u<o;u++)if(a(e,u)===a(t,h===-1?0:u-h)){if(h===-1&&(h=u),u-h+1===c)return h*i}else h!==-1&&(u-=u-h),h=-1}else for(n+c>o&&(n=o-c),u=n;u>=0;u--){for(var p=!0,m=0;m<c;m++)if(a(e,u+m)!==a(t,m)){p=!1;break}if(p)return u}return-1}V.prototype.includes=function(t,n,r){return this.indexOf(t,n,r)!==-1};V.prototype.indexOf=function(t,n,r){return bf(this,t,n,r,!0)};V.prototype.lastIndexOf=function(t,n,r){return bf(this,t,n,r,!1)};function d_(e,t,n,r){n=Number(n)||0;var s=e.length-n;r?(r=Number(r),r>s&&(r=s)):r=s;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var c=parseInt(t.substr(o*2,2),16);if(isNaN(c))return o;e[n+o]=c}return o}function h_(e,t,n,r){return Qa(ea(t,e.length-n),e,n,r)}function _f(e,t,n,r){return Qa(k_(t),e,n,r)}function f_(e,t,n,r){return _f(e,t,n,r)}function p_(e,t,n,r){return Qa(Ef(t),e,n,r)}function g_(e,t,n,r){return Qa(I_(t,e.length-n),e,n,r)}V.prototype.write=function(t,n,r,s){if(n===void 0)s="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")s=n,r=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(r)?(r=r|0,s===void 0&&(s="utf8")):(s=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-n;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var o=!1;;)switch(s){case"hex":return d_(this,t,n,r);case"utf8":case"utf-8":return h_(this,t,n,r);case"ascii":return _f(this,t,n,r);case"latin1":case"binary":return f_(this,t,n,r);case"base64":return p_(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g_(this,t,n,r);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}};V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w_(e,t,n){return t===0&&n===e.length?Tu(e):Tu(e.slice(t,n))}function vf(e,t,n){n=Math.min(e.length,n);for(var r=[],s=t;s<n;){var i=e[s],o=null,c=i>239?4:i>223?3:i>191?2:1;if(s+c<=n){var a,u,h,p;switch(c){case 1:i<128&&(o=i);break;case 2:a=e[s+1],(a&192)===128&&(p=(i&31)<<6|a&63,p>127&&(o=p));break;case 3:a=e[s+1],u=e[s+2],(a&192)===128&&(u&192)===128&&(p=(i&15)<<12|(a&63)<<6|u&63,p>2047&&(p<55296||p>57343)&&(o=p));break;case 4:a=e[s+1],u=e[s+2],h=e[s+3],(a&192)===128&&(u&192)===128&&(h&192)===128&&(p=(i&15)<<18|(a&63)<<12|(u&63)<<6|h&63,p>65535&&p<1114112&&(o=p))}}o===null?(o=65533,c=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),s+=c}return y_(r)}var ku=4096;function y_(e){var t=e.length;if(t<=ku)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ku));return n}function m_(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(e[s]&127);return r}function b_(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function __(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var s="",i=t;i<n;++i)s+=E_(e[i]);return s}function v_(e,t,n){for(var r=e.slice(t,n),s="",i=0;i<r.length;i+=2)s+=String.fromCharCode(r[i]+r[i+1]*256);return s}V.prototype.slice=function(t,n){var r=this.length;t=~~t,n=n===void 0?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var s;if(V.TYPED_ARRAY_SUPPORT)s=this.subarray(t,n),s.__proto__=V.prototype;else{var i=n-t;s=new V(i,void 0);for(var o=0;o<i;++o)s[o]=this[o+t]}return s};function ot(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}V.prototype.readUIntLE=function(t,n,r){t=t|0,n=n|0,r||ot(t,n,this.length);for(var s=this[t],i=1,o=0;++o<n&&(i*=256);)s+=this[t+o]*i;return s};V.prototype.readUIntBE=function(t,n,r){t=t|0,n=n|0,r||ot(t,n,this.length);for(var s=this[t+--n],i=1;n>0&&(i*=256);)s+=this[t+--n]*i;return s};V.prototype.readUInt8=function(t,n){return n||ot(t,1,this.length),this[t]};V.prototype.readUInt16LE=function(t,n){return n||ot(t,2,this.length),this[t]|this[t+1]<<8};V.prototype.readUInt16BE=function(t,n){return n||ot(t,2,this.length),this[t]<<8|this[t+1]};V.prototype.readUInt32LE=function(t,n){return n||ot(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};V.prototype.readUInt32BE=function(t,n){return n||ot(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};V.prototype.readIntLE=function(t,n,r){t=t|0,n=n|0,r||ot(t,n,this.length);for(var s=this[t],i=1,o=0;++o<n&&(i*=256);)s+=this[t+o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*n)),s};V.prototype.readIntBE=function(t,n,r){t=t|0,n=n|0,r||ot(t,n,this.length);for(var s=n,i=1,o=this[t+--s];s>0&&(i*=256);)o+=this[t+--s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*n)),o};V.prototype.readInt8=function(t,n){return n||ot(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};V.prototype.readInt16LE=function(t,n){n||ot(t,2,this.length);var r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};V.prototype.readInt16BE=function(t,n){n||ot(t,2,this.length);var r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};V.prototype.readInt32LE=function(t,n){return n||ot(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};V.prototype.readInt32BE=function(t,n){return n||ot(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};V.prototype.readFloatLE=function(t,n){return n||ot(t,4,this.length),$a(this,t,!0,23,4)};V.prototype.readFloatBE=function(t,n){return n||ot(t,4,this.length),$a(this,t,!1,23,4)};V.prototype.readDoubleLE=function(t,n){return n||ot(t,8,this.length),$a(this,t,!0,52,8)};V.prototype.readDoubleBE=function(t,n){return n||ot(t,8,this.length),$a(this,t,!1,52,8)};function jt(e,t,n,r,s,i){if(!Fn(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}V.prototype.writeUIntLE=function(t,n,r,s){if(t=+t,n=n|0,r=r|0,!s){var i=Math.pow(2,8*r)-1;jt(this,t,n,r,i,0)}var o=1,c=0;for(this[n]=t&255;++c<r&&(o*=256);)this[n+c]=t/o&255;return n+r};V.prototype.writeUIntBE=function(t,n,r,s){if(t=+t,n=n|0,r=r|0,!s){var i=Math.pow(2,8*r)-1;jt(this,t,n,r,i,0)}var o=r-1,c=1;for(this[n+o]=t&255;--o>=0&&(c*=256);)this[n+o]=t/c&255;return n+r};V.prototype.writeUInt8=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,1,255,0),V.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=t&255,n+1};function Wa(e,t,n,r){t<0&&(t=65535+t+1);for(var s=0,i=Math.min(e.length-n,2);s<i;++s)e[n+s]=(t&255<<8*(r?s:1-s))>>>(r?s:1-s)*8}V.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,2,65535,0),V.TYPED_ARRAY_SUPPORT?(this[n]=t&255,this[n+1]=t>>>8):Wa(this,t,n,!0),n+2};V.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,2,65535,0),V.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t&255):Wa(this,t,n,!1),n+2};function Ha(e,t,n,r){t<0&&(t=4294967295+t+1);for(var s=0,i=Math.min(e.length-n,4);s<i;++s)e[n+s]=t>>>(r?s:3-s)*8&255}V.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,4,4294967295,0),V.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255):Ha(this,t,n,!0),n+4};V.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,4,4294967295,0),V.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255):Ha(this,t,n,!1),n+4};V.prototype.writeIntLE=function(t,n,r,s){if(t=+t,n=n|0,!s){var i=Math.pow(2,8*r-1);jt(this,t,n,r,i-1,-i)}var o=0,c=1,a=0;for(this[n]=t&255;++o<r&&(c*=256);)t<0&&a===0&&this[n+o-1]!==0&&(a=1),this[n+o]=(t/c>>0)-a&255;return n+r};V.prototype.writeIntBE=function(t,n,r,s){if(t=+t,n=n|0,!s){var i=Math.pow(2,8*r-1);jt(this,t,n,r,i-1,-i)}var o=r-1,c=1,a=0;for(this[n+o]=t&255;--o>=0&&(c*=256);)t<0&&a===0&&this[n+o+1]!==0&&(a=1),this[n+o]=(t/c>>0)-a&255;return n+r};V.prototype.writeInt8=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,1,127,-128),V.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=t&255,n+1};V.prototype.writeInt16LE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,2,32767,-32768),V.TYPED_ARRAY_SUPPORT?(this[n]=t&255,this[n+1]=t>>>8):Wa(this,t,n,!0),n+2};V.prototype.writeInt16BE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,2,32767,-32768),V.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t&255):Wa(this,t,n,!1),n+2};V.prototype.writeInt32LE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,4,2147483647,-2147483648),V.TYPED_ARRAY_SUPPORT?(this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):Ha(this,t,n,!0),n+4};V.prototype.writeInt32BE=function(t,n,r){return t=+t,n=n|0,r||jt(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),V.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255):Ha(this,t,n,!1),n+4};function xf(e,t,n,r,s,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Sf(e,t,n,r,s){return s||xf(e,t,n,4),ff(e,t,n,r,23,4),n+4}V.prototype.writeFloatLE=function(t,n,r){return Sf(this,t,n,!0,r)};V.prototype.writeFloatBE=function(t,n,r){return Sf(this,t,n,!1,r)};function Tf(e,t,n,r,s){return s||xf(e,t,n,8),ff(e,t,n,r,52,8),n+8}V.prototype.writeDoubleLE=function(t,n,r){return Tf(this,t,n,!0,r)};V.prototype.writeDoubleBE=function(t,n,r){return Tf(this,t,n,!1,r)};V.prototype.copy=function(t,n,r,s){if(r||(r=0),!s&&s!==0&&(s=this.length),n>=t.length&&(n=t.length),n||(n=0),s>0&&s<r&&(s=r),s===r||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-n<s-r&&(s=t.length-n+r);var i=s-r,o;if(this===t&&r<n&&n<s)for(o=i-1;o>=0;--o)t[o+n]=this[o+r];else if(i<1e3||!V.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+n]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),n);return i};V.prototype.fill=function(t,n,r,s){if(typeof t=="string"){if(typeof n=="string"?(s=n,n=0,r=this.length):typeof r=="string"&&(s=r,r=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!V.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else typeof t=="number"&&(t=t&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);var o;if(typeof t=="number")for(o=n;o<r;++o)this[o]=t;else{var c=Fn(t)?t:ea(new V(t,s).toString()),a=c.length;for(o=0;o<r-n;++o)this[o+n]=c[o%a]}return this};var x_=/[^+\/0-9A-Za-z-_]/g;function S_(e){if(e=T_(e).replace(x_,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function T_(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E_(e){return e<16?"0"+e.toString(16):e.toString(16)}function ea(e,t){t=t||1/0;for(var n,r=e.length,s=null,i=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),s=n;continue}n=(s-55296<<10|n-56320)+65536}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return i}function k_(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return t}function I_(e,t){for(var n,r,s,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,s=n%256,i.push(s),i.push(r);return i}function Ef(e){return e_(S_(e))}function Qa(e,t,n,r){for(var s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function A_(e){return e!==e}function kf(e){return e!=null&&(!!e._isBuffer||If(e)||U_(e))}function If(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function U_(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&If(e.slice(0,0))}var ho=Object.freeze({__proto__:null,Buffer:V,INSPECT_MAX_BYTES:gf,SlowBuffer:l_,isBuffer:kf,kMaxLength:s_});function M_(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Ul(e){return e&&e.default||e}var Af=M_(function(e,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=ho.Buffer;function r(i,o){for(var c in i)o[c]=i[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=ho:(r(ho,t),t.Buffer=s);function s(i,o,c){return n(i,o,c)}s.prototype=Object.create(n.prototype),r(n,s),s.from=function(i,o,c){if(typeof i=="number")throw new TypeError("Argument must not be a number");return n(i,o,c)},s.alloc=function(i,o,c){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=n(i);return o!==void 0?typeof c=="string"?a.fill(o,c):a.fill(o):a.fill(0),a},s.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n(i)},s.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return ho.SlowBuffer(i)}});Af.Buffer;var fo=Af.Buffer;function B_(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,c=e.charAt(0),a=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=fo.from(w)),!fo.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var v=0,b=0,S=0,N=w.length;S!==N&&w[S]===0;)S++,v++;for(var C=(N-S)*u+1>>>0,x=new Uint8Array(C);S!==N;){for(var k=w[S],_=0,A=C-1;(k!==0||_<b)&&A!==-1;A--,_++)k+=256*x[A]>>>0,x[A]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");b=_,S++}for(var F=C-b;F!==C&&x[F]===0;)F++;for(var D=c.repeat(v);F<C;++F)D+=e.charAt(x[F]);return D}function p(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return fo.alloc(0);for(var v=0,b=0,S=0;w[v]===c;)b++,v++;for(var N=(w.length-v)*a+1>>>0,C=new Uint8Array(N);w[v];){var x=t[w.charCodeAt(v)];if(x===255)return;for(var k=0,_=N-1;(x!==0||k<S)&&_!==-1;_--,k++)x+=o*C[_]>>>0,C[_]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");S=k,v++}for(var A=N-S;A!==N&&C[A]===0;)A++;var F=fo.allocUnsafe(b+(N-A));F.fill(0,0,b);for(var D=b;A!==N;)F[D++]=C[A++];return F}function m(w){var v=p(w);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:p,decode:m}}var N_=B_,F_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Iu=N_(F_);class C_ extends xl{constructor({net:t="mainnet-beta",server:n,appId:r,rpc:s}){super(),this.accounts=[],Ss(t,"'net' is required"),Ss($b.includes(t),"unsupported net"),this.net=t,this.rpc=s||(t==="mainnet-beta"?"https://free.rpcpool.com":`https://api.${t}.solana.com`),this.server=n||Vb[this.net]||{}.SERVER||"",this.appId=r||{}.APP_ID}tryRetrieveSessionFromStorage(){const t=Tl(this.sessionKey,{}),n=t&&t.code,r=t&&t.address&&t.address.solana;this.connected=!!(n&&r),this.code=n||null,this.accounts=r?[r]:[]}async request(t){this.connected||await this.connect();try{let n=null,r=null;switch(t.method){case"connect":r=await this.fetchAccounts();break;case"disconnect":this.disconnect();break;case"getAccounts":r=this.accounts.length?this.accounts:await this.fetchAccounts();break;case"getAccountInfo":{const s=await this.handleReadRequests(t),[i,o]=s.result.value.data;r={...s.result.value,data:V.from(i,o),owner:new ve(s.result.value.owner)};break}case"convertToProgramWalletTransaction":r=await this.handleConvertTransaction(t);break;case"signAndSendTransaction":r=await this.handleSignAndSendTransaction(t);break;case"signTransaction":case"signAllTransactions":throw new Error(`Blocto is program wallet, which doesn't support ${t.method}. Use signAndSendTransaction instead.`);default:n=await this.handleReadRequests(t)}if(n&&!n.result&&n.error){const s=n.error.message?n.error.message:"Request failed";throw new Error(s)}return n?n.result:r}catch(n){throw console.error(n),n}}async connect(){const t=window.solana;return t&&t.isBlocto?new Promise(n=>{t.once("connect",r=>{this.accounts=[r.toBase58()],n()}),t.connect()}):(this.tryRetrieveSessionFromStorage(),new Promise((n,r)=>{if(typeof window>"u"&&r("Currently only supported in browser"),this.connected)return n();const s=encodeURIComponent(window.location.origin),i=_r(`${this.server}/authn?l6n=${s}&chain=solana`);vr(i),In("message",(o,c)=>{const a=o;if(a.origin===this.server){if(a.data.type==="FCL::CHALLENGE::RESPONSE"){c(),mt(i),this.code=a.data.code,this.connected=!0,this.eventListeners.connect.forEach(h=>h(this.net));const u=a.data.address;this.accounts=u?[u.solana]:[],El(this.sessionKey,{code:this.code,address:u},vl),n()}a.data.type==="FCL::CHALLENGE::CANCEL"&&(c(),mt(i),r(new Error("User declined the login request")))}})}))}async disconnect(){const t=window.solana;if(t&&t.isBlocto){await t.disconnect();return}this.code=null,this.accounts=[],this.eventListeners.disconnect.forEach(n=>n())}async fetchAccounts(){const{accounts:t}=await fetch(`${this.server}/api/solana/accounts?code=${this.code}`).then(n=>n.json());return this.accounts=t,t}async handleReadRequests(t){return fetch(this.rpc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",...t})}).then(n=>n.json())}async convertToProgramWalletTransaction(t){const n=window.solana;if(n&&n.isBlocto)return n.convertToProgramWalletTransaction(t);const r=await this.request({method:"convertToProgramWalletTransaction",params:{message:t.serializeMessage().toString("hex")}});return this.toTransaction(r,[])}async signAndSendTransaction(t,n){const r=window.solana;if(r&&r.isBlocto)return r.signAndSendTransaction(t);const s={};if(n){n.commitment&&(s.commitment=n.commitment);const i=n?n._rpcEndpoint:null;i&&i!==this.rpc&&(this.rpc=i,this.disconnect(),await this.connect())}return this.request({method:"signAndSendTransaction",params:{signatures:await this.collectSignatures(t),message:t.serializeMessage().toString("hex"),...s}})}toTransaction(t,n){const r=Bs.from(V.from(t,"hex")),s=new qo;return s.recentBlockhash=r.recentBlockhash,r.header.numRequiredSignatures>0&&(s.feePayer=r.accountKeys[0]),n.forEach((i,o)=>{const c={signature:i===ve.default.toBase58()?null:Iu.decode(i),publicKey:r.accountKeys[o]};s.signatures.push(c)}),r.instructions.forEach(i=>{const o=i.accounts.map(c=>({pubkey:r.accountKeys[c],isSigner:c<r.header.numRequiredSignatures,isWritable:r.isAccountWritable(c)}));s.instructions.push(new yc({keys:o,programId:r.accountKeys[i.programIdIndex],data:Iu.decode(i.data)}))}),s}async collectSignatures(t){return t.signatures.reduce((n,r)=>(r.signature&&(n[r.publicKey.toBase58()]=r.signature.toString("hex")),n),{})}async handleConvertTransaction(t){return fetch(`${this.server}/api/solana/convertToWalletTx?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.code,...t.params})}).then(n=>Fs(n,this))}async handleSignAndSendTransaction(t){const{authorizationId:n}=await fetch(`${this.server}/api/solana/authz?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.code,...t.params})}).then(s=>Fs(s,this));if(typeof window>"u")throw new Error("Currently only supported in browser");const r=_r(`${this.server}/authz/solana/${n}`);return vr(r),new Promise((s,i)=>In("message",(o,c)=>{const a=o;a.origin===this.server&&a.data.type==="SOL:FRAME:RESPONSE"&&(a.data.status==="APPROVED"&&(c(),mt(r),s(a.data.txHash)),a.data.status==="DECLINED"&&(c(),mt(r),i(new Error("User declined to send the transaction"))))}))}}class D_ extends xl{constructor({chainId:t,server:n,appId:r}){super(),this.publicKey=[],this.authKey="",Ss(t,"'chainId' is required"),this.chainId=t,this.networkName=Hb[t],this.api=Qb[t];const s=Wb[t];this.appId=r||{}.APP_ID,this.server=n||s||{}.SERVER||""}tryRetrieveSessionFromStorage(){const t=Tl(this.sessionKey,{}),n=t&&t.code,r=t&&t.address&&t.address[this.chainId];this.code=n||null,this.address=r||void 0}get publicAccount(){return{address:this.address||null,publicKey:this.publicKey.length?this.publicKey:null,authKey:null,minKeysRequired:2}}async network(){return{name:this.networkName,api:this.api,chainId:this.chainId.toString()}}async isConnected(){return!!this.address}async signTransaction(t){const n=window.bloctoAptos;if(n)return n.signTransaction(t);throw await this.isConnected()||await this.connect(),this.address?new Error("signTransaction method not supported."):new Error("Fail to get account")}async disconnect(){const t=window.bloctoAptos;if(t){await t.disconnect();return}this.code=null,this.address=void 0}async signAndSubmitTransaction(t){const n=window.bloctoAptos;if(n)return n.signAndSubmitTransaction(t);if(await this.isConnected()||await this.connect(),!this.address)throw new Error("Fail to get account");const{authorizationId:s}=await fetch(`${this.server}/api/aptos/authz?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(o=>Fs(o,this));if(typeof window>"u")throw new Error("Currently only supported in browser");const i=_r(`${this.server}/authz/aptos/${s}`);return vr(i),new Promise((o,c)=>In("message",(a,u)=>{const h=a;h.origin===this.server&&h.data.type==="APTOS:FRAME:RESPONSE"&&(h.data.status==="APPROVED"&&(u(),mt(i),o({hash:h.data.txHash})),h.data.status==="DECLINED"&&(u(),mt(i),c(new Error("User declined to send the transaction"))))}))}async signMessage(t){const n=window.bloctoAptos;if(n)return n.signMessage(t);if(await this.isConnected()||await this.connect(),!this.address)throw new Error("Fail to get account");const s=`${this.server}/user-signature/aptos`,i=_r(s);return vr(i),In("message",(o,c)=>{const a=o;a.origin===this.server&&a.data.type==="APTOS:FRAME:READY"&&(i.contentWindow&&i.contentWindow.postMessage({type:"APTOS:FRAME:READY:RESPONSE",...t},s),c())}),new Promise((o,c)=>In("message",(a,u)=>{const h=a;h.origin===this.server&&h.data.type==="APTOS:FRAME:RESPONSE"&&(h.data.status==="APPROVED"&&(u(),mt(i),o({address:h.data.address,application:h.data.application,chainId:h.data.chainId,fullMessage:h.data.fullMessage,message:t.message,nonce:t.nonce,prefix:"APTOS",signature:h.data.signature,bitmap:h.data.bitmap})),h.data.status==="DECLINED"&&(u(),mt(i),c(new Error("User declined the signing request"))))}))}async connect(){const t=window.bloctoAptos;return t?new Promise((n,r)=>setTimeout(()=>t.connect().then(n).catch(r),10)):(this.tryRetrieveSessionFromStorage(),new Promise((n,r)=>{typeof window>"u"&&r("Currently only supported in browser"),this.connected&&this.address&&n({address:this.address,publicKey:this.publicKey,authKey:null,minKeysRequired:2});const s=encodeURIComponent(window.location.origin),i=_r(`${this.server}/authn?l6n=${s}&chain=aptos`);vr(i),In("message",async(o,c)=>{const a=o;if(a.origin===this.server){if(a.data.type==="APTOS:FRAME:RESPONSE"){c(),mt(i),this.code=a.data.code,this.connected=!0;const u=a.data.address;if(this.address=u?u.aptos:void 0,this.address)try{const{public_keys:h}=await fetch(`${this.server}/blocto/aptos/accounts/${this.address}`).then(p=>p.json());this.publicKey=h||[],n({address:this.address||"",publicKey:this.publicKey,authKey:null,minKeysRequired:2})}catch{r(a)}else return r();El(this.sessionKey,{code:this.code,address:u},vl)}a.data.type==="APTOS:FRAME:CLOSE"&&(c(),mt(i),r(new Error("User declined the login request")))}})}))}async fetchAddress(){const{accounts:t}=await fetch(`${this.server}/api/aptos/accounts?code=${this.code}`).then(n=>Fs(n,this));return this.address=t[0]||void 0,this.address}}var R_={},O_=Object.freeze({__proto__:null,default:R_});function Uf(e,t){for(var n=0,r=e.length-1;r>=0;r--){var s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var L_=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Ml=function(e){return L_.exec(e).slice(1)};function ta(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=Uf(Fl(e.split("/"),function(s){return!!s}),!t).join("/"),(t?"/":"")+e||"."}function Bl(e){var t=Nl(e),n=j_(e,-1)==="/";return e=Uf(Fl(e.split("/"),function(r){return!!r}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Nl(e){return e.charAt(0)==="/"}function Mf(){var e=Array.prototype.slice.call(arguments,0);return Bl(Fl(e,function(t,n){if(typeof t!="string")throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))}function Bf(e,t){e=ta(e).substr(1),t=ta(t).substr(1);function n(u){for(var h=0;h<u.length&&u[h]==="";h++);for(var p=u.length-1;p>=0&&u[p]==="";p--);return h>p?[]:u.slice(h,p-h+1)}for(var r=n(e.split("/")),s=n(t.split("/")),i=Math.min(r.length,s.length),o=i,c=0;c<i;c++)if(r[c]!==s[c]){o=c;break}for(var a=[],c=o;c<r.length;c++)a.push("..");return a=a.concat(s.slice(o)),a.join("/")}var Nf="/",Ff=":";function Cf(e){var t=Ml(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)}function Df(e,t){var n=Ml(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function Rf(e){return Ml(e)[3]}var z_={extname:Rf,basename:Df,dirname:Cf,sep:Nf,delimiter:Ff,relative:Bf,join:Mf,isAbsolute:Nl,normalize:Bl,resolve:ta};function Fl(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var j_="ab".substr(-1)==="b"?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},P_=Object.freeze({__proto__:null,resolve:ta,normalize:Bl,isAbsolute:Nl,join:Mf,relative:Bf,sep:Nf,delimiter:Ff,dirname:Cf,basename:Df,extname:Rf,default:z_}),po;function Of(){if(typeof po>"u"){var e=new ArrayBuffer(2),t=new Uint8Array(e),n=new Uint16Array(e);if(t[0]=1,t[1]=2,n[0]===258)po="BE";else if(n[0]===513)po="LE";else throw new Error("unable to figure out endianess")}return po}function Lf(){return typeof Zn.location<"u"?Zn.location.hostname:""}function zf(){return[]}function jf(){return 0}function Pf(){return Number.MAX_VALUE}function Vf(){return Number.MAX_VALUE}function $f(){return[]}function Wf(){return"Browser"}function Hf(){return typeof Zn.navigator<"u"?Zn.navigator.appVersion:""}function Qf(){}function Kf(){}function V_(){return"javascript"}function $_(){return"browser"}function Cl(){return"/tmp"}var Zf=Cl,Gf=`
`,W_={EOL:Gf,tmpdir:Zf,tmpDir:Cl,networkInterfaces:Qf,getNetworkInterfaces:Kf,release:Hf,type:Wf,cpus:$f,totalmem:Vf,freemem:Pf,uptime:jf,loadavg:zf,hostname:Lf,endianness:Of},H_=Object.freeze({__proto__:null,endianness:Of,hostname:Lf,loadavg:zf,uptime:jf,freemem:Pf,totalmem:Vf,cpus:$f,type:Wf,release:Hf,networkInterfaces:Qf,getNetworkInterfaces:Kf,arch:V_,platform:$_,tmpDir:Cl,tmpdir:Zf,EOL:Gf,default:W_}),Q_=Ul(O_),Yf=Ul(P_),K_=Ul(H_);function qf(e){console.log(`[dotenv][DEBUG] ${e}`)}const Z_=`
`,G_=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,Y_=/\\n/g,q_=/\r\n|\n|\r/;function Jf(e,t){const n=!!(t&&t.debug),r={};return e.toString().split(q_).forEach(function(s,i){const o=s.match(G_);if(o!=null){const c=o[1];let a=o[2]||"";const u=a.length-1,h=a[0]==='"'&&a[u]==='"';a[0]==="'"&&a[u]==="'"||h?(a=a.substring(1,u),h&&(a=a.replace(Y_,Z_))):a=a.trim(),r[c]=a}else n&&qf(`did not match key and value when parsing line ${i+1}: ${s}`)}),r}function J_(e){return e[0]==="~"?Yf.join(K_.homedir(),e.slice(1)):e}function X_(e){let t=Yf.resolve(xo.cwd(),".env"),n="utf8",r=!1;e&&(e.path!=null&&(t=J_(e.path)),e.encoding!=null&&(n=e.encoding),e.debug!=null&&(r=!0));try{const s=Jf(Q_.readFileSync(t,{encoding:n}),{debug:r});return Object.keys(s).forEach(function(i){Object.prototype.hasOwnProperty.call(xo.env,i)?r&&qf(`"${i}" is already defined in \`{}\` and will not be overwritten`):xo.env[i]=s[i]}),{parsed:s}}catch(s){return{error:s}}}var e2=X_,t2=Jf,n2={config:e2,parse:t2};n2.config();class r2{constructor({appId:t,ethereum:n,solana:r,aptos:s}){n&&(this.ethereum=new Jb({...n,appId:t})),r&&(this.solana=new C_({...r,appId:t})),s&&(this.aptos=new D_({...s,appId:t}))}}const s2="Blocto",i2={[Uo.Mainnet]:1,[Uo.Testnet]:2};class o2 extends It{constructor({network:n,timeout:r=1e4,bloctoAppId:s=""}={network:Uo.Mainnet}){super();E(this,"name",s2);E(this,"url","https://portto.com/download");E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/blocto.svg");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");const i=new r2({aptos:{chainId:i2[n]},appId:s});this._provider=i.aptos,this._network=n,this._timeout=r,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window?(this._readyState=Q.Installed,!0):!1)}get publicAccount(){var n,r,s,i;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null,minKeysRequired:(i=this._wallet)==null?void 0:i.minKeysRequired}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const n=this._provider;await(n==null?void 0:n.isConnected())&&await(n==null?void 0:n.disconnect());const{publicKey:s,...i}=await(n==null?void 0:n.connect());this._wallet={...i,publicKey:s,isConnected:!0};const{api:o,chainId:c}=await n.network();this._api=o,this._chainId=c,this.emit("connect",this._wallet)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n){try{try{const r=this._provider;if(await(r==null?void 0:r.signTransaction(n)))return new Uint8Array([]);throw new Error("Transaction failed")}catch(r){throw new it(r==null?void 0:r.message,r)}}catch(r){throw this.emit("error",r),r}}async signAndSubmitTransaction(n){try{try{const r=this._provider,s=await(r==null?void 0:r.signAndSubmitTransaction(n));if(s)return{hash:s.hash};throw new Error("Transaction failed")}catch(r){throw new Kt(r.message||r)}}catch(r){throw this.emit("error",r),r}}async signMessage(n){try{const r=this._provider,s=await(r==null?void 0:r.signMessage(n));if(s)return s;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}const a2="OKX";class c2 extends It{constructor({timeout:n=1e4}={}){var r;super();E(this,"name",a2);E(this,"url","https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge");E(this,"icon","https://lh3.googleusercontent.com/sO4GPPbgvTCXEFWp-uALYYju9vxVOr5YSr2jqRAclNFSq8FrAIVTQOYmpJV4kMuDM1ZazcgUdjNGLIGKpmMRvR3NzQ=w128-h128-e365-rj-sc0x00ffffff");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(r=window.okxwallet)==null?void 0:r.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>{var s;return(s=window.okxwallet)!=null&&s.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||((n=window.okxwallet)==null?void 0:n.aptos);let s=await(r==null?void 0:r.connect());typeof s=="boolean"&&(s=await(r==null?void 0:r.account())),this._wallet={address:s==null?void 0:s.address,publicKey:s==null?void 0:s.publicKey,isConnected:!0};try{const i=await(r==null?void 0:r.network()),o=null,c=null;this._network=i,this._chainId=o,this._api=c}catch(i){const o=i.message;throw this.emit("error",new wn(o)),i}this.emit("connect",this._wallet.publicKey)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){var s;const n=this._wallet,r=this._provider||((s=window.okxwallet)==null?void 0:s.aptos);if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(i){this.emit("error",new kt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(n,r){var s;try{const i=this._wallet,o=this._provider||((s=window.okxwallet)==null?void 0:s.aptos);if(!i||!o)throw new J;const c=await o.signTransaction(n,r);if(c.code)throw new Error(c.message);return c}catch(i){const o=i.message;throw this.emit("error",new it(o)),i}}async signAndSubmitTransaction(n,r){var s;try{const i=this._wallet,o=this._provider||((s=window.okxwallet)==null?void 0:s.aptos);if(!i||!o)throw new J;const c=await o.signAndSubmitTransaction(n,r);if(c.code)throw new Error(c.message);return c}catch(i){const o=i.message;throw this.emit("error",new Kt(o)),i}}async signMessage(n){var r;try{const s=this._wallet,i=this._provider||((r=window.okxwallet)==null?void 0:r.aptos);if(!s||!i)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const o=await(i==null?void 0:i.signMessage(n));if(o)return o;throw new Error("Sign Message failed")}catch(s){const i=s.message;throw this.emit("error",new Ge(i)),s}}async onAccountChange(){var n;try{const r=this._wallet,s=this._provider||((n=window.okxwallet)==null?void 0:n.aptos);if(!r||!s)throw new J;const i=async o=>{var c,a,u,h;if(o!=null&&o.publicKey)this._wallet={...this._wallet,publicKey:o.publicKey||((c=this._wallet)==null?void 0:c.publicKey),address:o.address||((a=this._wallet)==null?void 0:a.address)};else{const p=await(s==null?void 0:s.connect());this._wallet={...this._wallet,address:(p==null?void 0:p.address)||((u=this._wallet)==null?void 0:u.address),publicKey:(p==null?void 0:p.publicKey)||((h=this._wallet)==null?void 0:h.publicKey)}}this.emit("accountChange",o.publicKey)};s.on("accountChange",i)}catch(r){const s=r.message;throw this.emit("error",new Ot(s)),r}}async onNetworkChange(){var n;try{const r=this._wallet,s=this._provider||((n=window.okxwallet)==null?void 0:n.aptos);if(!r||!s)throw new J}catch(r){const s=r.message;throw this.emit("error",new Lt(s)),r}}}const l2="TokenPocket";class u2 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",l2);E(this,"url","https://tokenpocket.pro");E(this,"icon","https://tp-statics.tokenpocket.pro/logo/tokenpocket.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>{var r;return window.aptos&&((r=window.aptos)!=null&&r.isTokenPocket)?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const n=this._provider||window.aptos;await(n==null?void 0:n.isConnected())&&await(n==null?void 0:n.disconnect());const s=await(n==null?void 0:n.connect());if(!s)throw new J("No connect response");this._wallet={address:s==null?void 0:s.address,publicKey:s==null?void 0:s.publicKey,isConnected:!0};try{const i=await(n==null?void 0:n.network()),o=await(n==null?void 0:n.getChainId()),c=await(n==null?void 0:n.getNodeUrl());this._network=i,this._chainId=o,this._api=c}catch(i){const o=i.message;throw this.emit("error",new wn(o)),i}this.emit("connect",this._wallet.address)}catch(n){throw this.emit("error",new Error(n)),n}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider||window.aptos;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider||window.aptos;if(!s||!i)throw new J;const o=await i.signTransaction(n,r);if(!o)throw new Error("No response");return o}catch(s){throw this.emit("error",new it(s)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider||window.aptos;if(!s||!i)throw new J;const o=await i.signAndSubmitTransaction(n,r);if(!o)throw new Error("No response");return o}catch(s){throw this.emit("error",new Kt(s)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.aptos;if(!r||!s)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const i=await(s==null?void 0:s.signMessage(n));if(i)return i;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onNetworkChange(){}async onAccountChange(){}}const d2="BitKeep";class h2 extends It{constructor({timeout:n=1e4}={}){var r;super();E(this,"name",d2);E(this,"url","https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak");E(this,"icon","https://raw.githubusercontent.com/bitkeepwallet/download/main/logo-png/BitKeep_logo_circle.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(r=window.bitkeep)==null?void 0:r.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>{var s;return(s=window.bitkeep)!=null&&s.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||((n=window.bitkeep)==null?void 0:n.aptos),s=await(r==null?void 0:r.connect());this._wallet={address:s==null?void 0:s.address,publicKey:s==null?void 0:s.publicKey,isConnected:!0};try{const i=await(r==null?void 0:r.network()),o=null,c=null;this._network=i,this._chainId=o,this._api=c}catch(i){const o=i.message;throw this.emit("error",new wn(o)),i}this.emit("connect",this._wallet.publicKey)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){var s;const n=this._wallet,r=this._provider||((s=window.bitkeep)==null?void 0:s.aptos);if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(i){this.emit("error",new kt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(n,r){var s;try{const i=this._wallet,o=this._provider||((s=window.bitkeep)==null?void 0:s.aptos);if(!i||!o)throw new J;const c=await o.signTransaction(n,r);if(c.code)throw new Error(c.message);return c}catch(i){const o=i.message;throw this.emit("error",new it(o)),i}}async signAndSubmitTransaction(n,r){var s;try{const i=this._wallet,o=this._provider||((s=window.bitkeep)==null?void 0:s.aptos);if(!i||!o)throw new J;const c=await o.signAndSubmitTransaction(n,r);if(c.code)throw new Error(c.message);return c}catch(i){const o=i.message;throw this.emit("error",new Kt(o)),i}}async signMessage(n){var r;try{const s=this._wallet,i=this._provider||((r=window.bitkeep)==null?void 0:r.aptos);if(!s||!i)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const o=await(i==null?void 0:i.signMessage(n));if(o)return o;throw new Error("Sign Message failed")}catch(s){const i=s.message;throw this.emit("error",new Ge(i)),s}}async onAccountChange(){var n;try{const r=this._wallet,s=this._provider||((n=window.bitkeep)==null?void 0:n.aptos);if(!r||!s)throw new J;const i=async o=>{var c,a,u;this._wallet={...this._wallet,publicKey:o.publicKey||((c=this._wallet)==null?void 0:c.publicKey),authKey:o.authKey||((a=this._wallet)==null?void 0:a.authKey),address:o.address||((u=this._wallet)==null?void 0:u.address)},this.emit("accountChange",o.publicKey)};await(s==null?void 0:s.onAccountChange(i))}catch(r){const s=r.message;throw this.emit("error",new Ot(s)),r}}async onNetworkChange(){var n;try{const r=this._wallet,s=this._provider||((n=window.bitkeep)==null?void 0:n.aptos);if(!r||!s)throw new J;const i=async o=>{console.log("network Changed >>>",o),this._network=o.networkName,this.emit("networkChange",this._network)};await(s==null?void 0:s.onNetworkChange(i))}catch(r){const s=r.message;throw this.emit("error",new Lt(s)),r}}}const f2="Rise Wallet";class p2 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",f2);E(this,"url","https://chrome.google.com/webstore/detail/rise-aptos-wallet/hbbgbephgojikajhfbomhlmmollphcad");E(this,"icon","https://static.risewallet.io/logo.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.rise:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window.rise?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||window.rise;if(await((n=this._provider)==null?void 0:n.isConnected())===!0&&await(r==null?void 0:r.disconnect()),!await(r==null?void 0:r.connect()))throw new J("User has rejected the request");if(r!=null&&r.network)try{const{chainId:c,api:a,name:u}=await r.network();this._network=u,this._chainId=c,this._api=a}catch(c){const a=c.message;throw this.emit("error",new wn(a)),c}const o=await(r==null?void 0:r.account());if(o){const{publicKey:c,address:a,authKey:u}=o;this._wallet={publicKey:c,address:a,authKey:u,isConnected:!0},this.emit("connect",this._wallet.publicKey)}}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){if(this._wallet){this._wallet=null;try{const r=this._provider||window.rise;await(r==null?void 0:r.disconnect())}catch(r){this.emit("error",new kt(r==null?void 0:r.message,r))}}this.emit("disconnect")}async signTransaction(n){try{const r=this._wallet,s=this._provider||window.rise;if(!r||!s)throw new J;const i=await(s==null?void 0:s.signTransaction(n));if(i)return i;throw new Error("Sign Transaction failed")}catch(r){const s=r.message;throw this.emit("error",new it(s)),r}}async signAndSubmitTransaction(n){try{const r=this._wallet,s=this._provider||window.rise;if(!r||!s)throw new J;const i=await(s==null?void 0:s.signAndSubmitTransaction(n));if(i)return i;throw new Error("Transaction failed")}catch(r){const s=r.message;throw this.emit("error",new it(s)),r}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.rise;if(!r||!s)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const i=await(s==null?void 0:s.signMessage(n));if(i)return i;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.rise;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.rise;if(!n||!r)throw new J}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}const g2="OpenBlock";class w2 extends It{constructor({timeout:n=1e4}={}){var r;super();E(this,"name",g2);E(this,"url","https://openblock.com/");E(this,"icon","https://obstatic.243096.com/download/dapp/sdk/images/logo_blue.svg");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(r=window.openblock)==null?void 0:r.aptos:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&(hp(()=>import("./index.5a9e2e24.js").then(s=>s.i),["./index.5a9e2e24.js","./entry.3bf9cd71.js","./entry.db31885d.css"],import.meta.url),zt(()=>{var s;return(s=window.openblock)!=null&&s.aptos?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n,r;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const s=this._provider||((n=window==null?void 0:window.openblock)==null?void 0:n.aptos);await((r=this._provider)==null?void 0:r.isConnected())===!0&&await(s==null?void 0:s.disconnect());const o=await(s==null?void 0:s.connect());if(o.address){this._wallet={address:o==null?void 0:o.address,publicKey:o==null?void 0:o.publicKey,isConnected:!0};const c=await(s==null?void 0:s.network());this._network=c.name,this._chainId=c.chainId,this._api=c.api}else throw new Error("failed to connect");this.emit("connect",this._wallet.publicKey)}catch(s){throw this.emit("error",s),s}finally{this._connecting=!1}}async disconnect(){var s;const n=this._wallet,r=this._provider||((s=window==null?void 0:window.openblock)==null?void 0:s.aptos);if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(i){this.emit("error",new kt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(n){var r;try{const s=this._wallet,i=this._provider||((r=window==null?void 0:window.openblock)==null?void 0:r.aptos);if(!s||!i)throw new J;const o=await i.signTransaction(n);if(o)return new TextEncoder().encode(o);throw new Error("failed to SignTransaction")}catch(s){const i=s.message;throw this.emit("error",new it(i)),s}}async signAndSubmitTransaction(n){var r;try{const s=this._wallet,i=this._provider||((r=window==null?void 0:window.openblock)==null?void 0:r.aptos);if(!s||!i)throw new J;const o=await i.signAndSubmitTransaction(n);if(o)return o;throw new Error("Failed to SignAndSubmitTransaction")}catch(s){const i=s.message;throw this.emit("error",new Kt(i)),s}}async signMessage(n){var r;try{const s=this._wallet,i=this._provider||((r=window==null?void 0:window.openblock)==null?void 0:r.aptos);if(!s||!i)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const o=await(i==null?void 0:i.signMessage(n));if(o)return o;throw new Error("Failed to signMessage")}catch(s){const i=s.message;throw this.emit("error",new Ge(i)),s}}async onAccountChange(){var n;try{const r=this._wallet,s=this._provider||((n=window==null?void 0:window.openblock)==null?void 0:n.aptos);if(!r||!s)throw new J;const i=async o=>{var c,a,u;this._wallet={...this._wallet,publicKey:o.publicKey||((c=this._wallet)==null?void 0:c.publicKey),authKey:o.authKey||((a=this._wallet)==null?void 0:a.authKey),address:o.address||((u=this._wallet)==null?void 0:u.address)},this.emit("accountChange",o.publicKey)};s==null||s.onAccountChange(i)}catch(r){const s=r.message;throw this.emit("error",new Ot(s)),r}}async onNetworkChange(){var n;try{const r=this._wallet,s=this._provider||((n=window==null?void 0:window.openblock)==null?void 0:n.aptos);if(!r||!s)throw new J;const i=async o=>{this._network=o.name,this._api=o.api,this._chainId=o.chainId,this.emit("networkChange",this._network)};s==null||s.onNetworkChange(i)}catch(r){const s=r.message;throw this.emit("error",new Lt(s)),r}}}var _c={},An={},Ct={},na={},y2={get exports(){return na},set exports(e){na=e}};(function(e,t){var n=typeof Reflect<"u"?Reflect.construct:void 0,r=Object.defineProperty,s=Error.captureStackTrace;s===void 0&&(s=function(u){var h=new Error;r(u,"stack",{configurable:!0,get:function(){var m=h.stack;return r(this,"stack",{configurable:!0,value:m,writable:!0}),m},set:function(m){r(u,"stack",{configurable:!0,value:m,writable:!0})}})});function i(a){a!==void 0&&r(this,"message",{configurable:!0,value:a,writable:!0});var u=this.constructor.name;u!==void 0&&u!==this.name&&r(this,"name",{configurable:!0,value:u,writable:!0}),s(this,this.constructor)}i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var o=function(){function a(h,p){return r(h,"name",{configurable:!0,value:p})}try{var u=function(){};if(a(u,"foo"),u.name==="foo")return a}catch{}}();function c(a,u){if(u==null||u===Error)u=i;else if(typeof u!="function")throw new TypeError("super_ should be a function");var h;if(typeof a=="string")h=a,a=n!==void 0?function(){return n(u,arguments,this.constructor)}:function(){u.apply(this,arguments)},o!==void 0&&(o(a,h),h=void 0);else if(typeof a!="function")throw new TypeError("constructor should be either a string or a function");a.super_=a.super=u;var p={constructor:{configurable:!0,value:a,writable:!0}};return h!==void 0&&(p.name={configurable:!0,value:h,writable:!0}),a.prototype=Object.create(u.prototype,p),a}t=e.exports=c,t.BaseError=i})(y2,na);var Si=Be&&Be.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.InvalidParameters=Ct.MethodNotFound=Ct.InvalidRequest=Ct.InvalidJson=Ct.JsonRpcError=void 0;var m2=na,Ti=function(e){Si(t,e);function t(n,r,s){n===void 0&&(n="unknown error from the peer"),r===void 0&&(r=-32e3);var i=e.call(this,n)||this;return i.code=r,i.data=s,i}return t.prototype.toJsonRpcError=function(){return{code:this.code,data:this.data,message:this.message}},t}(m2.BaseError);Ct.JsonRpcError=Ti;var b2=function(e){Si(t,e);function t(){return e.call(this,"invalid JSON",-32700)||this}return t}(Ti);Ct.InvalidJson=b2;var _2=function(e){Si(t,e);function t(n){return n===void 0&&(n="invalid JSON-RPC request"),e.call(this,n,-32600)||this}return t}(Ti);Ct.InvalidRequest=_2;var v2=function(e){Si(t,e);function t(n){var r=this,s=n?"method not found: "+n:"method not found";return r=e.call(this,s,-32601,n)||this,r}return t}(Ti);Ct.MethodNotFound=v2;var x2=function(e){Si(t,e);function t(n){return e.call(this,"invalid parameter(s)",-32602,n)||this}return t}(Ti);Ct.InvalidParameters=x2;Object.defineProperty(An,"__esModule",{value:!0});An.response=An.request=An.notification=An.error=void 0;var S2=Ct,Ka=JSON.stringify;An.error=function(e,t){(t==null||typeof t.toJsonRpcError!="function")&&(t=new S2.JsonRpcError);var n=t.toJsonRpcError();return Ka({error:n,id:e,jsonrpc:"2.0"})};An.notification=function(e,t){return Ka({jsonrpc:"2.0",method:e,params:t})};An.request=function(e,t,n){return Ka({id:e,jsonrpc:"2.0",method:t,params:n})};An.response=function(e,t){return Ka({id:e,jsonrpc:"2.0",result:t})};var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});var ep={},tp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=e.isString=e.isInteger=e.isNumber=void 0;var t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.isNumber=function(r){var s=typeof r;return s==="number"&&r>t&&r<n},e.isInteger=function(r){return e.isNumber(r)&&r%1===0},e.isString=function(r){return typeof r=="string"},e.isObject=function(r){var s=typeof r;return r!==null&&(s==="object"||s==="function")}})(tp);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parse=e.isResponsePayload=e.isErrorPayload=e.isRequestPayload=e.isNotificationPayload=void 0;var t=tp,n=Ct,r=Object.defineProperty,s=function(w,v){return r(w,"type",{configurable:!0,value:v,writable:!0})},i=function(w){return w===null?"null":typeof w},o=function(w,v){if(v==="1.0"){if(w==null)throw new n.InvalidRequest("invalid error "+i(w))}else if(w==null||!t.isInteger(w.code)||!t.isString(w.message))throw new n.InvalidRequest("invalid error: "+i(w)+" instead of {code, message}")},c=function(w){if(!t.isNumber(w)&&!t.isString(w))throw new n.InvalidRequest("invalid identifier: "+i(w)+" instead of number or string")},a=function(w,v){if(v==="2.0"){if(w!==void 0&&!Array.isArray(w)&&!t.isObject(w))throw new n.InvalidRequest("invalid params: "+i(w)+" instead of undefined, array or object")}else if(!Array.isArray(w))throw new n.InvalidRequest("invalid params: "+i(w)+" instead of array")},u=function(w){var v=w.jsonrpc;if(v===void 0)return"1.0";if(v==="2.0")return"2.0";throw new n.InvalidRequest("invalid version: "+i(v)+" instead of undefined or '2.0'")},h=function(w,v){return w===(v==="2.0"?void 0:null)},p=function(w,v){var b=w.error;return b!==(v==="2.0"?void 0:null)};e.isNotificationPayload=function(w,v){if(t.isString(w.method)){var b=w.id;if(h(b,v))return a(w.params,v),!0}return!1},e.isRequestPayload=function(w,v){if(t.isString(w.method)){var b=w.id;if(!h(b,v))return c(b),a(w.params,v),!0}return!1},e.isErrorPayload=function(w,v){if(!t.isString(w.method)&&p(w,v)){var b=w.id;return b!==null&&c(b),o(w.error,v),!0}return!1},e.isResponsePayload=function(w,v){return!t.isString(w.method)&&!p(w,v)?(c(w.id),!0):!1};function m(w){if(t.isString(w))try{w=JSON.parse(w)}catch(b){throw b instanceof SyntaxError?new n.InvalidJson:b}if(Array.isArray(w))return w.map(m);var v=u(w);if(e.isNotificationPayload(w,v))s(w,"notification");else if(e.isRequestPayload(w,v))s(w,"request");else if(e.isErrorPayload(w,v))s(w,"error");else if(e.isResponsePayload(w,v))s(w,"response");else throw new n.InvalidJson;return w}e.parse=m,e.default=m,m.result=function(v){var b=m(v);if(!Array.isArray(b)){if(b.type==="error")throw b.error;if(b.type==="response")return b.result}throw new TypeError("message should be response or error JSON-RPC message")}})(ep);(function(e){var t=Be&&Be.__createBinding||(Object.create?function(c,a,u,h){h===void 0&&(h=u),Object.defineProperty(c,h,{enumerable:!0,get:function(){return a[u]}})}:function(c,a,u,h){h===void 0&&(h=u),c[h]=a[u]}),n=Be&&Be.__setModuleDefault||(Object.create?function(c,a){Object.defineProperty(c,"default",{enumerable:!0,value:a})}:function(c,a){c.default=a}),r=Be&&Be.__importStar||function(c){if(c&&c.__esModule)return c;var a={};if(c!=null)for(var u in c)u!=="default"&&Object.hasOwnProperty.call(c,u)&&t(a,c,u);return n(a,c),a},s=Be&&Be.__exportStar||function(c,a){for(var u in c)u!=="default"&&!a.hasOwnProperty(u)&&t(a,c,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.format=void 0;var i=r(An);e.format=i,s(Xf,e),s(Ct,e);var o=ep;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return o.parse}})})(_c);function vc(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;return e.forEach(s=>{n.set(s,r),r+=s.length}),n}var T2=class{constructor(e,t=e.byteOffset){this.data=e,this.byteOffset=t}read(e){const t=new Uint8Array(this.data.buffer,this.byteOffset,e);return this.byteOffset+=e,t}decodeBigInt(){return BigInt(this.decodeString())}decodeNumber(){return Number(this.decodeString())}decodeUint8Array(){const e=new Uint32Array(this.read(4).slice(0).buffer)[0];return this.read(e)}decodeBoolean(){return!!this.read(1)[0]}decodeString(){const e=this.decodeUint8Array();return ye.Buffer.from(e).toString()}decodeArray(){const e=this.decode();return Array(e).fill(0).map(()=>this.decode())}decodeObject(){const e=this.decode(),t=Array(e).fill(0).map(()=>[this.decode(),this.decode()]);return Object.fromEntries(t)}decode(){const e=this.read(1)[0];switch(e){case 2:return this.decodeBigInt();case 1:return this.decodeNumber();case 0:return this.decodeBoolean();case 3:return this.decodeString();case 4:return this.decodeUint8Array();case 6:return this.decodeArray();case 5:return this.decodeObject();case 7:return;case 8:return null}throw`unkonw type: ${e}`}};function np(e){const t=new Uint8Array(e.length+5);return t[0]=4,ye.Buffer.from(t.buffer,1,4).writeUInt32LE(e.length),t.set(e,5),t}function E2(){return Uint8Array.from([7])}function k2(){return Uint8Array.from([8])}function I2(e){const t=Dl(e.toString());return t[0]=2,t}function A2(e){const t=Dl(e.toString());return t[0]=1,t}function U2(e){return new Uint8Array([0,Number(e)])}function Dl(e){const t=new ArrayBuffer(e.length);ye.Buffer.from(t).write(e);const n=np(new Uint8Array(t));return n[0]=3,n}function M2(e){const t=Object.entries(e),n=t.map(([r,s])=>{const i=Ts(r),o=Ts(s);return vc([i,o])});return vc([Uint8Array.from([5]),Ts(t.length),...n])}function B2(e){const t=e.map(n=>Ts(n));return vc([Uint8Array.from([6]),Ts(t.length),...t])}function Ts(e){if(e instanceof Uint8Array)return np(e);if(e instanceof Array)return B2(e);if(e instanceof Object)return M2(e);if(e===null)return k2();switch(typeof e){case"string":return Dl(e);case"number":return A2(e);case"bigint":return I2(e);case"boolean":return U2(e);case"undefined":return E2()}throw`unsuport type: ${e}`}function N2(e){return new T2(e).decode()}function F2(e){return ye.Buffer.from(Ts(e).buffer).toString("hex")}function Au(e){const t=new ArrayBuffer(e.length/2);return ye.Buffer.from(t).write(e,"hex"),N2(new Uint8Array(t))}function rp(e,t){const n=u=>u.split(".").map(Number),[r,s,i]=n(e),[o,c,a]=n(t);return r>o?1:r<o?-1:s>c?1:s<c?-1:i>a?1:i<a?-1:0}function xc(e){return e!==void 0&&rp(e,"2.1.4")>=0}function C2(e){return e!==void 0&&rp(e,"2.0.5")>=0}function D2(e){return e!==void 0}var R2="2.1.4",sp=class{constructor(e,t,n){this.handshakeType=e,t!==void 0&&(this.version=t),n!==void 0&&(this.sessionID=n)}toString(e){if(xc(e)){if(this.sessionID===void 0)throw Error("sessionID is undefined");return`${this.handshakeType}:${this.version}:${this.sessionID}`}return D2(e)?`${this.handshakeType}:${this.version}`:this.handshakeType}isHandshakeMessage(e){return!(this.handshakeType!==e||xc(this.version)&&this.sessionID===void 0)}static fromString(e){const[t,n,r]=e.split(":");return new sp(t,n,Number(r))}},vt=sp;vt.HANDSHAKE_REQ="HANDSHAKE_REQ";vt.HANDSHAKE_ACK="HANDSHAKE_ACK";vt.HANDSHAKE_PORT_ACK="HANDSHAKE_PORT_REQ";var vn=class{constructor(e,t,n){this.port=e,this.peerVersion=t,this.sessionID=n,this.connected=!0,this.port.onmessage=r=>{this.onMessage&&this.onMessage(r.data)},this.port.onmessageerror=()=>{this.close()}}send(e){this.port.postMessage(e)}on(e,t){switch(e){case"close":this.onClose=t;break;case"message":this.onMessage=t;break;default:throw Error("invlaid type")}}get version(){return{self:vn.version,peer:this.peerVersion}}close(){this.connected&&(this.port.close(),this.connected=!1,this.onClose&&this.onClose())}static newSessionID(){return vn.sessionID++}static async connect(e,t){return new Promise((n,r)=>{const s=vn.newSessionID();let i=()=>{},o=setTimeout(()=>{i(),r(`connect timeout: ${s}`)},1e3);const c=u=>{const h=u.ports[0];if(!t.includes(u.origin)||typeof u.data!="string")return;const p=vt.fromString(u.data);p.isHandshakeMessage(vt.HANDSHAKE_PORT_ACK)&&p.sessionID===s&&(i(),n(new vn(h,p.version,s)))};i=()=>{clearTimeout(o),window.removeEventListener("message",c)},window.addEventListener("message",c);const a=new vt(vt.HANDSHAKE_REQ,vn.version,s);e.postMessage(a.toString(a.version),"*")})}static accepts(e,t){e=new URL(e).origin;const n=r=>{if(r.origin!==e||typeof r.data!="string")return;const s=vt.fromString(r.data);if(!s.isHandshakeMessage(vt.HANDSHAKE_REQ))return;const i=s.version,o=vn.version;if(xc(i)){const c=new MessageChannel,a=new vt(vt.HANDSHAKE_PORT_ACK,o,s.sessionID);r.source.postMessage(a.toString(i),r.origin,[c.port2]),t(new vn(c.port1,i,s.sessionID))}else if(C2(i)){const c=new MessageChannel,a=new vt(vt.HANDSHAKE_PORT_ACK,o);r.source.postMessage(a.toString(i),r.origin,[c.port2]),t(new vn(c.port1,i,void 0))}else{const c=r.ports[0],a=new vt(vt.HANDSHAKE_ACK,o);c.postMessage(a.toString(i)),t(new vn(r.ports[0],i,void 0))}};return window.addEventListener("message",n),()=>window.removeEventListener("message",n)}static async accept(e){return new Promise(t=>{const n=this.accepts(e,r=>{t(r),n()})})}},Rl=vn;Rl.version=R2;Rl.sessionID=0;var O2=class{constructor(e,t){this.connector=e,this.notifiers=t,this.id=0,this.executors={},this.connector.on("message",n=>this.onMessage(n)),this.connector.on("close",()=>this.onClose())}onMessage(e){const t=_c.parse(e);switch(t.type){case"notification":return this.onNotify(t.method,t.params.map(Au));case"response":const{resolve:n}=this.executors[Number(t.id)];return delete this.executors[Number(t.id)],n(Au(t.result));case"error":const{reject:r}=this.executors[Number(t.id)];return delete this.executors[Number(t.id)],r(t.error.message)}}async request(e,t=[]){return new Promise((n,r)=>{const s=this.id++;this.executors[s]={resolve:n,reject:r};const i=_c.format.request(s,e,t.map(F2));this.connector.send(i)})}get version(){return this.connector.version}onNotify(e,t){this.notifiers[e](...t)}onClose(){}},Uu={Mainnet:"https://app.m-safe.io",Testnet:"https://testnet.m-safe.io",Partner:"https://partner.m-safe.io"},dr=class{constructor(e){this.events={};const t=(s,...i)=>{const o=this.events[s];o&&o(i[0])},n=["ChangeAccountEvent","ChangeNetworkEvent"].map(s=>[s,(...i)=>t(s,...i)]),r=Object.fromEntries(n);this.client=new O2(e,r)}async connect(){return this.client.request("connect")}async isConnected(){return this.client.request("isConnected")}async disconnect(){return this.client.request("disconnect")}onChangeAccount(e){this.events.ChangeAccountEvent=e}onChangeNetwork(e){this.events.ChangeNetworkEvent=e}async network(){return this.client.request("network")}async account(){return this.client.request("account")}async chainId(){return this.client.request("chainId")}async signAndSubmit(e,t){return this.client.request("signAndSubmit",[e,t])}async signTransaction(e,t){return this.client.request("signTransaction",[e,t])}async signMessage(e){return this.client.request("signMessage",[e])}get version(){return this.client.version}static inMSafeWallet(){return typeof window<"u"&&typeof document<"u"&&typeof parent<"u"&&typeof parent.window<"u"&&parent.window!==window}static inMsafeWallet(){return dr.inMSafeWallet()}static getAppUrl(e="Mainnet",t=`${window.location.href}`){return`${dr.getOrigin(e)}/apps/0?url=${encodeURIComponent(t)}`}static getOrigin(e="Mainnet"){return new URL(Uu[e]||e).origin}static async new(e=Object.values(Uu)){const t=e instanceof Array?e.map(r=>dr.getOrigin(r)):[dr.getOrigin(e)],n=await Rl.connect(window.parent,t);return new dr(n)}};const L2="MSafe";class z2 extends It{constructor(n){super();E(this,"name",L2);E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/msafe.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_readyState",dr.inMSafeWallet()?Q.NotDetected:Q.Unsupported);E(this,"_connecting");E(this,"_wallet");E(this,"_origin");this._network=void 0,this._connecting=!1,this._origin=n,this._readyState===Q.NotDetected&&dr.new(n).then(r=>{this._provider=r,this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState)}).catch(r=>{this._readyState=Q.Unsupported,this.emit("readyStateChange",this._readyState),console.error("MSafe connect error:",r)})}get url(){return dr.getAppUrl(this._origin instanceof Array?this._origin[0]:this._origin)}get publicAccount(){var n,r,s,i;return{publicKey:(n=this._wallet)==null?void 0:n.publicKey,address:(r=this._wallet)==null?void 0:r.address,authKey:(s=this._wallet)==null?void 0:s.authKey,minKeysRequired:(i=this._wallet)==null?void 0:i.minKeysRequired}}get network(){return{name:this._network,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider;if(await(r==null?void 0:r.isConnected())&&await(r==null?void 0:r.disconnect()),!await(r==null?void 0:r.connect()))throw new J("No connect response");const o=await(r==null?void 0:r.account());if(o){this._wallet={...o,isConnected:!0};try{const c=await(r==null?void 0:r.network()),a=await(r==null?void 0:r.chainId());this._network=c,this._chainId=a.toString()}catch(c){const a=c.message;throw this.emit("error",new wn(a)),c}}this.emit("connect",((n=this._wallet)==null?void 0:n.address)||"")}catch(r){throw this.emit("error",new Error(r)),r}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider;if(!s||!i)throw new J;const o=await i.signTransaction(n,r);if(!o)throw new Error("No response");return o}catch(s){throw this.emit("error",new it(s)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider;if(!s||!i)throw new J;const o=await i.signAndSubmit(n,r);if(!o)throw new Error("No response");return{hash:Y.fromUint8Array(o).hex()}}catch(s){throw this.emit("error",new Kt(s)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider;if(!r||!s)throw new J;const i=await s.signMessage(n);if(i)return i;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider;if(!n||!r)throw new J;const s=async i=>{this._wallet={...this._wallet,...i},this.emit("accountChange",i.address)};r.onChangeAccount(s)}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider;if(!n||!r)throw new J;const s=async i=>{this._network=i,this._chainId=(await this._provider.chainId()).toString(),this.emit("networkChange",this._network)};r.onChangeNetwork(s)}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}const j2="Spacecy";class P2 extends It{constructor({timeout:n=1e4}={}){super();E(this,"name",j2);E(this,"url","https://chrome.google.com/webstore/detail/spacecy-wallet/mkchoaaiifodcflmbaphdgeidocajadp");E(this,"icon","https://spacecywallet.com/favicon.ico");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?Q.Unsupported:Q.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.spacecy:void 0,this._network=void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==Q.Unsupported&&zt(()=>window.spacecy?(this._readyState=Q.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,r,s;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((r=this._wallet)==null?void 0:r.address)||null,authKey:((s=this._wallet)==null?void 0:s.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===Q.Loadable||this._readyState===Q.Installed))throw new Et;this._connecting=!0;const r=this._provider||window.spacecy,s=await(r==null?void 0:r.connect());if(!s)throw new J("No connect response");const i=s.data.address,o=s.data.publicKey;if(i){this._wallet={address:i,publicKey:o,isConnected:!0};try{const c=await(r==null?void 0:r.chainId());c&&(this._network=c.data.networkName,this._chainId=c.data.chainId,this._api=c.data.rpcProvider)}catch(c){const a=c.message;throw this.emit("error",new wn(a)),c}}this.emit("connect",((n=this._wallet)==null?void 0:n.address)||"")}catch(r){throw this.emit("error",new Error("User has rejected the connection")),r}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,r=this._provider||window.spacecy;if(n){this._wallet=null;try{await(r==null?void 0:r.disconnect())}catch(s){this.emit("error",new kt(s==null?void 0:s.message,s))}}this.emit("disconnect")}async signTransaction(n,r){try{const s=this._wallet,i=this._provider||window.spacecy;if(!s||!i)throw new J;const o=await i.generateTransaction(s.address||"",n,r);if(!o)throw new Error("Cannot generate transaction");const c=await(i==null?void 0:i.signTransaction(o.data));if(!c)throw new Error("No response");return c.data}catch(s){throw this.emit("error",new it(s)),s}}async signAndSubmitTransaction(n,r){try{const s=this._wallet,i=this._provider||window.spacecy;if(!s||!i)throw new J;const o=await(i==null?void 0:i.signAndSubmitTransaction(n,r));if(!o||o.status!=200)throw new Error("No response");return{hash:o.data}}catch(s){throw this.emit("error",new Kt(s.message)),s}}async signMessage(n){try{const r=this._wallet,s=this._provider||window.spacecy;if(!r||!s)throw new J;if(typeof n!="object"||!n.nonce)throw new Ge("Invalid signMessage Payload");const i=await(s==null?void 0:s.signMessage(n));if(i.status==200)return i.data;throw new Error("Sign Message failed")}catch(r){const s=r.message;throw this.emit("error",new Ge(s)),r}}async onAccountChange(){try{const n=this._wallet,r=this._provider||window.spacecy;if(!n||!r)throw new J;const s=async i=>{if(i.data=="no account"){this.connected&&await this.disconnect();return}i.data==""&&(this._wallet={publicKey:"",address:"",authKey:"",isConnected:!1}),this._wallet!=null&&(this._wallet={...this._wallet,address:i.data=="no account"?void 0:i.data,publicKey:void 0}),this.emit("accountChange",i)};await(r==null?void 0:r.onAccountChange(s))}catch(n){const r=n.message;throw this.emit("error",new Ot(r)),n}}async onNetworkChange(){try{const n=this._wallet,r=this._provider||window.spacecy;if(!n||!r)throw new J;const s=i=>{this._network=i.data.networkName,this._api=i.data.rpcProvider,this._chainId=i.data.chainId,this._network&&this.emit("networkChange",this._network)};await(r==null?void 0:r.onNetworkChange(s))}catch(n){const r=n.message;throw this.emit("error",new Lt(r)),n}}}function V2(e){return"connect"in e}function ip(e){return!V2(e)}function Mu(e){return e.flatMap(t=>ip(t)?t.get():t)}var $2={async set(e,t){return localStorage.setItem(e,t)},async get(e){return localStorage.getItem(e)},async del(e){localStorage.removeItem(e)}},W2="Sui Wallet",H2="wallet-kit:last-wallet";function Q2(){if(!document||document.visibilityState==="visible")return Promise.resolve();let e=null;const t=new Promise(r=>e=r),n=()=>{e&&document.visibilityState==="visible"&&(e(),document.removeEventListener("visibilitychange",n))};return document.addEventListener("visibilitychange",n),t}function Bu(e,t){return[...t.map(n=>e.find(r=>r.name===n)).filter(Boolean),...e.filter(n=>!t.includes(n.name))]}function K2({adapters:e,preferredWallets:t=[W2],storageAdapter:n=$2,storageKey:r=H2}){const s=new Set;let i=null,o={accounts:[],currentAccount:null,wallets:Bu(Mu(e),t),currentWallet:null,status:"DISCONNECTED"};const c=()=>({...o,isConnecting:o.status==="CONNECTING",isConnected:o.status==="CONNECTED",isError:o.status==="ERROR"});let a=c();function u(w){o={...o,...w},a=c(),s.forEach(v=>{try{v(a)}catch{}})}function h(){i&&(i(),i=null),u({status:"DISCONNECTED",accounts:[],currentAccount:null,currentWallet:null})}const p=e.filter(ip);p.length&&p.map(w=>w.on("changed",()=>{u({wallets:Bu(Mu(e),t)})}));const m={async autoconnect(){if(!a.currentWallet){await Q2();try{const w=await n.get(r);w&&m.connect(w)}catch{}}},getState(){return a},subscribe(w){s.add(w);try{w(a)}catch{}return()=>{s.delete(w)}},selectAccount(w){w===o.currentAccount||!o.accounts.includes(w)||u({currentAccount:w})},async connect(w){const v=o.wallets.find(b=>b.name===w)??null;if(u({currentWallet:v}),v&&!v.connecting){i&&i(),i=v.on("change",({connected:b,accounts:S})=>{b===!1?h():S&&u({accounts:S,currentAccount:o.currentAccount&&!S.find(({address:N})=>{var C;return N===((C=o.currentAccount)==null?void 0:C.address)})?S[0]:o.currentAccount})});try{u({status:"CONNECTING"}),await v.connect(),u({status:"CONNECTED"});try{await n.set(r,v.name)}catch{}const b=await v.getAccounts();u({accounts:b,currentAccount:b[0]??null})}catch(b){console.log("Wallet connection error",b),u({status:"ERROR"})}}else u({status:"DISCONNECTED"})},async disconnect(){if(!o.currentWallet){console.warn("Attempted to `disconnect` but no wallet was connected.");return}try{await n.del(r)}catch{}await o.currentWallet.disconnect(),h()},signMessage(w){if(!o.currentWallet||!o.currentAccount)throw new Error("No wallet is currently connected, cannot call `signMessage`.");return o.currentWallet.signMessage({...w,account:w.account??o.currentAccount})},async signTransactionBlock(w){if(!o.currentWallet||!o.currentAccount)throw new Error("No wallet is currently connected, cannot call `signTransaction`.");const{account:v=o.currentAccount,chain:b=o.currentAccount.chains[0]}=w;if(!b)throw new Error("Missing chain");return o.currentWallet.signTransactionBlock({...w,account:v,chain:b})},async signAndExecuteTransactionBlock(w){if(!o.currentWallet||!o.currentAccount)throw new Error("No wallet is currently connected, cannot call `signAndExecuteTransactionBlock`.");const{account:v=o.currentAccount,chain:b=o.currentAccount.chains[0]}=w;if(!b)throw new Error("Missing chain");return o.currentWallet.signAndExecuteTransactionBlock({...w,account:v,chain:b})}};return m}var Z2=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},G2=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},So;let Ks;const To=new Set,gs={};function Y2(){if(Ks||(Ks=Object.freeze({register:Nu,get:q2,on:J2}),typeof window>"u"))return Ks;const e=Object.freeze({register:Nu});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new X2(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Ks}function Nu(...e){var t;return e=e.filter(n=>!To.has(n)),e.length?(e.forEach(n=>To.add(n)),(t=gs.register)==null||t.forEach(n=>Fu(()=>n(...e))),function(){var r;e.forEach(s=>To.delete(s)),(r=gs.unregister)==null||r.forEach(s=>Fu(()=>s(...e)))}):()=>{}}function q2(){return[...To]}function J2(e,t){var n;return(n=gs[e])!=null&&n.push(t)||(gs[e]=[t]),function(){var s;gs[e]=(s=gs[e])==null?void 0:s.filter(i=>t!==i)}}function Fu(e){try{e()}catch(t){console.error(t)}}class X2 extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),So.set(this,void 0),Z2(this,So,t,"f")}get detail(){return G2(this,So,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}So=new WeakMap;var ev=["standard:connect","standard:events"];function tv(e,t=[]){return[...ev,...t].every(n=>n in e.features)}function op(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}var Ol=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Re=(e,t,n)=>(Ol(e,t,"read from private field"),n?n.call(e):t.get(e)),gr=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Dr=(e,t,n,r)=>(Ol(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Cu=(e,t,n)=>(Ol(e,t,"access private method"),n),Du="1.0.0",Ru="1.0.0";function Ou(e,t){const[n]=e.split("."),[r]=t.split(".");return Number(r)===Number(n)}var Xs,rt,ds,Eo,Sc,nv=class{constructor({wallet:e}){gr(this,Eo),this.connected=!1,this.connecting=!1,gr(this,Xs,op()),gr(this,rt,void 0),gr(this,ds,null),this.signMessage=t=>Re(this,rt).features["sui:signMessage"].signMessage(t),this.signTransactionBlock=t=>{const n=Re(this,rt).features["sui:signTransactionBlock"].version;if(!Ou(n,Du))throw new Error(`Version mismatch, signTransaction feature version ${n} is not compatible with version ${Du}`);return Re(this,rt).features["sui:signTransactionBlock"].signTransactionBlock(t)},this.signAndExecuteTransactionBlock=t=>{const n=Re(this,rt).features["sui:signAndExecuteTransactionBlock"].version;if(!Ou(n,Ru))throw new Error(`Version mismatch, signAndExecuteTransactionBlock feature version ${n} is not compatible with version ${Ru}`);return Re(this,rt).features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(t)},this.on=(t,n)=>(Re(this,Xs).on(t,n),()=>{Re(this,Xs).off(t,n)}),Dr(this,rt,e)}get name(){return Re(this,rt).name}get icon(){return Re(this,rt).icon}get wallet(){return Re(this,rt)}async getAccounts(){return Re(this,rt).accounts}async connect(){try{if(this.connected||this.connecting)return;if(this.connecting=!0,Dr(this,ds,Re(this,rt).features["standard:events"].on("change",async({accounts:e})=>{e&&(this.connected=e.length>0,await Cu(this,Eo,Sc).call(this))})),Re(this,rt).accounts.length||await Re(this,rt).features["standard:connect"].connect(),!Re(this,rt).accounts.length)throw new Error("No wallet accounts found");this.connected=!0,await Cu(this,Eo,Sc).call(this)}finally{this.connecting=!1}}async disconnect(){Re(this,rt).features["standard:disconnect"]&&await Re(this,rt).features["standard:disconnect"].disconnect(),this.connected=!1,this.connecting=!1,Re(this,ds)&&(Re(this,ds).call(this),Dr(this,ds,null))}};Xs=new WeakMap;rt=new WeakMap;ds=new WeakMap;Eo=new WeakSet;Sc=async function(){Re(this,Xs).emit("change",{connected:this.connected,accounts:await this.getAccounts()})};var rv=["sui:signAndExecuteTransactionBlock"],hs,fs,Ir,ko,sv=class{constructor({features:e}={}){gr(this,hs,void 0),gr(this,fs,void 0),gr(this,Ir,void 0),gr(this,ko,void 0),Dr(this,fs,new Map),Dr(this,hs,Y2()),Dr(this,Ir,op()),Dr(this,ko,e??rv),Re(this,hs).on("register",()=>{Re(this,Ir).emit("changed")}),Re(this,hs).on("unregister",()=>{Re(this,Ir).emit("changed")})}get(){return Re(this,hs).get().filter(t=>tv(t,Re(this,ko))).forEach(t=>{Re(this,fs).has(t)||Re(this,fs).set(t,new nv({wallet:t}))}),[...Re(this,fs).values()]}on(e,t){return Re(this,Ir).on(e,t),()=>{Re(this,Ir).off(e,t)}}};hs=new WeakMap;fs=new WeakMap;Ir=new WeakMap;ko=new WeakMap;function Tc(){const e=Ds(),t=Ae(()=>e),n=Dt(),r=Ae(()=>n),s=[new sv({features:void 0})];console.log("suiAdapters####",s);const i=Io(K2({adapters:s})),o=Ae(()=>{console.log("0417###suiWalletState####suiWalletKitRef####",i);const b=i.subscribe;return console.log("0417####suiWalletState###test####",b),i.getState()}),c=Ae(()=>o.value.wallets||[]),a={Martian:S0,Petra:v0,Fewcha:S1,Pontem:E1,Spika:M1,Blocto:o2,Coin98:N1,OKX:c2,TokenPocket:u2,BitKeep:h2,Rise:p2,OpenBlock:w2,Trust:m0,MSafe:new z2("https://app.m-safe.io"),Spacecy:P2,Nightly:A1};Ae(()=>r.value.chainName!=="Aptos"?c:a);const u=Io({wallet:{}}),h=Te(!1),p=Te(""),{$notify:m}=sa();return{account:p,isConnected:h,currentWallet:u,connect:async(b,S,N=r.value.chainName,C="",x="")=>{var F,D,H;e.setSwitchWallet(!1);const k=N!=="Aptos"?c.value:a;let _=b;console.log("0329###wallet connet###wallets###",k);let A=null;if(N==="Aptos"?A=_!=="MSafe"?new k[_]:k[_]:(_==="Sui Wallet"&&S==="fox"&&!(window!=null&&window.foxwallet)&&(_="FoxWallet"),A=k.find(W=>W.name.indexOf(_)>-1||_.replace(/\s*/g,"")==W.name),_.replace(/\s*/g,"")==(A==null?void 0:A.name)&&(_=_.replace(/\s*/g,""))),console.log("0511###wallet connet###selectedWallet###",A),console.log("0511###wallet connet###walletName###",_),A){if(e.walletName==A.name&&A.connected)return!1;try{let W,q="";if(N!=="Aptos"){console.log("0329### ####",i);const ke=await i.connect(_);console.log("0329###wallet connet###suiWalletKitRef###",i),u.wallet=i;const Se=i.getState();console.log("0329###wallet connet###suiWalletState###",Se);const Pe=Se.currentAccount;Pe&&(q=typeof Pe=="string"?Pe:Pe.address),W=!!q}else{const ke=await A.connect();u.wallet=A,A.name=="Trust"?(q=(await A.account()).address||"",W=!0):(q=((D=(F=u==null?void 0:u.wallet)==null?void 0:F.publicAccount)==null?void 0:D.address)||"",W=(H=u==null?void 0:u.wallet)==null?void 0:H.connected)}A&&A.network&&A.network.name&&(console.log(A.network.name,"====>selectedWallet"),e.setNetwork(A.network.name)),e.setCurrentWallet({wallet:N!=="Aptos"?i:A,isConnected:W,account:q,platform:N==="Aptos"?"Apots":"Sui",icon:S,walletName:N!=="Aptos"?x:A.name}),localStorage.setItem(`cetus-${N}-current-wallet`,_),localStorage.setItem(`cetus-${N}-current-suiwallet`,x),localStorage.setItem(`cetus-${N}-wallet-icon-name`,S);const X=i.getState();q?m.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:fp.global.t("tips.walletConnected")},null)]),class:"ant-notification-copy"}):X.status==="ERROR"&&m.error({class:"ant-notification-copy ant-notification-error",message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"Connect Error"},null)]),description:"Connect Wallet Failed",duration:4.5,icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-a-icon-Shutdown"})])})}catch(W){if(console.log("0329###wallet connet###useWalletProvider###error###",W),W.name==="WalletNotReadyError"||!(window!=null&&window.trustwallet)&&(_!=null&&_.includes("Trust"))){const q=A.url,X=["Please install ",ce("a",{href:q,target:"_blank"},`${_} wallet`)," extension first"];m.error({class:"ant-notification-copy ant-notification-error",message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"Wallet Not Ready Error"},null)]),description:ce("div",X),duration:4.5,icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-a-icon-Shutdown"})])});return}m.error({class:"ant-notification-copy ant-notification-error",message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:W.name||"Rejected"},null)]),description:"Connect Wallet Failed",duration:4.5,icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-a-icon-Shutdown"})])})}}else if(N!=="Aptos"){const q=["Please install ",ce("a",{href:C,target:"_blank"},`${_}`)," extension first"];m.error({class:"ant-notification-copy ant-notification-error",message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"Wallet Not Ready Error"},null)]),description:ce("div",q),duration:4.5,icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-a-icon-Shutdown"})])})}},disconnect:async()=>{if(u.wallet)try{const b=await t.value.currentWallet.disconnect();e.setCurrentWallet({wallet:null,isConnected:!1,account:"",platform:r.value.chainName,icon:""}),e.setAssets({})}catch(b){console.log("disconnect error###",b)}}}}const iv=gn({components:{Modal:ai},setup(){const{t:e}=ei(),t=sa(),n=Ds(),r=Dt(),s=Dt(),i=Ae(()=>s),o=Ae(()=>i.value.chainName),c=F=>{var D=typeof F;if(D=="string")return F.length;if(D=="object"){var H=0;for(var W in F)H++;return H}return!1},a=Ae(()=>Nt[o.value]),u=Te("Wallet"),h=Io({Martian:{name:"Martian",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",iconName:"Martian",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUyIiBoZWlnaHQ9IjM1MiIgdmlld0JveD0iMCAwIDM1MiAzNTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzNTIiIGhlaWdodD0iMzUyIiByeD0iODciIGZpbGw9IiMxRjFGMUYiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNjkuNzAxIDg5LjA4NDFDMTU5LjUwOCA4OS44MzA5IDE1MC41NDcgOTIuMDAxNCAxNDEuMDc2IDk2LjAxNjlDMTM5LjQyNCA5Ni43MTc0IDEzMy43MDIgOTkuNjAzNyAxMzIuMTE2IDEwMC41MzdDMTI4LjEzMSAxMDIuODgxIDEyMy4wNDMgMTA2LjQ5NiAxMTkuNTg2IDEwOS40NEMxMTYuOTc1IDExMS42NjUgMTExLjIxNiAxMTcuNDUyIDEwOS4yMDIgMTE5Ljg3NkMxMDUuMDg1IDEyNC44MzIgMTAxLjA4OCAxMzAuODg2IDk4LjQzODQgMTM2LjE3OUM5Ny45OTQyIDEzNy4wNjYgOTcuNTYzNSAxMzcuODE3IDk3LjQ4MTMgMTM3Ljg0OEM5Ny4zOTkzIDEzNy44OCA5Ny4zMzIgMTM3Ljk5NSA5Ny4zMzIgMTM4LjEwNUM5Ny4zMzIgMTM4LjIxNCA5Ni43Njg1IDEzOS42MDggOTYuMDc5NiAxNDEuMkM5NC42OTc1IDE0NC4zOTYgOTIuOTE3NiAxNDkuNDk2IDkxLjk5MjUgMTUyLjkwOUM4OS42MjY3IDE2MS42NCA4OC41NDA3IDE3Mi40OTUgODkuMTgxMSAxODEuMDExQzkwLjM4ODggMTk3LjA3MSA5NS4xODY2IDIxMS4xMiAxMDMuODUzIDIyMy45NzVDMTEwLjE0NyAyMzMuMzExIDExOC4zMzYgMjQxLjQxMyAxMjcuOTk1IDI0Ny44NjFDMTM4LjkzNiAyNTUuMTYzIDE1MS45NzEgMjU5LjkxIDE2NS41MzIgMjYxLjUyOUMxNjkuMjQ3IDI2MS45NzIgMTc3LjczMSAyNjIuMTQ2IDE4MS43NjIgMjYxLjg2MUMxOTguMDkzIDI2MC43MDYgMjEzLjYxNiAyNTQuOTk0IDIyNi43OCAyNDUuMjk3QzI0NC4wODIgMjMyLjU1MiAyNTYuMDc2IDIxMy43OTcgMjYwLjMzMiAxOTIuODM0QzI2MS42MDEgMTg2LjU4MiAyNjIuMDA2IDE4Mi4zNTUgMjYyIDE3NS40MDdDMjYxLjk5NiAxNzAuMzM3IDI2MS45NDYgMTY5LjI5NSAyNjEuNTQxIDE2NS44MjlDMjU5LjcwNSAxNTAuMTQyIDI1NC4wNTkgMTM1Ljg4OCAyNDQuNzgzIDEyMy41MjdDMjM4LjkwMyAxMTUuNjg5IDIzMC45OTIgMTA4LjI0OCAyMjMuMDk4IDEwMy4xMjlDMjE4LjQ4NSAxMDAuMTM2IDIxNi4xNzggOTguODU1NSAyMTEuNjYxIDk2Ljc3NzRDMjAyLjMzOCA5Mi40ODc5IDE5Mi4zNzYgODkuOTA5MSAxODIuMTg3IDg5LjE0NzlDMTgwLjA0MiA4OC45ODc2IDE3MS42MDYgODguOTQ0NSAxNjkuNzAxIDg5LjA4NDFaTTE4My4wMjUgMTAzLjY1N0MxODkuNTAzIDEwNC4zNDggMTk2LjI4NCAxMDYuMDM0IDIwMi4zNiAxMDguNDY0TDIwNC4zNTYgMTA5LjI2MkwyMDQuMzU2IDExMC44MjJDMjA0LjM1NyAxMTYuODk2IDIwMC4zNDQgMTIyLjMwNyAxOTQuMzMzIDEyNC4zMzRMMTkyLjcyIDEyNC44NzhMMTczLjUyMyAxMjQuOTg3QzE1NS4yODkgMTI1LjA5IDE1MS45OTQgMTI1LjE3NSAxNDcuNjE2IDEyNS42NTdDMTM3LjY3NiAxMjYuNzUyIDEyOS44NzIgMTI4LjI2NSAxMjEuMzAyIDEzMC43NjFDMTIwLjA1IDEzMS4xMjUgMTE4LjkxNyAxMzEuNDI0IDExOC43ODUgMTMxLjQyNEMxMTguNDY0IDEzMS40MjQgMTE4LjkwOSAxMzAuNzkxIDEyMC43NTIgMTI4LjYyMkMxMjQuNDgzIDEyNC4yMzMgMTMwLjczMiAxMTguNTk4IDEzNC43MDYgMTE2LjA0MUMxMzUuMTI2IDExNS43NyAxMzUuNTA4IDExNS41MDkgMTM1LjU1NSAxMTUuNDZDMTM1LjYwMiAxMTUuNDExIDEzNi4yNTEgMTE0Ljk3OSAxMzYuOTk5IDExNC41MDFDMTQyLjI2MyAxMTEuMTMxIDE0OC4wMzYgMTA4LjQ0MSAxNTQuMDcyIDEwNi41NDNDMTU5LjY1OCAxMDQuNzg3IDE2NC44MTQgMTAzLjg3MiAxNzIuMTY0IDEwMy4zMzFDMTczLjg3NCAxMDMuMjA2IDE4MC43MjMgMTAzLjQxMSAxODMuMDI1IDEwMy42NTdaTTIxOS4xMzMgMTE4LjAyMkMyMjIuNzUxIDEyMC43NzkgMjI5LjQ5OSAxMjcuMTM2IDIyOS40OTkgMTI3Ljc4N0MyMjkuNDk5IDEyOC42MDYgMjI2Ljc1IDEzMy40OTMgMjI0Ljc4NCAxMzYuMTY4QzIxOC4wMzIgMTQ1LjM1NSAyMDcuOTIxIDE1MS41NTYgMTk2Ljc5NyAxNTMuMzMyQzE5My45NDUgMTUzLjc4OCAxOTEuOTk0IDE1My44MzUgMTc1LjczMiAxNTMuODQ1QzE1NS4zOTYgMTUzLjg1NyAxNTIuNTc3IDE1My45NjYgMTQ1LjA2OCAxNTUuMDI4QzEzMS4xNjkgMTU2Ljk5NCAxMTguMDA0IDE2MS4zODUgMTA1Ljc3IDE2OC4xMzdDMTA0Ljc1NyAxNjguNjk1IDEwMy44ODUgMTY5LjEwOCAxMDMuODMxIDE2OS4wNTRDMTAzLjY1IDE2OC44NzMgMTA0LjMxMyAxNjMuOTY5IDEwNC44OTUgMTYxLjE4MkMxMDUuNTE0IDE1OC4yMTggMTA2LjU0MiAxNTQuNDE0IDEwNy4zMTEgMTUyLjI0N0wxMDcuNzg2IDE1MC45MDlMMTA5LjQ4MSAxNTAuMTU2QzEyMC45OTQgMTQ1LjA0MiAxMzQuODA4IDE0MS4zODIgMTQ3LjQ0NyAxNDAuMDk3QzE1NC4yNTggMTM5LjQwNSAxNTUuMTY2IDEzOS4zNzggMTczLjk0OCAxMzkuMzA0QzE4NC45MTIgMTM5LjI2MSAxOTMuMTE2IDEzOS4xNiAxOTMuOTMgMTM5LjA2QzE5NS4yOCAxMzguODkyIDE5Ny44NDYgMTM4LjI4NyAxOTkuNDEgMTM3Ljc2NkMxOTkuODQxIDEzNy42MjIgMjAxLjE4OCAxMzcuMDI1IDIwMi40MDMgMTM2LjQzOUMyMDkuNTU2IDEzMi45ODcgMjE0LjkxIDEyNi43OTggMjE3LjM1OCAxMTkuMTU0QzIxNy43OTIgMTE3Ljc5OCAyMTguMDU3IDExNy4yMDQgMjE4LjE4NCAxMTcuM0MyMTguMjg3IDExNy4zNzggMjE4LjcxNCAxMTcuNzAzIDIxOS4xMzMgMTE4LjAyMlpNMjM5LjM5OSAxNDEuODI1QzI0MC42NzggMTQ0LjAyMyAyNDIuODA1IDE0OS4xNjMgMjQ0LjA5MSAxNTMuMTZDMjQ1LjE0MSAxNTYuNDI2IDI0NS4yMTggMTU2LjgxOCAyNDQuODk5IDE1Ny4zMDVDMjQ0LjQ1MyAxNTcuOTg1IDIzOC45OTEgMTYzLjUxMSAyMzcuMzc3IDE2NC45MTZDMjI5LjUxNCAxNzEuNzU2IDIyMC4yNTIgMTc2Ljg4MiAyMTAuNTc1IDE3OS43NUMyMDUuNzczIDE4MS4xNzMgMjAxLjM0NCAxODIuMDAxIDE5NS42MjMgMTgyLjU0NkMxOTQuNjk4IDE4Mi42MzQgMTg1Ljk0NSAxODIuNzE2IDE3Ni4xNzIgMTgyLjcyOUMxNTUuMDkgMTgyLjc1NSAxNTMuODA5IDE4Mi44MTEgMTQ2LjU5NyAxODQuMDAxQzEzMy44MDkgMTg2LjExMiAxMjAuNjg1IDE5MS43MDYgMTEwLjA5NCAxOTkuNTZDMTA5LjIwNSAyMDAuMjE5IDEwOC4zNjggMjAwLjc2NyAxMDguMjM1IDIwMC43NzdDMTA3Ljk1NCAyMDAuNzk4IDEwNy4zODIgMTk5LjIxOCAxMDYuMjQ0IDE5NS4yNzZDMTA1LjQyOSAxOTIuNDUyIDEwNC4yNDggMTg2LjgxNCAxMDQuMzMxIDE4Ni4xNEMxMDQuMzcxIDE4NS44MTkgMTA0Ljg5NyAxODUuNDAxIDEwNi43NiAxODQuMjExQzExNy42NTkgMTc3LjI0NiAxMjkuNDk5IDE3Mi40ODcgMTQxLjkyNSAxNzAuMDc1QzE0NS4zODMgMTY5LjQwNCAxNDUuOTMxIDE2OS4zMjIgMTQ5Ljk5NSAxNjguODY1QzE1NSAxNjguMzAyIDE1Ni42NjQgMTY4LjI2MSAxNzcuMDA2IDE2OC4yMDVDMTk1LjY3MiAxNjguMTUzIDE5NS44ODMgMTY4LjE0NCAyMDAuODc0IDE2Ny4xNzRDMjA4LjYzNiAxNjUuNjY3IDIxNi4yMDcgMTYyLjQ3MyAyMjIuNjI4IDE1Ny45OThDMjI4LjUzMyAxNTMuODgyIDIzNC40MDMgMTQ3Ljg5MiAyMzcuOTcgMTQyLjM0QzIzOC40MDMgMTQxLjY2NiAyMzguODA3IDE0MS4xMTIgMjM4Ljg2OCAxNDEuMTA5QzIzOC45MjkgMTQxLjEwNiAyMzkuMTY4IDE0MS40MjggMjM5LjM5OSAxNDEuODI1Wk0yNDcuNjc1IDE3Ni44MDhDMjQ3LjY3MiAxODEuNTQ5IDI0Ni43NTUgMTg4LjE3NyAyNDUuMzU5IDE5My41MzNDMjQ0Ljk1NyAxOTUuMDc3IDI0NC44NDcgMTk1LjMwOCAyNDQuMzggMTk1LjU5QzI0NC4wOSAxOTUuNzY2IDI0My4zMTggMTk2LjIzOCAyNDIuNjY0IDE5Ni42NDFDMjMwLjUzNCAyMDQuMTA4IDIxNi40MTUgMjA5LjEzNyAyMDMuMTIxIDIxMC43MjVDMjAxLjUxMSAyMTAuOTE3IDE5OS41NDQgMjExLjE2MyAxOTguNzUgMjExLjI3MUMxOTcuNzcgMjExLjQwNCAxOTAuNzU0IDIxMS41MDcgMTc2LjkyMSAyMTEuNTkxQzE2NS43MDkgMjExLjY1OCAxNTYuMzA2IDIxMS43NTYgMTU2LjAyNSAyMTEuODA3QzE1NS43NDUgMjExLjg1OSAxNTQuNzkgMjExLjk4OSAxNTMuOTAyIDIxMi4wOTdDMTQzLjc3MiAyMTMuMzI1IDEzMy4yMDggMjE3Ljg1OSAxMjUuMTU2IDIyNC40MzRDMTI0LjQzNiAyMjUuMDIyIDEyMy43NzIgMjI1LjUwMyAxMjMuNjggMjI1LjUwM0MxMjMuMTkxIDIyNS41MDMgMTE4LjA5MiAyMTkuMjc5IDExNS44OSAyMTUuOTk0QzExNC45NDQgMjE0LjU4MiAxMTQuNzM2IDIxNC4xNjEgMTE0Ljg5IDIxMy45NzJDMTE1LjIyNyAyMTMuNTU4IDExOS40MjggMjEwLjM5MSAxMjEuMiAyMDkuMjE1QzEyNy40NDEgMjA1LjA3NCAxMzQuMTA1IDIwMS45NjQgMTQwLjk5MSAxOTkuOThDMTQ1LjAwMyAxOTguODI0IDE0Ny45NDkgMTk4LjIyNyAxNTMuMDM3IDE5Ny41NDJDMTU1LjMzMiAxOTcuMjMzIDE1OC42NjcgMTk3LjE3NSAxODAuMTQ4IDE5Ny4wNzJDMTk1Ljg1OCAxOTYuOTk2IDE5Ny4xMiAxOTYuOTQ2IDIwMi4zMTggMTk2LjE5N0MyMTQuNzAxIDE5NC40MTIgMjI2LjYyNyAxODkuODU3IDIzNy4zOTggMTgyLjc5N0MyMzkuNTQ4IDE4MS4zODggMjQzLjcxMiAxNzguMjU2IDI0NS43MjIgMTc2LjUzNUMyNDYuNjU2IDE3NS43MzUgMjQ3LjQ3OCAxNzUuMDc4IDI0Ny41NDggMTc1LjA3NEMyNDcuNjE4IDE3NS4wNyAyNDcuNjc1IDE3NS44NSAyNDcuNjc1IDE3Ni44MDhaTTIzNC40MjUgMjE3LjEyOUMyMzQuNDI1IDIxNy4yOTQgMjMyLjIxOCAyMjAuMTc1IDIzMC42MTYgMjIyLjEwMkMyMjguODg1IDIyNC4xODUgMjIzLjkyOSAyMjkuMTM0IDIyMS44NjYgMjMwLjg0MUMyMTAuMzQ3IDI0MC4zNzEgMTk3LjE0MSAyNDUuOTA2IDE4Mi4yNzIgMjQ3LjQzNUMxNzkuMjIyIDI0Ny43NDggMTcxLjA4OSAyNDcuNjk4IDE2OC4xMDQgMjQ3LjM0NkMxNjAuNTU1IDI0Ni40NTggMTUzLjk3MiAyNDQuNzYzIDE0Ny40NDcgMjQyLjAyOEMxNDUuOTEzIDI0MS4zODUgMTQxLjgxNCAyMzkuMzc5IDE0MC41MDMgMjM4LjYyOUMxMzcuODA3IDIzNy4wODkgMTM0Ljg3MyAyMzUuMjExIDEzNC44NzggMjM1LjAzMUMxMzQuODg4IDIzNC42ODQgMTM5LjY4MSAyMzEuNjU0IDE0Mi4xOTUgMjMwLjQwN0MxNDYuMDU3IDIyOC40OSAxNDkuNDU3IDIyNy4zOTcgMTU0LjM5IDIyNi40ODdDMTU2LjMxMiAyMjYuMTMyIDE1Ni45MTEgMjI2LjExOSAxNzYuNDExIDIyNi4wMDFDMTg3LjQzNiAyMjUuOTM0IDE5Ni44MDEgMjI1LjgzNSAxOTcuMjIxIDIyNS43OEMxOTcuNjQyIDIyNS43MjUgMTk5LjAxOCAyMjUuNTk3IDIwMC4yNzkgMjI1LjQ5NEMyMDUuMTI2IDIyNS4xIDIxMS44NDMgMjIzLjk3NiAyMTYuOTU5IDIyMi43MDRDMjE5LjYzOSAyMjIuMDM4IDIyNC4xNTggMjIwLjc5NCAyMjQuNjU3IDIyMC41ODZDMjI0Ljg0NCAyMjAuNTA4IDIyNi4wMjkgMjIwLjA5MiAyMjcuMjkgMjE5LjY2MkMyMjguNTUxIDIxOS4yMzEgMjMwLjYxNSAyMTguNDY2IDIzMS44NzcgMjE3Ljk2MUMyMzQuMzIzIDIxNi45ODIgMjM0LjQyNSAyMTYuOTQ5IDIzNC40MjUgMjE3LjEyOVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},Pontem:{name:"Pontem",url:"https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba",iconName:"Pontem",icon:"https://www.gitbook.com/cdn-cgi/image/width=20,height=20,fit=contain,dpr=2,format=auto/https%3A%2F%2F736486047-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fspaces%252F-MVVJKmKQGx983dZy_jr%252Favatar-1619180126965.png%3Fgeneration%3D1619180127194239%26alt%3Dmedia"},Fewcha:{name:"Fewcha",url:"https://fewcha.app/",iconName:"Fewcha",icon:"https://miro.medium.com/fit/c/176/176/1*a0WaY-q7gjCRiuryRG6TkQ.png"},Coin98:{name:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",iconName:"coin98",icon:"https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98wallet.png"},Blocto:{name:"Blocto",url:"https://portto.com/download",iconName:"Blocto",icon:""},Petra:{name:"Petra",url:"https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci",iconName:"Petra",icon:"https://miro.medium.com/fit/c/176/176/1*Gf747eyRywU8Img0tK5wvw.png"},OKX:{name:"OKX",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",iconName:"OKX",icon:""},TokenPocket:{name:"TokenPocket",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",iconName:"TokenPocket",icon:"https://tp-statics.tokenpocket.pro/logo/tokenpocket.png"},BitKeep:{name:"BitKeep",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",iconName:"BitKeep",icon:"https://raw.githubusercontent.com/bitkeepwallet/download/main/logo-png/BitKeep_logo_circle.png"},Rise:{name:"Rise",url:"https://chrome.google.com/webstore/detail/rise-aptos-wallet/hbbgbephgojikajhfbomhlmmollphcad",iconName:"Rise",icon:""},OpenBlock:{name:"OpenBlock",url:"https://chrome.google.com/webstore/detail/openblock-bridge/memiokcjdencbponfgbkojkenpdpejhj",iconName:"OpenBlock",icon:""},Trust:{name:"Trust",url:"https://trustwallet.com/",iconName:"Trust",icon:""},MSafe:{name:"MSafe",url:"",iconName:"Msafe",icon:""},Spacecy:{name:"Spacecy",url:"https://chrome.google.com/webstore/detail/spacecy-wallet/mkchoaaiifodcflmbaphdgeidocajadp?hl=en-US",iconName:"Spacecy",icon:""},Nightly:{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",iconName:"nightly",icon:""}}),p=Io({suiWallet:{name:"Sui Wallet",walletName:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",iconName:"sui-wallet-icon",icon:""},Martian:{name:"Martian",walletName:"Martian Sui Wallet",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",iconName:"Martian",icon:""},Suiet:{name:"Suiet",walletName:"Suiet",url:"https://chrome.google.com/webstore/detail/suiet-sui-wallet/khpkpbbcccdmmclmpigdgddabeilkdpd",iconName:"suiet-icon",icon:""},OKX:{name:"OKX Wallet",walletName:"OKX Wallet",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",iconName:"OKX",icon:""},Fewcha:{name:"Fewcha",walletName:"Fewcha Move Wallet",url:"https://fewcha.app/",iconName:"Fewcha",icon:"https://miro.medium.com/fit/c/176/176/1*a0WaY-q7gjCRiuryRG6TkQ.png"},Ethos:{name:"Ethos",walletName:"Ethos Wallet",url:"https://chrome.google.com/webstore/detail/ethos-sui-wallet/mcbigmjiafegjnnogedioegffbooigli",iconName:"Ethos",icon:""},SafePal:{name:"SafePal",walletName:"SafePal",url:"https://chrome.google.com/webstore/detail/safepal-extension-wallet/lgmpcpglpngdoalbgeoldeajfclnhafa",iconName:"safepal",icon:""},Surf:{name:"Surf",walletName:"Surf Wallet",url:"https://chrome.google.com/webstore/detail/surf-wallet/emeeapjkbcbpbpgaagfchmcgglmebnen",iconName:"surf",icon:""},Coin98:{name:"Coin98",walletName:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",iconName:"coin98",icon:"https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98wallet.png"},Morphis:{name:"Morphis",walletName:"Morphis Wallet",url:"https://chrome.google.com/webstore/detail/morphis-wallet/heefohaffomkkkphnlpohglngmbcclhi",iconName:"Morphis",icon:""},Spacecy:{name:"Spacecy",walletName:"Spacecy Sui Wallet",url:"https://chrome.google.com/webstore/detail/spacecy-wallet/mkchoaaiifodcflmbaphdgeidocajadp",iconName:"Spacecy",icon:""},BitKeep:{name:"BitKeep",walletName:"BitKeep Wallet",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",iconName:"BitKeep",icon:"https://raw.githubusercontent.com/bitkeepwallet/download/main/logo-png/BitKeep_logo_circle.png"},Elli:{name:"Elli",walletName:"Elli",url:"https://chrome.google.com/webstore/detail/elli-sui-wallet/ocjdpmoallmgmjbbogfiiaofphbjgchh",iconName:"elli",icon:""},Fox:{name:"Fox",walletName:"Sui Wallet",url:"https://foxwallet.com/download",iconName:"fox",icon:""},Math:{name:"Math",walletName:"MathWallet",url:"https://mathwallet.org/",iconName:"math",icon:""},TokenPocket:{name:"TokenPocket Wallet",walletName:"TokenPocket Wallet",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",iconName:"tokenpocket",icon:""},Nightly:{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",iconName:"nightly",icon:""}}),m=Ae(()=>i.value.chainName!=="Aptos"?p:h),w=Te(!1),v=Ae(()=>n),{connect:b,disconnect:S}=Tc();function N(F,D){console.log(F,D,"walletinfo"),i.value.chainName!=="Aptos"?b(D.walletName,D.iconName,i.value.chainName,D.url,D.name):b(D.name,D.iconName,i.value.chainName),n.setIsShowWalletModal(!1),n.setWalletIconName(D.iconName)}const C=Te([]);hn(()=>i.value.newAddtransactionList,F=>{F&&(C.value=F.sort((D,H)=>H.date-D.date).filter((D,H)=>{if(console.log(D,"eleeleele"),D.chainName==i.value.chainName)return D.date>new Date().getTime()&&D.walletAddress==v.value.address&&H<50}))},{immediate:!0,deep:!0});const x=Te(0),k=Te(!1);return{getExplorerUrl:ws,timeFormat:$u,offset:x,scrollDisabled:k,transactionList:C,store:i,currentToggle:u,importIcon:We,walletList:m,wallet:v,isLoading:w,nuxtApp:t,setWallet:N,indexStore:r,config:a,chainName:o,clearTrans:()=>{r.clearTransactionList()},t:e,walletModalCancel:()=>{n.setIsShowWalletModal(!1),n.setSwitchWallet(!1)},count:c}}}),ov=""+globalThis.__publicAssetsURL("image/img-no-Positions@2x.png"),av=""+globalThis.__publicAssetsURL("sui-image/img-no-Positions@2x.png"),cv=""+globalThis.__publicAssetsURL("image/logo-bg@2x.png"),lv=""+globalThis.__publicAssetsURL("sui-image/logo-bg@2x.png");const Ei=e=>(Pr("data-v-21ccf2f0"),e=e(),Vr(),e),uv=Ei(()=>I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),dv={key:0,class:"wallet-title"},hv={key:1,class:"wallet-sub-title"},fv={key:2,class:"wallet-title"},pv={key:0,class:"select-wallet"},gv=["disabled","onClick"],wv={class:"icon-box"},yv=["src"],mv={key:0},bv={key:1},_v={key:0,class:"left"},vv={class:"platform"},xv={class:"address"},Sv=Ei(()=>I("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Tv=[Sv],Ev={class:"copy-and-view"},kv=["href"],Iv=Ei(()=>I("svg",{class:"icon","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-icon-jump"})],-1)),Av={class:"btn-box"},Uv={class:"item"},Mv=Ei(()=>I("div",{class:"svg-box"},[I("svg",{class:"icon","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Disconnect1"})])],-1)),Bv={class:"item"},Nv=Ei(()=>I("div",{class:"svg-box"},[I("svg",{class:"icon","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Switch1"})])],-1)),Fv={key:1,class:"transtions"},Cv={key:0,class:"transtionDetail"},Dv={class:"bottom"},Rv=["href"],Ov={class:"tit"},Lv={class:"tit-left"},zv={"aria-hidden":"true",class:"icon"},jv=["xlink:href"],Pv={class:"tit-right"},Vv={class:"tokenInfo"},$v={class:"token-left"},Wv={key:0,class:"tokenInfo-left"},Hv={class:"img-box-token"},Qv={key:0,alt:""},Kv={key:1,alt:""},Zv={key:2,alt:""},Gv={key:0,class:"name"},Yv={key:0},qv={key:1},Jv={key:2},Xv={key:1,class:"name"},ex={key:1,class:"tokenInfo-left tokenInfo-no-flex"},tx={key:0,class:"img-box-token"},nx={key:0,alt:""},rx={key:1},sx={key:1,class:"img-box-token"},ix={key:0,alt:""},ox={key:1},ax={key:2,class:"img-box-token"},cx={key:0,alt:""},lx={key:1},ux={key:0,class:"token-right"},dx={key:1,class:"token-right"},hx={key:3},fx={key:0},px={key:1,class:"noData"},gx={key:0,src:ov},wx={key:1,src:av},yx={key:2,class:"right"},mx={key:0,src:cv,alt:""},bx={key:1,src:lv,alt:""};function _x(e,t,n,r,s,i){const o=Lr("Modal"),c=pp("image");return L(),Mt(o,{width:e.wallet.connected&&!e.wallet.switchWallet?420:552,visible:!0,class:Je(["wallet-modal",e.wallet.connected&&!e.wallet.switchWallet?"wallet-modal-already":"wallet-modal"]),footer:null,centered:"",onCancel:e.walletModalCancel},{closeIcon:bt(()=>[uv]),title:bt(()=>[!e.wallet.connected||e.wallet.switchWallet?(L(),j("h3",dv,le(e.$t("modal.walletModal")),1)):se("",!0),!e.wallet.connected||e.wallet.switchWallet?(L(),j("p",hv,le(e.$t("modal.walletModalText")),1)):se("",!0),e.wallet.connected&&!e.wallet.switchWallet?(L(),j("h3",fv,le(e.$t("modal.walletConnectModalTitle")),1)):se("",!0)]),default:bt(()=>[!e.wallet.connected||e.wallet.switchWallet?(L(),j("div",pv,[(L(!0),j(Un,null,Mn(e.walletList,(a,u)=>(L(),j("button",{key:u,disabled:e.isLoading,class:"wallet-item",ghost:"",onClick:h=>e.setWallet(!0,a)},[I("span",null,le(u=="suiWallet"?"Sui Wallet":u),1),I("div",wv,[I("img",{src:`/image/wallet/${a.iconName.toLowerCase()}.png`},null,8,yv)])],8,gv))),128)),Number.isInteger(e.count(e.walletList)/3)?se("",!0):(L(),j("div",mv)),!Number.isInteger(e.count(e.walletList)/3)&&!Number.isInteger((e.count(e.walletList)+1)/3)?(L(),j("div",bv)):se("",!0)])):(L(),j("div",{key:1,class:Je(e.currentToggle=="Wallet"?"wallet-info walletflex":"wallet-info transations-info")},[e.currentToggle=="Wallet"?(L(),j("div",_v,[I("div",vv,le(e.$t("modal.walletName"))+" "+le(e.wallet.walletName),1),I("p",xv,[xr(le(e.wallet.address&&e.wallet.address.substr(0,6))+" ... "+le(e.wallet.address&&e.wallet.address.substr(e.wallet.address.length-4,4))+" ",1),(L(),j("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=a=>e.indexStore.copy(e.wallet.address))},Tv))]),I("div",Ev,[I("a",{class:"view",target:"_blank",href:("getExplorerUrl"in e?e.getExplorerUrl:Fe(ws))("account",e.wallet.address)},[I("span",null,le(e.$t("common.viewExplorer")),1),Iv],8,kv)]),I("div",Av,[I("div",Uv,[Mv,I("p",{onClick:t[1]||(t[1]=a=>e.$emit("onDisconnect"))},le(e.$t("button.disconnect")),1)]),I("div",Bv,[Nv,I("p",{onClick:t[2]||(t[2]=a=>e.$emit("onSwitch"))},le(e.$t("newAdd.switch")),1)])])])):(L(),j("div",Fv,[e.transactionList.length>0?(L(),j("div",Cv,[I("div",Dv,[(L(!0),j(Un,null,Mn(e.transactionList,(a,u)=>(L(),j("a",{key:u,class:"transaction-item",target:"_blank",href:e.chainName!=="Aptos"?("getExplorerUrl"in e?e.getExplorerUrl:Fe(ws))("tx",encodeURIComponent(a.hash)):("getExplorerUrl"in e?e.getExplorerUrl:Fe(ws))("tx",a.hash)},[I("div",null,[I("div",Ov,[I("div",Lv,[(L(),j("svg",zv,[I("use",{"xlink:href":"#"+a.icon},null,8,jv)])),I("span",null,le(a.tit),1)]),I("div",Pv,le(("timeFormat"in e?e.timeFormat:Fe($u))(parseInt(e.chainName!=="Aptos"?a.date-6048e5:a.timestamp/1e3)-8*60*60*1e3))+" (UTC)",1)]),I("div",Vv,[I("div",$v,[a.tit=="Swap"||a.tit=="Position Created"||a.tit=="Liquidity Removed"||a.tit=="Liquidity Increased"||a.tit=="Locked NFT Claimed"?(L(),j("div",Wv,[I("div",Hv,[a.tokenInfo.tokena&&(a.tokenInfo.numa&&a.tokenInfo.numa!=="+ 0"&&a.tokenInfo.numa!=="- 0"||a.tokenInfo.nftNum)?ns((L(),j("img",Qv,null,512)),[[c,a.tokenInfo.logoa?a.tokenInfo.logoa:e.store.theme=="default"?("importIcon"in e?e.importIcon:Fe(We))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:Fe(We))("/image/coins/sui-unknown.png")]]):se("",!0),a.tokenInfo.tokenb&&(a.tokenInfo.numb&&a.tokenInfo.numb!=="+ 0"&&a.tokenInfo.numb!=="- 0"||a.tokenInfo.nftNum)?ns((L(),j("img",Kv,null,512)),[[c,a.tokenInfo.logob?a.tokenInfo.logob:e.store.theme=="default"?("importIcon"in e?e.importIcon:Fe(We))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:Fe(We))("/image/coins/sui-unknown.png")]]):se("",!0),a.tokenInfo.tokenc&&(a.tokenInfo.numc&&a.tokenInfo.numc!=="+ 0"&&a.tokenInfo.numc!=="- 0"||a.tokenInfo.nftNum)?ns((L(),j("img",Zv,null,512)),[[c,a.tokenInfo.logoc?a.tokenInfo.logoc:e.store.theme=="default"?("importIcon"in e?e.importIcon:Fe(We))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:Fe(We))("/image/coins/sui-unknown.png")]]):se("",!0)]),a.tit!=="Locked NFT Claimed"?(L(),j("div",Gv,[a.tokenInfo.tokena?(L(),j("span",Yv,le(a.tokenInfo.tokena),1)):se("",!0),a.tokenInfo.tokenb&&a.tokenInfo.tokena?(L(),j("span",qv,""+le(a.tit=="Swap"?"":a.tit=="Locked NFT Claimed"?"":"-")+"",1)):se("",!0),a.tokenInfo.tokenb?(L(),j("span",Jv,le(a.tokenInfo.tokenb),1)):se("",!0)])):se("",!0),a.tit=="Locked NFT Claimed"?(L(),j("div",Xv,le(a.tokenInfo.nftId),1)):se("",!0)])):(L(),j("div",ex,[a.tokenInfo.tokena&&a.tokenInfo.numa&&a.tokenInfo.numa!=="+ 0"&&a.tokenInfo.numa!=="- 0"?(L(),j("div",tx,[a.tokenInfo.tokena&&a.tokenInfo.numa&&a.tokenInfo.numa!=="+ 0"&&a.tokenInfo.numa!=="- 0"?ns((L(),j("img",nx,null,512)),[[c,a.tokenInfo.logoa?a.tokenInfo.logoa:e.store.theme=="default"?("importIcon"in e?e.importIcon:Fe(We))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:Fe(We))("/image/coins/sui-unknown.png")]]):se("",!0),a.tokenInfo.tokena?(L(),j("span",rx,le(a.tokenInfo.tokena),1)):se("",!0)])):se("",!0),a.tokenInfo.tokenb&&a.tokenInfo.numb&&a.tokenInfo.numb!=="+ 0"&&a.tokenInfo.numb!=="- 0"?(L(),j("div",sx,[a.tokenInfo.tokenb&&a.tokenInfo.numb&&a.tokenInfo.numb!=="+ 0"&&a.tokenInfo.numb!=="- 0"?ns((L(),j("img",ix,null,512)),[[c,a.tokenInfo.logob?a.tokenInfo.logob:e.store.theme=="default"?("importIcon"in e?e.importIcon:Fe(We))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:Fe(We))("/image/coins/sui-unknown.png")]]):se("",!0),a.tokenInfo.tokenb?(L(),j("span",ox,le(a.tokenInfo.tokenb),1)):se("",!0)])):se("",!0),a.tokenInfo.tokenc&&a.tokenInfo.numc&&a.tokenInfo.numc!=="+ 0"&&a.tokenInfo.numc!=="- 0"?(L(),j("div",ax,[a.tokenInfo.tokenc&&a.tokenInfo.numc&&a.tokenInfo.numc!=="+ 0"&&a.tokenInfo.numc!=="- 0"?ns((L(),j("img",cx,null,512)),[[c,a.tokenInfo.logoc?a.tokenInfo.logoc:e.store.theme=="default"?("importIcon"in e?e.importIcon:Fe(We))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:Fe(We))("/image/coins/sui-unknown.png")]]):se("",!0),a.tokenInfo.tokenc?(L(),j("span",lx,le(a.tokenInfo.tokenc),1)):se("",!0)])):se("",!0)]))]),a.tit=="Locked NFT Claimed"?(L(),j("div",ux,[I("p",{class:Je(a.tokenInfo.nftNum&&a.tokenInfo.nftNum.includes("+")?"addP":"")},le(a.tokenInfo.nftNum)+"NFT ",3)])):(L(),j("div",dx,[a.tokenInfo.numa&&a.tokenInfo.numa!=="+ 0"&&a.tokenInfo.numa!=="- 0"?(L(),j("p",{key:0,class:Je(a.tokenInfo.numa&&a.tokenInfo.numa.includes("+")?"addP":"")},le(a.tokenInfo.numa)+""+le(a.tokenInfo.tokena),3)):se("",!0),a.tokenInfo.numb&&a.tokenInfo.numb!=="+ 0"&&a.tokenInfo.numb!=="- 0"?(L(),j("p",{key:1,class:Je(a.tokenInfo.numb&&a.tokenInfo.numb.includes("+")?"addP":"")},le(a.tokenInfo.numb)+""+le(a.tokenInfo.tokenb),3)):se("",!0),a.tokenInfo.numc&&a.tokenInfo.numc!=="+ 0"&&a.tokenInfo.numc!=="- 0"?(L(),j("p",{key:2,class:Je(a.tokenInfo.numc&&a.tokenInfo.numc.includes("+")?"addP":"")},le(a.tokenInfo.numc)+""+le(a.tokenInfo.tokenc),3)):se("",!0),a.tit=="Liquidity Removed"&&a.tokenInfo.pendingRewarderArr&&a.tokenInfo.pendingRewarderArr.length>0?(L(),j("div",hx,[(L(!0),j(Un,null,Mn(a.tokenInfo.pendingRewarderArr,h=>(L(),j("div",{key:h.address,class:Je(h.amount!==0?"addP":"")},[h.amount!==0?(L(),j("p",fx,le(h.amount>1e-6?`+ ${h.amount}`:h.amount===0?"":"+ <0.000001")+" "+le(h.symbol),1)):se("",!0)],2))),128))])):se("",!0)]))])])],8,Rv))),128))])])):(L(),j("div",px,[e.store.theme=="default"?(L(),j("img",gx)):(L(),j("img",wx)),I("p",null,le(e.$t("newAdd.noTransactions")),1)]))])),e.currentToggle=="Wallet"?(L(),j("div",yx,[e.store.theme=="default"?(L(),j("img",mx)):(L(),j("img",bx))])):se("",!0)],2))]),_:1},8,["width","class","onCancel"])}const vx=Qt(iv,[["render",_x],["__scopeId","data-v-21ccf2f0"]]),xx=""+globalThis.__publicAssetsURL("images/img-Sui-Term-and-Conditions@3x.png"),ap=""+globalThis.__publicAssetsURL("images/icon-selected@3x.png");const Sx=gn({props:{idoInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const t=Te(!1),n=Te(!e.idoInfo.link),r=Dt(),s=Ae(()=>r);return{isSelect:t,isIdoSelect:n,store:s,counter:r}}}),Ll=e=>(Pr("data-v-b3198cc1"),e=e(),Vr(),e),Tx={class:"term-and-conditions"},Ex={class:"box"},kx={class:"tit-top"},Ix={class:"title"},Ax=Ll(()=>I("use",{"xlink:href":"#icon-a-icon-Shutdown"},null,-1)),Ux=[Ax],Mx={class:"img-box"},Bx={key:0,src:xx},Nx=Ll(()=>I("p",{class:"note"},"Please read & accept terms before using this site.",-1)),Fx={class:"accept"},Cx={key:0,src:ap},Dx=Ll(()=>I("span",null,[xr("I accept the "),I("a",{href:"https://www.cetus.zone/terms",target:"_blank"}," Cetus Protocol Terms & Conditions")],-1)),Rx={key:0,class:"accept"},Ox={key:0,src:ap},Lx=["href"];function zx(e,t,n,r,s,i){const o=ci;return L(),j("div",Tx,[I("div",{class:"term-and-conditions-content",onClick:t[4]||(t[4]=xt(()=>{},["stop"]))},[I("div",Ex,[I("div",kx,[I("h3",Ix,le(e.$t("newAdd.termTitle")),1),e.idoInfo.isIdo?(L(),j("svg",{key:0,class:"icon modal-icon-close","aria-hidden":"true",onClick:t[0]||(t[0]=xt(()=>e.counter.setIsIdoOpenTerm(!1),["stop"]))},Ux)):se("",!0)]),I("div",Mx,[e.store.theme=="sui"?(L(),j("img",Bx)):se("",!0)]),Nx,I("div",Fx,[I("div",{class:"radio",onClick:t[1]||(t[1]=c=>e.isSelect=!e.isSelect)},[e.isSelect&&e.store.theme=="sui"?(L(),j("img",Cx)):se("",!0)]),Dx]),e.idoInfo.link?(L(),j("div",Rx,[I("div",{class:"radio",onClick:t[2]||(t[2]=c=>e.isIdoSelect=!e.isIdoSelect)},[e.isIdoSelect&&e.store.theme=="sui"?(L(),j("img",Ox)):se("",!0)]),I("span",null,[xr("I accept the "),I("a",{href:e.idoInfo.link,target:"_blank"},le(e.idoInfo.name)+" Terms & Conditions",9,Lx)])])):se("",!0)]),dn(o,{disabled:!e.isSelect||!e.isIdoSelect,class:"big-btn continue",onClick:t[3]||(t[3]=c=>e.$emit("close"))},{default:bt(()=>[xr("Continue")]),_:1},8,["disabled"])])])}const jx=Qt(Sx,[["render",zx],["__scopeId","data-v-b3198cc1"]]);const Px=gn({components:{Modal:ai},setup(e,t){const n=Te(""),r=Dt(),s=Ae(()=>r),i=Ae(()=>s.value.chainName&&s.value.chainName.toLowerCase().includes("sui")?s.value.chainName.split("2")[0]:s.value.chainName);hn(()=>i.value,A=>{A&&(n.value=A=="Aptos"?Nt[A].rpcUrl:Nt[A].fullRpcUrl,console.log(n.value,"===>currentRpc.value111"))},{immediate:!0});const o=Te(null),c=()=>o.value,a=()=>{t.emit("onClose")},u=Te(localStorage.getItem(`${i.value}-currentRpclocal2Name`)||hr[i.value][0].name),h=Te(localStorage.getItem(`${i.value}-currentRpclocal2`)),p=Te(!1),m=Te(!0),w=(A,F)=>{p.value=!1,h.value="",u.value=A,u.value!=="Custom"&&(localStorage.setItem(`${i.value}-currentRpclocal2Name`,u.value),n.value=F,(localStorage.getItem(`${i.value}-currentRpclocal2`)||(i.value=="Aptos"?Nt[i.value].rpcUrl:Nt[i.value].fullRpcUrl))!=n.value&&(localStorage.setItem(`${i.value}-currentRpclocal2`,n.value),b.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"RPC update"},null)]),description:ce("div",{class:"notification-title"},[ce("div",{class:"notification-text",innerHTML:`RPC is currently set to ${n.value}`},null)]),class:"ant-notification-copy ant-notification-swap"}),setTimeout(()=>{window.location.reload()},2e3)))},v=()=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(h.value);hn(()=>h.value,(A,F)=>{const D=localStorage.getItem(`${i.value}-currentRpclocal2`);A==D?m.value=!1:m.value=!0,A!==F&&(p.value=!1)},{immediate:!0});const{$notify:b}=sa(),S=()=>{localStorage.setItem(`${i.value}-currentRpclocal2Name`,u.value),localStorage.setItem(`${i.value}-currentRpclocal2`,h.value),p.value=!1,b.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"RPC update"},null)]),description:ce("div",{class:"notification-title"},[ce("div",{class:"notification-text",innerHTML:`RPC is currently set to ${h.value}`},null)]),class:"ant-notification-copy ant-notification-swap"}),setTimeout(()=>{window.location.reload()},2e3)},N=Te(localStorage.getItem(`${i.value}-currentExplorerUrl`)||ys[i.value][0].link),C=Te(localStorage.getItem(`${i.value}-currentExplorerName`)||ys[i.value][0].name),x=(A,F)=>{C.value=A,localStorage.setItem(`${i.value}-currentExplorerName`,C.value),localStorage.setItem(`${i.value}-currentExplorerUrl`,F),N.value=F,b.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"Explorer update"},null)]),description:ce("div",{class:"notification-title"},[ce("div",{class:"notification-text",innerHTML:`Explorer is currently set to ${N.value}`},null)]),class:"ant-notification-copy ant-notification-swap"}),setTimeout(()=>{window.location.reload()},2e3)},k=Ae(()=>{let A=[{name:"Custom",link:""}];return i.value=="Sui"?s.value.suiRpcs&&s.value.suiRpcs.length>0?s.value.suiRpcs.concat(A):hr[i.value]:s.value.aptosRpcs&&s.value.aptosRpcs.length>0?s.value.aptosRpcs.concat(A):hr[i.value]}),_=Te(null);return hn(()=>k.value,A=>{i.value==="Sui"&&(A==null?void 0:A.length)>0&&(_.value=setInterval(()=>{r.setRpcTimedelay(A)},3e3))},{immediate:!0}),kc(()=>{s.value.setIsShowExplorerH5(!1),s.value.setIsShowRpcH5(!1),i.value==="Sui"&&(clearInterval(_.value),_.value=null)}),{explorerSelected:C,store:s,changeExplorer:x,explorerObj:ys,rpcList:k,rpcObj:hr,currentRpc:n,getPopupContainer:c,settingModal:o,changeRpc:w,isShowTips:p,isUpdate:m,customRpc:h,chainName:i,rpcSelected:u,regTest:v,closeSystemSetting:a,saveCustomRpc:S,importIcon:We}}}),Vx=I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),$x={ref:"settingModal",class:"system-setting"},Wx={key:0,class:"rpc-select-box"},Hx={class:"rpc-select-top"},Qx={class:"rpc-name"},Kx=["onClick"],Zx=["src"],Gx={key:0},Yx={key:0,class:"rpc-select-bottom"},qx={key:1,class:"rpc-select-tips"},Jx={key:1,class:"rpc-select-box"},Xx={class:"rpc-select-top"},eS={class:"rpc-name"},tS=["onClick"],nS=["src"];function rS(e,t,n,r,s,i){const o=zu,c=ci,a=Lr("Modal");return L(),Mt(a,{class:"system-setting-modal system-setting-container-h5",title:e.store.isShowRpcH5?"RPC Node":"Preferred Explorer",centered:"",width:"400px",visible:!0,footer:null,onCancel:e.closeSystemSetting},{closeIcon:bt(()=>[Vx]),default:bt(()=>[I("div",$x,[e.store.isShowRpcH5?(L(),j("div",Wx,[I("div",Hx,[(L(!0),j(Un,null,Mn(e.rpcList,(u,h)=>(L(),j("div",{key:h,class:Je(["select-item",e.rpcSelected==u.name?"select-item-active":""])},[I("div",Qx,[I("div",{class:Je(["check-box",e.chainName=="Aptos"?"aptos-check-box":"sui-check-box"]),onClick:xt(p=>e.rpcSelected==u.name?"":e.changeRpc(u.name,u.link),["stop"])},[e.rpcSelected==u.name?(L(),j("img",{key:0,src:e.rpcSelected==u.name&&e.chainName=="Aptos"?("importIcon"in e?e.importIcon:Fe(We))("/image/icon-selected@2x.png"):("importIcon"in e?e.importIcon:Fe(We))("/sui-image/icon-selected@3x.png"),alt:""},null,8,Zx)):se("",!0)],10,Kx),I("span",null,le(u.name),1)]),e.chainName!=="Aptos"&&u.name!=="Custom"?(L(),j("div",{key:0,class:Je(["rpc-rate",e.store.suiRpcTimeDelayObj?e.store.suiRpcTimeDelayObj&&Number(e.store.suiRpcTimeDelayObj[u.name])<=100?"green-rate":e.store.suiRpcTimeDelayObj&&Number(e.store.suiRpcTimeDelayObj[u.name])>200?"red-rate":"orange-rate":""])},[I("span",{class:Je(e.store.suiRpcTimeDelayObj&&e.store.suiRpcTimeDelayObj[u.name]?"":"noColor")},null,2),e.store.suiRpcTimeDelayObj&&e.store.suiRpcTimeDelayObj[u.name]?(L(),j("p",Gx,le(e.store.suiRpcTimeDelayObj&&e.store.suiRpcTimeDelayObj[u.name])+"ms ",1)):se("",!0)],2)):se("",!0)],2))),128))]),e.rpcSelected=="Custom"?(L(),j("div",Yx,[dn(o,{value:e.customRpc,"onUpdate:value":t[0]||(t[0]=u=>e.customRpc=u),class:"rpc-input",type:"text",placeholder:"Custom RPC URL",onBlur:e.inputBlur},null,8,["value","onBlur"]),e.rpcSelected=="Custom"?(L(),Mt(c,{key:0,class:"save-btn",disabled:e.regTest()||e.customRpc==e.currentRpc||!e.isUpdate,onClick:e.saveCustomRpc},{default:bt(()=>[xr("Save")]),_:1},8,["disabled","onClick"])):se("",!0)])):se("",!0),e.rpcSelected=="Custom"&&e.isShowTips?(L(),j("div",qx," Custom RPC URL is a required field ")):se("",!0)])):(L(),j("div",Jx,[I("div",Xx,[(L(!0),j(Un,null,Mn(("explorerObj"in e?e.explorerObj:Fe(Wu))[e.chainName],(u,h)=>(L(),j("div",{key:h,class:Je(["select-item",e.explorerSelected==u.name?"select-item-active":""])},[I("div",eS,[I("div",{class:Je(["check-box",e.chainName=="Aptos"?"aptos-check-box":"sui-check-box"]),onClick:xt(p=>e.explorerSelected==u.name?"":e.changeExplorer(u.name,u.link),["stop"])},[e.explorerSelected==u.name?(L(),j("img",{key:0,src:e.explorerSelected==u.name&&e.chainName=="Aptos"?("importIcon"in e?e.importIcon:Fe(We))("/image/icon-selected@2x.png"):("importIcon"in e?e.importIcon:Fe(We))("/sui-image/icon-selected@3x.png"),alt:""},null,8,nS)):se("",!0)],10,tS),I("span",null,le(u.name),1)])],2))),128))])]))],512)]),_:1},8,["title","onCancel"])}const sS=Qt(Px,[["render",rS]]);function zl(){const e={default:{headerColor:"#A9BDB5",headerBorderColor:"#213F37",tabBgColor:"#253B36",newTextColor:"#94aaa4",primaryColor:"#ff0000",themeColor:"#68FFD8",backgroundColor:"#1f2224",buttonDefault:"#68FFD8",buttonHover:"#49E9C0",buttonDisabled:"#1e2f2d",buttonDetailDefault:"#181818",buttonDetailHover:"#232323",depositBtnHover:"#1F3635",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#171717",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#1A1A1A",cardEmphasize:"#202020",cardEnter:"#080808",tipsBg:"#14201D",cancleTextHoverColor:"#54C7A9",newBorder:"#68FFD833",modeBg:"linear-gradient(90deg, rgba(3, 78, 112, 0) 0%, #034E70 50%, rgba(3, 78, 112, 0) 100%)",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #15332c 100%)",cardTopTrans:"linear-gradient(270deg, #2c2e31 0%, #232d2b 100%)",cardCenter:"linear-gradient(270deg, #1b2523 0%, #161717 50%, #1b2523 100%)",cardCenterHover:"linear-gradient(270deg, #283E3A 0%, #161717 50%, #283E3A 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #15332c 100%)",moreBgReserve:"linear-gradient(360deg, #101615 0%, #191919 100%)",moreBgReserveHover:"linear-gradient(360deg, #204C50 0%, #191919 100%)",progressSlide:"linear-gradient(0deg, rgba(3,112,49,0) 0%, #68FFD8 50%, rgba(3,112,49,0) 100%)",progressSlideCircle:"#68FFD8",borderGradient:"linear-gradient(180deg, transparent 0%, #83FFE2 50%, transparent 100%)",listItemBg:"linear-gradient(180deg, #000000 0%, #181E1D 78%, #223531 100%)",positionMoreLine:"linear-gradient(360deg, #121212 0%, #20473F 52%, #121212 100%) 1 1",feeBg:"#192a26",statsPrice:"#68FFD8",rewardsHover:"#142924",greenBg:"#192a26",redBg:"#2b181c",textDefault:"#FFFFFF80",textDefaultStats:"#7F7F7F",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#213F37",shadowColor:"#006540",borderColor:"#00A379",redColor:"#ff5073",h5Stats:"linear-gradient(180deg, #131514 0%, #1E322D 100%)",newCardBg:"linear-gradient(360deg, rgba(21, 51, 44, 0) 0%, #15322c 100%)",termGradient:"linear-gradient(270deg, #273632 0%, #202020 51%, #273632 100%)",poolCardBottom:"linear-gradient(180deg, transparent 0%, #181e1d 30%, transparent 100%)",statsDataBg:"linear-gradient(270deg, #15332c 0%, #191919 21%, #191919 81%, #15332c 100%)",aprBg:"linear-gradient(270deg, #191919 0%, rgba(#9effc3, 0.2) 100%)",fromPercent:"#68FFD8",percentBg:"#1E2F2D",afterBg:"rgba(104,255,216,0.1)",positionTabColor:"rgba(255,255,255,0.5)",ratioTabActive:"#181818",changePrice:"rgba(104, 255, 216,0.5)"},sui:{primaryColor:"#76C8FF",themeColor:"#76C8FF",tabBgColor:"#13334A",newTextColor:"#8BAABE",headerBorderColor:"#013854",headerColor:"#7F98A7",backgroundColor:"#1f2224",buttonDefault:"#76C8FF",buttonHover:"#A4E2FF",buttonDisabled:"#252F3A",buttonDetailDefault:"#181818",buttonDetailHover:"#121B1F",depositBtnHover:"#1D3443",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#181818",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#171717",cardEmphasize:"#202020",cardEnter:"#0F0F0F",cancleTextHoverColor:"#A1D9FF",tipsBg:"#151C24",progressSlide:"linear-gradient(0deg, rgba(3,78,112,0) 0%, #034E70 50%, rgba(3,78,112,0) 100%)",progressSlideCircle:"linear-gradient( 270deg, #218DD4, #76C8FF)",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #152533 100%)",cardTopTrans:"linear-gradient(270deg, #2c2e31 0%, #252f39 100%)",cardCenter:"linear-gradient(270deg, #1B1F25 0%, #161717 52%, #1B2025 100%)",cardCenterHover:"linear-gradient(270deg, #26303C 0%, #161717 52%, #26303C 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #152533 100%)",moreBgReserve:"linear-gradient(360deg, #162630 0%, #191919 100%)",moreBgReserveHover:"linear-gradient(360deg, #223857 0%, #191919 100%)",borderGradient:"linear-gradient(180deg, transparent 0%, #76C8FF 52%, transparent 100%)",listItemBg:"linear-gradient(180deg, #000000 0%, #181E1D 78%, #122139 100%)",rewardsHover:"#151A1E",greenBg:"#192a26",redBg:"#2b181c",redColor:"#ff5073",textDefault:"#FFFFFF80",textDefaultStats:"#7F7F7F",borderColor:"#0094A3",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#034E70",shadowColor:"#005283",statsPrice:"#68FFD8",feeBg:"#011D32",newBorder:"#034E70",modeBg:"linear-gradient(90deg, rgba(3, 78, 112, 0) 0%, #034E70 50%, rgba(3, 78, 112, 0) 100%)",positionMoreLine:"linear-gradient(360deg, #121212 0%, #376A8D 52%, #121212 100%) 1 1",h5Stats:"linear-gradient(180deg, #1E2A32 0%, #121212 100%)",newCardBg:"linear-gradient(180deg, #1A3043 0%, #181919 100%)",termGradient:"linear-gradient(270deg, #314854 0%, #202020 51%, #314854 100%)",poolCardBottom:"linear-gradient(180deg, transparent 0%, #161C26 30%, transparent 100%)",statsDataBg:"linear-gradient(270deg, #162630 0%, #191919 21%, #191919 81%, #162630 100%)",aprBg:"linear-gradient(270deg, #191919 0%, #2B3A46 100%)",fromPercent:"#75c8ff",percentBg:"#00344c",afterBg:"#00344C",positionTabColor:"rgba(255,255,255,0.5)",ratioTabActive:"#011c31",changePrice:"rgba(118,200,255,0.5)"},sui2:{primaryColor:"#76C8FF",themeColor:"#76C8FF",headerColor:"#7F98A7",tabBgColor:"#13334A",newTextColor:"#8BAABE",headerBorderColor:"#013854",backgroundColor:"#1f2224",buttonDefault:"#76C8FF",buttonHover:"#A4E2FF",buttonDisabled:"#252F3A",buttonDetailDefault:"#181818",buttonDetailHover:"#121B1F",depositBtnHover:"#1D3443",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#181818",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#171717",cardEmphasize:"#202020",cardEnter:"#0F0F0F",cancleTextHoverColor:"#A1D9FF",tipsBg:"#151C24",newBorder:"#034E70",modeBg:"linear-gradient(90deg, rgba(3, 78, 112, 0) 0%, #034E70 50%, rgba(3, 78, 112, 0) 100%)",positionMoreLine:"linear-gradient(360deg, #121212 0%, #376A8D 52%, #121212 100%) 1 1",progressSlide:"linear-gradient(0deg, rgba(3,78,112,0) 0%, #034E70 50%, rgba(3,78,112,0) 100%)",progressSlideCircle:"linear-gradient( 270deg, #218DD4, #76C8FF)",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #152533 100%)",cardTopTrans:"linear-gradient(270deg, #2c2e31 0%, #252f39 100%)",cardCenter:"linear-gradient(270deg, #1B1F25 0%, #161717 52%, #1B2025 100%)",cardCenterHover:"linear-gradient(270deg, #26303C 0%, #161717 52%, #26303C 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #152533 100%)",moreBgReserve:"linear-gradient(360deg, #162630 0%, #191919 100%)",moreBgReserveHover:"linear-gradient(360deg, #223857 0%, #191919 100%)",borderGradient:"linear-gradient(180deg, transparent 0%, #76C8FF 52%, transparent 100%)",listItemBg:"linear-gradient(180deg, #000000 0%, #181E1D 78%, #122139 100%)",rewardsHover:"#151A1E",greenBg:"#192a26",redBg:"#2b181c",redColor:"#ff5073",textDefault:"#FFFFFF80",textDefaultStats:"#7F7F7F",borderColor:"#0094A3",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#034E70",shadowColor:"#005283",statsPrice:"#68FFD8",feeBg:"#011D32",h5Stats:"linear-gradient(180deg, #1E2A32 0%, #121212 100%)",newCardBg:"linear-gradient(180deg, #1A3043 0%, #181919 100%)",termGradient:"linear-gradient(270deg, #314854 0%, #202020 51%, #314854 100%)",poolCardBottom:"linear-gradient(180deg, transparent 0%, #161C26 30%, transparent 100%)",statsDataBg:"linear-gradient(270deg, #162630 0%, #191919 21%, #191919 81%, #162630 100%)",aprBg:"linear-gradient(270deg, #191919 0%, #2B3A46 100%)"}},t=c=>{for(const a in c)document.getElementsByTagName("body")[0].style.setProperty(`--${a}`,c[a])},n=Dt(),r=c=>{localStorage.setItem("theme",c),n.setTheme(c);const a=e[c];if(a)localStorage.setItem("termGradient",a.termGradient),localStorage.setItem("progressSlide",a.progressSlide),localStorage.setItem("newBorder",a.newBorder),localStorage.setItem("modeBg",a.modeBg),localStorage.setItem("progressSlideCircle",a.progressSlideCircle),localStorage.setItem("tabBgColor",a.tabBgColor),localStorage.setItem("newTextColor",a.newTextColor),localStorage.setItem("primaryColor",a.primaryColor),localStorage.setItem("tipsBg",a.tipsBg),localStorage.setItem("shadowColor",a.shadowColor),localStorage.setItem("themeColor",a.themeColor),localStorage.setItem("headerBorderColor",a.headerBorderColor),localStorage.setItem("headerColor",a.headerColor),localStorage.setItem("backgroundColor",a.backgroundColor),localStorage.setItem("buttonDefault",a.buttonDefault),localStorage.setItem("buttonHover",a.buttonHover),localStorage.setItem("buttonDisabled",a.buttonDisabled),localStorage.setItem("buttonDetailDefault",a.buttonDetailDefault),localStorage.setItem("buttonDetailHover",a.buttonDetailHover),localStorage.setItem("depositBtnHover",a.depositBtnHover),localStorage.setItem("buttonPositionDefault",a.buttonPositionDefault),localStorage.setItem("buttonPositionHover",a.buttonPositionHover),localStorage.setItem("tabActive",a.tabActive),localStorage.setItem("tabHover",a.tabHover),localStorage.setItem("tabDefault",a.tabDefault),localStorage.setItem("cardDefault",a.cardDefault),localStorage.setItem("cardEmphasize",a.cardEmphasize),localStorage.setItem("cardEnter",a.cardEnter),localStorage.setItem("cardAsset",a.cardAsset),localStorage.setItem("cardTop",a.cardTop),localStorage.setItem("cardCenter",a.cardCenter),localStorage.setItem("cardCenterHover",a.cardCenterHover),localStorage.setItem("moreBg",a.moreBg),localStorage.setItem("moreBgReserve",a.moreBgReserve),localStorage.setItem("moreBgReserveHover",a.moreBgReserveHover),localStorage.setItem("borderGradient",a.borderGradient),localStorage.setItem("greenBg",a.greenBg),localStorage.setItem("redBg",a.redBg),localStorage.setItem("redColor",a.redColor),localStorage.setItem("textDefault",a.textDefault),localStorage.setItem("textDefaultStats",a.textDefaultStats),localStorage.setItem("textActive",a.textActive),localStorage.setItem("textEffect",a.textEffect),localStorage.setItem("textTips",a.textTips),localStorage.setItem("textWarning",a.textWarning),localStorage.setItem("borderDefault",a.borderDefault),localStorage.setItem("borderColor",a.borderColor),localStorage.setItem("listItemBg",a.listItemBg),localStorage.setItem("rewardsHover",a.listItemBg),localStorage.setItem("h5Stats",a.h5Stats),localStorage.setItem("cardTopTrans",a.cardTopTrans),localStorage.setItem("newCardBg",a.newCardBg),localStorage.setItem("cancleTextHoverColor",a.cancleTextHoverColor),localStorage.setItem("poolCardBottom",a.poolCardBottom),localStorage.setItem("statsDataBg",a.statsDataBg),localStorage.setItem("statsPrice",a.statsPrice),localStorage.setItem("positionMoreLine",a.positionMoreLine),localStorage.setItem("feeBg",a.feeBg),localStorage.setItem("aprBg",a.aprBg),t(a);else{const u={termGradient:localStorage.getItem("termGradient"),newBorder:localStorage.getItem("newBorder"),modeBg:localStorage.getItem("modeBg"),progressSlide:localStorage.getItem("progressSlide"),progressSlideCircle:localStorage.getItem("progressSlideCircle"),tipsBg:localStorage.getItem("tipsBg"),tabBgColor:localStorage.getItem("tabBgColor"),newTextColor:localStorage.getItem("newTextColor"),primaryColor:localStorage.getItem("primaryColor"),backgroundColor:localStorage.getItem("backgroundColor"),themeColor:localStorage.getItem("themeColor"),headerBorderColor:localStorage.getItem("headerBorderColor"),headerColor:localStorage.getItem("headerColor"),buttonDefault:localStorage.getItem("buttonDefault"),buttonHover:localStorage.getItem("buttonHover"),buttonDisabled:localStorage.getItem("buttonDisabled"),buttonDetailDefault:localStorage.getItem("buttonDetailDefault"),buttonDetailHover:localStorage.getItem("buttonDetailHover"),depositBtnHover:localStorage.getItem("depositBtnHover"),buttonPositionDefault:localStorage.getItem("buttonPositionDefault"),buttonPositionHover:localStorage.getItem("buttonPositionHover"),tabActive:localStorage.getItem("tabActive"),tabHover:localStorage.getItem("tabHover"),tabDefault:localStorage.getItem("tabDefault"),cardDefault:localStorage.getItem("cardDefault"),cardEmphasize:localStorage.getItem("cardEmphasize"),cardEnter:localStorage.getItem("cardEnter"),cardAsset:localStorage.getItem("cardAsset"),cardTop:localStorage.getItem("cardTop"),cardCenter:localStorage.getItem("cardCenter"),cardCenterHover:localStorage.getItem("cardCenterHover"),moreBg:localStorage.getItem("moreBg"),moreBgReserve:localStorage.getItem("moreBgReserve"),moreBgReserveHover:localStorage.getItem("moreBgReserveHover"),borderGradient:localStorage.getItem("borderGradient"),redBg:localStorage.getItem("redBg"),redColor:localStorage.getItem("redColor"),textDefault:localStorage.getItem("textDefault"),textDefaultStats:localStorage.getItem("textDefaultStats"),textActive:localStorage.getItem("textActive"),textEffect:localStorage.getItem("textEffect"),textTips:localStorage.getItem("textTips"),textWarning:localStorage.getItem("textWarning"),borderDefault:localStorage.getItem("borderDefault"),borderColor:localStorage.getItem("borderColor"),listItemBg:localStorage.getItem("listItemBg"),rewardsHover:localStorage.getItem("rewardsHover"),h5Stats:localStorage.getItem("h5Stats"),cardTopTrans:localStorage.getItem("cardTopTrans"),newCardBg:localStorage.getItem("newCardBg"),shadowColor:localStorage.getItem("shadowColor"),cancleTextHoverColor:localStorage.getItem("cancleTextHoverColor"),poolCardBottom:localStorage.getItem("poolCardBottom"),statsDataBg:localStorage.getItem("statsDataBg"),statsPrice:localStorage.getItem("statsPrice"),positionMoreLine:localStorage.getItem("positionMoreLine"),feeBg:localStorage.getItem("feeBg"),aprBg:localStorage.getItem("aprBg")};t(u)}};return{seleteDefaultTheme:()=>{console.log("0214###defaultTheme####"),r("default")},selectSuiTheme:()=>{r("sui")},selectSui2Theme:()=>{r("sui2")}}}const Cs={en:{icon:"EN",label:"English"},th:{icon:"TH",label:""},hi:{icon:"IN",label:"Hind"},kr:{icon:"KR",label:""},vi:{icon:"VN",label:"Ting Vit"},ja:{icon:"JP",label:""},ru:{icon:"RU",label:""},tr:{icon:"TR",label:"Trke"},tradCh:{icon:"CN",label:""}},ki=[{icon:"EN",label:"English",value:"en"},{icon:"TH",label:"",value:"th"},{icon:"IN",label:"Hind",value:"hi"},{icon:"KR",label:"",value:"kr"},{icon:"VN",label:"Ting Vit",value:"vi"},{icon:"JP",label:"",value:"ja"},{icon:"RU",label:"",value:"ru"},{icon:"TR",label:"Trke",value:"tr"},{icon:"CN",label:"",value:"tradCh"}],iS=gn({setup(){const{t:e}=ei(),t=Ds();Ae(()=>t);let n=[{name:e("contactUS.twitter"),icon:"#icon-svg-twitter",link:"https://twitter.com/cetusprotocol"},{name:e("contactUS.discord"),icon:"#icon-svg-Discord",link:"https://discord.gg/rQtYGfmcD8"},{name:e("contactUS.tgChannel"),icon:"#icon-svg-tg",link:"https://t.me/cetusprotocol"},{name:e("contactUS.medium"),icon:"#icon-svg-medium",link:"https://medium.com/@CetusProtocol"}];const r=[{name:"Sui"},{name:"Aptos"}];let s=Te(!1);const i=Dt(),o=Ae(()=>i);let c=Te(o.value.chainName||"Aptos");const a=Te(!1);Ao(()=>{document.body.clientWidth<750?a.value=!1:a.value=!0,window.onresize=()=>{document.body.clientWidth<750?a.value=!1:a.value=!0},document.addEventListener("click",()=>{s.value=!1})}),kc(()=>{document.removeEventListener("click",()=>{s.value=!1})});const u=zl(),h=S=>{c.value=S,S=="Aptos"&&u.seleteDefaultTheme(),S=="Sui"&&u.selectSuiTheme()},{locale:p}=ei(),m=Te(!1),{setLang:w}=i,v=S=>{w(S),p.value=S,n=[{name:e("contactUS.twitter"),icon:"#icon-icon-twitter",link:"https://twitter.com/cetusprotocol"},{name:e("contactUS.discord"),icon:"#icon-icon-Discord",link:"https://discord.gg/cetusprotocol"},{name:e("contactUS.tgChannel"),icon:"#icon-icon-TgChannel",link:"https://t.me/cetusprotocol"},{name:e("contactUS.medium"),icon:"#icon-icon-medium",link:"https://medium.com/@CetusProtocol"}]};return{openH5Icon:Ae(()=>o.value.openH5Icon),isPc:a,changeChain:h,currentChain:c,chainList:r,openSwitchChain:s,importIcon:We,store:o,list:n,themeStore:u,counter:i,langObj:Cs,changeLang:v,openSwitchLang:m,langList:ki}}}),oS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAABACAMAAADRVBl4AAAAYFBMVEVHcEz///////////+n892x9uP///////////////9n/9n///8y6LgA1Z7///////////9o/9lo/9ln/9lo/9n///8C1p8A1J4A1Z8A1Z5o/9lo/9j///8A1J467L8Y3qtr5PYdAAAAG3RSTlMAMqK9BxPo82T9jFkyjj5H1LFT0Ot9Ze3bv3FnWwE/AAAELklEQVR42u2biZKiMBCGQ0jAICiniIK+/1vuEEAJpHOM6xxk/tqaqtmJJnz0lQ4gJBPNo6woy2tZFlmUx8hN0ai4iiojB1nkSwqDihP5wzDofHLIKbIrrFvXuOIgeXlV6d51bhhFdNWo67rGgUixdIvskuf5JSvnztF1Z7pxDGTBIZoumFzKuUlsnoTIoYilIfTGSRB34kNGgL/2ILpmy/lCtAcK2cudk0i2Wz+IeTMGB3Df6LrYjQCRSUZc5r6x2TAhOsZVdr+J4BtbdQ5xf1GqjGb0jZo6YBCZdNBFALFNk1hsOCNpvZULQaKrNxgl4qsBiMlsivNIAtp+HXEaSrUbB4StSmwahpXDWn+8EfyXI7CWA594WpgfaKaMbEBcTiMIeVXlpeDSw4MJiLbdj1/lq4FhAxBHPnKwaNwy3cqWrZhMUXqWFCUjCZlv7Jhi7QE1AhGOl0VTE9MxBaE0sGFldLXbJmAgKfvMmoC+oeTQtik1AfG4QZ5m5NECxFH9VSlZ54wP5UAgKccdaZycpXnjsfIQEH6AwDuFJufwZv8n+dTeAoSvXNewsnU7ppCByIWmfhyf1mXXMFuwU9cY/JJ2thEd+pQhiJCHFWLVj+kjolkHY2kQ7Gn/PwwE4cM8qyoCLLK1qkxm+8EgZA3b8jMkuGf4aFMgPrzDvnLk6a76kSCMJgU61sXFdl8VmF3hEP/3kN4Dgt8k5suFh/AOn2UUWbRS8hR9AQRc5b0HRKUpXSolCOlp11OvgGi/GAQN1CRYJc8aqsOuh8gvAoE8HYkDymxAzDjU6DeBQLRSo8D6gz7AM5pXQOwopHeB6Fl4Uh143g8kew0jg1jvNb4lfYZaEAFYCj/aFgMv+jmDWO8+fZ6hvhhEOkY6sNZlqfa7PW5WNtFyzmHdj+Apin1xic37DKmqxMNmIBgyDxLzlCHpUHntN2y6eutngElUYzowBRF/xjFkfZnv2IaPNSNez0kxM9v8DFYVIGPfEDjIuthTY4aFgUR7ocQGuzLEEsSBcZsIfSzKD9uZQVQBrPDRA83tOcjPNXZTdSKtEDyj5q1PLO1IXT1Xs7vO+n+rH4w9V1dYcwBOuv5H8xbbOlTFlJXzmDp9k1Zwbhko4YOuQ6prkeqbt9g2shyhSdNZgaFsiod7uF2nsgfVaXh/wMMAYSMQ0qJMGWLJfj1pmOK9sEpw3xWm1cO+aWmRL158PoIYCPjU+0/9SG7FYbtPzKiqqtt9yWHTz1qSzCxKbv/5QimJtTU48MQpvd30FBzggOKPq7zfb4PuUghuPIt96gyUoO2r0WM4O/G+Rq3DULvxMlOsswZX3ulShog6cectv2R18cPzc3WT9M+EuPOK33nJIeY7HeQSA15YSji4KBL/cZCFiIa6ykEop+qTsxgQqd0rGORbz6Sp+4yZnJwNDv8ACUmpoYUJbW0AAAAASUVORK5CYII=";const Ii=e=>(Pr("data-v-9477ce4a"),e=e(),Vr(),e),aS=Ii(()=>I("div",{class:"logo"},[I("img",{src:oS,alt:""})],-1)),cS={class:"h5-more"},lS={class:"lang-tab"},uS={class:"lang-box-all"},dS=Ii(()=>I("div",{class:"current-lang rpc-box"},[I("svg",{"aria-hidden":"true",class:"svg-icon"},[I("use",{"xlink:href":"#icon-icon-RPC1"})]),I("span",null,"RPC Node")],-1)),hS=[dS],fS=Ii(()=>I("div",{class:"current-lang rpc-box"},[I("svg",{"aria-hidden":"true",class:"svg-icon"},[I("use",{"xlink:href":"#icon-icon-Preferred-Explorer"})]),I("span",null,"Preferred Explorer")],-1)),pS=[fS],gS={class:"current-lang"},wS=Ii(()=>I("svg",{"aria-hidden":"true",class:"svg-icon"},[I("use",{"xlink:href":"#icon-icon-Language"})],-1)),yS={class:"lang-icon"},mS=Ii(()=>I("use",{"xlink:href":"#icon-icon_on"},null,-1)),bS=[mS],_S={key:0,class:"list"},vS=["onClick"],xS={class:"lang-icon"},SS={class:"contact-us"},TS={class:"contact-us-list"},ES=["href"],kS={"aria-hidden":"true",class:"icon"},IS=["xlink:href"];function AS(e,t,n,r,s,i){return L(),j("div",{class:Je(e.openH5Icon?"menu h5-menu":"menu")},[aS,I("div",cS,[I("div",lS,[I("div",uS,[I("div",{class:"switch-lang",onClick:t[0]||(t[0]=xt(()=>{e.store.setIsShowSettingH5(!e.store.isShowSettingH5),e.store.setIsShowRpcH5(!e.store.isShowRpcH5),e.store.setOpenH5Icon(!1),e.store.setOpenSwitchChain(!1),e.store.setOpenMore(!1),e.store.setIsShowMore(!1),e.store.setOpenSwitchLang(!1),e.store.setIsShowHeaderMore(!1)},["stop"]))},hS),e.store.theme!=="default"?(L(),j("div",{key:0,class:"switch-lang",onClick:t[1]||(t[1]=xt(()=>{e.store.setIsShowSettingH5(!e.store.isShowSettingH5),e.store.setIsShowExplorerH5(!e.store.isShowExplorerH5),e.store.setOpenH5Icon(!1),e.store.setOpenSwitchChain(!1),e.store.setOpenMore(!1),e.store.setIsShowMore(!1),e.store.setOpenSwitchLang(!1),e.store.setIsShowHeaderMore(!1)},["stop"]))},pS)):se("",!0),I("div",{class:"switch-lang",onClick:t[2]||(t[2]=xt(o=>e.openSwitchLang=!e.openSwitchLang,["stop"]))},[I("div",gS,[I("div",null,[wS,I("span",yS,le(("langObj"in e?e.langObj:Fe(Cs))[e.counter.lang].icon),1),I("span",null,le(("langObj"in e?e.langObj:Fe(Cs))[e.counter.lang].label),1)]),(L(),j("svg",{class:Je([e.openSwitchLang?"icon-open":"icon-close","icon"]),"aria-hidden":"true"},bS,2))]),e.openSwitchLang?(L(),j("div",_S,[(L(!0),j(Un,null,Mn("langList"in e?e.langList:Fe(ki),o=>(L(),j("div",{key:o.value,class:Je(o.value==e.counter.lang?"item-container item-active-container":"item-container")},[I("div",{class:"item",onClick:c=>e.changeLang(o.value)},[I("span",xS,le(o.icon),1),I("span",null,le(o.label),1)],8,vS)],2))),128))])):se("",!0)])])]),I("div",SS,[I("div",TS,[(L(!0),j(Un,null,Mn(e.list,(o,c)=>(L(),j("div",{key:c,class:"contact-us-item"},[I("a",{class:"item",href:o.link,target:"_blank"},[(L(),j("svg",kS,[I("use",{"xlink:href":o.icon},null,8,IS)]))],8,ES)]))),128))])])])],2)}const US=Qt(iS,[["render",AS],["__scopeId","data-v-9477ce4a"]]),MS=gn({setup(){const e=Dt(),t=Ds(),n=Ae(()=>t),r=Ae(()=>e),s=Ae(()=>r.value.chainName?Nt[r.value.chainName]:{});return{wallet:n,importIcon:We,storeIndex:r,config:s}}});const BS=["src"],NS={class:"addressAndDev"},FS={key:0,class:"network"};function CS(e,t,n,r,s,i){return e.wallet.connected?(L(),j("div",{key:0,class:"wallet-info",onClick:t[0]||(t[0]=o=>e.wallet.setIsShowWalletModal(!0))},[e.wallet.walletIcon?(L(),j("img",{key:0,src:`/image/wallet/${e.wallet.walletIcon.toLowerCase()}.png`,alt:""},null,8,BS)):se("",!0),I("div",NS,[e.storeIndex.theme!=="default"&&("config"in e?e.config:Fe(Nt)).network==="testnet"?(L(),j("span",FS,"Testnet")):se("",!0),I("span",null,le(e.wallet.address&&e.wallet.address.substr(0,6))+" ... "+le(e.wallet.address&&e.wallet.address.substr(e.wallet.address.length-4,4)),1)])])):(L(),j("div",{key:1,class:"wallet-info noConnect",onClick:t[1]||(t[1]=o=>e.wallet.setIsShowWalletModal(!0))},le(e.$t("button.connect")),1))}const DS=Qt(MS,[["render",CS],["__scopeId","data-v-45298cf3"]]),RS=""+globalThis.__publicAssetsURL("images/icon-Language@2x.png"),OS=""+globalThis.__publicAssetsURL("images/icon-Preferred-Explorer@2x.png"),LS=""+globalThis.__publicAssetsURL("images/icon-RPC@2x.png");const zS=gn({setup(e,t){const n=ei(),r=Te(""),s=Dt(),i=Ae(()=>s),o=Te(i.value.lang||"en"),c=H=>{s.setLang(H),n.locale.value=H,o.value=H};hn(()=>s.lang,H=>{o.value=H});const a=Ae(()=>i.value.chainName&&i.value.chainName.toLowerCase().includes("sui")?i.value.chainName.split("2")[0]:i.value.chainName);hn(()=>a.value,H=>{H&&(r.value=H=="Aptos"?Nt[H].rpcUrl:Nt[H].fullRpcUrl,console.log(r.value,"===>currentRpc.value111"))},{immediate:!0});const u=Te(null),h=()=>u.value,p=()=>{t.emit("onClose")},m=Te(localStorage.getItem(`${a.value}-currentRpclocal2Name`)||Nt[a.value].rpcName||hr[a.value][0].name),w=Te(localStorage.getItem(`${a.value}-currentRpclocal2`)),v=Te(!1),b=Te(!0),S=Te(localStorage.getItem(`${a.value}-currentExplorerUrl`)||ys[a.value][0].link),N=Te(localStorage.getItem(`${a.value}-currentExplorerName`)||ys[a.value][0].name),C=(H,W)=>{N.value=H,localStorage.setItem(`${a.value}-currentExplorerName`,N.value),localStorage.setItem(`${a.value}-currentExplorerUrl`,W),S.value=W,_.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"Explorer update"},null)]),description:ce("div",{class:"notification-title"},[ce("div",{class:"notification-text",innerHTML:`Explorer is currently set to ${S.value}`},null)]),class:"ant-notification-copy ant-notification-swap"}),setTimeout(()=>{window.location.reload()},2e3)},x=(H,W)=>{v.value=!1,w.value="",m.value=H,m.value!=="Custom"&&(localStorage.setItem(`${a.value}-currentRpclocal2Name`,m.value),r.value=W,(localStorage.getItem(`${a.value}-currentRpclocal2`)||(a.value=="Aptos"?Nt[a.value].rpcUrl:Nt[a.value].fullRpcUrl))!=r.value&&(localStorage.setItem(`${a.value}-currentRpclocal2`,r.value),_.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"RPC update"},null)]),description:ce("div",{class:"notification-title"},[ce("div",{class:"notification-text",innerHTML:`RPC is currently set to ${r.value}`},null)]),class:"ant-notification-copy ant-notification-swap"}),setTimeout(()=>{window.location.reload()},2e3)))},k=()=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(w.value);hn(()=>w.value,(H,W)=>{const q=localStorage.getItem(`${a.value}-currentRpclocal2`);H==q?b.value=!1:b.value=!0,H!==W&&(v.value=!1)},{immediate:!0});const{$notify:_}=sa(),A=()=>{localStorage.setItem(`${a.value}-currentRpclocal2Name`,m.value),localStorage.setItem(`${a.value}-currentRpclocal2`,w.value),v.value=!1,_.success({icon:ce("svg",{class:{icon:!0},"aria-hidden":!0},[ce("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:ce("div",{class:"notification-title"},[ce("span",{innerHTML:"RPC update"},null)]),description:ce("div",{class:"notification-title"},[ce("div",{class:"notification-text",innerHTML:`RPC is currently set to ${w.value}`},null)]),class:"ant-notification-copy ant-notification-swap"}),setTimeout(()=>{window.location.reload()},2e3)},F=Ae(()=>{let H=[{name:"Custom",link:""}];return a.value=="Sui"?i.value.suiRpcs&&i.value.suiRpcs.length>0?i.value.suiRpcs.concat(H):hr[a.value]:i.value.aptosRpcs&&i.value.aptosRpcs.length>0?i.value.aptosRpcs.concat(H):hr[a.value]}),D=Te(null);return hn(()=>F.value,H=>{a.value==="Sui"&&(H==null?void 0:H.length)>0?D.value=setInterval(()=>{s.setRpcTimedelay(H)},3e3):clearInterval(D.value)},{immediate:!0}),kc(()=>{a.value==="Sui"&&(clearInterval(D.value),D.value=null)}),{explorerSelected:N,changeExplorer:C,explorerObj:ys,rpcList:F,rpcObj:hr,store:i,changeLang:c,currentLang:o,langObj:Cs,langList:ki,currentRpc:r,getPopupContainer:h,settingModal:u,changeRpc:x,isShowTips:v,isUpdate:b,customRpc:w,chainName:a,rpcSelected:m,regTest:k,closeSystemSetting:p,saveCustomRpc:A,importIcon:We}}}),jS={class:"system-setting-container"},PS={class:"modal-title"},VS={class:"language-left"},$S=I("svg",{"aria-hidden":"true",class:"back-icon"},[I("use",{"xlink:href":"#icon-icon-back"})],-1),WS=I("use",{"xlink:href":"#icon-a-icon-Shutdown"},null,-1),HS=[WS],QS={key:1},KS={key:0,class:"language-list"},ZS=["onClick"],GS={class:"lang-icon"},YS={key:1,class:"language-list"},qS=["onClick"],JS={style:{paddingLeft:"8px"}},XS={key:2,class:"module-box"},eT={class:"module language-box"},tT=I("div",{class:"current-lang"},[I("img",{src:RS,alt:""}),I("span",null,"Language")],-1),nT={class:"current"},rT={class:"lang-icon"},sT=I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-icon_on1"})],-1),iT={key:0,class:"module language-box"},oT=I("div",{class:"current-lang"},[I("img",{src:OS,alt:""}),I("span",null,"Preferred Explorer")],-1),aT={class:"current"},cT=I("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[I("use",{"xlink:href":"#icon-icon_on1"})],-1),lT={ref:"settingModal",class:"system-setting module"},uT=I("div",{class:"title"},[I("img",{src:LS,alt:""}),I("span",null,"RPC Node")],-1),dT={class:"rpc-select-box"},hT={class:"rpc-select-top"},fT={class:"rpc-name"},pT=["onClick"],gT=["src"],wT={key:0},yT={key:0,class:"rpc-select-bottom"},mT={key:1,class:"rpc-select-tips"};function bT(e,t,n,r,s,i){const o=zu,c=ci;return L(),j("div",jS,[I("div",{class:"setting-box",onClick:t[5]||(t[5]=xt(()=>{},["stop"]))},[I("div",PS,[e.store.openSwitchLang||e.store.openExplorer?(L(),j("div",{key:0,class:"lang-set",onClick:t[1]||(t[1]=xt(()=>{e.store.setOpenSwitchLang(!1),e.store.setIsOpenExplorer(!1)},["stop"]))},[I("div",VS,[$S,I("span",null,le(e.store.openSwitchLang?"Language":"Preferred Explorer"),1)]),e.store.openSwitchLang||e.store.openExplorer?(L(),j("svg",{key:0,class:"icon modal-icon-close","aria-hidden":"true",onClick:t[0]||(t[0]=xt(()=>{e.store.setIsOpenExplorer(!1),e.store.setIsShowSetting(!1)},["stop"]))},HS)):se("",!0)])):(L(),j("span",QS,"Settings"))]),e.store.openSwitchLang?(L(),j("div",KS,[(L(!0),j(Un,null,Mn("langList"in e?e.langList:Fe(ki),a=>(L(),j("div",{key:a.value,class:Je(a.value==e.store.lang?"item-container item-active-container":"item-container")},[I("div",{class:"list-item",onClick:u=>e.changeLang(a.value)},[I("span",GS,le(a.icon),1),I("span",null,le(a.label),1)],8,ZS)],2))),128))])):se("",!0),e.store.openExplorer?(L(),j("div",YS,[(L(!0),j(Un,null,Mn(("explorerObj"in e?e.explorerObj:Fe(Wu))[e.chainName],a=>(L(),j("div",{key:a.name,class:Je(a.name==e.explorerSelected?"item-container item-active-container":"item-container")},[I("div",{class:"list-item",onClick:u=>e.explorerSelected==a.name?"":e.changeExplorer(a.name,a.link)},[I("span",JS,le(a.name),1)],8,qS)],2))),128))])):se("",!0),!e.store.openSwitchLang&&!e.store.openExplorer?(L(),j("div",XS,[I("div",eT,[tT,I("div",{class:"current-box",onClick:t[2]||(t[2]=xt(()=>{e.store.setOpenSwitchLang(!0)},["stop"]))},[I("div",nT,[I("span",rT,le(("langObj"in e?e.langObj:Fe(Cs))[e.currentLang].icon),1),I("span",null,le(("langObj"in e?e.langObj:Fe(Cs))[e.currentLang].label),1)]),sT])]),e.store.theme!=="default"?(L(),j("div",iT,[oT,I("div",{class:"current-box",onClick:t[3]||(t[3]=xt(()=>{e.store.setIsOpenExplorer(!0)},["stop"]))},[I("div",aT,[I("span",null,le(e.explorerSelected),1)]),cT])])):se("",!0),I("div",lT,[uT,I("div",dT,[I("div",hT,[(L(!0),j(Un,null,Mn(e.rpcList,(a,u)=>(L(),j("div",{key:u,class:Je(["select-item",e.rpcSelected==a.name?"select-item-active":""])},[I("div",fT,[I("div",{class:Je(["check-box",e.chainName=="Aptos"?"aptos-check-box":"sui-check-box"]),onClick:xt(h=>e.rpcSelected==a.name?"":e.changeRpc(a.name,a.link),["stop"])},[e.rpcSelected==a.name?(L(),j("img",{key:0,src:e.rpcSelected==a.name&&e.chainName=="Aptos"?("importIcon"in e?e.importIcon:Fe(We))("/image/icon-selected@2x.png"):("importIcon"in e?e.importIcon:Fe(We))("/sui-image/icon-selected@3x.png"),alt:""},null,8,gT)):se("",!0)],10,pT),I("span",null,le(a.name),1)]),e.chainName!=="Aptos"&&a.name!=="Custom"?(L(),j("div",{key:0,class:Je(["rpc-rate",e.store.suiRpcTimeDelayObj?e.store.suiRpcTimeDelayObj&&Number(e.store.suiRpcTimeDelayObj[a.name])<=100?"green-rate":e.store.suiRpcTimeDelayObj&&Number(e.store.suiRpcTimeDelayObj[a.name])>200?"red-rate":"orange-rate":""])},[I("span",{class:Je(e.store.suiRpcTimeDelayObj&&e.store.suiRpcTimeDelayObj[a.name]?"":"noColor")},null,2),e.store.suiRpcTimeDelayObj&&e.store.suiRpcTimeDelayObj[a.name]?(L(),j("p",wT,le(e.store.suiRpcTimeDelayObj&&e.store.suiRpcTimeDelayObj[a.name])+"ms ",1)):se("",!0)],2)):se("",!0)],2))),128))]),e.rpcSelected=="Custom"?(L(),j("div",yT,[dn(o,{value:e.customRpc,"onUpdate:value":t[4]||(t[4]=a=>e.customRpc=a),class:"rpc-input",type:"text",placeholder:"Custom RPC URL",onBlur:e.inputBlur},null,8,["value","onBlur"]),e.rpcSelected=="Custom"?(L(),Mt(c,{key:0,class:"save-btn",disabled:e.regTest()||e.customRpc==e.currentRpc||!e.isUpdate,onClick:e.saveCustomRpc},{default:bt(()=>[xr("Save")]),_:1},8,["disabled","onClick"])):se("",!0)])):se("",!0),e.rpcSelected=="Custom"&&e.isShowTips?(L(),j("div",mT," Custom RPC URL is a required field ")):se("",!0)])],512)])):se("",!0)])])}const _T=Qt(zS,[["render",bT]]),vT=gn({setup(e){const t=Ds();Ae(()=>t);const n=gp(),r=ju(),{t:s,locale:i}=ei(),o=[{name:s("contactUS.docs"),icon:"#icon-svg-docs",link:"https://cetus-1.gitbook.io/cetus-docs/"},{name:s("contactUS.twitter"),icon:"#icon-svg-twitter",link:"https://twitter.com/cetusprotocol"},{name:s("contactUS.discord"),icon:"#icon-svg-Discord",link:"https://discord.gg/cetusprotocol"},{name:s("contactUS.tgChannel"),icon:"#icon-svg-tg",link:"https://t.me/cetusprotocol"},{name:s("contactUS.medium"),icon:"#icon-svg-medium",link:"https://medium.com/@CetusProtocol"}],c=Dt(),a=Te(""),u=Ae(()=>c);let h=Te(u.value.chainName||"Aptos");const p=zl();Ao(()=>{var A,F,D;const k=(D=(F=(A=n==null?void 0:n.currentRoute)==null?void 0:A.value)==null?void 0:F.query)==null?void 0:D.language;k&&S(k);const _=localStorage.getItem("theme");!_||_==="sui"?p.selectSuiTheme():_==="sui2"?p.selectSui2Theme():p.seleteDefaultTheme(),document.addEventListener("click",()=>{u.value.setOpenH5Icon(!1),u.value.setOpenSwitchChain(!1),u.value.setOpenMore(!1),u.value.setIsShowMore(!1),u.value.setOpenSwitchLang(!1),u.value.setIsShowHeaderMore(!1)}),a.value=i.value,w()});const m=()=>{n.push("/")},w=()=>{window.setInterval(()=>{o[0].name=s("contactUS.docs"),o[1].name=s("contactUS.twitter"),o[2].name=s("contactUS.discord"),o[3].name=s("contactUS.tgChannel"),o[4].name=s("contactUS.medium")},1e3)};hn(()=>u.value.lang,k=>{a.value=k});const v=Ae(()=>u.value.chainName?Nt[u.value.chainName]:{}),{setLang:b}=u,S=k=>{b(k),i.value=k};hn(()=>u.value.isSelect,k=>{k!=="head"&&u.value.setOpenSwitchChain(!1)},{immediate:!0});const N=Ae(()=>u.value.chainName&&u.value.chainName.toLowerCase().includes("sui")?u.value.chainName.split("2")[0]:u.value.chainName),C=Te(!1),x=Ae(()=>u.value.openSwitchChain);return{openNotification:C,currentChain:h,store:u,importIcon:We,list:o,gotoHome:m,changeLang:S,langList:ki,config:v,chainName:N,openSwitchChain:x,route:r}}});const cp=e=>(Pr("data-v-2909675d"),e=e(),Vr(),e),xT={key:0},ST={class:"header-con"},TT={class:"left"},ET={class:"menu-right"},kT=cp(()=>I("div",{class:"current-lang"},[I("svg",{"aria-hidden":"true",class:"icon"},[I("use",{"xlink:href":"#icon-icon-set"})])],-1)),IT=cp(()=>I("svg",{"aria-hidden":"true",class:"icon"},[I("use",{"xlink:href":"#icon-icon-menu1"})],-1)),AT=[IT];function UT(e,t,n,r,s,i){const o=US,c=DS,a=_T;return e.$route.name.indexOf("403")>=0?se("",!0):(L(),j("header",xT,[I("div",ST,[I("div",TT,[I("div",{class:"logo",onClick:t[0]||(t[0]=(...u)=>e.gotoHome&&e.gotoHome(...u))}),dn(o)]),I("div",ET,[dn(c),I("div",{class:"switch-lang",onClick:t[2]||(t[2]=xt(()=>{e.store.setIsShowSetting(!e.store.isShowSetting)},["stop"]))},[kT,e.store.isShowSetting?(L(),Mt(a,{key:0,onOnClose:t[1]||(t[1]=u=>e.store.setIsShowSetting(!1))})):se("",!0)]),I("div",{class:"img-box",onClick:t[3]||(t[3]=xt(()=>{e.store.setOpenMore(!1),e.store.setOpenSwitchChain(!1),e.store.setOpenSwitchLang(!1),e.store.setIsShowMore(!1),e.store.setIsShowNotifi(!1),e.store.setIsShowSetting(!1),e.store.setOpenH5Icon(!e.store.openH5Icon)},["stop"]))},AT)])])]))}const MT=Qt(vT,[["render",UT],["__scopeId","data-v-2909675d"]]);const BT={},NT={class:"footer"},FT=Lu('<div class="footer-center" data-v-18b0ba08><div class="to-app" data-v-18b0ba08><a href="https://app.cetus.zone" target="_blank" data-v-18b0ba08> APP </a></div><div class="contact-us" data-v-18b0ba08><a href="https://twitter.com/cetusprotocol" target="_blank" data-v-18b0ba08><svg class="icon modal-icon-close" aria-hidden="true" data-v-18b0ba08><use xlink:href="#icon-twitter" data-v-18b0ba08></use></svg></a><a href="https://discord.gg/cetusprotocol" target="_blank" data-v-18b0ba08><svg class="icon modal-icon-close" aria-hidden="true" data-v-18b0ba08><use xlink:href="#icon-icon-Discord1" data-v-18b0ba08></use></svg></a><a href="https://medium.com/@CetusProtocol" target="_blank" data-v-18b0ba08><svg class="icon modal-icon-close" aria-hidden="true" data-v-18b0ba08><use xlink:href="#icon-icon-medium1" data-v-18b0ba08></use></svg></a><a href="https://t.me/cetusprotocol" target="_blank" data-v-18b0ba08><svg class="icon modal-icon-close" aria-hidden="true" data-v-18b0ba08><use xlink:href="#icon-tg" data-v-18b0ba08></use></svg></a></div></div>',1),CT=[FT];function DT(e,t){return L(),j("div",NT,CT)}const RT=Qt(BT,[["render",DT],["__scopeId","data-v-18b0ba08"]]);const OT=gn({components:{CHead:MT,CFooter:RT},setup(){var C,x,k;const e=Te(!0),t=ju(),n=zl(),r=Ds();Ao(()=>{setTimeout(()=>{e.value=!1},1e3)});const{connect:s,disconnect:i}=Tc(),o=Dt(),c=Ae(()=>o),a=Ae(()=>c.value.chainName?configure[c.value.chainName]:{}),u=()=>{o.setTransactionDescText(""),o.setIsShowWaiting(!1)},h=Ae(()=>r);let p=Te(null);const m=()=>{const _=Tc(),A=localStorage.getItem("chainName"),F=localStorage.getItem(`cetus-${A}-current-wallet`),D=localStorage.getItem(`cetus-${A}-wallet-icon-name`),H=localStorage.getItem(`cetus-${A}-current-suiwallet`);F?_.connect(F,D,A,"",H):A&&A.toLowerCase().includes("sui")&&_.disconnect()};hn(()=>c.value.theme,_=>{const A=_==="sui2"?"sui":_;document.getElementsByTagName("body")[0].className=`theme-${A}`,_&&(m(),e.value=!0,setTimeout(()=>{e.value=!1},1e3))},{immediate:!0}),(C=window==null?void 0:window.aptos)==null||C.onNetworkChange(_=>{r.setNetwork(_.networkName)}),(x=window==null?void 0:window.martian)==null||x.onNetworkChange(_=>r.setNetwork(_)),(k=window==null?void 0:window.pontem)==null||k.onNetworkChange(_=>{r.setNetwork(_.name)}),Ao(()=>{var A,F;if(t&&t.query&&t.query.source)n.seleteDefaultTheme();else{const D=(A=t==null?void 0:t.query)==null?void 0:A.chain,H=(F=t==null?void 0:t.query)==null?void 0:F.network,W=D||localStorage.getItem("theme");!W||W&&W.includes("sui")?H==="testnet"||W==="sui2"?n.selectSui2Theme():n.selectSuiTheme():n.seleteDefaultTheme()}const _=localStorage.getItem("chainName");localStorage.getItem(`cetus-${_}-current-wallet`),localStorage.getItem(`cetus-${_}-wallet-icon-name`),document.addEventListener("click",()=>{c.value.setIsShowMore(!1),c.value.setOpenMore(!1),c.value.setOpenSwitchLang(!1),c.value.setOpenH5Icon(!1),c.value.setOpenSwitchChain(!1),c.value.setIsShowSetting(!1),c.value.setIsIdoOpenTerm(!1),c.value.setIsOpenExplorer(!1),c.value.setIsShowNotifi(!1),c.value.setIsShowHeaderMore(!1)})}),wp(()=>{window.clearInterval(p)});const w=()=>{r.setIsShowWalletModal(!1),i()},v=()=>{r.setSwitchWallet(!0)},b=Te(!1);return localStorage.getItem("isFirstAccess")||(b.value=!0),{config:a,store:c,wallet:h,onSwitch:v,onDisconnect:w,isLoading:e,closeTerm:()=>{localStorage.setItem("isFirstAccess",!0),b.value=!1},showTerm:b,closeWaitingModal:u}}}),LT={key:0,class:"web-loading-box"},zT={key:1,class:"default-container"},jT={class:"header-container"},PT={class:"body-container"},VT={class:"footer-container"};function $T(e,t,n,r,s,i){const o=Vp,c=Lr("c-head"),a=yp,u=Lr("c-footer"),h=Xp,p=a0,m=y0,w=vx,v=jx,b=sS;return L(),j("div",null,[e.isLoading?(L(),j("div",LT,[dn(o)])):(L(),j("div",zT,[I("div",jT,[dn(c)]),I("div",PT,[dn(a)]),I("div",VT,[dn(u)]),e.store&&e.store.isShowSuccess?(L(),Mt(h,{key:0,onOnClose:t[0]||(t[0]=S=>e.store.setIsShowSuccess(!1))})):se("",!0),e.store&&e.store.isShowRejected?(L(),Mt(p,{key:1,onOnClose:t[1]||(t[1]=S=>e.store.setIsShowRejected(!1))})):se("",!0),e.store&&e.store.isShowWaiting?(L(),Mt(m,{key:2,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):se("",!0),e.wallet&&e.wallet.isShowWalletModal?(L(),Mt(w,{key:3,onOnDisconnect:t[2]||(t[2]=S=>e.onDisconnect()),onOnSwitch:t[3]||(t[3]=S=>e.onSwitch()),onOnClose:t[4]||(t[4]=S=>e.wallet.setIsShowWalletModal(!1))})):se("",!0),e.showTerm?(L(),Mt(v,{key:4,onClose:e.closeTerm},null,8,["onClose"])):se("",!0),e.store&&e.store.isShowSettingH5?(L(),Mt(b,{key:5,onOnClose:t[5]||(t[5]=S=>e.store.setIsShowSettingH5(!1))})):se("",!0)]))])}const nE=Qt(OT,[["render",$T],["__scopeId","data-v-93e43302"]]);export{nE as default};
