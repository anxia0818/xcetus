import{d as U,c as T,e as y}from"./pool.0ae2258c.js";import{a as R,r as n,m as F,D as G,y as Z,T as K,C as Q,M as X,a5 as Y,e as x,o as u,f as m,h as l,u as v,c as ee,v as f,x as O,z as W,i as ae,t as te,G as oe,S as se,J as ne}from"./entry.b60f0428.js";/* empty css              *//* empty css              */import{u as le,c as ie}from"./sha256.0a8a0522.js";import"./index.440983f4.js";import{l as re}from"./lodash.f978d903.js";const de=R({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const i=le(),$=n(!1),t=F(()=>i),j=a=>{switch(a){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},b=F(()=>ie[t.value.chainName]),k=n(0),C=n(0),g=n(0),L=n(0),N=n(""),E=n("--"),A=re.debounce(()=>{V(_.value)},300);G(()=>e.mode,(a,D)=>{a!==D&&($.value=!0,V(_.value))});const q=n(null);Z(()=>{window.addEventListener("resize",A),setTimeout(()=>{document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day")},100),q.value=window.setInterval(()=>{V(_.value)},12e4)}),K(()=>{window.clearInterval(q.value)}),Q(()=>{window.removeEventListener("resize",A)}),X(()=>{if(!T(t.value.statsData||{})&&t.value.chainName){console.log(t.value.statsData,"===>store.statsData");const a=t.value.chainName=="Sui"?t.value.statsData.vol_in_usd_24h:t.value.statsData.vol_in_usd_24h_sum_v1;t.value.chainName=="Sui"?t.value.statsData.tvl_in_usd:t.value.statsData.tvl_in_usd_sum_v1,k.value=a,N.value=a,C.value=t.value.statsData.vol_in_usd,g.value=t.value.statsData.pure_tvl_in_usd,L.value=t.value.statsData.tx_num}});const _=n("D"),w=n({}),H=a=>{_.value=a,V(a)},V=a=>{a=="D"?document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day"):a=="W"?document.body.clientWidth<750?r(20,100,6,e.mode,"wek"):r(30,100,12,e.mode,"wek"):a=="M"&&(document.body.clientWidth<750?r(20,100,12,e.mode,"mon"):r(20,100,18,e.mode,"mon"))},r=async(a,D,z,h,d)=>{const{data:c}=e.address!==""?t.value.theme=="default"?await fetch(`${b.value.api}/v2/histogram?date_type=${d}&typ=${h}&limit=${a}&swap_account=${e.address}`).then(s=>s.json()):await fetch(`${b.value.api}/v2/sui/histogram?date_type=${d}&typ=${h}&limit=${a}&address=${e.address}`).then(s=>s.json()):t.value.theme=="default"?await fetch(`${b.value.api}/v2/histogram?date_type=${d}&typ=${h}&limit=${a}`).then(s=>s.json()):await fetch(`${b.value.api}/v2/sui/histogram?date_type=${d}&typ=${h}&limit=${a}`).then(s=>s.json());let o=c.list;const p={categoryData:[],valueData:[],wheelBase:[]};o&&o.forEach(s=>{p.categoryData.push(s.date.slice(0,10)),p.valueData.push(s.num)}),$.value=!1,w.value=p,P(a,D,z)},S=n({day:"",month:"",year:"",current:""}),J=a=>a==1?"Jan":a==2?"Feb":a==3?"Mar":a==4?"Apr":a==5?"May":a==6?"Jun":a==7?"Jul":a==8?"Aug":a==9?"Sep":a==10?"Oct":a==11?"Nov":"Dec",P=(a,D,z)=>{const h=document.getElementById("echartsBox"),d=Y(h);let c={tooltip:{trigger:"axis",position:function(o,p,s,I,B){return[o[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(o){let p=o[0].axisValue.slice(5,7),s=J(p);const I=o[0].axisValue.slice(8,10),B=s,M=o[0].axisValue.slice(0,4);return S.value={day:I,month:B,year:M,current:""},N.value=o[0].value,E.value=o[0].value,t.value.theme=="default","&nbsp;&nbsp;&nbsp;"+I+"&nbsp;"+B+"&nbsp;"+M+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:t.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:w.value.categoryData.length>Number(a)?Number(a):w.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:w.value.categoryData},yAxis:{show:!1,max:function(o){return o.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:D,zoomLock:!0}],series:[{data:w.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:o=>t.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:z}],grid:{left:0,top:0,bottom:0,right:24}};document.body.clientWidth<750&&(c.grid={left:4,top:0,bottom:20,right:20}),t.value.theme=="default"&&(c.tooltip.backgroundColor="#293F38"),c&&d.setOption(c),c&&d.resize(),d.on("globalout",o=>{S.value={day:"",month:"",year:"",current:""},N.value=t.value.statsData.vol_in_usd_24h_sum_v1,E.value="--"})};return{currentVal:E,loading:$,getModeLabel:j,decimalUi:U,checkNullObj:T,store:t,addCommom:y,vol_in_usd_24h:k,vol_in_usd:C,tvl_in_usd:g,tx_num:L,changeEchart:H,echartVal:_,volTime:S,TradingVolume:N}}});const ue={class:"upgrade-chart-container"},ce={class:"echarts-content-box"},me={class:"echarts-content"},ve={class:"echarts-content-top"},he={class:"left"},pe={key:1},fe={key:2},ye={key:3},be={key:4},ge={key:5},_e={class:"echarts-tab"},we={key:0,class:"echarts-content-bottom"},De={id:"echartsBox",class:"echarts-content-bottom"};function $e(e,i,$,t,j,b){const k=se,C=ne;return u(),m("div",ue,[l("div",ce,[l("div",me,[l("div",ve,[l("div",he,[("checkNullObj"in e?e.checkNullObj:v(T))(e.store.statsData||{})?(u(),ee(k,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):e.address==""?(u(),m("p",pe,"$"+f(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:v(y))(("decimalUi"in e?e.decimalUi:v(U))(e.TradingVolume,2))),1)):e.currentVal!=="--"?(u(),m("p",fe,"$"+f(Number(e.currentVal)!==0&&Number(e.currentVal)<.01?"<0.01":("addCommom"in e?e.addCommom:v(y))(e.currentVal,2)),1)):e.mode=="vol"?(u(),m("p",ye,"$"+f(Number(e.poolInfo.vol)!==0&&Number(e.poolInfo.vol)<.01?"<0.01":("addCommom"in e?e.addCommom:v(y))(e.poolInfo.vol,2)),1)):e.mode=="tvl"?(u(),m("p",be,"$"+f(Number(e.poolInfo.liqidity)!==0&&Number(e.poolInfo.liqidity)<.01?"<0.01":("addCommom"in e?e.addCommom:v(y))(e.poolInfo.liqidity,2)),1)):e.mode=="fee"?(u(),m("p",ge,"$"+f(Number(e.poolInfo.fee_24_h)!==0&&Number(e.poolInfo.fee_24_h)<.01?"<0.01":("addCommom"in e?e.addCommom:v(y))(e.poolInfo.fee_24_h,2)),1)):O("",!0),l("span",null,f(e.address!==""?e.getModeLabel(e.mode):e.$t("common.tradingVal24h")),1)]),l("div",_e,[l("div",{class:W(["title-day",e.echartVal=="D"?"title-active":""]),onClick:i[0]||(i[0]=g=>e.changeEchart("D"))}," D ",2),l("div",{class:W(["title-week",e.echartVal=="W"?"title-active":""]),onClick:i[1]||(i[1]=g=>e.changeEchart("W"))}," W ",2),l("div",{class:W(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:i[2]||(i[2]=g=>e.changeEchart("M"))}," M ",2)])]),e.loading?(u(),m("div",we,[ae(C)])):O("",!0),te(l("div",De,null,512),[[oe,!e.loading]])])])])}const Se=x(de,[["render",$e],["__scopeId","data-v-b166efc2"]]);export{Se as _};
