import{_ as ha}from"./back.37bd90ea.js";import{_ as va,a as ga}from"./token-warning-modal.32f26338.js";import{_ as ya,a as ba}from"./network-tips.b96bba74.js";import{u as Gt,a as st,c as vt,D as F,f as kn,b as Eo,d as ht,e as Ne,g as sn,n as Io,h as at,s as jn,t as yo,_ as zt,i as ka,p as Pi,j as wa}from"./pool.433d79a1.js";import{a as xe,r as N,v as oo,z as Ca,m as x,A as $e,b as jo,e as et,o as b,f as P,h as c,t as w,c as ge,s as L,x as Ae,p as Ot,k as Bt,C as io,j as Ue,i as ye,w as Ce,u as _e,F as qt,D as fr,I as mr,S as pr,B as ro,E as _a,G as $a,H as Si,q as vn,J as hr,M as Do,K as Ho,l as vr}from"./entry.a1d447f2.js";import{i as Be}from"./import-icon.de3e6c66.js";import{_ as Aa,a as Ia}from"./coin-select.804abd89.js";import{_ as gr,a as yr,b as Pa}from"./add-liquidity.17664dff.js";/* empty css              *//* empty css              *//* empty css              */import{_ as Sa}from"./apr-tab.05eb9b50.js";import{_ as Ta}from"./apr-tips.c8aa452b.js";/* empty css              */import{p as Na}from"./precision.9d58cda5.js";import{_ as Ma}from"./status-block.cfd509cf.js";import{_ as Xo}from"./icon-arrow_2x.948aedb2.js";import{_ as zo}from"./icon-arrow_2x.4ffddb8e.js";import{_ as br}from"./coin-pair-name.99faa2ab.js";import{u as Ra}from"./notifi.b0eddc52.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.973786b0.js";import"./img-no-Positions_2x.d3e901af.js";import"./c-switch.e469e163.js";import"./index.94307da3.js";const La=xe({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const n=N(!1),o=N(null),i=N(0),r=N(20),a=Gt(),l=st(),s=N(!1);oo(()=>{}),Ca(()=>{clearInterval(o.value)});const u=()=>{o.value=setInterval(()=>{var I;s.value||i.value<r.value&&(i.value+=1,i.value===r.value&&((I=e==null?void 0:e.poolInfo)!=null&&I.poolAddress&&a.updateCurrentPools(e.poolInfo.poolAddress,l.chainName),i.value=0))},1e3)},d=x(()=>l.slippage),v=()=>{t.emit("clearAll")},p=()=>{i.value=0,t.emit("clickRefresh")};$e(()=>e.poolInfo,I=>{I&&!o.value&&u()},{immediate:!0});const C=jo();return{clickRefresh:p,isShowSwapSetting:n,countdown:i,autoRefreshTime:r,slippage:d,clearAll:v,checkNullObj:vt,router:C}}});const qa=e=>(Ot("data-v-b618315f"),e=e(),Bt(),e),Ua={class:"title"},Oa={class:"left"},Ba=qa(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Fa={class:"deposit-progress"};function Ea(e,t,n,o,i,r){var s,u;const a=va,l=ya;return b(),P("div",Ua,[c("div",Oa,[c("span",null,w(e.poolInfo?e.$t("common.concentratedLiquidity"):(u=(s=e.$router)==null?void 0:s.query)!=null&&u.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),c("div",{class:Ae(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[c("div",{class:"slippage-icon",onClick:t[0]||(t[0]=d=>e.isShowSwapSetting=!0)},[Ba,c("span",null,w(e.slippage)+"%",1)]),c("div",Fa,[e.poolInfo?(b(),ge(a,{key:0,loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])):L("",!0)])],2),e.isShowSwapSetting?(b(),ge(l,{key:0,onOnClose:t[1]||(t[1]=d=>e.isShowSwapSetting=!1)})):L("",!0)])}const ja=et(La,[["render",Ea],["__scopeId","data-v-b618315f"]]);const Da=xe({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const t=st(),n=x(()=>t),o=N(""),i=N(""),r=N(""),a=Gt(),l=x(()=>a);$e(()=>[e.coin,l.value.tokensObj],([u,d])=>{var v;u?(i.value=d&&d[u.address]&&((v=d[u.address])==null?void 0:v.labels),o.value=u.name,r.value=u.symbol):(i.value="",o.value="",r.value="")},{immediate:!0,deep:!0});const s=x(()=>{var u,d,v;return e.coinIcon||((v=(d=l==null?void 0:l.value)==null?void 0:d.tokensObj[(u=e.coin)==null?void 0:u.address])==null?void 0:v.logo_url)||(n.value.theme==="default"?Be("/image/coins/unknown.png"):Be("/image/coins/sui-unknown.png"))});return{store:n,importIcon:Be,coinName:o,coinLabels:i,coinSymbol:r,currentIcon:s}}}),Ha=e=>(Ot("data-v-d8291ad0"),e=e(),Bt(),e),Xa={class:"coin-block"},za=["src"],Va={class:"coin-info"},Wa={class:"symbol"},Ka={key:0,class:"name"},Ya=Ha(()=>c("div",null,[c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon_on"})])],-1));function Ga(e,t,n,o,i,r){return b(),P("div",Xa,[c("div",null,[c("img",{src:e.currentIcon},null,8,za),c("div",Va,[c("div",Wa,w(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(b(),P("div",Ka,w(e.coin.name)+" "+w(e.coinLabels?`(${e.coinLabels})`:""),1)):L("",!0)])]),Ya])}const Qa=et(Da,[["render",Ga],["__scopeId","data-v-d8291ad0"]]),Ja=xe({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})}},setup(){const e=st();return{storeIndex:x(()=>e)}}});const Za={class:"unilateral"},xa={key:0,src:gr,alt:""},es={key:1,src:yr,alt:""},ts={key:2};function ns(e,t,n,o,i,r){return b(),P("div",Za,[c("div",null,[e.storeIndex.theme=="default"?(b(),P("img",xa)):(b(),P("img",es)),e.fromCoin&&e.toCoin&&e.poolInfo?(b(),P("p",ts,w(e.$t("tips.marketprice")),1)):L("",!0)])])}const os=et(Ja,[["render",ns],["__scopeId","data-v-d81a96c0"]]),is=xe({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=st();return{storeIndex:x(()=>e)}}});const rs={class:"create-pool-lock"},as={key:0,src:gr,alt:""},ss={key:1,src:yr,alt:""};function ls(e,t,n,o,i,r){return b(),P("div",rs,[c("div",null,[e.storeIndex.theme=="default"?(b(),P("img",as)):(b(),P("img",ss))])])}const us=et(is,[["render",ls],["__scopeId","data-v-5d070e17"]]);F.config({precision:64,rounding:F.ROUND_DOWN,toExpNeg:-64,toExpPos:64});const cs=xe({props:{minPrice:{type:String,default:""},maxPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},slippage:{type:Number,default:0},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},setup(e){const t=N(""),n=N(""),o=st(),i=x(()=>o),r=Gt(),a=x(()=>r),l=x(()=>i.value.chainName?Eo(i.value.chainName):{}),s=io(),u=async()=>{var re;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:p,TickMath:C,getNearestTickByTick:I}=l.value,se=e.poolInfo.token_a.decimals,g=e.poolInfo.token_b.decimals;let S,$,y,m,k,U,H,Z=1,de=1;const ee=e.poolInfo.current_tick_index;let T=a.value.poolPriceConfigObj&&a.value.poolPriceConfigObj[e.poolInfo.address]&&a.value.poolPriceConfigObj[e.poolInfo.address].recommend_ranges||{};if(e.poolInfo.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&e.poolInfo.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?H=!0:H=!1,e.minPrice==="0"&&e.maxPrice==="∞"?(y=p.getMinIndex(e.poolInfo.tickSpacing),m=p.getMaxIndex(e.poolInfo.tickSpacing),C.tickIndexToSqrtPriceX64(y),C.tickIndexToSqrtPriceX64(m)):e.currentPriceTab=="custom"||(re=s==null?void 0:s.query)!=null&&re.action?(H?(S=Number(e.minPrice),$=Number(e.maxPrice)):(S=1/Number(e.maxPrice),$=1/Number(e.minPrice)),k=C.priceToTickIndex(new F(S),se,g),U=C.priceToTickIndex(new F($),se,g),S==0&&(k=-443636),y=I(k,Number(e.poolInfo.tickSpacing)),m=I(U,Number(e.poolInfo.tickSpacing)),C.priceToSqrtPriceX64(new F(S),se,g),C.priceToSqrtPriceX64(new F($),se,g)):(y=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].lower,m=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].upper,C.tickIndexToSqrtPriceX64(y),C.tickIndexToSqrtPriceX64(m)),e.maxPrice==="∞"||ee>y&&ee<m){let le;if(e.fixedFromCoin){const fe=new F(1).mul(Math.pow(10,e.fromCoin.decimals)).toString();le=new ht(fe)}else{const fe=new F(1).mul(Math.pow(10,e.toCoin.decimals)).toString();le=new ht(fe)}const{tokenMaxA:te,tokenMaxB:ne}=await l.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:e.poolInfo.token_a,tokenB:e.poolInfo.token_b,lowerTick:y,upperTick:m,coinAmount:le,iscoinA:H?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(e.slippage)/100,curSqrtPrice:new ht(e.poolInfo.current_sqrt_price)});H?e.fixedFromCoin?de=Number(ne)>0?ne:"":Z=Number(te)>0?te:"":e.fixedFromCoin?de=te:Z=ne}else ee>=m?H?(de=1,Z=0):(Z=1,de=0):ee<=y&&(H?(de=0,Z=1):(de=1,Z=0));const J=Z?Number(Z):0,q=de?Number(de):0,X=q+Number(H?J*e.currentPrice:J*e.currentPriceReverse),ke=((H?e.currentPrice*J:e.currentPriceReverse*J)/X*100).toFixed(0),V=(q/X*100).toFixed(0);t.value=ke,n.value=V};$e(()=>[e.poolInfo,e.minPrice,e.maxPrice],([p,C,I])=>{C&&I&&p&&!vt(p)&&(C!=="0"||I!=="0")?u():(t.value="",n.value="")},{immediate:!0,deep:!0});let d={};$e(()=>a.value.RATES,p=>{p&&(d=p)},{immediate:!0});const v=x(()=>{const p=kn(Number(e.fromCoinAmount)*Number(d&&d[e.fromCoin.address]&&d[e.fromCoin.address].price),2),C=kn(Number(e.toCoinAmount)*Number(d&&d[e.toCoin.address]&&d[e.toCoin.address].price),2);return p!=="--"&&C!=="--"?Number(p)+Number(C):"--"});return{fromCoinRatio:t,toCoinRatio:n,totalAmount:v,fixD:kn}}});const ds=e=>(Ot("data-v-aeaaa66a"),e=e(),Bt(),e),fs={class:"deposit-ratio"},ms={class:"lebal"},ps=ds(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),hs={key:0,class:"text"},vs={key:1},gs={key:0,class:"deposit-ratio totalAmount"},ys={class:"lebal"},bs={class:"text"};function ks(e,t,n,o,i,r){const a=fr;return b(),P(qt,null,[c("div",fs,[c("div",ms,[Ue(w(e.$t("newAdd.depositRatio"))+" ",1),ye(a,{placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.$t("newAdd.depositRatioTips")),1)]),default:Ce(()=>[ps]),_:1})]),e.currentPriceTab!=="full range"?(b(),P("div",hs,w(e.fromCoinRatio!=="--"?e.fromCoinRatio+"%":"--")+" "+w(e.fromCoinRatio!=="--"?e.fromCoin&&e.fromCoin.symbol:"")+" / "+w(e.toCoinRatio!=="--"?e.toCoinRatio+"%":"--")+" "+w(e.toCoinRatio!=="--"?e.toCoin&&e.toCoin.symbol:""),1)):(b(),P("div",vs," 50% "+w(e.fromCoin&&e.fromCoin.symbol)+" / 50% "+w(e.toCoin&&e.toCoin.symbol),1))]),e.fromCoinAmount&&e.toCoinAmount&&e.totalAmount!==0&&e.totalAmount!=="--"?(b(),P("div",gs,[c("div",ys,w(e.$t("newAdd.totalAmount")),1),c("div",bs,"$"+w(("fixD"in e?e.fixD:_e(kn))(e.totalAmount,2)),1)])):L("",!0)],64)}const ws=et(cs,[["render",ks],["__scopeId","data-v-aeaaa66a"]]),Cs=xe({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,t){const n=N("");return{inpValue:n,changecurrentPrice:i=>{var a;const r=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(a=e.fromCoin)==null?void 0:a.decimals}})?).*$`);i.target.value=i.target.value.replace(r,"$1"),n.value=i.target.value,t.emit("changecurrentPrice",n.value)}}}});const _s={class:"set-init-price"},$s={class:"init-price-tips"};function As(e,t,n,o,i,r){var l,s,u,d;const a=mr;return b(),P("div",_s,[ye(a,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((s=(l=e.$route)==null?void 0:l.query)!=null&&s.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),c("div",$s,w((u=e.toCoin)==null?void 0:u.symbol)+" per "+w((d=e.fromCoin)==null?void 0:d.symbol),1)])}const Is=et(Cs,[["render",As],["__scopeId","data-v-8d2ae1a1"]]),Ps=-443636;function Ti(e,t){const n=Ss(e),o=(n-Ps)%t;return o>t/2?n-o+t:n-o}const kr=new F("1.0001");function Ss(e){return e.log(kr).toDP(0,F.ROUND_HALF_UP).toNumber()}function Ni(e){return kr.pow(e)}const Ts=xe({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const n=N(""),o=N("");let i=N(""),r=N("");const a=io(),l=()=>{if(Number.isNaN(n.value)||Number(n.value)!==0&&!n.value||!e.poolInfo.tickSpacing)return;const p=Ti(new F(n.value.toString()),Number(d.value.tickSpacing)),C=Ni(p+Number(d.value.tickSpacing));if(e.pType=="Min"&&Number(C.toString())>=Number(r.value.toString()))return;const I=C.toString();t.emit("onInput",I)},s=()=>{if(Number.isNaN(n.value)||!n.value||!e.poolInfo.tickSpacing)return;const p=Ti(new F(n.value),Number(d.value.tickSpacing)),C=Ni(p-Number(d.value.tickSpacing)),I=C.toString();e.pType=="Max"&&Number(C)<=Number(i.value)||t.emit("onInput",I)},u=p=>{let C=p.toString().replace(/[^\d.]/g,"");const I=/^\d+(\.\d+)?$/;C.split(".").length>2&&!I.exec(C)&&(C=C.substr(0,C.length-1)),o.value=String(C),(Ne(C,6)>0||String(C)=="0")&&t.emit("onInput",C.toString())};$e(()=>e.defaultMinPrice,(p,C)=>{p!==C&&(i.value=e.defaultMinPrice)},{immediate:!0}),$e(()=>e.defaultMaxPrice,(p,C)=>{p!==C&&(r.value=e.defaultMaxPrice)},{immediate:!0}),$e(()=>o.value,p=>{},{immediate:!0}),$e(()=>[e.inputValue,a.query.action],([p])=>{if(p&&p!=="0"&&p!=="∞"){n.value=p;const I=p.toString().split(".")[1];o.value=p!=="0"&&p!=="∞"&&I&&I.length>6?Ne(p.toString(),6):p.toString()}else(p=="0"||p=="∞"||a.query.action)&&(o.value=p)},{immediate:!0});const d=N({});$e(()=>e.poolInfo,(p,C)=>{p&&(d.value=p)},{immediate:!0});const v=N("");return $e(()=>e.currentPriceTab,p=>{v.value=p},{immediate:!0}),{addPrice:l,minusPrice:s,oValue:o,changeValue:u,isDisabled:v,route:a}}});const Ns={class:"set-price-item"},Ms={class:"title"},Rs={class:"input-box"},Ls={class:"minus-btn"},qs=["disabled"],Us={class:"plus-btn"};function Os(e,t,n,o,i,r){const a=mr,l=pr;return b(),P("div",Ns,[c("div",Ms,w(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ye(l,{loading:e.loading,active:"",paragraph:!1},{default:Ce(()=>[c("div",Rs,[c("a",Ls,[c("div",{class:Ae(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:t[0]||(t[0]=(...s)=>e.minusPrice&&e.minusPrice(...s))},null,10,qs)]),ye(a,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=s=>e.oValue=s),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=s=>e.changeValue(s.target.value))},null,8,["value","disabled"]),c("a",Us,[c("div",{class:Ae(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[3]||(t[3]=(...s)=>e.addPrice&&e.addPrice(...s))},null,2)])])]),_:1},8,["loading"]),c("p",{class:Ae(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},w(e.toCoin&&e.toCoin.symbol)+" per "+w(e.fromCoin&&e.fromCoin.symbol),3)])}const Mi=et(Ts,[["render",Os],["__scopeId","data-v-8eabf3d7"]]),Bs=xe({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let n=N(""),o=N(""),i=N(),r=N(!1),a=N(!1);const l=N({}),s=st(),u=x(()=>s);oo(()=>{n.value=e.min,o.value=e.max}),$e(()=>e.currentPriceTab,(g,S)=>{g!==S&&(i.value=e.currentPriceTab)},{immediate:!0}),$e(()=>e.min,(g,S)=>{g!==S&&(n.value=g)}),$e(()=>e.max,(g,S)=>{g!==S&&(o.value=g)}),$e(()=>e.poolInfo,(g,S)=>{g&&(l.value=g)},{immediate:!0});const d=N("");$e(()=>e.intPrice,g=>{d.value=g},{immediate:!0,deep:!0});const v=g=>{n.value=g,t.emit("onChangeMinPrice",g)},p=g=>{o.value=g,t.emit("onChangeMaxPrice",g)};$e(r,(g,S)=>{g!==S&&t.emit("onChangeFullRange",g)});const C=()=>{n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice,a.value=!1,r.value=!1},I=()=>{a.value=!1,n.value="0",o.value="∞"};return $e(r,(g,S)=>{g!==S&&t.emit("onChangeFullRange",g)}),{store:u,changeMinPrice:v,changeMaxPrice:p,importIcon:Be,resetPrice:C,changeShowUnderStand:()=>{r.value=!r.value,r.value?a.value=!0:C(),a.value||(n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:n,maxPrice:o,understand:I,isRadio:r,initPirce:d}}});const Fs={class:"set-price"},Es={class:"card-container"},js={key:0,class:"card"},Ds=["src"],Hs={key:1,class:"understand"},Xs={class:"left"},zs={class:"right"};function Vs(e,t,n,o,i,r){const a=Mi,l=Mi,s=ro;return b(),P("div",Fs,[c("div",Es,[e.showUnderStand?(b(),P("div",Hs,[c("div",Xs,[c("p",null,w(e.$t("common.lowerEfficiency")),1),c("p",null,w(e.$t("common.lowerEfficiencyTips")),1)]),c("div",zs,[ye(s,{onClick:e.understand},{default:Ce(()=>[Ue(w(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(b(),P("div",js,[ye(a,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ye(l,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),c("img",{src:("importIcon"in e?e.importIcon:_e(Be))("/image/lmg-line@2x.png"),alt:""},null,8,Ds)]))])])}const Ws=et(Bs,[["render",Vs],["__scopeId","data-v-01a6f14e"]]);function Dn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ks(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wr(e){let t,n,o;e.length!==2?(t=Dn,n=(l,s)=>Dn(e(l),s),o=(l,s)=>e(l)-s):(t=e===Dn||e===Ks?e:Ys,n=e,o=e);function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const v=u+d>>>1;n(l[v],s)<0?u=v+1:d=v}while(u<d)}return u}function r(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const v=u+d>>>1;n(l[v],s)<=0?u=v+1:d=v}while(u<d)}return u}function a(l,s,u=0,d=l.length){const v=i(l,s,u,d-1);return v>u&&o(l[v-1],s)>-o(l[v],s)?v-1:v}return{left:i,center:a,right:r}}function Ys(){return 0}function Gs(e){return e===null?NaN:+e}const Qs=wr(Dn),Js=Qs.right;wr(Gs).center;const Zs=Js;class Ri extends Map{constructor(t,n=tl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(Li(this,t))}has(t){return super.has(Li(this,t))}set(t,n){return super.set(xs(this,t),n)}delete(t){return super.delete(el(this,t))}}function Li({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function xs({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function el({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function tl(e){return e!==null&&typeof e=="object"?e.valueOf():e}const nl=Math.sqrt(50),ol=Math.sqrt(10),il=Math.sqrt(2);function Wn(e,t,n){const o=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),a=r>=nl?10:r>=ol?5:r>=il?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Wn(e,t,n*2):[l,s,u]}function rl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[i,r,a]=o?Wn(t,e,n):Wn(e,t,n);if(!(r>=i))return[];const l=r-i+1,s=new Array(l);if(o)if(a<0)for(let u=0;u<l;++u)s[u]=(r-u)/-a;else for(let u=0;u<l;++u)s[u]=(r-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function Po(e,t,n){return t=+t,e=+e,n=+n,Wn(e,t,n)[2]}function al(e,t,n){t=+t,e=+e,n=+n;const o=t<e,i=o?Po(t,e,n):Po(e,t,n);return(o?-1:1)*(i<0?1/-i:i)}function sl(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ll(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++o<i;)r[o]=e+o*n;return r}var ul={value:()=>{}};function Vo(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Hn(n)}function Hn(e){this._=e}function cl(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Hn.prototype=Vo.prototype={constructor:Hn,on:function(e,t){var n=this._,o=cl(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=dl(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=qi(n[i],e.name,t);else if(t==null)for(i in n)n[i]=qi(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Hn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function dl(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function qi(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=ul,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var So="http://www.w3.org/1999/xhtml";const Ui={svg:"http://www.w3.org/2000/svg",xhtml:So,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ao(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ui.hasOwnProperty(t)?{space:Ui[t],local:e}:e}function fl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===So&&t.documentElement.namespaceURI===So?t.createElement(e):t.createElementNS(n,e)}}function ml(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Cr(e){var t=ao(e);return(t.local?ml:fl)(t)}function pl(){}function Wo(e){return e==null?pl:function(){return this.querySelector(e)}}function hl(e){typeof e!="function"&&(e=Wo(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=new Array(a),s,u,d=0;d<a;++d)(s=r[d])&&(u=e.call(s,s.__data__,d,r))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u);return new lt(o,this._parents)}function vl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gl(){return[]}function _r(e){return e==null?gl:function(){return this.querySelectorAll(e)}}function yl(e){return function(){return vl(e.apply(this,arguments))}}function bl(e){typeof e=="function"?e=yl(e):e=_r(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),i.push(s));return new lt(o,i)}function $r(e){return function(){return this.matches(e)}}function Ar(e){return function(t){return t.matches(e)}}var kl=Array.prototype.find;function wl(e){return function(){return kl.call(this.children,e)}}function Cl(){return this.firstElementChild}function _l(e){return this.select(e==null?Cl:wl(typeof e=="function"?e:Ar(e)))}var $l=Array.prototype.filter;function Al(){return Array.from(this.children)}function Il(e){return function(){return $l.call(this.children,e)}}function Pl(e){return this.selectAll(e==null?Al:Il(typeof e=="function"?e:Ar(e)))}function Sl(e){typeof e!="function"&&(e=$r(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new lt(o,this._parents)}function Ir(e){return new Array(e.length)}function Tl(){return new lt(this._enter||this._groups.map(Ir),this._parents)}function Kn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Kn.prototype={constructor:Kn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Nl(e){return function(){return e}}function Ml(e,t,n,o,i,r){for(var a=0,l,s=t.length,u=r.length;a<u;++a)(l=t[a])?(l.__data__=r[a],o[a]=l):n[a]=new Kn(e,r[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function Rl(e,t,n,o,i,r,a){var l,s,u=new Map,d=t.length,v=r.length,p=new Array(d),C;for(l=0;l<d;++l)(s=t[l])&&(p[l]=C=a.call(s,s.__data__,l,t)+"",u.has(C)?i[l]=s:u.set(C,s));for(l=0;l<v;++l)C=a.call(e,r[l],l,r)+"",(s=u.get(C))?(o[l]=s,s.__data__=r[l],u.delete(C)):n[l]=new Kn(e,r[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(p[l])===s&&(i[l]=s)}function Ll(e){return e.__data__}function ql(e,t){if(!arguments.length)return Array.from(this,Ll);var n=t?Rl:Ml,o=this._parents,i=this._groups;typeof e!="function"&&(e=Nl(e));for(var r=i.length,a=new Array(r),l=new Array(r),s=new Array(r),u=0;u<r;++u){var d=o[u],v=i[u],p=v.length,C=Ul(e.call(d,d&&d.__data__,u,o)),I=C.length,se=l[u]=new Array(I),g=a[u]=new Array(I),S=s[u]=new Array(p);n(d,v,se,g,S,C,t);for(var $=0,y=0,m,k;$<I;++$)if(m=se[$]){for($>=y&&(y=$+1);!(k=g[y])&&++y<I;);m._next=k||null}}return a=new lt(a,o),a._enter=l,a._exit=s,a}function Ul(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ol(){return new lt(this._exit||this._groups.map(Ir),this._parents)}function Bl(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Fl(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u=n[s],d=o[s],v=u.length,p=l[s]=new Array(v),C,I=0;I<v;++I)(C=u[I]||d[I])&&(p[I]=C);for(;s<i;++s)l[s]=n[s];return new lt(l,this._parents)}function El(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function jl(e){e||(e=Dl);function t(v,p){return v&&p?e(v.__data__,p.__data__):!v-!p}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],l=a.length,s=i[r]=new Array(l),u,d=0;d<l;++d)(u=a[d])&&(s[d]=u);s.sort(t)}return new lt(i,this._parents).order()}function Dl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Xl(){return Array.from(this)}function zl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function Vl(){let e=0;for(const t of this)++e;return e}function Wl(){return!this.node()}function Kl(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,l;r<a;++r)(l=i[r])&&e.call(l,l.__data__,r,i);return this}function Yl(e){return function(){this.removeAttribute(e)}}function Gl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ql(e,t){return function(){this.setAttribute(e,t)}}function Jl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function eu(e,t){var n=ao(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Gl:Yl:typeof t=="function"?n.local?xl:Zl:n.local?Jl:Ql)(n,t))}function Pr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tu(e){return function(){this.style.removeProperty(e)}}function nu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ou(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function iu(e,t,n){return arguments.length>1?this.each((t==null?tu:typeof t=="function"?ou:nu)(e,t,n??"")):ln(this.node(),e)}function ln(e,t){return e.style.getPropertyValue(t)||Pr(e).getComputedStyle(e,null).getPropertyValue(t)}function ru(e){return function(){delete this[e]}}function au(e,t){return function(){this[e]=t}}function su(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function lu(e,t){return arguments.length>1?this.each((t==null?ru:typeof t=="function"?su:au)(e,t)):this.node()[e]}function Sr(e){return e.trim().split(/^|\s+/)}function Ko(e){return e.classList||new Tr(e)}function Tr(e){this._node=e,this._names=Sr(e.getAttribute("class")||"")}Tr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nr(e,t){for(var n=Ko(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function Mr(e,t){for(var n=Ko(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function uu(e){return function(){Nr(this,e)}}function cu(e){return function(){Mr(this,e)}}function du(e,t){return function(){(t.apply(this,arguments)?Nr:Mr)(this,e)}}function fu(e,t){var n=Sr(e+"");if(arguments.length<2){for(var o=Ko(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?du:t?uu:cu)(n,t))}function mu(){this.textContent=""}function pu(e){return function(){this.textContent=e}}function hu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vu(e){return arguments.length?this.each(e==null?mu:(typeof e=="function"?hu:pu)(e)):this.node().textContent}function gu(){this.innerHTML=""}function yu(e){return function(){this.innerHTML=e}}function bu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ku(e){return arguments.length?this.each(e==null?gu:(typeof e=="function"?bu:yu)(e)):this.node().innerHTML}function wu(){this.nextSibling&&this.parentNode.appendChild(this)}function Cu(){return this.each(wu)}function _u(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $u(){return this.each(_u)}function Au(e){var t=typeof e=="function"?e:Cr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Iu(){return null}function Pu(e,t){var n=typeof e=="function"?e:Cr(e),o=t==null?Iu:typeof t=="function"?t:Wo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Su(){var e=this.parentNode;e&&e.removeChild(this)}function Tu(){return this.each(Su)}function Nu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ru(e){return this.select(e?Mu:Nu)}function Lu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function qu(e){return function(t){e.call(this,t,this.__data__)}}function Uu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Ou(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function Bu(e,t,n){return function(){var o=this.__on,i,r=qu(t);if(o){for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Fu(e,t,n){var o=Uu(e+""),i,r=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,d;s<u;++s)for(i=0,d=l[s];i<r;++i)if((a=o[i]).type===d.type&&a.name===d.name)return d.value}return}for(l=t?Bu:Ou,i=0;i<r;++i)this.each(l(o[i],t,n));return this}function Rr(e,t,n){var o=Pr(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Eu(e,t){return function(){return Rr(this,e,t)}}function ju(e,t){return function(){return Rr(this,e,t.apply(this,arguments))}}function Du(e,t){return this.each((typeof t=="function"?ju:Eu)(e,t))}function*Hu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var Lr=[null];function lt(e,t){this._groups=e,this._parents=t}function $n(){return new lt([[document.documentElement]],Lr)}function Xu(){return this}lt.prototype=$n.prototype={constructor:lt,select:hl,selectAll:bl,selectChild:_l,selectChildren:Pl,filter:Sl,data:ql,enter:Tl,exit:Ol,join:Bl,merge:Fl,selection:Xu,order:El,sort:jl,call:Hl,nodes:Xl,node:zl,size:Vl,empty:Wl,each:Kl,attr:eu,style:iu,property:lu,classed:fu,text:vu,html:ku,raise:Cu,lower:$u,append:Au,insert:Pu,remove:Tu,clone:Ru,datum:Lu,on:Fu,dispatch:Du,[Symbol.iterator]:Hu};function yt(e){return typeof e=="string"?new lt([[document.querySelector(e)]],[document.documentElement]):new lt([[e]],Lr)}function zu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Oi(e,t){if(e=zu(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const To={capture:!0,passive:!1};function No(e){e.preventDefault(),e.stopImmediatePropagation()}function Vu(e){var t=e.document.documentElement,n=yt(e).on("dragstart.drag",No,To);"onselectstart"in t?n.on("selectstart.drag",No,To):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Wu(e,t){var n=e.document.documentElement,o=yt(e).on("dragstart.drag",null);t&&(o.on("click.drag",No,To),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Yo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qr(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function An(){}var wn=.7,Yn=1/wn,an="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ku=/^#([0-9a-f]{3,8})$/,Yu=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),Gu=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Qu=new RegExp(`^rgba\\(${an},${an},${an},${Cn}\\)$`),Ju=new RegExp(`^rgba\\(${At},${At},${At},${Cn}\\)$`),Zu=new RegExp(`^hsl\\(${Cn},${At},${At}\\)$`),xu=new RegExp(`^hsla\\(${Cn},${At},${At},${Cn}\\)$`),Bi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yo(An,Kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fi,formatHex:Fi,formatHex8:ec,formatHsl:tc,formatRgb:Ei,toString:Ei});function Fi(){return this.rgb().formatHex()}function ec(){return this.rgb().formatHex8()}function tc(){return Ur(this).formatHsl()}function Ei(){return this.rgb().formatRgb()}function Kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ku.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ji(t):n===3?new Ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?On(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?On(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yu.exec(e))?new Ze(t[1],t[2],t[3],1):(t=Gu.exec(e))?new Ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qu.exec(e))?On(t[1],t[2],t[3],t[4]):(t=Ju.exec(e))?On(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zu.exec(e))?Xi(t[1],t[2]/100,t[3]/100,1):(t=xu.exec(e))?Xi(t[1],t[2]/100,t[3]/100,t[4]):Bi.hasOwnProperty(e)?ji(Bi[e]):e==="transparent"?new Ze(NaN,NaN,NaN,0):null}function ji(e){return new Ze(e>>16&255,e>>8&255,e&255,1)}function On(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ze(e,t,n,o)}function nc(e){return e instanceof An||(e=Kt(e)),e?(e=e.rgb(),new Ze(e.r,e.g,e.b,e.opacity)):new Ze}function Mo(e,t,n,o){return arguments.length===1?nc(e):new Ze(e,t,n,o??1)}function Ze(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Yo(Ze,Mo,qr(An,{brighter(e){return e=e==null?Yn:Math.pow(Yn,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wn:Math.pow(wn,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ze(Wt(this.r),Wt(this.g),Wt(this.b),Gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Di,formatHex:Di,formatHex8:oc,formatRgb:Hi,toString:Hi}));function Di(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function oc(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hi(){const e=Gn(this.opacity);return`${e===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${e===1?")":`, ${e})`}`}function Gn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vt(e){return e=Wt(e),(e<16?"0":"")+e.toString(16)}function Xi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bt(e,t,n,o)}function Ur(e){if(e instanceof bt)return new bt(e.h,e.s,e.l,e.opacity);if(e instanceof An||(e=Kt(e)),!e)return new bt;if(e instanceof bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(t===r?a=(n-o)/l+(n<o)*6:n===r?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new bt(a,l,s,e.opacity)}function ic(e,t,n,o){return arguments.length===1?Ur(e):new bt(e,t,n,o??1)}function bt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Yo(bt,ic,qr(An,{brighter(e){return e=e==null?Yn:Math.pow(Yn,e),new bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wn:Math.pow(wn,e),new bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new Ze(bo(e>=240?e-240:e+120,i,o),bo(e,i,o),bo(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new bt(zi(this.h),Bn(this.s),Bn(this.l),Gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gn(this.opacity);return`${e===1?"hsl(":"hsla("}${zi(this.h)}, ${Bn(this.s)*100}%, ${Bn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zi(e){return e=(e||0)%360,e<0?e+360:e}function Bn(e){return Math.max(0,Math.min(1,e||0))}function bo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Go=e=>()=>e;function rc(e,t){return function(n){return e+n*t}}function ac(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function sc(e){return(e=+e)==1?Or:function(t,n){return n-t?ac(t,n,e):Go(isNaN(t)?n:t)}}function Or(e,t){var n=t-e;return n?rc(e,n):Go(isNaN(e)?t:e)}const Qn=function e(t){var n=sc(t);function o(i,r){var a=n((i=Mo(i)).r,(r=Mo(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=Or(i.opacity,r.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return o.gamma=e,o}(1);function lc(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function uc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cc(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),a;for(a=0;a<o;++a)i[a]=so(e[a],t[a]);for(;a<n;++a)r[a]=t[a];return function(l){for(a=0;a<o;++a)r[a]=i[a](l);return r}}function dc(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fc(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=so(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Ro=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ko=new RegExp(Ro.source,"g");function mc(e){return function(){return e}}function pc(e){return function(t){return e(t)+""}}function Br(e,t){var n=Ro.lastIndex=ko.lastIndex=0,o,i,r,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=Ro.exec(e))&&(i=ko.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),l[a]?l[a]+=r:l[++a]=r),(o=o[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:gt(o,i)})),n=ko.lastIndex;return n<t.length&&(r=t.slice(n),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?pc(s[0].x):mc(t):(t=s.length,function(u){for(var d=0,v;d<t;++d)l[(v=s[d]).i]=v.x(u);return l.join("")})}function so(e,t){var n=typeof t,o;return t==null||n==="boolean"?Go(t):(n==="number"?gt:n==="string"?(o=Kt(t))?(t=o,Qn):Br:t instanceof Kt?Qn:t instanceof Date?dc:uc(t)?lc:Array.isArray(t)?cc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fc:gt)(e,t)}function hc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Vi=180/Math.PI,Lo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fr(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Vi,skewX:Math.atan(s)*Vi,scaleX:a,scaleY:l}}var Fn;function vc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Lo:Fr(t.a,t.b,t.c,t.d,t.e,t.f)}function gc(e){return e==null||(Fn||(Fn=document.createElementNS("http://www.w3.org/2000/svg","g")),Fn.setAttribute("transform",e),!(e=Fn.transform.baseVal.consolidate()))?Lo:(e=e.matrix,Fr(e.a,e.b,e.c,e.d,e.e,e.f))}function Er(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,d,v,p,C,I){if(u!==v||d!==p){var se=C.push("translate(",null,t,null,n);I.push({i:se-4,x:gt(u,v)},{i:se-2,x:gt(d,p)})}else(v||p)&&C.push("translate("+v+t+p+n)}function a(u,d,v,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:v.push(i(v)+"rotate(",null,o)-2,x:gt(u,d)})):d&&v.push(i(v)+"rotate("+d+o)}function l(u,d,v,p){u!==d?p.push({i:v.push(i(v)+"skewX(",null,o)-2,x:gt(u,d)}):d&&v.push(i(v)+"skewX("+d+o)}function s(u,d,v,p,C,I){if(u!==v||d!==p){var se=C.push(i(C)+"scale(",null,",",null,")");I.push({i:se-4,x:gt(u,v)},{i:se-2,x:gt(d,p)})}else(v!==1||p!==1)&&C.push(i(C)+"scale("+v+","+p+")")}return function(u,d){var v=[],p=[];return u=e(u),d=e(d),r(u.translateX,u.translateY,d.translateX,d.translateY,v,p),a(u.rotate,d.rotate,v,p),l(u.skewX,d.skewX,v,p),s(u.scaleX,u.scaleY,d.scaleX,d.scaleY,v,p),u=d=null,function(C){for(var I=-1,se=p.length,g;++I<se;)v[(g=p[I]).i]=g.x(C);return v.join("")}}}var yc=Er(vc,"px, ","px)","deg)"),bc=Er(gc,", ",")",")"),un=0,gn=0,hn=0,jr=1e3,Jn,yn,Zn=0,Yt=0,lo=0,_n=typeof performance=="object"&&performance.now?performance:Date,Dr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qo(){return Yt||(Dr(kc),Yt=_n.now()+lo)}function kc(){Yt=0}function xn(){this._call=this._time=this._next=null}xn.prototype=Hr.prototype={constructor:xn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qo():+n)+(t==null?0:+t),!this._next&&yn!==this&&(yn?yn._next=this:Jn=this,yn=this),this._call=e,this._time=n,qo()},stop:function(){this._call&&(this._call=null,this._time=1/0,qo())}};function Hr(e,t,n){var o=new xn;return o.restart(e,t,n),o}function wc(){Qo(),++un;for(var e=Jn,t;e;)(t=Yt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--un}function Wi(){Yt=(Zn=_n.now())+lo,un=gn=0;try{wc()}finally{un=0,_c(),Yt=0}}function Cc(){var e=_n.now(),t=e-Zn;t>jr&&(lo-=t,Zn=e)}function _c(){for(var e,t=Jn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jn=n);yn=e,qo(o)}function qo(e){if(!un){gn&&(gn=clearTimeout(gn));var t=e-Yt;t>24?(e<1/0&&(gn=setTimeout(Wi,e-_n.now()-lo)),hn&&(hn=clearInterval(hn))):(hn||(Zn=_n.now(),hn=setInterval(Cc,jr)),un=1,Dr(Wi))}}function Ki(e,t,n){var o=new xn;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var $c=Vo("start","end","cancel","interrupt"),Ac=[],Xr=0,Yi=1,Uo=2,Xn=3,Gi=4,Oo=5,zn=6;function uo(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Ic(e,n,{name:t,index:o,group:i,on:$c,tween:Ac,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Xr})}function Jo(e,t){var n=kt(e,t);if(n.state>Xr)throw new Error("too late; already scheduled");return n}function It(e,t){var n=kt(e,t);if(n.state>Xn)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ic(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=Hr(r,0,n.time);function r(u){n.state=Yi,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,v,p,C;if(n.state!==Yi)return s();for(d in o)if(C=o[d],C.name===n.name){if(C.state===Xn)return Ki(a);C.state===Gi?(C.state=zn,C.timer.stop(),C.on.call("interrupt",e,e.__data__,C.index,C.group),delete o[d]):+d<t&&(C.state=zn,C.timer.stop(),C.on.call("cancel",e,e.__data__,C.index,C.group),delete o[d])}if(Ki(function(){n.state===Xn&&(n.state=Gi,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Uo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Uo){for(n.state=Xn,i=new Array(p=n.tween.length),d=0,v=-1;d<p;++d)(C=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++v]=C);i.length=v+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Oo,1),v=-1,p=i.length;++v<p;)i[v].call(e,d);n.state===Oo&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=zn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Bo(e,t){var n=e.__transition,o,i,r=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>Uo&&o.state<Oo,o.state=zn,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function Pc(e){return this.each(function(){Bo(this,e)})}function Sc(e,t){var n,o;return function(){var i=It(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Tc(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=It(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function Nc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=kt(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?Sc:Tc)(n,e,t))}function Zo(e,t,n){var o=e._id;return e.each(function(){var i=It(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return kt(i,o).value[t]}}function zr(e,t){var n;return(typeof t=="number"?gt:t instanceof Kt?Qn:(n=Kt(t))?(t=n,Qn):Br)(e,t)}function Mc(e){return function(){this.removeAttribute(e)}}function Rc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lc(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function qc(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function Uc(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Oc(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Bc(e,t){var n=ao(e),o=n==="transform"?bc:zr;return this.attrTween(e,typeof t=="function"?(n.local?Oc:Uc)(n,o,Zo(this,"attr."+e,t)):t==null?(n.local?Rc:Mc)(n):(n.local?qc:Lc)(n,o,t))}function Fc(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ec(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function jc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Ec(e,r)),n}return i._value=t,i}function Dc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Fc(e,r)),n}return i._value=t,i}function Hc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ao(e);return this.tween(n,(o.local?jc:Dc)(o,t))}function Xc(e,t){return function(){Jo(this,e).delay=+t.apply(this,arguments)}}function zc(e,t){return t=+t,function(){Jo(this,e).delay=t}}function Vc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Xc:zc)(t,e)):kt(this.node(),t).delay}function Wc(e,t){return function(){It(this,e).duration=+t.apply(this,arguments)}}function Kc(e,t){return t=+t,function(){It(this,e).duration=t}}function Yc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Wc:Kc)(t,e)):kt(this.node(),t).duration}function Gc(e,t){if(typeof t!="function")throw new Error;return function(){It(this,e).ease=t}}function Qc(e){var t=this._id;return arguments.length?this.each(Gc(t,e)):kt(this.node(),t).ease}function Jc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;It(this,e).ease=n}}function Zc(e){if(typeof e!="function")throw new Error;return this.each(Jc(this._id,e))}function xc(e){typeof e!="function"&&(e=$r(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new Ut(o,this._parents,this._name,this._id)}function ed(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s=t[l],u=n[l],d=s.length,v=a[l]=new Array(d),p,C=0;C<d;++C)(p=s[C]||u[C])&&(v[C]=p);for(;l<o;++l)a[l]=t[l];return new Ut(a,this._parents,this._name,this._id)}function td(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function nd(e,t,n){var o,i,r=td(t)?Jo:It;return function(){var a=r(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(t,n),a.on=i}}function od(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(nd(n,e,t))}function id(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function rd(){return this.on("end.remove",id(this._id))}function ad(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wo(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l=o[a],s=l.length,u=r[a]=new Array(s),d,v,p=0;p<s;++p)(d=l[p])&&(v=e.call(d,d.__data__,p,l))&&("__data__"in d&&(v.__data__=d.__data__),u[p]=v,uo(u[p],t,n,p,u,kt(d,n)));return new Ut(r,this._parents,t,n)}function sd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_r(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s=o[l],u=s.length,d,v=0;v<u;++v)if(d=s[v]){for(var p=e.call(d,d.__data__,v,s),C,I=kt(d,n),se=0,g=p.length;se<g;++se)(C=p[se])&&uo(C,t,n,se,p,I);r.push(p),a.push(d)}return new Ut(r,a,t,n)}var ld=$n.prototype.constructor;function ud(){return new ld(this._groups,this._parents)}function cd(e,t){var n,o,i;return function(){var r=ln(this,e),a=(this.style.removeProperty(e),ln(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function Vr(e){return function(){this.style.removeProperty(e)}}function dd(e,t,n){var o,i=n+"",r;return function(){var a=ln(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function fd(e,t,n){var o,i,r;return function(){var a=ln(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),ln(this,e))),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l))}}function md(e,t){var n,o,i,r="style."+t,a="end."+r,l;return function(){var s=It(this,e),u=s.on,d=s.value[r]==null?l||(l=Vr(t)):void 0;(u!==n||i!==d)&&(o=(n=u).copy()).on(a,i=d),s.on=o}}function pd(e,t,n){var o=(e+="")=="transform"?yc:zr;return t==null?this.styleTween(e,cd(e,o)).on("end.style."+e,Vr(e)):typeof t=="function"?this.styleTween(e,fd(e,o,Zo(this,"style."+e,t))).each(md(this._id,e)):this.styleTween(e,dd(e,o,t),n).on("end.style."+e,null)}function hd(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function vd(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&hd(e,a,n)),o}return r._value=t,r}function gd(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,vd(e,t,n??""))}function yd(e){return function(){this.textContent=e}}function bd(e){return function(){var t=e(this);this.textContent=t??""}}function kd(e){return this.tween("text",typeof e=="function"?bd(Zo(this,"text",e)):yd(e==null?"":e+""))}function wd(e){return function(t){this.textContent=e.call(this,t)}}function Cd(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&wd(i)),t}return o._value=e,o}function _d(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Cd(e))}function $d(){for(var e=this._name,t=this._id,n=Wr(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var d=kt(s,t);uo(s,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ut(o,this._parents,e,n)}function Ad(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i===0&&r()}};n.each(function(){var u=It(this,o),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})}var Id=0;function Ut(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Wr(){return++Id}var Rt=$n.prototype;Ut.prototype={constructor:Ut,select:ad,selectAll:sd,selectChild:Rt.selectChild,selectChildren:Rt.selectChildren,filter:xc,merge:ed,selection:ud,transition:$d,call:Rt.call,nodes:Rt.nodes,node:Rt.node,size:Rt.size,empty:Rt.empty,each:Rt.each,on:od,attr:Bc,attrTween:Hc,style:pd,styleTween:gd,text:kd,textTween:_d,remove:rd,tween:Nc,delay:Vc,duration:Yc,ease:Qc,easeVarying:Zc,end:Ad,[Symbol.iterator]:Rt[Symbol.iterator]};function Pd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Sd={time:null,delay:0,duration:250,ease:Pd};function Td(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Nd(e){var t,n;e instanceof Ut?(t=e._id,e=e._name):(t=Wr(),(n=Sd).time=Qo(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&uo(s,e,t,u,a,n||Td(s,t));return new Ut(o,this._parents,e,t)}$n.prototype.interrupt=Pc;$n.prototype.transition=Nd;const wo=e=>()=>e;function Md(e,{sourceEvent:t,target:n,selection:o,mode:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Rd(e){e.stopImmediatePropagation()}function Co(e){e.preventDefault(),e.stopImmediatePropagation()}var Qi={name:"drag"},_o={name:"space"},nn={name:"handle"},on={name:"center"};const{abs:Ji,max:We,min:Ke}=Math;function Zi(e){return[+e[0],+e[1]]}function xi(e){return[Zi(e[0]),Zi(e[1])]}var Vn={name:"x",handles:["w","e"].map(eo),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},$o={name:"y",handles:["n","s"].map(eo),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Lt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},er={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},tr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ld={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},qd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function eo(e){return{type:e}}function Ud(e){return!e.ctrlKey&&!e.button}function Od(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Bd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ao(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Fd(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Ed(){return jd(Vn)}function jd(e){var t=Od,n=Ud,o=Bd,i=!0,r=Vo("start","brush","end"),a=6,l;function s(g){var S=g.property("__brush",se).selectAll(".overlay").data([eo("overlay")]);S.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Lt.overlay).merge(S).each(function(){var y=Ao(this).extent;yt(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),g.selectAll(".selection").data([eo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Lt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $=g.selectAll(".handle").data(e.handles,function(y){return y.type});$.exit().remove(),$.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return Lt[y.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(o).on("touchstart.brush",p).on("touchmove.brush",C).on("touchend.brush touchcancel.brush",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(g,S,$){g.tween?g.on("start.brush",function(y){d(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){d(this,arguments).end(y)}).tween("brush",function(){var y=this,m=y.__brush,k=d(y,arguments),U=m.selection,H=e.input(typeof S=="function"?S.apply(this,arguments):S,m.extent),Z=so(U,H);function de(ee){m.selection=ee===1&&H===null?null:Z(ee),u.call(y),k.brush()}return U!==null&&H!==null?de:de(1)}):g.each(function(){var y=this,m=arguments,k=y.__brush,U=e.input(typeof S=="function"?S.apply(y,m):S,k.extent),H=d(y,m).beforestart();Bo(y),k.selection=U===null?null:U,u.call(y),H.start($).brush($).end($)})},s.clear=function(g,S){s.move(g,null,S)};function u(){var g=yt(this),S=Ao(this).selection;S?(g.selectAll(".selection").style("display",null).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1]),g.selectAll(".handle").style("display",null).attr("x",function($){return $.type[$.type.length-1]==="e"?S[1][0]-a/2:S[0][0]-a/2}).attr("y",function($){return $.type[0]==="s"?S[1][1]-a/2:S[0][1]-a/2}).attr("width",function($){return $.type==="n"||$.type==="s"?S[1][0]-S[0][0]+a:a}).attr("height",function($){return $.type==="e"||$.type==="w"?S[1][1]-S[0][1]+a:a})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(g,S,$){var y=g.__brush.emitter;return y&&(!$||!y.clean)?y:new v(g,S,$)}function v(g,S,$){this.that=g,this.args=S,this.state=g.__brush,this.active=0,this.clean=$}v.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,S){return this.starting?(this.starting=!1,this.emit("start",g,S)):this.emit("brush",g),this},brush:function(g,S){return this.emit("brush",g,S),this},end:function(g,S){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,S)),this},emit:function(g,S,$){var y=yt(this.that).datum();r.call(g,this.that,new Md(g,{sourceEvent:S,target:s,selection:e.output(this.state.selection),mode:$,dispatch:r}),y)}};function p(g){if(l&&!g.touches||!n.apply(this,arguments))return;var S=this,$=g.target.__data__.type,y=(i&&g.metaKey?$="overlay":$)==="selection"?Qi:i&&g.altKey?on:nn,m=e===$o?null:Ld[$],k=e===Vn?null:qd[$],U=Ao(S),H=U.extent,Z=U.selection,de=H[0][0],ee,T,J=H[0][1],q,X,ke=H[1][0],V,re,le=H[1][1],te,ne,fe=0,Y=0,G,tt=m&&k&&i&&g.shiftKey,E,wt,Re=Array.from(g.touches||[g],W=>{const ue=W.identifier;return W=Oi(W,S),W.point0=W.slice(),W.identifier=ue,W});Bo(S);var Qe=d(S,arguments,!0).beforestart();if($==="overlay"){Z&&(G=!0);const W=[Re[0],Re[1]||Re[0]];U.selection=Z=[[ee=e===$o?de:Ke(W[0][0],W[1][0]),q=e===Vn?J:Ke(W[0][1],W[1][1])],[V=e===$o?ke:We(W[0][0],W[1][0]),te=e===Vn?le:We(W[0][1],W[1][1])]],Re.length>1&&Ee(g)}else ee=Z[0][0],q=Z[0][1],V=Z[1][0],te=Z[1][1];T=ee,X=q,re=V,ne=te;var Ct=yt(S).attr("pointer-events","none"),Je=Ct.selectAll(".overlay").attr("cursor",Lt[$]);if(g.touches)Qe.moved=ze,Qe.ended=Ve;else{var Pt=yt(g.view).on("mousemove.brush",ze,!0).on("mouseup.brush",Ve,!0);i&&Pt.on("keydown.brush",dt,!0).on("keyup.brush",He,!0),Vu(g.view)}u.call(S),Qe.start(g,y.name);function ze(W){for(const ue of W.changedTouches||[W])for(const ut of Re)ut.identifier===ue.identifier&&(ut.cur=Oi(ue,S));if(tt&&!E&&!wt&&Re.length===1){const ue=Re[0];Ji(ue.cur[0]-ue[0])>Ji(ue.cur[1]-ue[1])?wt=!0:E=!0}for(const ue of Re)ue.cur&&(ue[0]=ue.cur[0],ue[1]=ue.cur[1]);G=!0,Co(W),Ee(W)}function Ee(W){const ue=Re[0],ut=ue.point0;var j;switch(fe=ue[0]-ut[0],Y=ue[1]-ut[1],y){case _o:case Qi:{m&&(fe=We(de-ee,Ke(ke-V,fe)),T=ee+fe,re=V+fe),k&&(Y=We(J-q,Ke(le-te,Y)),X=q+Y,ne=te+Y);break}case nn:{Re[1]?(m&&(T=We(de,Ke(ke,Re[0][0])),re=We(de,Ke(ke,Re[1][0])),m=1),k&&(X=We(J,Ke(le,Re[0][1])),ne=We(J,Ke(le,Re[1][1])),k=1)):(m<0?(fe=We(de-ee,Ke(ke-ee,fe)),T=ee+fe,re=V):m>0&&(fe=We(de-V,Ke(ke-V,fe)),T=ee,re=V+fe),k<0?(Y=We(J-q,Ke(le-q,Y)),X=q+Y,ne=te):k>0&&(Y=We(J-te,Ke(le-te,Y)),X=q,ne=te+Y));break}case on:{m&&(T=We(de,Ke(ke,ee-fe*m)),re=We(de,Ke(ke,V+fe*m))),k&&(X=We(J,Ke(le,q-Y*k)),ne=We(J,Ke(le,te+Y*k)));break}}re<T&&(m*=-1,j=ee,ee=V,V=j,j=T,T=re,re=j,$ in er&&Je.attr("cursor",Lt[$=er[$]])),ne<X&&(k*=-1,j=q,q=te,te=j,j=X,X=ne,ne=j,$ in tr&&Je.attr("cursor",Lt[$=tr[$]])),U.selection&&(Z=U.selection),E&&(T=Z[0][0],re=Z[1][0]),wt&&(X=Z[0][1],ne=Z[1][1]),(Z[0][0]!==T||Z[0][1]!==X||Z[1][0]!==re||Z[1][1]!==ne)&&(U.selection=[[T,X],[re,ne]],u.call(S),Qe.brush(W,y.name))}function Ve(W){if(Rd(W),W.touches){if(W.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Wu(W.view,G),Pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ct.attr("pointer-events","all"),Je.attr("cursor",Lt.overlay),U.selection&&(Z=U.selection),Fd(Z)&&(U.selection=null,u.call(S)),Qe.end(W,y.name)}function dt(W){switch(W.keyCode){case 16:{tt=m&&k;break}case 18:{y===nn&&(m&&(V=re-fe*m,ee=T+fe*m),k&&(te=ne-Y*k,q=X+Y*k),y=on,Ee(W));break}case 32:{(y===nn||y===on)&&(m<0?V=re-fe:m>0&&(ee=T-fe),k<0?te=ne-Y:k>0&&(q=X-Y),y=_o,Je.attr("cursor",Lt.selection),Ee(W));break}default:return}Co(W)}function He(W){switch(W.keyCode){case 16:{tt&&(E=wt=tt=!1,Ee(W));break}case 18:{y===on&&(m<0?V=re:m>0&&(ee=T),k<0?te=ne:k>0&&(q=X),y=nn,Ee(W));break}case 32:{y===_o&&(W.altKey?(m&&(V=re-fe*m,ee=T+fe*m),k&&(te=ne-Y*k,q=X+Y*k),y=on):(m<0?V=re:m>0&&(ee=T),k<0?te=ne:k>0&&(q=X),y=nn),Je.attr("cursor",Lt[$]),Ee(W));break}default:return}Co(W)}}function C(g){d(this,arguments).moved(g)}function I(g){d(this,arguments).ended(g)}function se(){var g=this.__brush||{selection:null};return g.extent=xi(t.apply(this,arguments)),g.dim=e,g}return s.extent=function(g){return arguments.length?(t=typeof g=="function"?g:wo(xi(g)),s):t},s.filter=function(g){return arguments.length?(n=typeof g=="function"?g:wo(!!g),s):n},s.touchable=function(g){return arguments.length?(o=typeof g=="function"?g:wo(!!g),s):o},s.handleSize=function(g){return arguments.length?(a=+g,s):a},s.keyModifiers=function(g){return arguments.length?(i=!!g,s):i},s.on=function(){var g=r.on.apply(r,arguments);return g===r?s:g},s}function Dd(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function to(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function cn(e){return e=to(Math.abs(e)),e?e[1]:NaN}function Hd(e,t){return function(n,o){for(var i=n.length,r=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>o&&(l=Math.max(1,o-s)),r.push(n.substring(i-=l,i+l)),!((s+=l+1)>o));)l=e[a=(a+1)%e.length];return r.reverse().join(t)}}function Xd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function no(e){if(!(t=zd.exec(e)))throw new Error("invalid format: "+e);var t;return new xo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}no.prototype=xo.prototype;function xo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vd(e){e:for(var t=e.length,n=1,o=-1,i;n<t;++n)switch(e[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var Kr;function Wd(e,t){var n=to(e,t);if(!n)return e+"";var o=n[0],i=n[1],r=i-(Kr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+to(e,Math.max(0,t+r-1))[0]}function nr(e,t){var n=to(e,t);if(!n)return e+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const or={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dd,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nr(e*100,t),r:nr,s:Wd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ir(e){return e}var rr=Array.prototype.map,ar=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kd(e){var t=e.grouping===void 0||e.thousands===void 0?ir:Hd(rr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?ir:Xd(rr.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(v){v=no(v);var p=v.fill,C=v.align,I=v.sign,se=v.symbol,g=v.zero,S=v.width,$=v.comma,y=v.precision,m=v.trim,k=v.type;k==="n"?($=!0,k="g"):or[k]||(y===void 0&&(y=12),m=!0,k="g"),(g||p==="0"&&C==="=")&&(g=!0,p="0",C="=");var U=se==="$"?n:se==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",H=se==="$"?o:/[%p]/.test(k)?a:"",Z=or[k],de=/[defgprs%]/.test(k);y=y===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function ee(T){var J=U,q=H,X,ke,V;if(k==="c")q=Z(T)+q,T="";else{T=+T;var re=T<0||1/T<0;if(T=isNaN(T)?s:Z(Math.abs(T),y),m&&(T=Vd(T)),re&&+T==0&&I!=="+"&&(re=!1),J=(re?I==="("?I:l:I==="-"||I==="("?"":I)+J,q=(k==="s"?ar[8+Kr/3]:"")+q+(re&&I==="("?")":""),de){for(X=-1,ke=T.length;++X<ke;)if(V=T.charCodeAt(X),48>V||V>57){q=(V===46?i+T.slice(X+1):T.slice(X))+q,T=T.slice(0,X);break}}}$&&!g&&(T=t(T,1/0));var le=J.length+T.length+q.length,te=le<S?new Array(S-le+1).join(p):"";switch($&&g&&(T=t(te+T,te.length?S-q.length:1/0),te=""),C){case"<":T=J+T+q+te;break;case"=":T=J+te+T+q;break;case"^":T=te.slice(0,le=te.length>>1)+J+T+q+te.slice(le);break;default:T=te+J+T+q;break}return r(T)}return ee.toString=function(){return v+""},ee}function d(v,p){var C=u((v=no(v),v.type="f",v)),I=Math.max(-8,Math.min(8,Math.floor(cn(p)/3)))*3,se=Math.pow(10,-I),g=ar[8+I/3];return function(S){return C(se*S)+g}}return{format:u,formatPrefix:d}}var En,Yr,Gr;Yd({thousands:",",grouping:[3],currency:["$",""]});function Yd(e){return En=Kd(e),Yr=En.format,Gr=En.formatPrefix,En}function Gd(e){return Math.max(0,-cn(Math.abs(e)))}function Qd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cn(t)/3)))*3-cn(Math.abs(e)))}function Jd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cn(t)-cn(e))+1}function ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const sr=Symbol("implicit");function Qr(){var e=new Ri,t=[],n=[],o=sr;function i(r){let a=e.get(r);if(a===void 0){if(o!==sr)return o;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Ri;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(o=r,i):o},i.copy=function(){return Qr(t,n).unknown(o)},ei.apply(i,arguments),i}function Jr(){var e=Qr().unknown(void 0),t=e.domain,n=e.range,o=0,i=1,r,a,l=!1,s=0,u=0,d=.5;delete e.unknown;function v(){var p=t().length,C=i<o,I=C?i:o,se=C?o:i;r=(se-I)/Math.max(1,p-s+u*2),l&&(r=Math.floor(r)),I+=(se-I-r*(p-s))*d,a=r*(1-s),l&&(I=Math.round(I),a=Math.round(a));var g=ll(p).map(function(S){return I+r*S});return n(C?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),v()):t()},e.range=function(p){return arguments.length?([o,i]=p,o=+o,i=+i,v()):[o,i]},e.rangeRound=function(p){return[o,i]=p,o=+o,i=+i,l=!0,v()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(p){return arguments.length?(l=!!p,v()):l},e.padding=function(p){return arguments.length?(s=Math.min(1,u=+p),v()):s},e.paddingInner=function(p){return arguments.length?(s=Math.min(1,p),v()):s},e.paddingOuter=function(p){return arguments.length?(u=+p,v()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),v()):d},e.copy=function(){return Jr(t(),[o,i]).round(l).paddingInner(s).paddingOuter(u).align(d)},ei.apply(v(),arguments)}function Zd(e){return function(){return e}}function xd(e){return+e}var lr=[0,1];function rn(e){return e}function Fo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zd(isNaN(t)?NaN:.5)}function ef(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function tf(e,t,n){var o=e[0],i=e[1],r=t[0],a=t[1];return i<o?(o=Fo(i,o),r=n(a,r)):(o=Fo(o,i),r=n(r,a)),function(l){return r(o(l))}}function nf(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),r=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)i[a]=Fo(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(l){var s=Zs(e,l,1,o)-1;return r[s](i[s](l))}}function of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rf(){var e=lr,t=lr,n=so,o,i,r,a=rn,l,s,u;function d(){var p=Math.min(e.length,t.length);return a!==rn&&(a=ef(e[0],e[p-1])),l=p>2?nf:tf,s=u=null,v}function v(p){return p==null||isNaN(p=+p)?r:(s||(s=l(e.map(o),t,n)))(o(a(p)))}return v.invert=function(p){return a(i((u||(u=l(t,e.map(o),gt)))(p)))},v.domain=function(p){return arguments.length?(e=Array.from(p,xd),d()):e.slice()},v.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},v.rangeRound=function(p){return t=Array.from(p),n=hc,d()},v.clamp=function(p){return arguments.length?(a=p?!0:rn,d()):a!==rn},v.interpolate=function(p){return arguments.length?(n=p,d()):n},v.unknown=function(p){return arguments.length?(r=p,v):r},function(p,C){return o=p,i=C,d()}}function af(){return rf()(rn,rn)}function sf(e,t,n,o){var i=al(e,t,n),r;switch(o=no(o??",f"),o.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(r=Qd(i,a))&&(o.precision=r),Gr(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=Jd(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=Gd(i))&&(o.precision=r-(o.type==="%")*2);break}}return Yr(o)}function lf(e){var t=e.domain;return e.ticks=function(n){var o=t();return rl(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var i=t();return sf(i[0],i[i.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),i=0,r=o.length-1,a=o[i],l=o[r],s,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=r,r=u);d-- >0;){if(u=Po(a,l,n),u===s)return o[i]=a,o[r]=l,t(o);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function Zr(){var e=af();return e.copy=function(){return of(e,Zr())},ei.apply(e,arguments),lf(e)}function bn(e,t,n){this.k=e,this.x=t,this.y=n}bn.prototype={constructor:bn,scale:function(e){return e===1?this:new bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bn.prototype;function ur(e,t,n){const o=new F(10).pow(t-n);return new F(1.0001).pow(e).mul(o)}const uf=xe({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,t){const n=N(1),o=N(""),i=N(""),r=x(()=>{var m,k,U;return v.sqrtPriceX64ToPrice((m=e.poolInfo)==null?void 0:m.current_sqrt_price,(k=e.poolInfo)==null?void 0:k.coinA.decimals,(U=e.poolInfo)==null?void 0:U.coinB.decimals).toString()}),a=x(()=>{let m=0;return e.direction?m=(Number(e.minPrice)/Number(r.value)-1)*100:m=(Number(e.minPrice)/Number(1/Number(r.value))-1)*100,m=m>0&&m<.1?.1:m,m=m<0&&m>-.1?-.1:m,m}),l=x(()=>{let m=0;return e.direction?m=(Number(e.maxPrice)/Number(r.value)-1)*100:m=(Number(e.maxPrice)/Number(1/Number(r.value))-1)*100,m=m>0&&m<.1?.1:m,m=m<0&&m>-.1?-.1:m,m}),s=st(),u=x(()=>s),d=x(()=>u.value.chainName?Eo(u.value.chainName):{}),{TickMath:v,getNearestTickByTick:p}=d.value,C=()=>{const m=n.value/2;n.value=m,g(e.poolInfo,m)},I=()=>{const m=n.value*2;n.value=m,g(e.poolInfo,m)},se=(m=[])=>{let k=6;const U=Math.abs(Number(m[0])-Number(m[m.length-1]));return U>=6?k=0:U>=1?k=1:U>=.1?k=2:U>=.01?k=3:U>=.001?k=4:U>=1e-4?k=5:U>=1e-5?k=6:U>=1e-6?k=7:U>=1e-7&&(k=8),k},g=(m,k=1)=>{if(m&&m.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const U=Number(e.poolInfo.current_tick_index);let H=U+100*k,Z=U-100*k,de,ee;e.maxPrice==="∞"?ee=0:e.direction?ee=v.priceToTickIndex(new F(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):ee=v.priceToTickIndex(new F(1/Number(e.minPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals),e.minPrice==="0"?de=0:e.direction?de=v.priceToTickIndex(new F(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):de=v.priceToTickIndex(new F(1/Number(e.maxPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals);let T=0;if(e.currentPriceTab!=="full range"){if(U>=de&&U<=ee){const Y=U-de,G=ee-U;T=Math.max(Math.abs(Y),Math.abs(G))}else U<de?T=Math.abs(ee-U):T=Math.abs(U-de);H=U+T+100*k,Z=U-T-100*k}else{const Y=(Math.abs(U)>5e3,2e4);H=U+Y*k,Z=U-Y*k}Z<-443636&&(Z=-443636),H>443636&&(H=443636);const J=new F(m.liquidity).div(Math.pow(10,8)).toString(),q=e.tickList,X=[],ke=[];let V={};for(let Y=0;Y<q.length;Y++){if(V=q[Y],V.index<=U&&V.index>=Z){if(X.length<1&&Y!==0){const G=q[Y-1];X.unshift({...G,index:Z})}X.unshift(V)}else if(V.index>U&&V.index<=H&&(ke.push(V),X.length<1&&Y!==0)){const G=q[Y-1];X.push({...G,index:Z})}if(V.index>H){const G=q[Y];if(ke.push({...G,index:H}),X.length<1&&Y!==0){const tt=q[Y-1];X.push({...tt,index:Z})}break}}let re="0";for(let Y=X.length-1;Y>=0;Y--)re=new F(re).plus(new F(X[Y].liquidityNet.toString()).div(Math.pow(10,8))).toString(),X[Y].liquityAmount=re;let le=J;for(let Y=0;Y<ke.length;Y++)le=new F(le).plus(new F(ke[Y].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ke[Y].liquityAmount=le;let te=[];const ne=q&&q.length>0?{index:U,liquityAmount:Number(J)}:{index:U,liquityAmount:0};(X.length>0||ke.length>0)&&(te=[...X.reverse(),ne,...ke],e.direction||(te=te.reverse()));const fe=[];q.forEach(Y=>{fe.push({...Y,liquidityGross:Y.liquidityGross.toString(),liquidityNet:Y.liquidityNet.toString()})}),$(te,Z,H,de,ee,U)}};let S=N(!1);oo(()=>{document.body.clientWidth<750?S.value=!1:S.value=!0,window.onresize=()=>{document.body.clientWidth<750?S.value=!1:S.value=!0,g(e.poolInfo,n.value)}});const $=(m,k,U,H,Z,de)=>{let ee,T;e.direction?(ee=e.before7dContractPriceLowest?v.priceToTickIndex(new F(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?v.priceToTickIndex(new F(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(ee=e.before7dContractPriceLowest?v.priceToTickIndex(new F(1/Number(e.before7dContractPriceLowest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?v.priceToTickIndex(new F(1/Number(e.before7dContractPriceHighest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const J={top:30,right:35,bottom:20,left:55};let q,X;S.value?(q=460-J.left-J.right,X=205-J.top-J.bottom):(q=340-J.left-J.right,X=205-J.top-J.bottom);const ke=U-k,V=parseInt(String(ke/4));let re=[k+V/4,k+V,k+2*V,U-V,U-V/4];const le=k,te=U,ne=q/(te-le);e.currentPriceTab==="full range"&&(re=[k,k+2*V,U]);const fe=re.map(j=>e.direction?ur(j,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():1/ur(j,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),Y=se(fe);yt("#chart").selectAll("*").remove();const G=yt("#chart").attr("width",q+J.left+J.right).attr("height",X+J.top+J.bottom).append("g").attr("transform",`translate(${J.left},${J.right})`),tt=sl(m,function(j){return Number(Math.abs(j.liquityAmount))})||0,E=Zr().range([0,X]).domain([tt,0]);Jr().rangeRound([0,q]).padding(.1);const Re=G.append("g").attr("id","barsBox").selectAll("rect").data(m).enter().append("rect");u.value.theme=="default"?Re.attr("x",function(j,z){return z===0?0:e.direction?Math.abs(j.index-le)*ne:Math.abs(te-j.index)*ne}).attr("y",function(j,z){return e.direction?z===m.length-1?0:E(j.liquityAmount):z===m.length-1?0:E(m[z+1].liquityAmount)}).attr("width",function(j,z){return z===0&&m.length===1&&j.liquityAmount>0?q:(e.direction,z!==m.length-1?Math.abs(m[z+1].index-j.index)*ne:0)}).attr("height",function(j,z){return z===0&&m.length===1&&j.liquityAmount>0?X:e.direction?z===m.length-1?0:X-E(j.liquityAmount):z===m.length-1?0:X-E(m[z+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Re.attr("x",function(j,z){return z===0?0:e.direction?Math.abs(j.index-le)*ne:Math.abs(te-j.index)*ne}).attr("y",function(j,z){return e.direction?z===m.length-1?0:E(Math.abs(j.liquityAmount)):z===m.length-1?0:E(Math.abs(m[z+1].liquityAmount))}).attr("width",function(j,z){return z===0&&m.length===1&&j.liquityAmount>0?q:(e.direction,z!==m.length-1?Math.abs(m[z+1].index-j.index)*ne:0)}).attr("height",function(j,z){if(z===0&&m.length===1&&j.liquityAmount>0)return X;if(e.direction)return z===m.length-1?0:Number(j.liquityAmount)?X-E(Math.abs(j.liquityAmount)):0;{if(z===m.length-1)return 0;const A=X-E(Math.abs(m[z+1].liquityAmount));return Number(m[z+1].liquityAmount)?A:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const Qe=G.append("g");Qe.append("line").attr("x1",0).attr("y1",155).attr("x2",q).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const Ct=Qe.append("g");let Je=0;if(e.direction){for(let j=0;j<re.length;j++){const z=Ne(fe[j],Y)||"0";fe.push(z);const A=Math.abs(re[j]-le)*ne;let _=0;for(let Oe=0;Oe<z.length;Oe++)z[Oe]==="1"?_+=4.02:z[Oe]==="."?_+=2.64:z[Oe]==="7"?_+=5.48:_+=6;Ct.append("text").text(z).attr("x",A-_/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Je=Math.abs(de-le)*ne}else{for(let j=re.length-1;j>=0;j--){const z=Ne(fe[j],Y)||0;fe.push(z);const A=Math.abs(re[j]-te)*ne;let _=0;for(let Oe=0;Oe<z.length;Oe++)z[Oe]==="1"?_+=4.02:z[Oe]==="."?_+=2.64:z[Oe]==="7"?_+=5.48:_+=6;Ct.append("text").text(z).attr("x",A-_/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Je=Math.abs(de-te)*ne}(u.value.theme=="default"?G.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):G.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+Je+", 0)");let ze,Ee,Ve,dt;e.direction?(ze=H<le?-100:Math.abs(H-le)*ne,Ee=Z<le?-100:Math.abs(Z-le)*ne,Ve=ee<le?-100:Math.abs(ee-le)*ne,dt=T<le?-100:Math.abs(T-le)*ne):(Ee=H<le?-100:Math.abs(te-H)*ne,ze=Z<le?-100:Math.abs(te-Z)*ne,dt=ee<le?-100:Math.abs(te-ee)*ne,Ve=T<le?-100:Math.abs(te-T)*ne),e.minPrice==="0"&&(ze=0),e.maxPrice==="∞"&&(Ee=q),S.value?o.value=q-ze+60+"px":o.value=q-ze+52+"px",i.value=Ee+74+"px",ee&&Ve<q&&G.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ve+", 0)"),T&&dt<q&&G.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+dt+", 0)");const He=G.append("g").attr("id","left-handle"),W=G.append("g").attr("id","right-handle");u.value.theme=="default"?(He.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),He.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),He.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),He.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),W.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),W.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),W.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),W.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(He.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),He.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),He.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),He.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),W.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),W.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),W.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),W.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),He.attr("transform","translate("+ze+", 0)"),W.attr("transform","translate("+Ee+", 0)");const ue=Ed().extent([[0,0],[q,X]]).handleSize(30).on("end",ut);G.append("g").attr("class","brush").call(ue).call(ue.move,[ze,Ee]);function ut(j){if(!j.sourceEvent||!j.selection)return;He.attr("transform","translate("+j.selection[0]+", 0)"),W.attr("transform","translate("+j.selection[1]+", 0)"),S.value?o.value=q-j.selection[0]+60+"px":o.value=q-j.selection[0]+52+"px",i.value=j.selection[1]+74+"px";let z,A,_=0,Oe=0;e.direction?(_=p(j.selection[0]/ne+le,Number(e.poolInfo.tickSpacing)),z=v.tickIndexToPrice(_,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),Oe=p(j.selection[1]/ne+le,Number(e.poolInfo.tickSpacing)),A=v.tickIndexToPrice(Oe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()):(Oe=p(te-j.selection[0]/ne,Number(e.poolInfo.tickSpacing)),z=1/v.tickIndexToPrice(Oe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),_=p(te-j.selection[1]/ne,Number(e.poolInfo.tickSpacing)),A=1/v.tickIndexToPrice(_,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),t.emit("onChangeMinPrice",String(Ne(String(z),6))),t.emit("onChangeMaxPrice",String(Ne(String(A),6)))}u.value.theme=="default"?yt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):yt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};N(""),$e(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([m,k,U,H])=>{m&&k&&U&&(U=="∞"||Number(U)>Number(k))&&g(m,n.value)},{immediate:!0});const y=N(!0);return $e(()=>e.chartLoading,(m,k)=>{m!==k&&(y.value=m)},{immediate:!0,deep:!0}),{store:u,loading:y,zoomOut:C,zoomIn:I,rangeSizeLower:a,rangeSizeUpper:l,rangeSizeLowerPosition:o,rangeSizeUpperPosition:i,decimalFormat:sn,numberformat:Io}}});const cf=e=>(Ot("data-v-cc6ba58f"),e=e(),Bt(),e),df={class:"chart-box"},ff={class:"chart"},mf={class:"zoom"},pf=cf(()=>c("svg",{id:"chart"},null,-1));function hf(e,t,n,o,i,r){return b(),P("div",df,[_a(c("div",ff,[c("div",mf,[c("div",{class:"amplification",onClick:t[0]||(t[0]=(...a)=>e.zoomOut&&e.zoomOut(...a))}),c("div",{class:"narrow",onClick:t[1]||(t[1]=(...a)=>e.zoomIn&&e.zoomIn(...a))})]),e.currentPriceTab!=="full range"?(b(),P("div",{key:0,class:"range-size range-size-lower",style:Si({right:e.rangeSizeLowerPosition})},w(("numberformat"in e?e.numberformat:_e(Io))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):L("",!0),e.currentPriceTab!=="full range"?(b(),P("div",{key:1,class:"range-size range-size-upper",style:Si({left:e.rangeSizeUpperPosition})},w(("numberformat"in e?e.numberformat:_e(Io))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):L("",!0),pf],512),[[$a,!e.loading]])])}const vf=et(uf,[["render",hf],["__scopeId","data-v-cc6ba58f"]]),gf=xe({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,t){const n=N(""),o=N(""),i=N(""),r=st(),a=x(()=>r),l=Gt(),s=x(()=>l),u=(y,m)=>y&&m?jn(Na.plus(yo(y),yo(m)),2):y>0?y:0,d=y=>{let m=0;return y&&y.forEach(k=>{m+=yo(String(k))}),String(kn(String(m),2))},v=N([]),p=N([]),C=N(""),I=N(""),se=N(!0);$e(()=>[a.value.newTopPoolsObj,e.poolInfo,s.value.tokensObj,e.aprRewardsParameter],async([y,m,k])=>{var U;if(y&&m&&k){const H=y[m==null?void 0:m.poolAddress];if(H){n.value=H&&H.apr_7day&&H.apr_7day.replace("%","")||"0",I.value=d(H&&H.rewarder_apr),C.value=u(H&&H.apr_7day,H&&d(H.rewarder_apr)),o.value=at(H.tvl_in_usd,2),i.value=at(H.vol_in_usd_24h,2);const Z=m&&e.poolInfo.rewarder_infos||[],de=[];for(let T=0;T<Z.length;T++){const J=Z[T];if(k[J.coinAddress]){const q=k[J.coinAddress].decimals,X=sn(J.emissionsEveryDay/Math.pow(10,q),4),ke=Number(X)>0?at(X):X,V=sn(Number(X)*((U=s.value.RATES[J.coinAddress])==null?void 0:U.price),4);de.push({...J,logoUrl:k[J.coinAddress].logoURI,day:ke,dayUSD:V,symbol:k[J.coinAddress].symbol,rewarder_display:m&&m[`rewarder_display${T+1}`]?m[`rewarder_display${T+1}`]:!1})}}v.value=de.filter(T=>T.rewarder_display);const ee=[];de.forEach((T,J)=>{k[T.coinAddress]&&ee.push({...T,symbol:k[T.coinAddress].symbol,rewarderApr:H.rewarder_apr[J]&&H.rewarder_apr[J].replace("%","")})}),p.value=ee.filter(T=>T.rewarder_display)}else n.value="0",o.value="--",i.value="--",C.value=="0";se.value=!1}},{immediate:!0,deep:!0});const g=()=>{t.emit("reviseValue")},S=y=>{var m;return(y==null?void 0:y.logoURI)||(y==null?void 0:y.logo_url)||((m=s.value.tokensObj[y==null?void 0:y.address])==null?void 0:m.logo_url)||(a.value.theme==="default"?Be("/image/coins/unknown.png"):Be("/image/coins/sui-unknown.png"))};return{tokensObj:x(()=>s.value.tokensObj),rewarderInfo:v,rewarderArr:p,rewardApr:C,rewardAprList:I,apr:n,liquidityTvl:o,vol24:i,addCommom:at,reviseValue:g,loading:se,getCoinIcon:S,store:r}}});const co=e=>(Ot("data-v-d7c41f36"),e=e(),Bt(),e),yf={key:0,class:"pool-info"},bf=co(()=>c("use",{"xlink:href":"#icon-icon_on"},null,-1)),kf=[bf],wf={key:0,class:"info-block-container"},Cf={class:"info-block"},_f={class:"coin-tips"},$f={class:"left"},Af=["src"],If={class:"address"},Pf={key:0,class:"pool-warning"},Sf=co(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Tf=[Sf],Nf={class:"info-block"},Mf={class:"coin-tips"},Rf={class:"left"},Lf=["src"],qf={class:"address"},Uf={key:0,class:"pool-warning"},Of=co(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Bf=[Of],Ff={class:"info-block"},Ef={class:"leabl"},jf={class:"text"},Df={class:"apr-hover-content"},Hf={class:"info-block"},Xf={class:"leabl"},zf={class:"text"},Vf={class:"info-block"},Wf={class:"leabl"},Kf={class:"text"},Yf={class:"info-block"},Gf={class:"leabl"},Qf={class:"text"},Jf={key:1,class:"pool-rewards-info"},Zf={class:"rewards-list-all"},xf=co(()=>c("div",{class:"icon-sign"},null,-1)),em=["src"],tm={class:"rewards-value"};function nm(e,t,n,o,i,r){const a=Ta,l=hr;return e.poolInfo?(b(),P("div",yf,[e.loading?(b(),ge(l,{key:1})):(b(),P(qt,{key:0},[c("div",{class:Ae(e.label?"pool-info-border pool-info-title":"pool-info-title")},[Ue(w(e.$t("newAdd.poolInfo"))+" ",1),(b(),P("svg",{class:Ae(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:t[0]||(t[0]=s=>e.reviseValue())},kf,2))],2),e.label?(b(),P("div",wf,[c("div",Cf,[c("div",_f,[c("div",$f,[c("img",{src:e.getCoinIcon(e.poolInfo.token_a),alt:""},null,8,Af),c("div",If,w(e.poolInfo.token_a.address),1),e.tokensObj&&e.poolInfo&&e.poolInfo.coin_a_address&&e.tokensObj[e.poolInfo.coin_a_address]&&e.tokensObj[e.poolInfo.coin_a_address].isSelfBuilt?(b(),P("div",Pf)):L("",!0)]),(b(),P("svg",{class:"icon","aria-hidden":"true",onClick:t[1]||(t[1]=s=>e.store.copy(e.poolInfo.token_a.address&&e.poolInfo.token_a.address))},Tf))])]),c("div",Nf,[c("div",Mf,[c("div",Rf,[c("img",{src:e.getCoinIcon(e.poolInfo.token_b),alt:""},null,8,Lf),c("div",qf,w(e.poolInfo.token_b.address),1),e.tokensObj&&e.poolInfo&&e.poolInfo.coin_b_address&&e.tokensObj[e.poolInfo.coin_b_address]&&e.tokensObj[e.poolInfo.coin_b_address].isSelfBuilt?(b(),P("div",Uf)):L("",!0)]),(b(),P("svg",{class:"icon","aria-hidden":"true",onClick:t[2]||(t[2]=s=>e.store.copy(e.poolInfo.token_b.address&&e.poolInfo.token_b.address))},Bf))])]),c("div",Ff,[c("div",Ef,w(e.$t("common.apr")),1),c("div",jf,[Ue(w(e.poolInfo.is_display_rewarder?e.rewardApr>0&&e.rewardApr<.01?"<0.01":("addCommom"in e?e.addCommom:_e(at))(e.rewardApr,2):e.apr>0&&e.apr<.01?"<0.01":("addCommom"in e?e.addCommom:_e(at))(e.apr,2))+"% ",1),c("div",Df,[ye(a,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),c("div",Hf,[c("div",Xf,w(e.$t("common.liquidity")),1),c("div",zf,"$"+w(e.liquidityTvl),1)]),c("div",Vf,[c("div",Wf,w(e.$t("common.volume24h")),1),c("div",Kf,"$"+w(e.vol24),1)]),c("div",Yf,[c("div",Gf,w(e.$t("newAdd.tickSpacing")),1),c("div",Qf,w(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):L("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(b(),P("div",Jf,[Ue(w("Farming Bonus")+" "),c("div",Zf,[(b(!0),P(qt,null,vn(e.rewarderInfo,s=>(b(),P("div",{key:s,class:Ae(["rewards-list",s.day==0?"rewards-none":""])},[xf,c("img",{src:s.logoUrl,alt:""},null,8,em),c("div",tm,[c("p",null,w(s.day)+" "+w(s.symbol)+" / "+w(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):L("",!0)],64))])):L("",!0)}const om=et(gf,[["render",nm],["__scopeId","data-v-d7c41f36"]]),im=xe({components:{Modal:Do},props:{poolInfo:{type:Object,required:!0}},setup(e){const t=N({}),n=st(),o=x(()=>n),i=x(()=>o.value.chainName),r=x(()=>zt[i.value]);let a=N(!0);const l=Gt(),s=x(()=>l),u=jo(),d=x(()=>e.poolInfo.needReverse);return $e(()=>s.value.currentPositionInfo,p=>{p&&(t.value=p)},{immediate:!0}),{addCommom:at,router:u,pools:s,positionInfo:t,decimalFormat:sn,rateChange:a,config:r,importIcon:Be,store:o,chainName:i,checkNullObj:vt,needReverse:d,getCoinIcon:p=>{var C;return(p==null?void 0:p.logoURI)||(p==null?void 0:p.logo_url)||((C=s.value.tokensObj[p==null?void 0:p.address])==null?void 0:C.logo_url)||(o.value.theme==="default"?Be("/image/coins/unknown.png"):Be("/image/coins/sui-unknown.png"))},decimalUi:Ne}}});const In=e=>(Ot("data-v-d3550350"),e=e(),Bt(),e),rm=In(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),am={class:"rejected-container"},sm={class:"coin-pair"},lm=In(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),um=[lm],cm=["href"],dm=In(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),fm=[dm],mm=["href"],pm=In(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),hm=[pm],vm={class:"coin-pair"},gm=["src"],ym=["src"],bm={class:"fee"},km={class:"status"},wm={class:"min-and-max"},Cm={key:0},_m={class:"text"},$m={key:0,src:Xo,alt:""},Am={key:1,src:zo,alt:""},Im={class:"text"},Pm={key:1},Sm={class:"text"},Tm={key:0,src:Xo,alt:""},Nm={key:1,src:zo,alt:""},Mm={class:"text"},Rm=In(()=>c("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Lm=[Rm];function qm(e,t,n,o,i,r){const a=pr,l=Ma,s=ro,u=Ho("Modal");return b(),ge(u,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:t[3]||(t[3]=d=>e.$emit("onClose"))},{closeIcon:Ce(()=>[rm]),default:Ce(()=>[c("div",am,[ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ce(()=>[c("div",sm,[Ue(w(e.positionInfo.tokenName)+" ",1),(b(),P("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=d=>e.store.copy(e.positionInfo.nftHash))},um)),e.chainName==="Aptos"?(b(),P("a",{key:0,href:`${("config"in e?e.config:_e(zt)).explorerUrl}/token/${e.positionInfo.nftHash}/0?network=${("config"in e?e.config:_e(zt)).network}`,target:"_blank"},fm,8,cm)):(b(),P("a",{key:1,href:`${("config"in e?e.config:_e(zt)).explorerUrl}/object/${e.positionInfo.pos_object_id}?network=${("config"in e?e.config:_e(zt)).network}`,target:"_blank"},hm,8,mm))])]),_:1},8,["loading"]),c("div",{class:Ae(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ce(()=>{var d,v,p,C,I,se,g,S,$,y,m,k;return[c("div",vm,[c("div",null,[c("img",{src:e.getCoinIcon(e.needReverse?(v=e.positionInfo)==null?void 0:v.token_b:(d=e.positionInfo)==null?void 0:d.token_a)},null,8,gm),c("img",{src:e.getCoinIcon(e.needReverse?(C=e.positionInfo)==null?void 0:C.token_a:(p=e.positionInfo)==null?void 0:p.token_b)},null,8,ym)]),c("span",null,w(e.needReverse?(S=(g=e.positionInfo)==null?void 0:g.token_b)==null?void 0:S.symbol:(se=(I=e.positionInfo)==null?void 0:I.token_a)==null?void 0:se.symbol)+" - "+w(e.needReverse?(k=(m=e.positionInfo)==null?void 0:m.token_a)==null?void 0:k.symbol:(y=($=e.positionInfo)==null?void 0:$.token_b)==null?void 0:y.symbol),1)]),c("div",bm,w(e.$t("common.fee"))+" "+w(e.positionInfo.fee*100)+"%",1)]}),_:1},8,["loading"])],2),c("div",km,[ye(l,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ce(()=>{var d,v,p,C,I,se,g,S;return[c("div",wm,[(e.needReverse?!e.rateChange:e.rateChange)?(b(),P("div",Cm,[c("div",_m,w(("addCommom"in e?e.addCommom:_e(at))(("decimalUi"in e?e.decimalUi:_e(Ne))(String(e.positionInfo&&e.positionInfo.minPrice),6))),1),e.store.theme=="default"?(b(),P("img",$m)):(b(),P("img",Am)),c("div",Im,w(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:_e(at))(("decimalUi"in e?e.decimalUi:_e(Ne))(String(e.positionInfo&&e.positionInfo.maxPrice),6)))+" "+w((v=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:v.symbol)+" per "+w((C=(p=e.positionInfo)==null?void 0:p.token_a)==null?void 0:C.symbol),1)])):(b(),P("div",Pm,[c("div",Sm,w(("addCommom"in e?e.addCommom:_e(at))(("decimalUi"in e?e.decimalUi:_e(Ne))(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6))),1),e.store.theme=="default"?(b(),P("img",Tm)):(b(),P("img",Nm)),c("div",Mm,w(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:_e(at))(("decimalUi"in e?e.decimalUi:_e(Ne))(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6)))+" "+w((se=(I=e.positionInfo)==null?void 0:I.token_a)==null?void 0:se.symbol)+" per "+w((S=(g=e.positionInfo)==null?void 0:g.token_b)==null?void 0:S.symbol),1)])),(b(),P("svg",{class:"icon-change","aria-hidden":"true",onClick:t[1]||(t[1]=$=>e.rateChange=!e.rateChange)},Lm))])]}),_:1},8,["loading"])]),ye(s,{disabled:("checkNullObj"in e?e.checkNullObj:_e(vt))(e.positionInfo),onClick:t[2]||(t[2]=d=>e.router.push(`/position-detail?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:Ce(()=>[Ue(w(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])}const Um=et(im,[["render",qm],["__scopeId","data-v-d3550350"]]),Om=xe({components:{Modal:Do},setup(){const e=st(),t=x(()=>e);return{importIcon:Be,store:t}}}),Bm=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,Fm=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const Em=e=>(Ot("data-v-d7a9ceb3"),e=e(),Bt(),e),jm=Em(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Dm={class:"create-success-container"},Hm={key:0,src:Bm,alt:""},Xm={key:1,src:Fm,alt:""},zm={class:"waiting-title"};function Vm(e,t,n,o,i,r){const a=Ho("Modal");return b(),ge(a,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:t[0]||(t[0]=l=>e.$emit("onClose"))},{closeIcon:Ce(()=>[jm]),default:Ce(()=>[c("div",Dm,[e.store.theme=="default"?(b(),P("img",Hm)):(b(),P("img",Xm)),c("p",zm,w(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const Wm=et(Om,[["render",Vm],["__scopeId","data-v-d7a9ceb3"]]),Km=xe({components:{Modal:Do,CoinPairName:br},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},currentPrice:{type:String,default:""},needReverse:{type:Boolean,default:!1},direct:{type:Boolean,default:!0}},setup(e,t){const{t:n}=vr(),o=io(),i=st(),r=x(()=>i),a=Gt(),l=x(()=>a);return{t:n,route:o,decimalFormat:sn,addCommom:at,store:r,createPool:()=>{t.emit("createPool")},importIcon:Be,getCoinIcon:d=>{var v;return(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((v=l.value.tokensObj[d==null?void 0:d.address])==null?void 0:v.logo_url)||(r.value.theme==="default"?Be("/image/coins/unknown.png"):Be("/image/coins/sui-unknown.png"))},decimalUi:Ne}}});const Ym=e=>(Ot("data-v-cbedbdec"),e=e(),Bt(),e),Gm=Ym(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Qm={class:"create-pool-content"},Jm={class:"top"},Zm={class:"coin-pair-box"},xm={class:"induction info"},ep={class:"item"},tp={class:"induction-text"},np={class:"induction-value"},op={class:"item"},ip={class:"induction-text"},rp={class:"induction-value"},ap={class:"item"},sp={class:"induction-text"},lp={class:"induction-value"},up={class:"min-and-max"},cp={class:"text"},dp={key:0,src:Xo,alt:""},fp={key:1,src:zo,alt:""},mp={class:"text"},pp={class:"deposit-amount"},hp={class:"deposit-amount-title"},vp={class:"bottom"},gp=["src"],yp=["src"];function bp(e,t,n,o,i,r){const a=br,l=ro,s=Ho("Modal");return b(),ge(s,{width:"440px",visible:!0,footer:null,title:e.$t("newAdd.preview"),class:"add-liquidity-modal",onCancel:t[0]||(t[0]=u=>e.$emit("onClose"))},{closeIcon:Ce(()=>[Gm]),default:Ce(()=>{var u,d;return[c("div",Qm,[c("div",Jm,[c("div",Zm,[ye(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])]),c("div",xm,[c("div",ep,[c("span",tp,w(e.$t("common.feeTier")),1),c("span",np,w(((d=(u=e.route)==null?void 0:u.query)==null?void 0:d.fee)*100)+" %",1)]),c("div",op,[c("span",ip,w(e.$t("newAdd.initialPrice")),1),c("span",rp,w(e.currentPrice)+" "+w((e.needReverse?!e.direct:e.direct)?e.toCoin.symbol:e.fromCoin.symbol)+" per "+w((e.needReverse?!e.direct:e.direct)?e.fromCoin.symbol:e.toCoin.symbol),1)]),c("div",ap,[c("span",sp,w(e.$t("newAdd.priceRange")),1),c("span",lp,[c("div",up,[c("div",cp,w(("decimalUi"in e?e.decimalUi:_e(Ne))(e.minPrice,6)),1),e.store.theme=="default"?(b(),P("img",dp)):(b(),P("img",fp)),c("div",mp,w(e.maxPrice&&String(e.maxPrice).indexOf("+")>-1?"∞":("decimalUi"in e?e.decimalUi:_e(Ne))(e.maxPrice,6)),1)])])])])]),c("div",pp,[c("div",hp,w(e.$t("newAdd.depositAmount")),1),c("div",vp,[c("div",null,[c("img",{src:e.getCoinIcon(e.fromCoin)},null,8,gp),c("p",null,w((e.needReverse?!e.direct:e.direct)?e.fromCoinAmount?e.fromCoinAmount:0:e.toCoinAmount?e.toCoinAmount:0),1),c("span",null,w(e.fromCoin.symbol),1)]),c("div",null,[c("img",{src:e.getCoinIcon(e.toCoin)},null,8,yp),c("p",null,w((e.needReverse?!e.direct:e.direct)?e.toCoinAmount?e.toCoinAmount:0:e.fromCoinAmount?e.fromCoinAmount:0),1),c("span",null,w(e.toCoin.symbol),1)])])])]),ye(l,{class:"big-btn liquidity-btn",onClick:e.createPool},{default:Ce(()=>[Ue(w(e.$t("newAdd.createAndAddLiquidity")),1)]),_:1},8,["onClick"])]}),_:1},8,["title"])}const kp=et(Km,[["render",bp],["__scopeId","data-v-cbedbdec"]]),wp={1e-4:2,5e-4:10,.002:60,.006:200},Cp={1e-4:2,5e-4:10,.0025:60,.01:200},_p=xe({setup(){let e=N(!1);const{t,locale:n}=vr(),o=ka(),i=x(()=>o),r=st(),a=N(0),l=N(!1),s=N(!1),u=N(!1),d=N("fromCoin"),v=N(""),p=N(""),C=N(!1),I=N(!0),se=N(!1),g=N(!0),S=N(!1),$=N(""),y=N(""),m=N(""),k=N(""),U=N(""),H=N(""),Z=N(!1),de=N(!1),ee=N(!1),T=N(""),J=N(0),q=N(!0),X=N(!1),ke=N([]),V=N(""),re=N(30),le=N("30D"),te=N("Estimated APR"),ne=N([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),fe=N(!0),Y=st(),G=x(()=>Y),tt=x(()=>{var f;return!!((f=oe==null?void 0:oe.query)!=null&&f.action&&(!A.value||!_.value||!T.value))}),E=x(()=>G.value.chainName?Eo(G.value.chainName):{}),wt=f=>{nt.updateCurrentPools(me.value.poolAddress,G.value.chainName),le.value=f.time,re.value=f.num},Re=()=>{fe.value=!fe.value},Qe=N([]),Ct=()=>{a.value=0,nt.updateCurrentPools(me.value.poolAddress,G.value.chainName),mt(),ti()},Je=x(()=>Number(m.value)>0&&Number(k.value)>0&&Number(m.value)>Number(k.value)),Pt=f=>{se.value=f,m.value="0",k.value="∞"},ze=x(()=>{if(D.value.poolConfigList&&A.value&&_.value){const f=D.value.poolConfigList.filter(R=>{var B,K,Q,ae;return R.token_a.address.toUpperCase()===((B=A.value.address)==null?void 0:B.toUpperCase())&&R.token_b.address.toUpperCase()===((K=_.value.address)==null?void 0:K.toUpperCase())||R.token_b.address.toUpperCase()===((Q=A.value.address)==null?void 0:Q.toUpperCase())&&R.token_a.address.toUpperCase()===((ae=_.value.address)==null?void 0:ae.toUpperCase())}),h=[];return f.forEach(R=>{h.push(Number(R.fee))}),h}}),Ee=x(()=>[{label:.01+"% "+t("common.feeTier"),title:.01+"% ",fee:1e-4,text:t("newAdd.bestVeryStablePairs")},{label:.05+"% "+t("common.feeTier"),title:.05+"% ",fee:5e-4,text:t("newAdd.bestStablePairs")},G.value.chainName=="Aptos"?{label:.2+"% "+t("common.feeTier"),title:.2+"% ",fee:.002,text:t("newAdd.bestMostPairs")}:{label:.25+"% "+t("common.feeTier"),title:.25+"% ",fee:.0025,text:t("newAdd.bestMostPairs")},G.value.chainName=="Aptos"?{label:.6+"% "+t("common.feeTier"),title:.6+"% ",fee:.006,text:t("newAdd.besteExoticPairs")}:{label:"1% "+t("common.feeTier"),title:"1% ",fee:.01,text:t("newAdd.besteExoticPairs")}]),Ve=x(()=>r.slippage),dt=x(()=>!A.value||!_.value),He=x(()=>{var f,h;return!!(!$.value&&!y.value||Number($.value)>Number(ot.value)||Number(y.value)>Number(it.value)||W.value!==t("button.addLiquidity")&&W.value!==t("newAdd.preview")||me.value&&me.value&&me.value.is_pause||(f=oe==null?void 0:oe.query)!=null&&f.action&&!O.value&&!((h=O.value)!=null&&h.currentPrice)||Number($.value)<=0&&Number(y.value)<=0)}),W=x(()=>{var f;return me.value&&me.value.is_pause?"Pool Closed":!A.value||!_.value||dt.value?t("modal.selectTokenModalTitle"):!zt[G.value.chainName].hasCreatePool&&!me.value?t("button.poolNotFound"):Number($.value)>Number(ot.value)?t("button.insufficientBalance",{name:A.value.symbol}):Number(y.value)>Number(it.value)?t("button.insufficientBalance",{name:_.value.symbol}):S.value?t("modal.selectTokenModalTitle"):!me.value&&A.value&&_.value&&((f=oe==null?void 0:oe.query)==null?void 0:f.action)=="create-pool"?t("newAdd.preview"):k.value!=="∞"&&Number(m.value)>=Number(k.value)?t("newAdd.invalidRange"):!Number($.value)&&!Number(y.value)?t("button.enterAmount"):t("button.addLiquidity")}),ue=x(()=>{var f,h,R;return!me.value||vt(G.value.addressHistTokens)||!G.value.addressHistTokens[(f=me.value)==null?void 0:f.poolAddress]?null:Object.fromEntries((R=G.value.addressHistTokens[(h=me.value)==null?void 0:h.poolAddress])==null?void 0:R.data.map(B=>[B.key,B.value]))}),ut=x(()=>I.value?ue.value&&Ne(Number(re.value==7?ue.value.before_7_d_contract_price_lowest:re.value==24?ue.value.before_24_h_contract_price_lowest:ue.value.before_30_d_contract_price_lowest),6)||0:ue.value&&Ne(1/Number(re.value==7?ue.value.before_7_d_contract_price_highest:re.value==24?ue.value.before_24_h_contract_price_highest:ue.value.before_30_d_contract_price_highest),6)||0),j=x(()=>I.value?ue.value&&Ne(Number(re.value==7?ue.value.before_7_d_contract_price_highest:re.value==24?ue.value.before_24_h_contract_price_highest:ue.value.before_30_d_contract_price_highest),6)||0:(ue.value&&Ne(1/Number(re.value==7?ue.value.before_7_d_contract_price_lowest:re.value==24?ue.value.before_24_h_contract_price_lowest:ue.value.before_30_d_contract_price_lowest),6))==1/0?0:ue.value&&Ne(1/Number(re.value==7?ue.value.before_7_d_contract_price_lowest:re.value==24?ue.value.before_24_h_contract_price_lowest:ue.value.before_30_d_contract_price_lowest),6)||0),z=jo(),A=N(),_=N();oo(()=>{document.body.clientWidth<750?(fe.value=!1,e.value=!1):(fe.value=!0,e.value=!0)});const Oe=f=>{f!==m.value&&(V.value="custom"),m.value=f},Pn=f=>{f!==k.value&&(V.value="custom"),k.value=f},Sn=()=>{var h;if(oe.query.action)I.value=!I.value,O.value&&ii(Ne(1/O.value.currentPrice,(h=_==null?void 0:_.value)==null?void 0:h.decimals));else if(q.value=!0,q.value=!1,I.value=!I.value,m.value!==""&&k.value!==""&&m.value!=="0"&&k.value!=="∞"){const R=m.value,B=k.value;m.value=String(1/Number(B)),k.value=String(1/Number(R));const K=U.value,Q=H.value;U.value=String(1/Number(Q)),H.value=String(1/Number(K)),X.value=!1}const f=A.value;A.value=_.value,_.value=f,g.value?$.value=y.value:y.value=$.value};$e([m,k],([f,h])=>{Number(f)!==0&&Number(h)!==0&&mt(),h!=="∞"&&Number(f)!==0&&Number(h)!==0&&Number(f)>=Number(h)?ee.value=!0:ee.value=!1});const Tn=f=>{var h,R,B,K;d.value=f,f==="fromCoin"?(v.value=((h=_.value)==null?void 0:h.address)||"",p.value=((R=A.value)==null?void 0:R.address)||""):(v.value=((B=A.value)==null?void 0:B.address)||"",p.value=((K=_.value)==null?void 0:K.address)||""),C.value=!0},je=N(null),De=N(null),dn=N({}),fn=N({}),Nn=f=>{S.value=!1,d.value==="fromCoin"?(_.value&&f.address.toLowerCase()===(_==null?void 0:_.value.address.toLowerCase())&&(_.value=null,De.value=null,T.value=""),A.value=f,je.value=f):(A.value&&f.address.toLowerCase()===(A==null?void 0:A.value.address.toLowerCase())&&(A.value=null,je.value=null,T.value=""),_.value=f,De.value=f),C.value=!1},Mn=f=>{f==="fromCoin"?(g.value=!0,G.value.chainName==="Aptos"?$.value=Number(ot.value)>0?A.value.symbol=="APT"?new F(Number(ot.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(ot.value)).sub(new F(.1)).toString():String(ot.value):"":$.value=Number(ot.value)>0?A.value.symbol=="SUI"?new F(Number(ot.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(ot.value)).sub(new F(1e-4)).toString():String(ot.value):""):(g.value=!1,G.value.chainName==="Aptos"?y.value=Number(it.value)>0?_.value.symbol=="APT"?new F(Number(it.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(it.value)).sub(new F(.1)).toString():String(it.value):"":y.value=Number(it.value)>0?_.value.symbol=="SUI"?new F(Number(it.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(it.value)).sub(new F(1e-4)).toString():String(it.value):"")},Rn=f=>{f==="fromCoin"?(g.value=!0,$.value=Number(ot.value)>0?jn(new F(Number(ot.value)).div(2).toString(),A.value.decimals).toString():""):(g.value=!1,y.value=Number(it.value)>0?jn(new F(Number(it.value)).div(2).toString(),_.value.decimals).toString():"")};$e($,(f,h)=>{f==""&&g.value&&(y.value=""),f&&g.value&&mt()}),$e(y,(f,h)=>{f==""&&!g.value&&($.value=""),f&&!g.value&&mt()});const Ln=()=>{A.value=null,_.value=null,m.value="0",k.value="0",$.value="",y.value="",S.value=!0,T.value="",Z.value=!1,Ie.value=!0,Pe.value=!0,q.value=!1},Qt=N(!1),{setIsShowSuccess:St,setIsShowRejected:Tt,setIsShowWaiting:Ye,setTransactionDesc:Jt,setTransactionTxid:Nt,setPositiomNum:Zt}=r,oe=io(),nt=Gt(),D=x(()=>nt);$e(()=>D.value.tokens,async f=>{if(f&&f.length>0){const h=f;if(oe&&oe.query&&oe.query.tokena&&oe.query.tokena){const R=await E.value.getTokenBySymbol(h,oe.query.tokena);A.value=R,je.value=R}if(oe&&oe.query&&oe.query.tokenb&&oe.query.tokenb){const R=await E.value.getTokenBySymbol(h,oe.query.tokenb);_.value=R,De.value=R}}},{immediate:!0});const Mt=N({}),Ie=N(!1),Pe=N(!1),xt=N(),en=N(),Xe=N(),ft=N(),mt=async()=>{var Se,_t,ct,pt;if(!m.value&&!k.value)return!1;if(!$.value&&!y.value&&!m.value&&!k.value)return;const f=me.value?me.value:O.value;if(vt(f))return;const{TickUtil:h,TickMath:R,getNearestTickByTick:B}=E.value,K=f==null?void 0:f.token_a.decimals,Q=f==null?void 0:f.token_b.decimals;let ae,he,ie,pe,ve,we,Le,qe,be=f.current_tick_index,ce;if(f.token_a.address.toLowerCase()===A.value.address.toLowerCase()&&f.token_b.address.toLowerCase()===_.value.address.toLowerCase()?ce=!0:ce=!1,m.value==="0"&&k.value==="∞"?(ie=h.getMinIndex(Number(f.tickSpacing)),pe=h.getMaxIndex(Number(f.tickSpacing)),ve=R.tickIndexToSqrtPriceX64(ie),we=R.tickIndexToSqrtPriceX64(pe)):V.value=="custom"||oe.query.action?(ce?(ae=Number(m.value),he=Number(k.value)):(ae=1/Number(k.value),he=1/Number(m.value)),Le=ae==0?-443636:R.priceToTickIndex(new F(ae),K,Q),qe=R.priceToTickIndex(new F(he),K,Q),ie=B(Le,Number(f.tickSpacing)),pe=B(qe,Number(f.tickSpacing)),ve=R.priceToSqrtPriceX64(new F(ae),K,Q),we=R.priceToSqrtPriceX64(new F(he),K,Q)):(ie=(Se=jt.value[V.value])==null?void 0:Se.lower,pe=(_t=jt.value[V.value])==null?void 0:_t.upper,ve=R.tickIndexToSqrtPriceX64(ie),we=R.tickIndexToSqrtPriceX64(pe)),k.value!=="∞"&&ie>=pe){Ie.value=!0,$.value="",Pe.value=!0,y.value="";return}if(k.value==="∞"||be>ie&&be<pe){Ie.value=!1,Pe.value=!1;let Me;if($.value||y.value){if(g.value){const rt=new F($.value).mul(Math.pow(10,A.value.decimals)).toString();Me=new ht(rt)}else{const rt=new F(y.value).mul(Math.pow(10,_.value.decimals)).toString();Me=new ht(rt)}const{liquidityAmount:Te,tokenMaxA:Ge,tokenMaxB:Fe,tokenMaxAOrigin:Ht,tokenMaxBOrigin:$t}=E.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:f.token_a,tokenB:f.token_b,lowerTick:ie,upperTick:pe,coinAmount:Me,iscoinA:ce?g.value:!g.value,roundUp:!0,slippage:Number(Ve.value)/100,curSqrtPrice:new ht(f.current_sqrt_price)});Mt.value={liquidityAmount:Te,tokenMaxA:Ge,tokenMaxB:Fe,tokenMaxAOrigin:Ht,tokenMaxBOrigin:$t},ce?g.value?y.value=Number(Fe)>0?Fe:"":$.value=Number(Ge)>0?Ge:"":g.value?y.value=Ge:$.value=Fe}}else if(be>=pe){if(ce?$.value="":y.value="",Ie.value=ce,Pe.value=!ce,$.value||y.value){let Me;if(ce){const Te=new F(y.value).mul(Math.pow(10,(ct=_.value)==null?void 0:ct.decimals)).toString();Me=new ht(Te),Mt.value={liquidityAmount:E.value.estimateLiquidityForCoinB(ve,we,Me),tokenMaxA:0,tokenMaxB:y.value}}else{const Te=new F($.value).mul(Math.pow(10,(pt=A.value)==null?void 0:pt.decimals)).toString();Me=new ht(Te),Mt.value={liquidityAmount:E.value.estimateLiquidityForCoinB(ve,we,Me),tokenMaxA:0,tokenMaxB:$.value}}}}else if(be<=ie){if(Ie.value=!ce,Pe.value=ce,ce?y.value="":$.value="",$.value||y.value){let Me;if(ce){const Te=new F($.value).mul(Math.pow(10,A.value.decimals)).toString();Me=new ht(Te),Mt.value={liquidityAmount:E.value.estimateLiquidityForCoinA(ve,we,Me),tokenMaxA:$.value,tokenMaxB:0}}else{const Te=new F(y.value).mul(Math.pow(10,_.value.decimals)).toString();Me=new ht(Te),Mt.value={liquidityAmount:E.value.estimateLiquidityForCoinA(ve,we,Me),tokenMaxA:y.value,tokenMaxB:0}}}}else Ie.value=!0,$.value="",Pe.value=!0,y.value=""},Et=N(0);$e(()=>oe.query,f=>{f&&f.fee&&(Et.value=f.fee,T.value=Number(f.fee)*100+"% "+t("common.feeTier"))},{immediate:!0,deep:!0});const mn=x(()=>{var K,Q,ae;const f=(K=oe==null?void 0:oe.query)==null?void 0:K.fee,h=(Q=oe==null?void 0:oe.query)==null?void 0:Q.tokena,R=(ae=oe==null?void 0:oe.query)==null?void 0:ae.tokenb;let B=null;for(let he=0;he<D.value.poolConfigList.length;he++){const ie=D.value.poolConfigList[he];!h||!R?B={}:(ie.token_a.address.toUpperCase()===(h==null?void 0:h.toUpperCase())&&ie.token_b.address.toUpperCase()===(R==null?void 0:R.toUpperCase())||ie.token_b.address.toUpperCase()===(h==null?void 0:h.toUpperCase())&&ie.token_a.address.toUpperCase()===(R==null?void 0:R.toUpperCase()))&&(B=ie)}return B}),me=x(()=>{var h,R,B,K,Q,ae,he,ie,pe,ve,we,Le,qe;const f=(h=oe==null?void 0:oe.query)==null?void 0:h.fee;if(A.value&&_.value){let be=null;if(f)for(const ce in D.value.poolsObj){const Se=D.value.poolsObj[ce];(Se.token_a.address.toUpperCase()===((B=(R=A==null?void 0:A.value)==null?void 0:R.address)==null?void 0:B.toUpperCase())&&Se.token_b.address.toUpperCase()===((Q=(K=_==null?void 0:_.value)==null?void 0:K.address)==null?void 0:Q.toUpperCase())&&Number(Se.fee)==Number(Et.value)||Se.token_b.address.toUpperCase()===((ae=A==null?void 0:A.value.address)==null?void 0:ae.toUpperCase())&&Se.token_a.address.toUpperCase()===((ie=(he=_==null?void 0:_.value)==null?void 0:he.address)==null?void 0:ie.toUpperCase())&&Number(Se.fee)==Number(Et.value))&&(be=Se)}if(!((pe=oe==null?void 0:oe.query)!=null&&pe.action)&&(!f||!be))for(const ce in D.value.poolsObj){const Se=D.value.poolsObj[ce];(Se.token_a.address.toUpperCase()===((ve=A==null?void 0:A.value.address)==null?void 0:ve.toUpperCase())&&Se.token_b.address.toUpperCase()===((we=_.value.address)==null?void 0:we.toUpperCase())||Se.token_b.address.toUpperCase()===((Le=A==null?void 0:A.value.address)==null?void 0:Le.toUpperCase())&&Se.token_a.address.toUpperCase()===((qe=_.value.address)==null?void 0:qe.toUpperCase()))&&(be=Se)}return be&&!vt(be)?be:null}return null}),qn=x(()=>{var B,K;const f=(B=A==null?void 0:A.value)==null?void 0:B.address,h=(K=_==null?void 0:_.value)==null?void 0:K.address;let R=null;for(let Q=0;Q<D.value.poolConfigList.length;Q++){const ae=D.value.poolConfigList[Q];!f||!h?R={}:(ae.token_a.address.toUpperCase()===(f==null?void 0:f.toUpperCase())&&ae.token_b.address.toUpperCase()===(h==null?void 0:h.toUpperCase())||ae.token_b.address.toUpperCase()===(f==null?void 0:f.toUpperCase())&&ae.token_a.address.toUpperCase()===(h==null?void 0:h.toUpperCase()))&&(R=ae)}return R});$e(()=>[mn.value,me.value,D.value.recommendRangesObj],(f,h)=>{var R,B,K;f[0]&&!f[1]&&f[2]&&!vt(f[2])&&(!h||f[0]&&((R=f[0])==null?void 0:R.address)!==h[0]&&((B=h[0])!=null&&B.address))&&nt.setSinglePool(f[0],f[2][(K=f[0])==null?void 0:K.address],G.value.chainName)},{immediate:!0,deep:!0});const jt=N({}),M=async(f,h)=>{if(f){const{TickMath:R,getNearestTickByTick:B}=E.value;h&&(q.value=!0),f.token_a.address.toLowerCase()===A.value.address.toLowerCase()&&f.token_b.address.toLowerCase()===_.value.address.toLowerCase()?I.value=!0:I.value=!1,X.value=!0;const K=f.token_a.decimals,Q=f.token_b.decimals;Ie.value=!1,Pe.value=!1,T.value=f.fee*100+"% "+t("common.feeTier");const ae=f.current_tick_index;Xe.value=R.sqrtPriceX64ToPrice(f.current_sqrt_price,K,Q).toString(),ft.value=String(1/Xe.value);const he=await E.value.getTicks(f);if(ke.value=he?E.value.getTickDataFromUrlData(he):[],h){let ie=D.value.poolPriceConfigObj&&D.value.poolPriceConfigObj[f.address]&&D.value.poolPriceConfigObj[f.address].recommend_ranges||{};const pe=D.value.poolPriceConfigObj&&D.value.poolPriceConfigObj[f.address]&&D.value.poolPriceConfigObj[f.address].type||"",ve=ae-Number(pe=="unstable"?Number(f.tickSpacing)*2:Number(f.tickSpacing)*3),we=ae+Number(pe=="unstable"?Number(f.tickSpacing)*2:Number(f.tickSpacing)*3);ie["full range"]={lower:-443636,upper:443636},ie.custom={lower:ve,upper:we};const Le=[];for(let qe in ie)ie[qe]&&Le.push({...ie[qe],key:qe});Qe.value=Le,pe?f.isSelfBuilt?V.value="custom":pe=="stable"?V.value="suggested":V.value="passive":V.value="custom",jt.value=ie,ni({key:V.value,...ie[V.value]})}q.value=!1}else q.value=!1},Dt=x(()=>nt.getPoolInfoSuccess),Un=x(()=>zt[G.value.chainName].hasCreatePool);$e(()=>me.value,(f,h)=>{var R,B,K,Q,ae,he,ie,pe,ve;f?((!h||f.poolAddress!==h.poolAddress||f.current_sqrt_price!==h.current_sqrt_price)&&M(f,!h||f.poolAddress!==h.poolAddress),(R=oe==null?void 0:oe.query)!=null&&R.action&&z.push(`/deposit?poolAddress=${f==null?void 0:f.address}&tokena=${(B=A==null?void 0:A.value)==null?void 0:B.address}&tokenb=${(K=_==null?void 0:_.value)==null?void 0:K.address}&fee=${f==null?void 0:f.fee}`)):((Q=oe==null?void 0:oe.query)==null?void 0:Q.actions)=="new-position"||(qn.value?Un.value&&!f&&!((ie=oe==null?void 0:oe.query)!=null&&ie.action)&&Dt.value&&!mn.value?(T.value="",m.value="0",k.value="0",Ie.value=!1,Pe.value=!1,q.value=!1,Xe.value="",ft.value="",z.push(`/deposit?action=create-pool&tokena=${(pe=A==null?void 0:A.value)==null?void 0:pe.address}&tokenb=${(ve=_==null?void 0:_.value)==null?void 0:ve.address}`)):(Ie.value=!1,Pe.value=!1,q.value=!1,Xe.value="",ft.value=""):(T.value="",m.value="0",k.value="0",Ie.value=!1,Pe.value=!1,q.value=!1,Xe.value="",ft.value="",z.push(`/deposit?action=create-pool&tokena=${(ae=A==null?void 0:A.value)==null?void 0:ae.address}&tokenb=${(he=_==null?void 0:_.value)==null?void 0:he.address}`)))},{immediate:!0});const ot=x(()=>i.value.assets&&A.value&&i.value.assets[A.value.address]?Pi(i.value.assets[A.value.address].balance,A.value.decimals):"0"),it=x(()=>i.value.assets&&_.value&&i.value.assets[_.value.address]?Pi(i.value.assets[_.value.address].balance,_.value.decimals):"0"),ti=async()=>{const f=await E.value.getTicks(me.value),h=f?E.value.getTickDataFromUrlData(f):[];ke.value=h},ta=Ra(),fo=x(()=>D.value.currentPositionInfo),na=async f=>{var ve,we,Le,qe,be,ce,Se,_t,ct,pt;Qt.value=!1,D.value.currentPositionInfo={},Nt(""),Jt(t("tips.increaseLiquiditySuccess",{from:Ie.value?"":`${$.value} ${(ve=A.value)==null?void 0:ve.symbol}`,and:!Ie.value&&!Pe.value?"and":"",to:Pe.value?"":`${y.value} ${(we=_.value)==null?void 0:we.symbol}`})),Ye(!0);const h=I.value?g.value:!g.value;let R,B,K,Q,ae,he;const ie=me.value.token_a.decimals,pe=me.value.token_b.decimals;m.value==="0"&&k.value==="∞"?(K=E.value.TickUtil.getMinIndex(Number(me.value.tickSpacing)),Q=E.value.TickUtil.getMaxIndex(Number(me.value.tickSpacing))):V.value=="custom"?(I.value?(R=Number(m.value),B=Number(k.value)):(R=1/Number(k.value),B=1/Number(m.value)),ae=R==0?-443636:E.value.TickMath.priceToTickIndex(new F(R),ie,pe),he=E.value.TickMath.priceToTickIndex(new F(B),ie,pe),K=E.value.getNearestTickByTick(ae,Number(me.value.tickSpacing)),Q=E.value.getNearestTickByTick(he,Number(me.value.tickSpacing))):(K=jt.value[V.value].lower,Q=jt.value[V.value].upper);try{const Me=await E.value.getAddLiquidityTransactionPayload({pool:{poolAddress:me.value.poolAddress,token_a:me.value.token_a,token_b:me.value.token_b},amount:g.value?$.value:y.value,fix_amount_a:h,tick_lower:K,tick_upper:Q,index:0,slippage:Number(Ve.value)/100,roundUp:!0});let Te;if(G.value.chainName==="Aptos")Te=await i.value.currentWallet.signAndSubmitTransaction(Me);else{const Ge=await i.value.currentWallet.signAndExecuteTransactionBlock(Me);Te=E.value.handleTx(Ge)}if(Te&&Te.hash){Nt(Te.hash),Ye(!1),St(!0);const Ge=oi();let Fe;me.value.needReverse?me.value.token_a.address.toLowerCase()===A.value.address.toLowerCase()&&me.value.token_b.address.toLowerCase()===_.value.address.toLowerCase()?Fe=!1:Fe=!0:me.value.token_a.address.toLowerCase()===A.value.address.toLowerCase()&&me.value.token_b.address.toLowerCase()===_.value.address.toLowerCase()?Fe=!0:Fe=!1;const Ht={title:"Supplied",desc:t("tips.addLiquiditySuccessText",{from:Ie.value?"":`${$.value} ${(Le=A.value)==null?void 0:Le.symbol}`,and:!Ie.value&&!Pe.value?"and":"",to:Pe.value?"":`${y.value} ${(qe=_.value)==null?void 0:qe.symbol}`}),hash:Te.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:Fe?(be=A.value)==null?void 0:be.address:(ce=_.value)==null?void 0:ce.address,numa:Fe?$.value:y.value,logoa:Fe?D.value.tokensObj&&A.value&&A.value.address&&D.value.tokensObj[A.value.address]&&D.value.tokensObj[A.value.address].logoURI:D.value.tokensObj&&_.value&&_.value.address&&D.value.tokensObj[_.value.address]&&D.value.tokensObj[_.value.address].logoURI,tokenb:Fe?(_t=_.value)==null?void 0:_t.address:(Se=A.value)==null?void 0:Se.address,numb:Fe?y.value:$.value,logob:Fe?D.value.tokensObj&&_.value&&_.value.address&&D.value.tokensObj[_.value.address]&&D.value.tokensObj[_.value.address].logoURI:D.value.tokensObj&&A.value&&A.value.address&&D.value.tokensObj[A.value.address]&&D.value.tokensObj[A.value.address].logoURI},text:`Deopsit ${Ie.value?"":`${$.value} ${(ct=A.value)==null?void 0:ct.symbol}`} ${!Ie.value&&!Pe.value?"and":""} ${Pe.value?"":`${y.value} ${(pt=_.value)==null?void 0:pt.symbol}`}`};G.value.chainName!=="Aptos"&&(Ht.res=Te.res),E.value.showTransitionPending(Ht);const $t=await E.value.watchTransaction(Ht,!0);if($t.status){if(St(!1),D.value.setCurrentPositionLoading(!0),s.value=!0,G.value.chainName==="Aptos")await D.value.setCurrentPositionInfo($t.nftInfo[0].data.id.creator,$t.nftInfo[0].data.id.collection,$t.nftInfo[0].data.name,G.value.chainName),f&&await ta.subscribePosition({pool_address:fo.value.poolAddress,position_index:fo.value.index},fo.value.nftHash);else{const rt=$t.nftInfo,vo=await wa(2e3);await D.value.setCurrentPositionInfo(rt==null?void 0:rt.pool,"","",G.value.chainName,rt==null?void 0:rt.position)}setTimeout(()=>{nt.updateCurrentPools(me.value.poolAddress,G.value.chainName),E.value.getAccount(i.value.address)},3e3),setTimeout(async()=>{ti()},3e3)}Zt()}else Ye(!1),Tt(!0);$.value="",y.value=""}catch{$.value="",y.value="",Ye(!1),Tt(!0)}},oa=f=>{switch(f){case"active":return t("newAdd.activeTips");case"passive":return t("newAdd.passiveTips");case"full range":return t("newAdd.fullRangTips");case"suggested":return t("newAdd.suggestedTips");case"custom":return t("newAdd.customTips")}},ia=f=>{switch(f){case"suggested":return t("newAdd.suggested");case"active":return t("newAdd.active");case"passive":return t("newAdd.conservative");case"full range":return t("newAdd.fullRange");case"custom":return t("newAdd.custom")}},ni=f=>{V.value=f.key.toLowerCase();const h=me.value.token_a.decimals,R=me.value.token_b.decimals,{lower:B,upper:K}=f,Q=E.value.TickMath.tickIndexToPrice(B,h,R).toString(),ae=E.value.TickMath.tickIndexToPrice(K,h,R).toString();if(f.key=="full range"){xt.value=B,en.value=K,Pt(!0),mt();return}I.value?(U.value=String(Q),m.value=String(Q),H.value=String(ae),k.value=String(ae),xt.value=B,en.value=K,mt()):(U.value=String(1/Number(ae)),m.value=String(1/Number(ae)),H.value=String(1/Number(Q)),k.value=String(1/Number(Q)),xt.value=E.value.TickMath.priceToTickIndex(new F(1/Number(ae)),h,R),en.value=E.value.TickMath.priceToTickIndex(new F(1/Number(Q)),h,R),mt())},ra=x(()=>D.value.tokensObj&&A.value.address&&D.value.tokensObj[A.value.address]&&D.value.tokensObj[A.value.address].logoURI),aa=x(()=>D.value.tokensObj&&_.value.address&&D.value.tokensObj[_.value.address]&&D.value.tokensObj[_.value.address].logoURI),oi=()=>{var R,B,K,Q,ae,he,ie,pe;let f=null;const h=D.value.poolConfigList;for(let ve=0;ve<h.length;ve++){const we=h[ve];if(we.token_a.address.toUpperCase()===((B=(R=A==null?void 0:A.value)==null?void 0:R.address)==null?void 0:B.toUpperCase())&&we.token_b.address.toUpperCase()===((Q=(K=_==null?void 0:_.value)==null?void 0:K.address)==null?void 0:Q.toUpperCase())||we.token_b.address.toUpperCase()===((he=(ae=A==null?void 0:A.value)==null?void 0:ae.address)==null?void 0:he.toUpperCase())&&we.token_a.address.toUpperCase()===((pe=(ie=_==null?void 0:_.value)==null?void 0:ie.address)==null?void 0:pe.toUpperCase())){f=we;break}}return f},sa=f=>{var R,B,K,Q,ae,he,ie,pe,ve;const h=oi();h&&(je.value=h.needReverse?h==null?void 0:h.token_b:h==null?void 0:h.token_a,De.value=h.needReverse?h==null?void 0:h.token_a:h==null?void 0:h.token_b,A.value=h.needReverse?h==null?void 0:h.token_b:h==null?void 0:h.token_a,_.value=h.needReverse?h==null?void 0:h.token_a:h==null?void 0:h.token_b,I.value=A.value.address===((R=h==null?void 0:h.token_a)==null?void 0:R.address)),ze.value.includes(f.fee)?(T.value=f.label,Et.value=f.fee,z.push(`/deposit?tokena=${h?h.needReverse?(K=h==null?void 0:h.token_b)==null?void 0:K.address:(B=h==null?void 0:h.token_a)==null?void 0:B.address:A.value.address}&tokenb=${h?h.needReverse?(ae=h==null?void 0:h.token_a)==null?void 0:ae.address:(Q=h==null?void 0:h.token_b)==null?void 0:Q.address:_.value.address}&fee=${f.fee}`),m.value="0",k.value="0"):(Et.value=f.fee,T.value=f.label,me.value&&(m.value="",k.value=""),z.push(`/deposit?action=create-pool&tokena=${h?h.needReverse?(ie=h==null?void 0:h.token_b)==null?void 0:ie.address:(he=h==null?void 0:h.token_a)==null?void 0:he.address:A.value.address}&tokenb=${h?h.needReverse?(ve=h==null?void 0:h.token_a)==null?void 0:ve.address:(pe=h==null?void 0:h.token_b)==null?void 0:pe.address:_.value.address}&fee=${f.fee}`),h||(I.value=!0))},tn=N(!1),la=()=>{me.value?Qt.value=!0:tn.value=!0},O=N(null),mo=N(""),po=N(""),ii=f=>{var ae,he,ie,pe,ve,we,Le,qe;f?(mo.value=f,Xe.value=f,ft.value=f,po.value=ft.value,q.value=!1):(mo.value="",Xe.value="",ft.value="",po.value="");let h=!1;const R=D.value.poolConfigList;let B=null;for(let be=0;be<R.length;be++){const ce=R[be];if(ce.token_a.address.toUpperCase()===((he=(ae=je==null?void 0:je.value)==null?void 0:ae.address)==null?void 0:he.toUpperCase())&&ce.token_b.address.toUpperCase()===((pe=(ie=De==null?void 0:De.value)==null?void 0:ie.address)==null?void 0:pe.toUpperCase())){h=ce.needReverse,B=ce;break}else if(ce.token_b.address.toUpperCase()===((we=(ve=je==null?void 0:je.value)==null?void 0:ve.address)==null?void 0:we.toUpperCase())&&ce.token_a.address.toUpperCase()===((qe=(Le=De==null?void 0:De.value)==null?void 0:Le.address)==null?void 0:qe.toUpperCase())){h=ce.needReverse,B=ce;break}}const K=I.value,Q=G.value.chainName=="Aptos"?wp:Cp;if(A.value&&_.value&&f){const be=B?B==null?void 0:B.token_a.decimals:je.value.decimals,ce=B?B==null?void 0:B.token_b.decimals:De.value.decimals,Se=f&&E.value.TickMath.priceToSqrtPriceX64(K?new F(f):new F(1/f),be,ce),_t=f&&E.value.TickMath.priceToSqrtPriceX64(new F(1/f),A.value.decimals,_.value.decimals),ct=E.value.TickMath.priceToTickIndex(K?new F(f):new F(1/f),be,ce,Q[oe.query.fee]),pt=ct-Q[oe.query.fee]*5,Me=ct+Q[oe.query.fee]*5,Te=E.value.TickMath.tickIndexToPrice(pt,be,ce).toString(),Ge=E.value.TickMath.tickIndexToPrice(Me,be,ce).toString();K?(m.value=Te,k.value=Ge,U.value=Te,H.value=Ge):(m.value=String(1/Ge),k.value=String(1/Te),U.value=String(1/Ge),H.value=String(1/Te));const Fe={token_a:B?B.token_a:je.value,token_b:B?B.token_b:De.value,isCreate:!0,tickSpacing:Q[oe.query.fee],currentPrice:f,current_sqrt_price:Se,tick_lower:pt,tick_upper:Me,current_tick_index:ct,currentPriceReverse:sn(String(1/f),6),reverse_current_sqrt_price:_t,needReverse:h};O.value=Fe,mt()}else O.value=null,m.value="",k.value=""},ua=async()=>{var pe,ve,we,Le;if(G.value.chainName!=="Aptos"){ri();return}tn.value=!1;let f,h,R,B,K,Q;const ae=je.value.decimals,he=De.value.decimals;Nt(""),Jt(t("tips.increaseLiquiditySuccess",{from:Ie.value?"":`${$.value} ${(pe=A.value)==null?void 0:pe.symbol}`,and:!Ie.value&&!Pe.value?"and":"",to:Pe.value?"":`${y.value} ${(ve=_.value)==null?void 0:ve.symbol}`})),Ye(!0),m.value==="0"&&k.value==="∞"?(R=E.value.TickUtil.getMinIndex(Number(O.value.tickSpacing)),B=E.value.TickUtil.getMaxIndex(Number(O.value.tickSpacing))):(I.value?(f=Number(m.value),h=Number(k.value)):(f=1/Number(k.value),h=1/Number(m.value)),K=f==0?-443636:E.value.TickMath.priceToTickIndex(new F(f),ae,he),Q=E.value.TickMath.priceToTickIndex(new F(h),ae,he),R=E.value.getNearestTickByTick(K,Number(O.value.tickSpacing)),B=E.value.getNearestTickByTick(Q,Number(O.value.tickSpacing)));const ie=I.value?g.value:!g.value;try{const qe=await E.value.getCreatPoolTransactionPayload({coinTypeA:je.value.address,coinTypeB:De.value.address,tick_spacing:Number(O.value.tickSpacing),initialize_sqrt_price:new ht(O.value.current_sqrt_price),uri:"",current_tick_index:O.value.current_tick_index,max_amount_a:I.value?$.value:y.value,max_amount_b:I.value?y.value:$.value,tick_lower:R,tick_upper:B,slippage:Number(Ve.value)/100,decimalsA:ae,decimalsB:he,fix_amount_a:ie,liquidityInput:Mt.value});let be;if(G.value.chainName==="Aptos")be=await i.value.currentWallet.signAndSubmitTransaction(qe);else{const ce=await i.value.currentWallet.signAndExecuteTransactionBlock(qe);be=E.value.handleTx(ce)}if(be&&be.hash){Nt(be.hash),Ye(!1),St(!0);const ce={title:"Created pool",desc:"Pool created successfully ",hash:be.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(we=A.value)==null?void 0:we.address}`,numa:Ie.value?"":`- ${$.value}`,logoa:D.value.tokensObj&&A.value&&A.value.address&&D.value.tokensObj[A.value.address]&&D.value.tokensObj[A.value.address].logoURI,tokenb:`${(Le=_.value)==null?void 0:Le.address}`,numb:Pe.value?"":`- ${y.value}`,logob:D.value.tokensObj&&_.value&&_.value.address&&D.value.tokensObj[_.value.address]&&D.value.tokensObj[_.value.address].logoURI},text:"Pool created successfully"};G.value.chainName!=="Aptos"&&(ce.res=be.res),E.value.showTransitionPending(ce),(await E.value.watchTransaction(ce,!0)).status&&(St(!1),l.value=!0,setTimeout(()=>{nt.setPoolConfigList(G.value.chainName),E.value.getAccount(i.value.address)},1e3)),Zt()}else Ye(!1),Tt(!0);$.value="",y.value=""}catch{nt.setPoolConfigList(G.value.chainName),tn.value=!1,$.value="",y.value="",Ye(!1),Tt(!0)}},ri=async()=>{var qe,be,ce,Se,_t,ct,pt,Me,Te,Ge,Fe,Ht,$t,rt,vo,si,li,ui,ci,di,fi,mi,pi,hi,vi,gi,yi,bi,ki,wi,Ci,_i,$i,Ai,Ii;tn.value=!1;let f=!1;E.value.getIsSortedSymbols(je.value.address,De.value.address)&&(f=!0),Nt("");const h=Ie.value?"":`${$.value} ${(qe=A.value)==null?void 0:qe.symbol}`,R=Pe.value?"":`${y.value} ${(be=_.value)==null?void 0:be.symbol}`;Jt(t("tips.increaseLiquiditySuccess",{from:!f&&!((ce=O==null?void 0:O.value)!=null&&ce.needReverse)||f&&((Se=O==null?void 0:O.value)!=null&&Se.needReverse)?h:R,and:!Ie.value&&!Pe.value?"and":"",to:!f&&!((_t=O==null?void 0:O.value)!=null&&_t.needReverse)||f&&((ct=O==null?void 0:O.value)!=null&&ct.needReverse)?R:h})),Ye(!0);let B="",K="",Q="",ae="",he="",ie="",pe=0,ve=0,we=!1,Le;if(f||(pt=O==null?void 0:O.value)!=null&&pt.needReverse){const Xt=f&&!((Me=O==null?void 0:O.value)!=null&&Me.needReverse);B=Xt?(Ht=(Fe=O==null?void 0:O.value)==null?void 0:Fe.token_b)==null?void 0:Ht.address:(Ge=(Te=O==null?void 0:O.value)==null?void 0:Te.token_a)==null?void 0:Ge.address,K=Xt?(si=(vo=O==null?void 0:O.value)==null?void 0:vo.token_a)==null?void 0:si.address:(rt=($t=O==null?void 0:O.value)==null?void 0:$t.token_b)==null?void 0:rt.address,Q=Xt?(di=(ci=O==null?void 0:O.value)==null?void 0:ci.token_b)==null?void 0:di.decimals:(ui=(li=O==null?void 0:O.value)==null?void 0:li.token_a)==null?void 0:ui.decimals,ae=Xt?(hi=(pi=O==null?void 0:O.value)==null?void 0:pi.token_a)==null?void 0:hi.decimals:(mi=(fi=O==null?void 0:O.value)==null?void 0:fi.token_b)==null?void 0:mi.decimals,(vi=O==null?void 0:O.value)!=null&&vi.needReverse?(he=I.value?$.value:y.value,ie=I.value?y.value:$.value,pe=I.value?Number(m.value):1/Number(k.value),ve=I.value?Number(k.value):1/Number(m.value),we=I.value?g.value:!g.value,Le=I.value?Xe.value:1/Number(Xe.value)):(he=I.value?y.value:$.value,ie=I.value?$.value:y.value,pe=I.value?1/Number(k.value):Number(m.value),ve=I.value?1/Number(m.value):Number(k.value),we=I.value?!g.value:g.value,Le=I.value?1/Number(Xe.value):Xe.value)}else B=(yi=(gi=O==null?void 0:O.value)==null?void 0:gi.token_a)==null?void 0:yi.address,K=(ki=(bi=O==null?void 0:O.value)==null?void 0:bi.token_b)==null?void 0:ki.address,Q=(Ci=(wi=O==null?void 0:O.value)==null?void 0:wi.token_a)==null?void 0:Ci.decimals,ae=($i=(_i=O==null?void 0:O.value)==null?void 0:_i.token_b)==null?void 0:$i.decimals,he=I.value?$.value:y.value,ie=I.value?y.value:$.value,pe=I.value?Number(m.value):1/Number(k.value),ve=I.value?Number(k.value):1/Number(m.value),we=I.value?g.value:!g.value,Le=I.value?Xe.value:1/Number(Xe.value);try{const Xt=await E.value.getCreatPoolTransactionPayload({coinTypeA:B,coinTypeB:K,decimalsA:Q,decimalsB:ae,amountA:he,amountB:ie,minPrice:pe,maxPrice:ve,fix_amount_a:we,tick_spacing:Number(O.value.tickSpacing),slippage:Number(Ve.value)/100,price:Le}),pa=await i.value.currentWallet.signAndExecuteTransactionBlock(Xt),pn=E.value.handleTx(pa);if(pn&&pn.hash){Nt(pn.hash),Ye(!1),St(!0);const go={title:"Created pool",desc:"Pool created successfully ",hash:pn.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Ai=A.value)==null?void 0:Ai.address}`,numa:Ie.value?"":`- ${$.value}`,logoa:D.value.tokensObj&&A.value&&A.value.address&&D.value.tokensObj[A.value.address]&&D.value.tokensObj[A.value.address].logoURI,tokenb:`${(Ii=_.value)==null?void 0:Ii.address}`,numb:Pe.value?"":`- ${y.value}`,logob:D.value.tokensObj&&_.value&&_.value.address&&D.value.tokensObj[_.value.address]&&D.value.tokensObj[_.value.address].logoURI},text:"Pool created successfully"};G.value.chainName!=="Aptos"&&(go.res=pn.res),E.value.showTransitionPending(go),(await E.value.watchTransaction(go,!0)).status&&(St(!1),l.value=!0,setTimeout(()=>{nt.setPoolConfigList(G.value.chainName),E.value.getAccount(i.value.address)},1e3)),Zt()}else Ye(!1),Tt(!0);$.value="",y.value=""}catch{tn.value=!1,nt.setPoolConfigList(G.value.chainName),$.value="",y.value="",Ye(!1),Tt(!0)}},ca=x(()=>{var f,h,R,B,K,Q;return((f=A.value)==null?void 0:f.isSelfBuilt)||((h=_.value)==null?void 0:h.isSelfBuilt)||((B=D.value.tokensObj[(R=A.value)==null?void 0:R.address])==null?void 0:B.isSelfBuilt)||((Q=D.value.tokensObj[(K=_.value)==null?void 0:K.address])==null?void 0:Q.isSelfBuilt)}),da=f=>{var h;return(f==null?void 0:f.logoURI)||(f==null?void 0:f.logo_url)||((h=D.value.tokensObj[f==null?void 0:f.address])==null?void 0:h.logo_url)||(G.value.theme==="default"?Be("/image/coins/unknown.png"):Be("/image/coins/sui-unknown.png"))},ho=(f,h)=>{const R=localStorage.getItem(f.address);D.value.tokensObj&&D.value.tokensObj[f.address]&&D.value.tokensObj[f.address].isSelfBuilt&&!R&&(h=="fromCoin"&&(dn.value=f),h=="toCoin"&&(fn.value=f),ai.value=!0)};$e(()=>[A.value,_.value],([f,h])=>{f&&!vt(f)&&ho(f,"fromCoin"),h&&!vt(h)&&ho(h,"toCoin")},{immediate:!0});const ai=N(!1),fa=()=>{z.push("/pools")},ma=x(()=>G.value.chainName);return{warningToCoin:fn,warningFromCoin:dn,getTokenSource:ho,closeTokenWarning:fa,isShowTokenWarning:ai,chainName:ma,hasCreatePool:Un,isCreateSuccess:l,intPriceReverse:po,isShowMask:tt,isPc:e,intPrice:mo,createPoolToCoin:De,createPoolFromCoin:je,getPoolInfoSuccess:Dt,toCreatePool:ua,createPoolInfo:O,changecurrentPrice:ii,isShowCreatePoolModal:tn,addOrCreate:la,halfBtnSelect:Rn,selectFee:sa,isViewDetail:s,addCommom:at,decimalUi:Ne,fromCoinUrl:ra,toCoinUrl:aa,t,wallet:i,toAdd:na,chartLoading:q,currentTick:J,tickList:ke,poolInfo:me,storeIndex:G,importIcon:Be,addLiquidityBtnText:W,slippage:Ve,countdown:a,loading:u,fromCoin:A,toCoin:_,openCoinSelect:Tn,onCoinSelect:Nn,existingCoins:v,lastSelectCoin:p,currentCoinKey:d,showCoinSelect:C,fromCoinAmount:$,toCoinAmount:y,maxBtnSelect:Mn,fixedFromCoin:g,isShowLiquidityModal:Qt,direct:I,toggle:Sn,edit:Z,inputValue:T,feeTierList:Ee,minPrice:m,maxPrice:k,invalidPriceRange:Je,defaultMinPrice:U,defaultMaxPrice:H,priceRangeChangeMin:Oe,priceRangeChangeMax:Pn,toFullRange:Pt,clearAll:Ln,clickClear:S,positionError:ee,positionTips:de,router:z,clickRefresh:Ct,fromCoinBlance:ot,toCoinBlance:it,showToCoinLock:Pe,showFromCoinLock:Ie,currentPriceReverse:ft,currentPrice:Xe,getPirceText:oa,currentPriceTab:V,currentPriceTabList:Qe,getPirceKey:ia,priceTab:ni,aprRewardsParameter:re,aprRewardsDateList:ne,aprTab:wt,reviseValue:Re,label:fe,aprTitle:te,isCreatePool:ze,before7dContractPriceLowest:ut,before7dContractPriceHighest:j,aprRewardsTime:le,addLiquidityBtnDisabled:He,checkNullObj:vt,sFixD:jn,toCreateSuiPool:ri,isSelfBuilt:ca,getCoinIcon:da}}}),cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEVHcEwlW04mW04oXlEmW04SHx4jR0B2/9wQFBMVJyVk17szaV2jJaSaAAAABHRSTlMA8K8m/cUwkQAAAL5JREFUSMdjYMAKmBWFDBgIAUMXF2GCilQy2pyQ+Swu2EBHhyNIkgnIdMCjyCUUCMJgilxDMUFKRpsblBmCU9EUFxdPgooiU9ymElSEBEYVDR1FkaumElYUVp46qmjAFTGruE0lqMgQkaGnpYFAdvk2MJ2JpEgFUTQsL0cGVUiKRKCFDLGKiLKOKIdTGASjSYWWiogqMEYL1lFFWJoRTgYEFU0Bt6QIKEoBt6SwN43QWlJEKSKx4UZ+ExDUmAQAo9rc9CAs4WAAAAAASUVORK5CYII=",dr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTANNcARNcAdKcgEdMQRNcBM8V3bI/2Gq2ihWdudYHvAAAAAEdFJOUwDwryb9xTCRAAAAuklEQVRIx2NgwAqYFYUMGAgBw9BQYYKKVFPcgpD5rKHYgItLIEiSCcgMwKMIiFxcXGGKQlwwQWqKWxiU6YpTEdCEEIKKXFLDXAgrQjJ0VNHQUdRBhCK38pRRRQOuiFk1jLAiQ0SGdksDgczyaWA6BUmRKqJoaC9HBhVIikShhQyxioiyjiiHUxgEo0mFloqIKjBGC9ZRRViaEUEGBBW5gltSBBSFgltS2JtGaC0pohSR2HAjvwkIakwCANqYbmgtLE7YAAAAAElFTkSuQmCC",xr=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,ea=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const Ft=e=>(Ot("data-v-bfc73587"),e=e(),Bt(),e),$p={class:"pools-container"},Ap={key:0,class:"content pc-content"},Ip={class:"content-left"},Pp={class:"content-left-bg"},Sp={class:"content-left-title"},Tp={key:0,class:"pool-warning"},Np={class:"coin-select"},Mp={key:0,class:"icon","aria-hidden":"true"},Rp=Ft(()=>c("use",{"xlink:href":"#icon-edit"},null,-1)),Lp=[Rp],qp={key:0,class:"fee-container"},Up=["onClick"],Op={key:0},Bp={key:1},Fp={class:"deposit-title"},Ep={class:"card-container"},jp={class:"card-item"},Dp={class:"card-item"},Hp={key:0,class:"icon","aria-hidden":"true"},Xp=Ft(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),zp=[Xp],Vp={class:"pc-network"},Wp={class:"content-right"},Kp={key:0,class:"initPrice-mask"},Yp={class:"content-right-title"},Gp=Ft(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Qp={class:"content-right-bg"},Jp={key:1,class:"price-tab"},Zp=["onClick"],xp={key:2,class:"create-pool-tips"},eh={key:3,class:"set-price-range"},th={key:0},nh={key:1,class:"coin"},oh={key:2,class:"coin"},ih={key:3,class:"no-price"},rh=["src"],ah=["src"],sh={key:6,class:"position-tips"},lh=["src"],uh={class:"tips"},ch={key:7,class:"position-tips"},dh=["src"],fh={class:"error"},mh={key:8,class:"d3-chart-box"},ph={key:9,class:"day-7-price-range"},hh=Ft(()=>c("i",null,null,-1)),vh={class:"gray"},gh={key:11,class:"create-pool-tips"},yh={key:1,class:"no-data"},bh={key:0,src:xr,alt:""},kh={key:1,src:ea,alt:""},wh={key:1,class:"content h5-content"},Ch={class:"content-left"},_h={class:"content-left-bg"},$h={class:"content-left-title"},Ah={key:0,class:"pool-warning"},Ih={class:"coin-select"},Ph={key:0,class:"icon","aria-hidden":"true"},Sh=Ft(()=>c("use",{"xlink:href":"#icon-edit"},null,-1)),Th=[Sh],Nh={key:0,class:"fee-container"},Mh=["onClick"],Rh={key:0},Lh={key:1},qh={class:"content-right"},Uh={key:0,class:"initPrice-mask"},Oh={class:"content-right-title"},Bh=Ft(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Fh={class:"content-right-bg"},Eh={key:1,class:"price-tab"},jh=["onClick"],Dh={key:2,class:"create-pool-tips"},Hh={key:3,class:"set-price-range"},Xh={key:0},zh={key:1,class:"coin"},Vh={key:2,class:"coin"},Wh={key:3,class:"no-price"},Kh=["src"],Yh=["src"],Gh={key:6,class:"position-tips"},Qh=["src"],Jh={class:"tips"},Zh={key:7,class:"position-tips"},xh=["src"],ev={class:"error"},tv={key:8,class:"d3-chart-box"},nv={key:9,class:"day-7-price-range"},ov=Ft(()=>c("i",null,null,-1)),iv={class:"gray"},rv={key:11,class:"create-pool-tips"},av={key:1,class:"no-data"},sv={key:0,src:xr,alt:""},lv={key:1,src:ea,alt:""},uv={key:0,class:"icon","aria-hidden":"true"},cv=Ft(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),dv=[cv],fv={class:"pc-network"},mv={class:"new-right"},pv={class:"deposit-title"},hv={class:"card-container"},vv={class:"card-item"},gv={class:"card-item"},yv={key:0,class:"icon","aria-hidden":"true"},bv=Ft(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),kv=[bv],wv={class:"h5-network"};function Cv(e,t,n,o,i,r){var J,q,X,ke,V,re,le,te,ne,fe,Y,G,tt,E,wt,Re,Qe,Ct,Je,Pt,ze,Ee,Ve,dt,He,W,ue,ut,j,z,A,_,Oe,Pn,Sn,Tn,je,De,dn,fn,Nn,Mn,Rn,Ln,Qt,St,Tt,Ye,Jt,Nt,Zt,oe,nt,D,Mt,Ie,Pe,xt,en,Xe,ft,mt,Et,mn,me,qn,jt;const a=ha,l=ja,s=fr,u=Qa,d=Aa,v=os,p=us,C=ws,I=ro,se=ba,g=Is,S=Ws,$=vf,y=hr,m=Sa,k=om,U=Ia,H=Pa,Z=Um,de=Wm,ee=kp,T=ga;return b(),P("div",$p,[ye(a),ye(l,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(b(),P("div",Ap,[c("div",Ip,[c("div",Pp,[c("div",Sp,[Ue(w(e.$t("common.selectPool"))+" ",1),ye(s,{placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.t("newAdd.poolWarning")),1)]),default:Ce(()=>[e.isSelfBuilt?(b(),P("div",Tp)):L("",!0)]),_:1})]),c("div",Np,[ye(u,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[0]||(t[0]=M=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ye(u,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:t[1]||(t[1]=M=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:Ae(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",{class:"pool-fee-header",onClick:t[2]||(t[2]=M=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[c("span",{class:Ae(e.inputValue?"":"fee-span")},w(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(b(),P("svg",Mp,Lp)):L("",!0)]),e.edit?(b(),P("div",qp,[(b(!0),P(qt,null,vn(e.feeTierList,(M,Dt)=>(b(),P("div",{key:Dt,class:Ae(["fee-item",[e.inputValue&&e.inputValue==M.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.includes(M.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Un=>e.selectFee(M)},[e.$route.query.action=="create-pool"?(b(),P("div",Op,[c("p",null,w(M.title),1),c("p",{class:Ae(e.isCreatePool&&e.isCreatePool.includes(M.fee)?"text-default":"text-theme")},w(e.isCreatePool&&e.isCreatePool.includes(M.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(b(),P("div",Bp,[c("p",{class:Ae(e.isCreatePool&&e.isCreatePool.includes(M.fee)?"text-active":"text-default")},w(M.title),3),c("p",null,w(e.isCreatePool&&e.isCreatePool.includes(M.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,w(M.text),1)],10,Up))),128))])):L("",!0)],2),c("div",Fp,w(e.$t("newAdd.depositAmounts")),1),c("div",Ep,[c("div",jp,[ye(d,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=M=>e.fromCoinAmount=M),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=M=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=M=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=M=>{e.fromCoinAmount=M,e.fixedFromCoin=!0}),onOnSelect:t[7]||(t[7]=M=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(b(),ge(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),c("div",Dp,[ye(d,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=M=>e.toCoinAmount=M),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=M=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=M=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=M=>{e.toCoinAmount=M,e.fixedFromCoin=!1}),onOnSelect:t[12]||(t[12]=M=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(b(),ge(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),(q=(J=e.$route)==null?void 0:J.query)!=null&&q.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(b(),ge(p,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(b(),P("img",{key:1,class:"add",src:cr,alt:"",onClick:t[13]||(t[13]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(b(),P("img",{key:2,class:"add",src:dr,alt:"",onClick:t[14]||(t[14]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0)]),e.poolInfo?(b(),ge(C,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):L("",!0)]),ye(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[15]||(t[15]=M=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ce(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(b(),P("svg",Hp,zp)):L("",!0),c("span",null,w(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Vp,[ye(se)])]),c("div",Wp,[e.isShowMask?(b(),P("div",Kp)):L("",!0),c("div",Yp,[Ue(w(e.poolInfo?e.$t("newAdd.selectRange"):(ke=(X=e.$router)==null?void 0:X.query)!=null&&ke.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(b(),ge(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.$t("newAdd.selectRangeTips")),1)]),default:Ce(()=>[Gp]),_:1})):L("",!0)]),c("div",Qp,[!((re=(V=e.$route)==null?void 0:V.query)!=null&&re.action)&&e.poolInfo||(te=(le=e.$route)==null?void 0:le.query)!=null&&te.action?(b(),P(qt,{key:0},[(fe=(ne=e.$route)==null?void 0:ne.query)!=null&&fe.action&&!e.poolInfo?(b(),ge(g,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):L("",!0),e.poolInfo?(b(),P("div",Jp,[(b(!0),P(qt,null,vn(e.currentPriceTabList,M=>(b(),P("div",{key:M,class:Ae(["price-item",{"price-item-active":M.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Dt=>e.priceTab(M)},[ye(s,{placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.getPirceText(M.key)),1)]),default:Ce(()=>[Ue(" "+w(e.getPirceKey(M.key)),1)]),_:2},1024)],10,Zp))),128))])):L("",!0),(G=(Y=e.$route)==null?void 0:Y.query)!=null&&G.action&&!e.poolInfo?(b(),P("div",xp,w(e.$t("newAdd.createPoolInitialText")),1)):L("",!0),!e.poolInfo&&((E=(tt=e.$route)==null?void 0:tt.query)!=null&&E.action)?(b(),P("div",eh,w(e.$t("common.setPriceRange")),1)):L("",!0),e.poolInfo||(Re=(wt=e.$route)==null?void 0:wt.query)!=null&&Re.action?(b(),P("div",{key:4,class:Ae(["current-price",(Ct=(Qe=e.$route)==null?void 0:Qe.query)!=null&&Ct.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(b(),P("span",th,w(e.$t("common.currentPrice")),1)):L("",!0),e.fromCoin&&e.toCoin&&e.direct?(b(),P("div",nh,[c("span",null,w(e.$t("common.currentPrice")),1),Ue(" "+w(("decimalUi"in e?e.decimalUi:_e(Ne))(e.currentPrice,6))+" "+w((Je=e.toCoin)==null?void 0:Je.symbol)+" per "+w((Pt=e.fromCoin)==null?void 0:Pt.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(b(),P("div",oh,[c("span",null,w(e.$t("common.currentPrice")),1),Ue(" "+w(("decimalUi"in e?e.decimalUi:_e(Ne))(e.currentPriceReverse,6))+" "+w((ze=e.toCoin)==null?void 0:ze.symbol)+" per "+w((Ee=e.fromCoin)==null?void 0:Ee.symbol),1)])):(b(),P("div",ih,"0.0")),e.fromCoin&&e.toCoin?(b(),P("div",{key:4,class:Ae(e.poolInfo&&((Ve=e.poolInfo)!=null&&Ve.needReverse)||e.createPoolInfo&&((dt=e.createPoolInfo)!=null&&dt.needReverse)?"toggle reverse":"toggle")},[c("div",{class:Ae(e.direct?"item active-item":"item"),onClick:t[16]||(t[16]=M=>e.direct?"":e.toggle())},[c("img",{src:e.getCoinIcon(e.direct?e.fromCoin:e.toCoin),alt:""},null,8,rh),Ue(" "+w(e.direct?(He=e.fromCoin)==null?void 0:He.symbol:(W=e.toCoin)==null?void 0:W.symbol),1)],2),c("div",{class:Ae(e.direct?"item ":"item active-item"),onClick:t[17]||(t[17]=M=>e.direct?e.toggle():"")},[c("img",{src:e.getCoinIcon(e.direct?e.toCoin:e.fromCoin),alt:""},null,8,ah),Ue(" "+w(e.direct?(ue=e.toCoin)==null?void 0:ue.symbol:(ut=e.fromCoin)==null?void 0:ut.symbol),1)],2)],2)):L("",!0)],2)):L("",!0),e.poolInfo||(z=(j=e.$route)==null?void 0:j.query)!=null&&z.action?(b(),ge(S,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):L("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(b(),P("div",sh,[c("img",{src:("importIcon"in e?e.importIcon:_e(Be))("/image/icon-tips@2x.png"),alt:""},null,8,lh),c("p",uh,w(e.$t("tips.positionTips")),1)])):L("",!0),e.positionError&&(e.poolInfo||(_=(A=e.$route)==null?void 0:A.query)!=null&&_.action)?(b(),P("div",ch,[c("img",{src:("importIcon"in e?e.importIcon:_e(Be))("/image/icon-tips-error@2x.png"),alt:""},null,8,dh),c("p",fh,w(e.$t("tips.positionError")),1)])):L("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(b(),P("div",mh,[e.fromCoin&&e.toCoin&&e.poolInfo?(b(),ge($,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):L("",!0),e.chartLoading?(b(),ge(y,{key:1})):L("",!0)])):L("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(b(),P("div",ph,[hh,c("span",vh,w(e.aprRewardsTime)+" Price Range",1),c("span",null,w(e.before7dContractPriceLowest)+" - "+w(e.before7dContractPriceHighest),1)])):L("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(b(),ge(m,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):L("",!0),(Pn=(Oe=e.$route)==null?void 0:Oe.query)!=null&&Pn.action&&!e.poolInfo?(b(),P("div",gh,w(e.$t("newAdd.createPoolText")),1)):L("",!0)],64)):(b(),P("div",yh,[e.storeIndex.theme=="default"?(b(),P("img",bh)):(b(),P("img",kh)),c("p",null,w(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo?(b(),ge(k,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):L("",!0)])])):L("",!0),e.isPc?L("",!0):(b(),P("div",wh,[c("div",Ch,[c("div",_h,[c("div",$h,[Ue(w(e.$t("common.selectPool"))+" ",1),ye(s,{placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.t("newAdd.poolWarning")),1)]),default:Ce(()=>[e.poolInfo&&e.isSelfBuilt?(b(),P("div",Ah)):L("",!0)]),_:1})]),c("div",Ih,[ye(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[18]||(t[18]=M=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ye(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[19]||(t[19]=M=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:Ae(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",{class:"pool-fee-header",onClick:t[20]||(t[20]=M=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[c("span",{class:Ae(e.inputValue?"":"fee-span")},w(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(b(),P("svg",Ph,Th)):L("",!0)]),e.edit?(b(),P("div",Nh,[e.getPoolInfoSuccess?(b(!0),P(qt,{key:1},vn(e.feeTierList,(M,Dt)=>(b(),P("div",{key:Dt,class:Ae(["fee-item",[e.inputValue&&e.inputValue==M.label?"fee-item-active":"",e.isCreatePool.includes(M.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Un=>e.selectFee(M)},[e.$route.query.action=="create-pool"?(b(),P("div",Rh,[c("p",null,w(M.title),1),c("p",{class:Ae(e.isCreatePool.includes(M.fee)?"text-default":"text-theme")},w(e.isCreatePool.includes(M.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(b(),P("div",Lh,[c("p",{class:Ae(e.isCreatePool.includes(M.fee)?"text-active":"text-default")},w(M.title),3),c("p",null,w(e.isCreatePool.includes(M.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,w(M.text),1)],10,Mh))),128)):(b(),ge(y,{key:0}))])):L("",!0)],2)]),c("div",qh,[e.isShowMask?(b(),P("div",Uh)):L("",!0),c("div",Oh,[Ue(w((Sn=e.$route)!=null&&Sn.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(b(),ge(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.$t("newAdd.selectRangeTips")),1)]),default:Ce(()=>[Bh]),_:1})):L("",!0)]),c("div",Fh,[!((je=(Tn=e.$route)==null?void 0:Tn.query)!=null&&je.action)&&e.poolInfo||(dn=(De=e.$route)==null?void 0:De.query)!=null&&dn.action?(b(),P(qt,{key:0},[(Nn=(fn=e.$route)==null?void 0:fn.query)!=null&&Nn.action&&!e.poolInfo?(b(),ge(g,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):L("",!0),e.poolInfo?(b(),P("div",Eh,[(b(!0),P(qt,null,vn(e.currentPriceTabList,M=>(b(),P("div",{key:M,class:Ae(["price-item",{"price-item-active":M.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Dt=>e.priceTab(M)},[ye(s,{placement:"bottom","arrow-point-at-center":""},{title:Ce(()=>[c("span",null,w(e.getPirceText(M.key)),1)]),default:Ce(()=>[Ue(" "+w(e.getPirceKey(M.key)),1)]),_:2},1024)],10,jh))),128))])):L("",!0),(Rn=(Mn=e.$route)==null?void 0:Mn.query)!=null&&Rn.action&&!e.poolInfo?(b(),P("div",Dh,w(e.$t("newAdd.createPoolInitialText")),1)):L("",!0),!e.poolInfo&&((Qt=(Ln=e.$route)==null?void 0:Ln.query)!=null&&Qt.action)?(b(),P("div",Hh,w(e.$t("common.setPriceRange")),1)):L("",!0),e.poolInfo||(Tt=(St=e.$route)==null?void 0:St.query)!=null&&Tt.action?(b(),P("div",{key:4,class:Ae(["current-price",(Jt=(Ye=e.$route)==null?void 0:Ye.query)!=null&&Jt.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(b(),P("span",Xh,w(e.$t("common.currentPrice")),1)):L("",!0),e.fromCoin&&e.toCoin&&e.direct?(b(),P("div",zh,[c("span",null,w(e.$t("common.currentPrice")),1),Ue(" "+w(("decimalUi"in e?e.decimalUi:_e(Ne))(e.currentPrice,6))+" "+w((Nt=e.toCoin)==null?void 0:Nt.symbol)+" per "+w((Zt=e.fromCoin)==null?void 0:Zt.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(b(),P("div",Vh,[c("span",null,w(e.$t("common.currentPrice")),1),Ue(" "+w(("decimalUi"in e?e.decimalUi:_e(Ne))(e.currentPriceReverse,6))+" "+w((oe=e.toCoin)==null?void 0:oe.symbol)+" per "+w((nt=e.fromCoin)==null?void 0:nt.symbol),1)])):(b(),P("div",Wh,"0.0")),e.fromCoin&&e.toCoin?(b(),P("div",{key:4,class:Ae(e.poolInfo&&((D=e.poolInfo)!=null&&D.needReverse)||e.createPoolInfo&&((Mt=e.createPoolInfo)!=null&&Mt.needReverse)?"toggle reverse":"toggle")},[c("div",{class:Ae(e.direct?"item active-item":"item"),onClick:t[21]||(t[21]=M=>e.direct?"":e.toggle())},[c("img",{src:e.getCoinIcon(e.direct?e.fromCoin:e.toCoin),alt:""},null,8,Kh),Ue(" "+w(e.direct?(Ie=e.fromCoin)==null?void 0:Ie.symbol:(Pe=e.toCoin)==null?void 0:Pe.symbol),1)],2),c("div",{class:Ae(e.direct?"item ":"item active-item"),onClick:t[22]||(t[22]=M=>e.direct?e.toggle():"")},[c("img",{src:e.getCoinIcon(e.direct?e.toCoin:e.fromCoin),alt:""},null,8,Yh),Ue(" "+w(e.direct?(xt=e.toCoin)==null?void 0:xt.symbol:(en=e.fromCoin)==null?void 0:en.symbol),1)],2)],2)):L("",!0)],2)):L("",!0),e.poolInfo||(ft=(Xe=e.$route)==null?void 0:Xe.query)!=null&&ft.action?(b(),ge(S,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):L("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(b(),P("div",Gh,[c("img",{src:("importIcon"in e?e.importIcon:_e(Be))("/image/icon-tips@2x.png"),alt:""},null,8,Qh),c("p",Jh,w(e.$t("tips.positionTips")),1)])):L("",!0),e.positionError&&(e.poolInfo||(Et=(mt=e.$route)==null?void 0:mt.query)!=null&&Et.action)?(b(),P("div",Zh,[c("img",{src:("importIcon"in e?e.importIcon:_e(Be))("/image/icon-tips-error@2x.png"),alt:""},null,8,xh),c("p",ev,w(e.$t("tips.positionError")),1)])):L("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(b(),P("div",tv,[e.fromCoin&&e.toCoin&&e.poolInfo?(b(),ge($,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):L("",!0),e.chartLoading?(b(),ge(y,{key:1})):L("",!0)])):L("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(b(),P("div",nv,[ov,c("span",iv,w(e.aprRewardsTime)+" Price Range",1),c("span",null,w(e.before7dContractPriceLowest)+" - "+w(e.before7dContractPriceHighest),1)])):L("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(b(),ge(m,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):L("",!0),(me=(mn=e.$route)==null?void 0:mn.query)!=null&&me.action&&!e.poolInfo?(b(),P("div",rv,w(e.$t("newAdd.createPoolText")),1)):L("",!0)],64)):(b(),P("div",av,[e.storeIndex.theme=="default"?(b(),P("img",sv)):(b(),P("img",lv)),c("p",null,w(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.isSelfBuilt?(b(),ge(k,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):L("",!0)]),ye(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[23]||(t[23]=M=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ce(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(b(),P("svg",uv,dv)):L("",!0),c("span",null,w(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",fv,[ye(se)])]),c("div",mv,[c("div",pv,w(e.$t("newAdd.depositAmounts")),1),c("div",hv,[c("div",vv,[ye(d,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[24]||(t[24]=M=>e.fromCoinAmount=M),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[25]||(t[25]=M=>e.maxBtnSelect("fromCoin")),onOnHalf:t[26]||(t[26]=M=>e.halfBtnSelect("fromCoin")),onOnInput:t[27]||(t[27]=M=>{e.fromCoinAmount=M,e.fixedFromCoin=!0}),onOnSelect:t[28]||(t[28]=M=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(b(),ge(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),c("div",gv,[ye(d,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[29]||(t[29]=M=>e.toCoinAmount=M),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[30]||(t[30]=M=>e.maxBtnSelect("toCoin")),onOnHalf:t[31]||(t[31]=M=>e.halfBtnSelect("toCoin")),onOnInput:t[32]||(t[32]=M=>{e.toCoinAmount=M,e.fixedFromCoin=!1}),onOnSelect:t[33]||(t[33]=M=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(b(),ge(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),(jt=(qn=e.$route)==null?void 0:qn.query)!=null&&jt.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(b(),ge(p,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(b(),P("img",{key:1,class:"add",src:cr,alt:"",onClick:t[34]||(t[34]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(b(),P("img",{key:2,class:"add",src:dr,alt:"",onClick:t[35]||(t[35]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0)]),e.poolInfo||e.createPoolInfo?(b(),ge(C,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):L("",!0)])])),ye(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:t[36]||(t[36]=M=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ce(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(b(),P("svg",yv,kv)):L("",!0),c("span",null,w(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",wv,[ye(se)]),e.showCoinSelect?(b(),ge(U,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[37]||(t[37]=M=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):L("",!0),e.isShowLiquidityModal?(b(),ge(H,{key:3,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"pool-info":e.poolInfo,"current-direct":e.direct,onToAdd:e.toAdd,onOnClose:t[38]||(t[38]=M=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","current-direct","onToAdd"])):L("",!0),e.isViewDetail?(b(),ge(Z,{key:4,"pool-info":e.poolInfo,onOnClose:t[39]||(t[39]=M=>e.isViewDetail=!1)},null,8,["pool-info"])):L("",!0),e.isCreateSuccess?(b(),ge(de,{key:5,onOnClose:t[40]||(t[40]=M=>e.isCreateSuccess=!1)})):L("",!0),e.isShowCreatePoolModal&&e.fromCoin&&e.toCoin?(b(),ge(ee,{key:6,"from-coin":e.createPoolFromCoin,"to-coin":e.createPoolToCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.createPoolInfo.currentPrice,"need-reverse":e.createPoolInfo.needReverse,direct:e.direct,onOnClose:t[41]||(t[41]=M=>e.isShowCreatePoolModal=!1),onCreatePool:e.toCreatePool},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","need-reverse","direct","onCreatePool"])):L("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(b(),ge(T,{key:7,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:t[42]||(t[42]=M=>e.isShowTokenWarning=!1)},null,8,["from-coin","to-coin","onClose"])):L("",!0)])}const Qv=et(_p,[["render",Cv],["__scopeId","data-v-bfc73587"]]);export{Qv as default};
