import{_ as mo}from"./token-warning.3e96aaef.js";import{_ as uo}from"./status-block.27643dc0.js";import{a as V,u as eo,k as D,g as po,h as g,e as P,c as no}from"./pool.903e8d1d.js";import{a as H,l as so,r as L,m as v,e as J,o as d,f as r,h as e,i as I,w,t as i,s as y,x as F,u,j as q,S as co,p as z,k as K,A as M,b as fo,c as io,Q as Io,B as to,M as ko,K as ho}from"./entry.53a525b4.js";/* empty css              */import{i as R}from"./import-icon.de3e6c66.js";import{_ as ao}from"./icon-arrow_2x.948aedb2.js";import{_ as lo}from"./icon-arrow_2x.4ffddb8e.js";import{_ as ro}from"./c-switch.763a6c91.js";import{u as bo}from"./notifi.a932bf5f.js";const vo=H({props:{positionInfo:{type:Object,required:!0,default:()=>({})}},setup(o){const{t:p}=so();let _=L(!1),$=L(!0);const k=V(),C=eo(),n=v(()=>C),l=v(()=>{var t,m,h,b,O,j,N,B;if(no(o.positionInfo))return" --";{const T=o.positionInfo.amountA*((m=n.value.RATES[(t=o.positionInfo)==null?void 0:t.token_a.address])==null?void 0:m.price),E=o.positionInfo.amountB*((b=n.value.RATES[(h=o.positionInfo)==null?void 0:h.token_b.address])==null?void 0:b.price);return(j=n.value.RATES[(O=o.positionInfo)==null?void 0:O.token_a.address])!=null&&j.price&&((B=n.value.RATES[(N=o.positionInfo)==null?void 0:N.token_b.address])!=null&&B.price)?T+E:" --"}}),S=v(()=>{var t,m,h,b;return(m=n.value.RATES[(t=o.positionInfo)==null?void 0:t.token_a.name.toUpperCase()])!=null&&m.price&&l.value!=="--"?(o.positionInfo.amountA*((b=n.value.RATES[(h=o.positionInfo)==null?void 0:h.token_a.name.toUpperCase()])==null?void 0:b.price)/l.value*100).toFixed(0):" --"}),c=v(()=>{var t,m,h,b;return(m=n.value.RATES[(t=o.positionInfo)==null?void 0:t.token_b.name.toUpperCase()])!=null&&m.price&&l.value!=="--"?(o.positionInfo.amountB*((b=n.value.RATES[(h=o.positionInfo)==null?void 0:h.token_b.name.toUpperCase()])==null?void 0:b.price)/l.value*100).toFixed(0):" --"}),s=v(()=>n.value.allTokenObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&n.value.allTokenObj[o.positionInfo.token_a.address]&&n.value.allTokenObj[o.positionInfo.token_a.address].logoURI),a=v(()=>n.value.allTokenObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&n.value.allTokenObj[o.positionInfo.token_b.address]&&n.value.allTokenObj[o.positionInfo.token_b.address].logoURI),f=v(()=>{var t,m;return(m=(t=o.positionInfo)==null?void 0:t.poolInfo)==null?void 0:m.needReverse}),U=t=>{var m;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((m=n.value.tokensObj[t==null?void 0:t.address])==null?void 0:m.logo_url)||(k.theme==="default"?R("/image/coins/unknown.png"):R("/image/coins/sui-unknown.png"))};return{tokensObj:v(()=>n.value.tokensObj),fromPercent:c,toPercent:S,amountUSD:l,showNum:D,t:p,importIcon:R,indexStore:k,rateChange:$,decimalFormat:po,fromCoinUrl:s,toCoinUrl:a,pools:n,addCommom:g,isPc:_,needReverse:f,getCoinIcon:U,decimalUi:P}}});const go=o=>(z("data-v-d3219a9d"),o=o(),K(),o),_o={key:0,class:"position-card"},Co={key:0,class:"coin-pair"},So={class:"coin-a"},yo=["src"],$o={class:"coin-b"},wo=["src"],Uo={key:1,class:"coin-pair"},Oo={class:"coin-a"},Po=["src"],Ro={key:0,class:"token-warning"},Ao={class:"coin-b"},jo=["src"],No={key:0,class:"token-warning"},Bo={class:"fee"},To={class:"right"},Eo={key:0,class:"status"},Do={class:"min-and-max"},Lo={key:0},qo={class:"text"},Mo={key:0,src:ao,alt:""},Fo={key:1,src:lo,alt:""},Vo={class:"text"},Ho={key:1},Jo={class:"text"},zo={key:0,src:ao,alt:""},Ko={key:1,src:lo,alt:""},Qo={class:"text"},Wo=go(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Go=[Wo],Xo={class:"liquidity"},Yo={class:"label"},Zo={class:"value"},xo={class:"item"},oe=["src"],ee={class:"rate"},ne={class:"item"},se=["src"],ie={class:"rate"};function te(o,p,_,$,k,C){const n=mo,l=co,S=uo;return o.positionInfo?(d(),r("div",_o,[e("div",{class:F(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[I(l,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>{var c,s,a,f;return[o.needReverse?(d(),r("div",Uo,[e("div",null,[e("div",Oo,[e("img",{src:o.toCoinUrl||o.getCoinIcon(o.positionInfo.token_b)},null,8,Po),o.tokensObj&&o.tokensObj[o.positionInfo.token_b.address]&&o.tokensObj[o.positionInfo.token_b.address].isSelfBuilt?(d(),r("div",Ro)):y("",!0)]),e("div",Ao,[e("img",{src:o.fromCoinUrl||o.getCoinIcon(o.positionInfo.token_a)},null,8,jo),o.tokensObj&&o.tokensObj[o.positionInfo.token_a.address]&&o.tokensObj[o.positionInfo.token_a.address].isSelfBuilt?(d(),r("div",No)):y("",!0)])]),e("span",null,i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(d(),r("div",Co,[e("div",null,[e("div",So,[e("img",{src:o.fromCoinUrl||o.getCoinIcon(o.positionInfo.token_a)},null,8,yo),I(n,{address:(s=(c=o.positionInfo)==null?void 0:c.token_a)==null?void 0:s.address,"style-params":{width:"16px",height:"16px",left:"25px",bottom:"10px"}},null,8,["address"])]),e("div",$o,[e("img",{src:o.toCoinUrl||o.getCoinIcon(o.positionInfo.token_b)},null,8,wo),I(n,{address:(f=(a=o.positionInfo)==null?void 0:a.token_b)==null?void 0:f.address,"style-params":{width:"16px",height:"16px",left:"25px",bottom:"10px"}},null,8,["address"])])]),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),e("div",Bo,i(o.$t("common.fee"))+" "+i(o.positionInfo.fee*100)+"%",1)]}),_:1},8,["loading"])],2),e("div",To,[o.pools.currentPositionLoading?y("",!0):(d(),r("div",Eo,[I(S,{"current-status":o.positionInfo.currentStatus||"","block-name":"detail"},null,8,["current-status"])])),I(l,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Do,[(o.needReverse?!o.rateChange:o.rateChange)?(d(),r("div",Lo,[e("div",qo,i(("addCommom"in o?o.addCommom:u(g))(("decimalUi"in o?o.decimalUi:u(P))(String(o.positionInfo.minPrice),6))),1),o.indexStore.theme=="default"?(d(),r("img",Mo)):(d(),r("img",Fo)),e("div",Vo,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("∞")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in o?o.addCommom:u(g))(("decimalUi"in o?o.decimalUi:u(P))(String(o.positionInfo.maxPrice),6)))+" "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(d(),r("div",Ho,[e("div",Jo,i(("addCommom"in o?o.addCommom:u(g))(("decimalUi"in o?o.decimalUi:u(P))(String(1/Number(o.positionInfo.maxPrice)),6))),1),o.indexStore.theme=="default"?(d(),r("img",zo)):(d(),r("img",Ko)),e("div",Qo,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("∞")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in o?o.addCommom:u(g))(("decimalUi"in o?o.decimalUi:u(P))(String(1/Number(o.positionInfo.minPrice)),6)))+" "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(d(),r("svg",{class:"icon-change","aria-hidden":"true",onClick:p[0]||(p[0]=c=>o.rateChange=!o.rateChange)},Go))])]),_:1},8,["loading"]),e("div",Xo,[I(l,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Yo,i(o.$t("common.liquidity")),1),e("div",Zo," $"+i(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":("addCommom"in o?o.addCommom:u(g))(o.amountUSD,2)),1)]),_:1},8,["loading"])]),e("div",{class:F(o.needReverse?"token-num reverse":"token-num")},[I(l,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>{var c,s,a,f,U,A,t,m,h,b,O,j,N,B,T,E,Q,W,G,X,Y,Z,x,oo;return[e("div",xo,[e("div",null,[e("img",{src:o.fromCoinUrl||o.getCoinIcon((c=o.positionInfo)==null?void 0:c.token_a)},null,8,oe),I(n,{address:(a=(s=o.positionInfo)==null?void 0:s.token_a)==null?void 0:a.address,"style-params":{width:"12px",height:"12px",left:"15px",bottom:"0px"}},null,8,["address"]),e("p",null,i(("decimalUi"in o?o.decimalUi:u(P))((f=o.positionInfo)==null?void 0:f.amountA,(A=(U=o.positionInfo)==null?void 0:U.token_a)==null?void 0:A.decimals)),1),e("span",null,i((m=(t=o.positionInfo)==null?void 0:t.token_a)==null?void 0:m.symbol)+" "+i((b=(h=o.positionInfo)==null?void 0:h.token_a)!=null&&b.labels&&((j=(O=o.positionInfo)==null?void 0:O.token_a)!=null&&j.labels[0])?`(${o.positionInfo.token_a.labels[0]})`:""),1)]),e("div",ee,i(("addCommom"in o?o.addCommom:u(g))(o.positionInfo.fromPercent,0))+"% ",1)]),e("div",ne,[e("div",null,[e("img",{src:o.toCoinUrl||o.getCoinIcon((N=o.positionInfo)==null?void 0:N.token_b)},null,8,se),I(n,{address:(T=(B=o.positionInfo)==null?void 0:B.token_b)==null?void 0:T.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),q(),e("p",null,i(("decimalUi"in o?o.decimalUi:u(P))((E=o.positionInfo)==null?void 0:E.amountB,(W=(Q=o.positionInfo)==null?void 0:Q.token_b)==null?void 0:W.decimals)),1),e("span",null,i((X=(G=o.positionInfo)==null?void 0:G.token_b)==null?void 0:X.symbol)+" "+i((Z=(Y=o.positionInfo)==null?void 0:Y.token_b)!=null&&Z.labels&&((oo=(x=o.positionInfo)==null?void 0:x.token_b)!=null&&oo.labels[0])?`(${o.positionInfo.token_b.labels[0]})`:""),1)]),e("div",ie,i(("addCommom"in o?o.addCommom:u(g))(o.positionInfo.toPercent,0))+"%",1)])]}),_:1},8,["loading"])],2)])])):y("",!0)}const Be=J(vo,[["render",te],["__scopeId","data-v-d3219a9d"]]),ae=H({components:{CSwitch:ro},props:{positionInfo:{type:Object,default:()=>({})}},setup(o){const p=bo(),_=v(()=>p),$=v(()=>_.value.status),k=V();M(()=>[_.value.targetGroups],s=>{},{immediate:!0});const C=L(!1);M(()=>$.value,s=>{s=="authenticated",C.value=!1},{immediate:!0});const n=L(!1),l=async()=>{n.value=!n.value;const s={pool_address:o.positionInfo.poolAddress,position_index:o.positionInfo.index},a=o.positionInfo.nftHash;await p.subscribePosition(s,a,n.value)},S=s=>{const a=s.sources;n.value=a.some(f=>JSON.parse(f.blockchainAddress).pool_address==o.positionInfo.poolAddress&&Number(JSON.parse(f.blockchainAddress).position_index)==Number(o.positionInfo.index))},c=fo();return M(()=>[_.value.sourceGroups,o.positionInfo],([s,a])=>{var f,U,A;n.value=!1,s&&s.length>0&&s[0]&&a&&!no(a)&&((A=(U=(f=c==null?void 0:c.currentRoute)==null?void 0:f.value)==null?void 0:U.query)==null?void 0:A.token)==(a==null?void 0:a.name)&&S(s[0])},{immediate:!0,deep:!0}),{importIcon:R,isShowSetUp:C,changeSwitch:l,checked:n,notifiStatus:$,store:k}}});const de=o=>(z("data-v-cceeb488"),o=o(),K(),o),le={class:"range-alerts"},re={class:"range-alerts-top"},me={class:"title"},ue=de(()=>e("div",{class:"title-all"},[e("span",{class:"Range"},"Range Alerts")],-1)),pe={key:1,class:"h5-switch-box"},ce={class:"range-alerts-bottom"},fe={key:0,class:"pc-switch-box"};function Ie(o,p,_,$,k,C){const n=to,l=ro;return d(),r("div",le,[e("div",re,[e("div",me,[ue,o.isShowSetUp||o.notifiStatus!=="authenticated"?(d(),io(n,{key:0,class:"range-alerts-button",onClick:p[0]||(p[0]=Io(S=>o.store.setIsShowNotifi(!0),["stop"]))},{default:w(()=>[q(" Set up ")]),_:1})):y("",!0),!o.isShowSetUp&&o.notifiStatus=="authenticated"?(d(),r("div",pe,[I(l,{checked:o.checked,disabled:o.notifiStatus!=="authenticated",onChange:o.changeSwitch},null,8,["checked","disabled","onChange"])])):y("",!0)])]),e("div",ce,[q(" Receive alerts via Telegram, SMS, or email when this position goes out of range. "),!o.isShowSetUp&&o.notifiStatus=="authenticated"?(d(),r("div",fe,[I(l,{checked:o.checked,disabled:o.notifiStatus!=="authenticated",onChange:o.changeSwitch},null,8,["checked","disabled","onChange"])])):y("",!0)])])}const Te=J(ae,[["render",Ie],["__scopeId","data-v-cceeb488"]]),ke=H({components:{Modal:ko},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0},needReverse:{type:Boolean,required:!1}},setup(o,p){const{t:_,locale:$}=so(),k=V(),{copy:C}=k,n=()=>{p.emit("toClaim")},l=eo(),S=v(()=>l);return{showNum:D,toClaim:n,t:_,addCommom:g,importIcon:R,store:k,copy:C,getCoinIcon:s=>{var a;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((a=S.value.tokensObj[s==null?void 0:s.address])==null?void 0:a.logo_url)||(k.theme==="default"?R("/image/coins/unknown.png"):R("/image/coins/sui-unknown.png"))}}}});const he=o=>(z("data-v-dca3fbf0"),o=o(),K(),o),be=he(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ve={key:0,class:"pc-claim"},ge=["src"],_e={key:1,class:"pc-claim"},Ce=["src"];function Se(o,p,_,$,k,C){const n=to,l=ho("Modal");return d(),io(l,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:p[0]||(p[0]=S=>o.$emit("onClose"))},{closeIcon:w(()=>[be]),default:w(()=>[e("div",{class:F(o.needReverse?"claim-container reverse":"claim-container")},[o.positionInfo&&o.positionInfo.token_a.symbol?(d(),r("div",ve,[e("img",{src:o.getCoinIcon(o.positionInfo.token_a)},null,8,ge),e("span",null,i(("showNum"in o?o.showNum:u(D))(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+i(o.positionInfo.token_a.symbol),1)])):y("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(d(),r("div",_e,[e("img",{src:o.getCoinIcon(o.positionInfo.token_b)},null,8,Ce),e("span",null,i(("showNum"in o?o.showNum:u(D))(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+i(o.positionInfo.token_b.symbol),1)])):y("",!0)],2),I(n,{class:"big-btn claim-btn",disabled:o.isLoading||("addCommom"in o?o.addCommom:u(g))(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&("addCommom"in o?o.addCommom:u(g))(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:w(()=>[q(i(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const Ee=J(ke,[["render",Se],["__scopeId","data-v-dca3fbf0"]]);export{Be as _,Te as a,Ee as b};
