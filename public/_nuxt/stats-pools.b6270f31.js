import{_ as Bs}from"./back.2798c1fa.js";import{_ as Es}from"./apr-tips.83a8370f.js";import{i as A}from"./import-icon.de3e6c66.js";import{u as Fs,a as Ws,h as G,c as Y,f as ps,t as vs}from"./pool.ccb2d30f.js";import{x as qs,b as os,r as i,q as Ms,A as _s,y as zs,e as Gs,o as v,f as c,h as a,l as z,k as L,t as u,s as b,F as ls,i as as,j as H,N as Js,u as g,w as hs,p as Ks,m as Qs,B as Xs}from"./entry.555960f3.js";/* empty css              */import{p as Ys}from"./precision.a7a6c57b.js";import{_ as fs}from"./icon_on_stats.cdf13a69.js";import{_ as gs}from"./icon-Rewards.1dd3320b.js";const Zs=qs({setup(){const e=Fs(),n=os(()=>e),cs=os(()=>n.value.tokensObj||{}),rs=Ws(),J=os(()=>rs),K=zs();let ns=i("big");const w=i(1),T=i(1);let y=i(!1);const o=()=>{rs.getStatsData(J.value.chainName)};Ms(()=>{rs.getStatsData(J.value.chainName);const s=document.body.clientWidth;s<750?y.value=!1:y.value=!0,window.onresize=()=>{s<750?y.value=!1:y.value=!0},y.value,ss(w.value,10),es(T.value,10)});let _=i([]);const h=os(()=>J.value.topPoolsList),f=s=>(l,t)=>{let p=l[s],d=t[s];return p-d},r=s=>(l,t)=>{let p=l[s];return t[s]-p},k=i(!1),C=i(!1),$=i(!1),D=i(!1),V=i(!0),j=i(!1),B=i(!1),E=i(!1),R=i(!1),N=i(!1),m=i(!1),P=i(!1),F=i(!1),W=i(!1),q=i(!1),S=i(!0),Z=i(!1),ts=i("TVL"),us=i(["Volume (24H)","Volume (7D)","APR"]),x=i(!1),ds=i("TVL"),is=i(["Price","Volume (24H)","Price Change"]),ks=s=>{const l=h;if(s=="tvl_in_usd"?(V.value?(k.value=!k.value,l.value.sort(k.value?f(s):r(s))):l.value.sort(r(s)),C.value=!1,$.value=!1,D.value=!1,V.value=!0,j.value=!1,B.value=!1,E.value=!1):s=="vol_in_usd_24h"?(j.value?(C.value=!C.value,l.value.sort(C.value?f(s):r(s))):l.value.sort(r(s)),k.value=!1,$.value=!1,D.value=!1,V.value=!1,j.value=!0,B.value=!1,E.value=!1):s=="vol_in_usd_7_day"?(B.value?($.value=!$.value,l.value.sort($.value?f(s):r(s))):l.value.sort(r(s)),k.value=!1,C.value=!1,D.value=!1,V.value=!1,j.value=!1,B.value=!0,E.value=!1):s=="aprNum"&&(E.value?(D.value=!D.value,l.value.sort(D.value?f(s):r(s))):l.value.sort(r(s)),k.value=!1,C.value=!1,$.value=!1,V.value=!1,j.value=!1,B.value=!1,E.value=!0),console.log(l.value,"===>>>>>poolsListArray.value"),console.log(w.value,"===>>>>>currentPools.value"),l.value.length<10)_.value=l.value.slice(0,10);else{const t=w.value*10;_.value=l.value.slice(t-10,t)}},ws=s=>{const l=Q;if(s=="price"?(F.value?(R.value=!R.value,l.value.sort(R.value?f(s):r(s))):l.value.sort(r(s)),N.value=!1,m.value=!1,P.value=!1,F.value=!0,W.value=!1,q.value=!1,S.value=!1):s=="vol_in_usd_24h"?(q.value?(m.value=!m.value,l.value.sort(m.value?f(s):r(s))):l.value.sort(r(s)),R.value=!1,N.value=!1,P.value=!1,F.value=!1,W.value=!1,q.value=!0,S.value=!1):s=="tvl_in_usd"?(S.value?(P.value=!P.value,l.value.sort(P.value?f(s):r(s))):l.value.sort(r(s)),R.value=!1,N.value=!1,m.value=!1,F.value=!1,W.value=!1,q.value=!1,S.value=!0):s=="priceHour"&&(W.value?(N.value=!N.value,l.value.sort(N.value?f(s):r(s))):l.value.sort(r(s)),R.value=!1,m.value=!1,P.value=!1,F.value=!1,W.value=!0,q.value=!1,S.value=!1),console.log(l.value,"===>>>>>tokensListArray.value"),console.log(T.value,"===>>>>>tokensListArray.value"),l.value.length<10)U.value=l.value.slice(0,10);else{const t=T.value*10;U.value=l.value.slice(t-10,t)}},Ts=s=>{s=="label"?(x.value=!x.value,Z.value=!1):s=="select"?(Z.value=!Z.value,x.value=!1):(Z.value=!1,x.value=!1)},Ls=s=>{const l=[];l.push(ts.value),us.value.forEach((t,p)=>{t!=s&&l.push(t)}),us.value=l,ts.value=s,s=="TVL"?_.value.sort(r("tvl_in_usd")):s=="Volume (24H)"?_.value.sort(r("vol_in_usd_24h")):s=="Volume (7D)"?_.value.sort(r("vol_in_usd_7_day")):s=="APR"&&_.value.sort(r("aprNum"))},ys=s=>{console.log(s,"===>>>>search-select");const l=[];l.push(ds.value),is.value.forEach((t,p)=>{t!=s&&l.push(t)}),is.value=l,ds.value=s,s=="TVL"?U.value.sort(r("tvl_in_usd")):s=="Volume (24H)"?U.value.sort(r("vol_in_usd_24h")):s=="Price"?U.value.sort(r("price")):s=="Price Change"&&U.value.sort(r("priceHour"))};_s(h,()=>{y.value,ss(w.value,10)});const ss=(s,l)=>{console.log(s,"page"),w.value=s;const t=l*s-l;let p=l*s;console.log(h,"===>>>>>topPoolsList"),p=p>h.value.length?h.value.length:p;const d=h.value;if(d.length>0){V.value&&!k.value?d.sort(Is):V.value&&k.value?d.sort(As):j.value?C.value?d.sort(Cs):d.sort(Ps):B.value?$.value?d.sort($s):d.sort(bs):E.value&&(D.value?d.sort(Ds):d.sort(Hs));const X=d.filter((M,O)=>O>=t&&O<p);_.value=X}return d},Is=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ps=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,bs=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,Hs=(s,l)=>l.aprNum-s.aprNum,As=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Cs=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,$s=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,Ds=(s,l)=>s.aprNum-l.aprNum;let U=i([]);const Q=os(()=>{const s=J.value.topTokensList,l=[];for(let t=0;t<s.length;t++){const p=s[t];l.push({...p,priceHour:p?Number(p.price_rate_24h.substring(0,p.price_rate_24h.length-1)):"0"})}return l});_s(Q,()=>{y.value,es(T.value,10)});const es=(s,l)=>{console.log(s,"page1"),T.value=s;const t=l*s-l;let p=l*s;p=p>Q.value.length?Q.value.length:p;const d=Q.value;if(d.length>0){S.value&&!P.value?d.sort(Vs):S.value&&P.value?d.sort(Ss):F.value?R.value?d.sort(Us):d.sort(Rs):W.value?N.value?d.sort(Os):d.sort(Ns):q.value&&(m.value?d.sort(js):d.sort(ms));const X=d.filter((M,O)=>O>=t&&O<p);U.value=X}return d},Vs=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Rs=(s,l)=>l.price-s.price,Ns=(s,l)=>l.priceHour-s.priceHour,ms=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ss=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Us=(s,l)=>s.price-l.price,Os=(s,l)=>s.priceHour-l.priceHour,js=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return{getRewarderInfo:s=>{const l=s.swap_account;return console.log(n.value.addressLpTokens[l].rewarder_infos,"==>&pools.value.addressLpTokens[address].rewarder_infos"),n.value.addressLpTokens&&n.value.addressLpTokens[l]&&n.value.addressLpTokens[l].rewarder_infos},addCommom:G,store:J,importIcon:A,topPoolsList:h,addressTokens:cs,showEcharts:ns,currentPools:w,onChangePools:ss,currentTopPoolsList:_,onChangeTokens:es,currentTokens:T,currentTopTokensList:U,topTokensList:Q,router:K,isPc:y,getAprTotal:(s,l)=>s&&l?ps(Ys.plus(vs(s),vs(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(t=>{l+=vs(String(t))}),String(ps(String(l),2))},toPoolsList:()=>{K&&K.push("/stats-pools")},toTokensList:()=>{K&&K.push("/stats-tokens")},changePoolsList:ks,changeTokensList:ws,tvlImprint:k,volHImprint:C,volDImprint:$,aprImprint:D,tokensPriceImprint:R,tokensPriceHImprint:N,tokensVolHImprint:m,tokensTvlImprint:P,labelToken:x,select:Z,selectValue:ts,selectList:us,reviseValue:Ts,changeSort:Ls,tokenValue:ds,tokensList:is,changeSortLabel:ys,tvlImprintHighlight:V,volHImprintHighlight:j,volDImprintHighlight:B,aprImprintHighlight:E,tokensPriceImprintHighlight:F,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:q,tokensTvlImprintHighlight:S,getLabel:s=>{const l=s.swap_account;return n.value.addressLpTokens&&n.value.addressLpTokens[l]&&n.value.addressLpTokens[l].labels},rewardApr:s=>{if(!Y(s)&&!Y(n.value.addressLpTokens)&&!Y(n.value.tokensObj)){const l=s.swap_account,t=n.value.addressLpTokens[l];let p=(t==null?void 0:t.rewarder_infos)||[];const d=[];p.forEach((M,O)=>{console.log(n.value.tokensObj,"===>tokensObj"),d.push({...M,symbol:n.value.tokensObj[M.coinAddress].symbol,rewarderApr:s.rewarder_apr[O],logoUrl:n.value.tokensObj[M.coinAddress].logoURI,rewarder_display:t[`rewarder_display${O+1}`]})});let X=[];return X=d.filter(M=>M.rewarder_display),X}},getsad:o,rewardDisplay:s=>{if(!Y(s)&&!Y(n.value.addressLpTokens)&&!Y(n.value.tokensObj)){const l=n.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const I=e=>(Ks("data-v-41993215"),e=e(),Qs(),e),xs={class:"stats-container"},se={class:"title"},ee={class:"top-pools-new"},oe={class:"sort-by"},le=I(()=>a("img",{src:fs,alt:""},null,-1)),ae=I(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),re=[ae],ne={key:0,class:"select-item"},te=["onClick"],ue=I(()=>a("img",{src:fs,alt:""},null,-1)),de={class:"content"},ie={class:"item"},ve=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ce=[ve],pe=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_e=[pe],he=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),fe=[he],ge=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[ge],we={class:"apr-hover-content"},Te=I(()=>a("span",null,"Â ",-1)),Le={class:"token"},ye=["src"],Ie=["src"],Pe={class:"name"},be={class:"token-name"},He={class:"fee-tier-top"},Ae={class:"label-all"},Ce={key:0},$e={class:"tvl"},De={class:"volume-hour"},Ve={class:"volume-day"},Re=I(()=>a("img",{src:gs,alt:""},null,-1)),Ne={key:0,class:"apr-hover-content"},me={class:"btn-box"},Se={class:"top"},Ue={class:"token"},Oe=["src"],je=["src"],Be={class:"name"},Ee={class:"token-name"},Fe={class:"label-all"},We={key:0},qe={class:"fee-tier-hint"},Me={class:"middle"},ze={class:"item-pools"},Ge={class:"item-pools"},Je={class:"item-pools"},Ke=I(()=>a("img",{src:gs,alt:""},null,-1)),Qe={key:0,class:"apr-hover-content"},Xe={class:"bottom"},Ye={class:"panation"};function Ze(e,n,cs,rs,J,K){const ns=Bs,w=Es,T=Xs,y=Js;return v(),c("div",xs,[a("div",se,[z(ns),L(" "+u(e.$t("menu.pools")),1)]),a("div",ee,[a("div",oe,[a("div",null,u(e.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:n[0]||(n[0]=o=>e.reviseValue("select"))},[a("div",null,[L(u(e.selectValue)+" ",1),le]),(v(),c("svg",{"aria-hidden":"true",class:b(e.select?"show-icon icon":"icon")},re,2)),e.select?(v(),c("div",ne,[(v(!0),c(ls,null,as(e.selectList,(o,_)=>(v(),c("div",{key:_,class:"select-menu-item",onClick:h=>e.changeSort(o)},[L(u(o)+" ",1),ue],8,te))),128))])):H("",!0)])]),a("div",de,[a("div",ie,[a("span",null,u(e.$t("newAdd.pool")),1),a("span",{onClick:n[1]||(n[1]=o=>e.changePoolsList("tvl_in_usd"))},[L(u(e.$t("common.tvl"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:b(["pools-icon",e.tvlImprint?e.tvlImprintHighlight?"selected highlight":"selected":e.tvlImprintHighlight?"highlight":""])},ce,2))]),a("span",{onClick:n[2]||(n[2]=o=>e.changePoolsList("vol_in_usd_24h"))},[L(u(e.$t("common.volume24H"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:b(["pools-icon",e.volHImprint?e.volHImprintHighlight?"selected highlight":"selected":e.volHImprintHighlight?"highlight":""])},_e,2))]),a("span",{onClick:n[3]||(n[3]=o=>e.changePoolsList("vol_in_usd_7_day"))},[L(u(e.$t("newAdd.volume7D"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:b(["pools-icon",e.volDImprint?e.volDImprintHighlight?"selected highlight":"selected":e.volDImprintHighlight?"highlight":""])},fe,2))]),a("span",{onClick:n[4]||(n[4]=o=>e.changePoolsList("aprNum"))},[L(" APR "),(v(),c("svg",{"aria-hidden":"true",class:b(["pools-icon",e.aprImprint?e.aprImprintHighlight?"selected highlight":"selected":e.aprImprintHighlight?"highlight":""])},ke,2)),a("div",we,[z(w,{class:"noHover apr-hover-con"})])]),Te]),(v(!0),c(ls,null,as(e.currentTopPoolsList,(o,_)=>{var h,f;return v(),c("div",{key:_,class:"item pc-item"},[a("div",Le,[o!=null&&o.token_a_address?(v(),c("img",{key:0,src:e.addressTokens&&e.addressTokens[o.token_a_address]&&e.addressTokens[o.token_a_address].logoURI?e.addressTokens[o.token_a_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,ye)):H("",!0),o!=null&&o.token_b_address?(v(),c("img",{key:1,src:e.addressTokens&&e.addressTokens[o.token_b_address]&&e.addressTokens[o.token_b_address].logoURI?e.addressTokens[o.token_b_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,Ie)):H("",!0),a("div",Pe,[a("p",be,u(o.token_a_reserves)+" - "+u(o.token_b_reserves),1),a("div",He,u((o==null?void 0:o.fee)*100)+"%",1),a("div",Ae,[(v(!0),c(ls,null,as(e.getLabel(o),(r,k)=>(v(),c("div",{key:k,class:b(["label",r])},[r!=="Native"?(v(),c("span",Ce,u(r),1)):H("",!0)],2))),128))])])]),a("div",$e," $"+u(o.tvl_in_usd?("addCommom"in e?e.addCommom:g(G))(o.tvl_in_usd,2):"--"),1),a("div",De," $"+u(o!=null&&o.vol_in_usd_24h?("addCommom"in e?e.addCommom:g(G))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1),a("div",Ve," $"+u(o!=null&&o.vol_in_usd_7_day?("addCommom"in e?e.addCommom:g(G))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1),a("div",{class:b(["apr",((h=e.rewardApr(o))==null?void 0:h.length)>0&&e.rewardDisplay(o)?"apr-mark":""])},[Re,L(" "+u(e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr)))+" ",1),((f=e.rewardApr(o))==null?void 0:f.length)!=0&&e.rewardDisplay(o)?(v(),c("div",Ne,[z(w,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr)),is_display_rewarder:e.rewardDisplay(o),rewarder_apr:e.getRewarderApr(o.rewarder_apr)},"rewarder-info":e.rewardApr(o)},null,8,["l-item","rewarder-info"])])):H("",!0)],2),a("div",me,[z(T,{class:"cancel-btn",onClick:()=>e.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:hs(()=>[L(u(e.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),c(ls,null,as(e.currentTopPoolsList,(o,_)=>{var h,f;return v(),c("div",{key:_,class:"item h5-item"},[a("div",Se,[a("div",Ue,[o!=null&&o.token_a_address?(v(),c("img",{key:0,src:e.addressTokens&&e.addressTokens[o.token_a_address]&&e.addressTokens[o.token_a_address].logoURI?e.addressTokens[o.token_a_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,Oe)):H("",!0),o!=null&&o.token_b_address?(v(),c("img",{key:1,src:e.addressTokens&&e.addressTokens[o.token_b_address]&&e.addressTokens[o.token_b_address].logoURI?e.addressTokens[o.token_b_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,je)):H("",!0),a("div",Be,[a("p",Ee,u(o.token_a_reserves)+" - "+u(o.token_b_reserves),1),a("div",Fe,[(v(!0),c(ls,null,as(e.getLabel(o),(r,k)=>(v(),c("div",{key:k,class:b(["label",r])},[r!=="Native"?(v(),c("span",We,u(r),1)):H("",!0)],2))),128))])])]),a("div",qe,u((o==null?void 0:o.fee)*100)+"%",1)]),a("div",Me,[a("div",ze,[a("span",null,u(e.$t("common.tvl")),1),a("p",null," $"+u(o.tvl_in_usd?("addCommom"in e?e.addCommom:g(G))(o.tvl_in_usd,2):"--"),1)]),a("div",Ge,[a("span",null,u(e.$t("common.volume24H")),1),a("p",null," $"+u(o!=null&&o.vol_in_usd_24h?("addCommom"in e?e.addCommom:g(G))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1)]),a("div",Je,[a("span",null,u(e.$t("newAdd.volume7D")),1),a("p",null," $"+u(o!=null&&o.vol_in_usd_7_day?("addCommom"in e?e.addCommom:g(G))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:b(["item-pools",((h=e.rewardApr(o))==null?void 0:h.length)>0&&e.rewardDisplay(o)?"":"apr-mark-h5"])},[a("span",null,u(e.$t("common.apr")),1),a("p",null,[Ke,L(" "+u(e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr))),1)]),((f=e.rewardApr(o))==null?void 0:f.length)!=0&&e.rewardDisplay(o)?(v(),c("div",Qe,[z(w,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr)),is_display_rewarder:e.rewardDisplay(o),rewarder_apr:e.getRewarderApr(o.rewarder_apr)},"rewarder-info":e.rewardApr(o)},null,8,["l-item","rewarder-info"])])):H("",!0)],2)]),a("div",Xe,[z(T,{class:"cancel-btn",onClick:()=>e.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:hs(()=>[L(u(e.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Ye,[z(y,{current:e.currentPools,"onUpdate:current":n[5]||(n[5]=o=>e.currentPools=o),"page-size":(e.isPc,10),simple:"",total:e.topPoolsList.length,onChange:e.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const go=Gs(Zs,[["render",Ze],["__scopeId","data-v-41993215"]]);export{go as default};
