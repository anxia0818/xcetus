import{d as M,c as V,e as T}from"./pool.35fd4e00.js";import{a as L,m as I,r as i,D as P,y as J,U as R,C as q,O as H,a5 as Z,e as G,o as E,f as j,h as n,u as x,c as K,v as A,z as N,S as Q,p as X,k as Y}from"./entry.f6bb9ee2.js";/* empty css              */import{u as ee,c as te}from"./sha256.dba739f5.js";import"./index.997f6c30.js";import{l as ae}from"./lodash.a6715437.js";const se=L({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""}},setup(e){const l=ee(),a=I(()=>l),h=I(()=>te[a.value.chainName]),$=i(0),k=i(0),g=i(0),v=i(0),y=i(""),z=ae.debounce(()=>{b(p.value)},300);P(()=>e.mode,(t,_)=>{t!==_&&b(p.value)});const W=i(null);J(()=>{window.addEventListener("resize",z),setTimeout(()=>{document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day")},100),W.value=window.setInterval(()=>{b(p.value)},12e4)}),R(()=>{window.clearInterval(W.value)}),q(()=>{window.removeEventListener("resize",z)}),H(()=>{if(!V(a.value.statsData||{})&&a.value.chainName){console.log(a.value.statsData,"===>store.statsData");const t=a.value.chainName=="Sui"?a.value.statsData.vol_in_usd_24h:a.value.statsData.vol_in_usd_24h_sum_v1;a.value.chainName=="Sui"?a.value.statsData.tvl_in_usd:a.value.statsData.tvl_in_usd_sum_v1,$.value=t,y.value=t,k.value=a.value.statsData.vol_in_usd,g.value=a.value.statsData.pure_tvl_in_usd,v.value=a.value.statsData.tx_num}});const p=i("D"),f=i({}),U=t=>{p.value=t,b(t)},b=t=>{t=="D"?document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day"):t=="W"?document.body.clientWidth<750?r(20,100,6,e.mode,"wek"):r(30,100,12,e.mode,"wek"):t=="M"&&(document.body.clientWidth<750?r(20,100,12,e.mode,"mon"):r(20,100,18,e.mode,"mon"))},r=async(t,_,B,c,u)=>{const{data:d}=e.address!==""?a.value.theme=="default"?await fetch(`${h.value.api}/v2/histogram?date_type=${u}&typ=${c}&limit=${t}&swap_account=${e.address}`).then(o=>o.json()):await fetch(`${h.value.api}/v2/sui/histogram?date_type=${u}&typ=${c}&limit=${t}&address=${e.address}`).then(o=>o.json()):a.value.theme=="default"?await fetch(`${h.value.api}/v2/histogram?date_type=${u}&typ=${c}&limit=${t}`).then(o=>o.json()):await fetch(`${h.value.api}/v2/sui/histogram?date_type=${u}&typ=${c}&limit=${t}`).then(o=>o.json());let s=d.list;const m={categoryData:[],valueData:[],wheelBase:[]};s&&s.forEach(o=>{m.categoryData.push(o.date.slice(0,10)),m.valueData.push(o.num)}),f.value=m,F(t,_,B)},C=i({day:"",month:"",year:"",current:""}),O=t=>t==1?"Jan":t==2?"Feb":t==3?"Mar":t==4?"Apr":t==5?"May":t==6?"Jun":t==7?"Jul":t==8?"Aug":t==9?"Sep":t==10?"Oct":t==11?"Nov":"Dec",F=(t,_,B)=>{const c=document.getElementById("echartsBox"),u=Z(c);let d={tooltip:{trigger:"axis",position:function(s,m,o,w,D){return[s[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(s){let m=s[0].axisValue.slice(5,7),o=O(m);const w=s[0].axisValue.slice(8,10),D=o,S=s[0].axisValue.slice(0,4);return C.value={day:w,month:D,year:S,current:""},y.value=s[0].value,a.value.theme=="default","&nbsp;&nbsp;&nbsp;"+w+"&nbsp;"+D+"&nbsp;"+S+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:a.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:f.value.categoryData.length>Number(t)?Number(t):f.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:f.value.categoryData},yAxis:{show:!1,max:function(s){return s.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:_,zoomLock:!0}],series:[{data:f.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:s=>a.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:B}],grid:{left:0,top:0,bottom:0,right:24}};document.body.clientWidth<750&&(d.grid={left:4,top:0,bottom:20,right:20}),a.value.theme=="default"&&(d.tooltip.backgroundColor="#293F38"),d&&u.setOption(d),d&&u.resize(),u.on("globalout",s=>{C.value={day:"",month:"",year:"",current:""},y.value=a.value.statsData.vol_in_usd_24h_sum_v1})};return{decimalUi:M,checkNullObj:V,store:a,addCommom:T,vol_in_usd_24h:$,vol_in_usd:k,tvl_in_usd:g,tx_num:v,changeEchart:U,echartVal:p,volTime:C,TradingVolume:y}}});const oe=e=>(X("data-v-304ba1a1"),e=e(),Y(),e),ne={class:"upgrade-chart-container"},ie={class:"echarts-content-box"},le={class:"echarts-content"},re={class:"echarts-content-top"},ue={class:"left"},de={key:1},ce={class:"echarts-tab"},me=oe(()=>n("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function he(e,l,a,h,$,k){const g=Q;return E(),j("div",ne,[n("div",ie,[n("div",le,[n("div",re,[n("div",ue,[("checkNullObj"in e?e.checkNullObj:x(V))(e.store.statsData||{})?(E(),K(g,{key:0,class:"upgrade-text-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])):(E(),j("p",de,"$"+A(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:x(T))(("decimalUi"in e?e.decimalUi:x(M))(e.TradingVolume,2))),1)),n("span",null,A(e.$t("common.tradingVal24h")),1)]),n("div",ce,[n("div",{class:N(["title-day",e.echartVal=="D"?"title-active":""]),onClick:l[0]||(l[0]=v=>e.changeEchart("D"))}," D ",2),n("div",{class:N(["title-week",e.echartVal=="W"?"title-active":""]),onClick:l[1]||(l[1]=v=>e.changeEchart("W"))}," W ",2),n("div",{class:N(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:l[2]||(l[2]=v=>e.changeEchart("M"))}," M ",2)])]),me])])])}const be=G(se,[["render",he],["__scopeId","data-v-304ba1a1"]]);export{be as _};
