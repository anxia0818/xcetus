import{_ as he}from"./back.88424fd1.js";import{_ as be}from"./upgrade-loading.c5d988c9.js";import{i as U}from"./import-icon.de3e6c66.js";import{u as _e,a as _,d as W,L as ke,c as T,k as F,p as Q,q as X}from"./pool.0c3685f1.js";import{a as ge,y as we,l as S,b as Ce,r as y,H as Oe,q as Y,e as ye,s as Te,o as c,f as p,h as s,v as t,i as E,j as $,z as D,A as C,F as q,E as M,x as P,a3 as je,t as Z,u as i,w as x,p as fe,k as Ne,B as $e}from"./entry.6565eb4e.js";/* empty css              */import{u as Ae}from"./sha256.c0dc62e1.js";import{p as Se}from"./precision.a7a6c57b.js";const Le=ge({props:{isAll:{type:Boolean,default:!1}},setup(){const e=_e(),{t:h,locale:ee}=we(),u=S(()=>e),G=S(()=>(console.log(u.value.allTokenObj,"===>pools.value.allTokenObj"),u.value.allTokenObj||{})),J=S(()=>(console.log(u.value.tokensObj,"===>pools.value.tokensObj"),u.value.tokensObj||{})),I=Ae(),g=S(()=>I),V=Ce(),L=y(1),j=y("vol"),o=y("desc");let O=y(!1);Oe(()=>{const n=document.body.clientWidth;n<750?O.value=!1:O.value=!0,window.onresize=()=>{n<750?O.value=!1:O.value=!0}});const se=y(!1),oe=S(()=>g.value.chainName),ne=y(!1),re=y("Volume (24H)"),le=y(["Price","TVL","Volume (24H)","Price Change"]);let z=y(null);const H=S(()=>{const n=g.value.topTokensList,l=[];for(let r=0;r<n.length;r++){const a=n[r];l.push({...a,priceHour:a?Number(a.price_rate_24h.substring(0,a.price_rate_24h.length-1)):"0",address:a.symbol=="SUI"?"0x2::sui::SUI":a.address})}return Array.from(l).sort((r,a)=>Number(a.vol_in_usd_24h)-Number(r.vol_in_usd_24h))}),K=n=>{const l=Array.from(H.value).sort((r,a)=>{if(n==j.value)if(o.value=="desc"){if(n=="price")return Number(a.price)-Number(r.price);if(n=="priceChange")return Number(a.priceHour)-Number(r.priceHour);if(n=="vol")return Number(a.vol_in_usd_24h)-Number(r.vol_in_usd_24h);if(n=="tvl")return Number(a.tvl_in_usd)-Number(r.tvl_in_usd)}else{if(n=="tvl")return Number(r.tvl_in_usd)-Number(a.tvl_in_usd);if(n=="vol")return Number(r.vol_in_usd_24h)-Number(a.vol_in_usd_24h);if(n=="price")return Number(r.price)-Number(a.price);if(n=="priceChange")return Number(r.priceHour)-Number(a.priceHour)}else{if(n=="tvl")return Number(r.tvl_in_usd)-Number(a.tvl_in_usd);if(n=="vol")return Number(r.vol_in_usd_24h)-Number(a.vol_in_usd_24h);if(n=="price")return Number(r.price)-Number(a.price);if(n=="priceChange")return Number(r.priceHour)-Number(a.priceHour)}});if(console.log(l,"resultresultresult0919919"),l.length<10)z.value=l.slice(0,10);else{const r=L.value*10;z.value=l.slice(r-10,r)}},ae=n=>{console.log(n,j.value,o.value," currentSortOrder.value"),n==j.value?o.value=o.value=="desc"?"asc":"desc":(j.value=n,o.value="desc"),K(n)},R=(n,l)=>{console.log(n,H.value,"page1"),L.value=n,H.value&&H.value.length>0&&K(j.value)};Y(H,n=>{O.value,R(L.value)},{immediate:!0});const de=n=>{var l,r,a,f,v,d;if(g.value.theme=="sui"){const m=n.needReverse?((r=u.value.tokensObj[n.token_b_address])==null?void 0:r.labels)||[]:((l=u.value.tokensObj[n.token_a_address])==null?void 0:l.labels)||[],w=n.needReverse?((a=u.value.tokensObj[n.token_a_address])==null?void 0:a.labels)||[]:((f=u.value.tokensObj[n.token_b_address])==null?void 0:f.labels)||[],k=m.concat(w);return[...new Set(k)]}else{const m=((v=u.value.tokensObj[n.token_a_address])==null?void 0:v.labels)||[],w=((d=u.value.tokensObj[n.token_b_address])==null?void 0:d.labels)||[],k=m.concat(w);return[...new Set(k)]}},te=n=>{if(!T(n)&&!T(u.value.addressLpTokens)&&!T(u.value.tokensObj)){const l=n.swap_account,r=u.value.addressLpTokens[l];let a=(r==null?void 0:r.rewarder_infos)||[];const f=[];for(let d=0;d<a.length;d++){const m=a[d];console.log("0418####item####",n),console.log("0418####ele####",m),u.value.tokensObj[m==null?void 0:m.coinAddress]&&(console.log("0418####item####pools.value.tokensObj[item.coinAddress]####",u.value.tokensObj[m==null?void 0:m.coinAddress]),f.push({...m,symbol:u.value.tokensObj[m.coinAddress].symbol,rewarderApr:n.rewarder_apr[d],logoUrl:u.value.tokensObj[m.coinAddress].logoURI,rewarder_display:r[`rewarder_display${d+1}`]}))}let v=[];return v=f.filter(d=>d.rewarder_display),console.log("0419###stats###rewardList###",v),v}},ie=(n,l)=>n&&l?Se.plus(F(n),F(l)):n>0&&n<.01?"<0.01":0,ue=n=>{let l=0;return n&&n.forEach(r=>{console.log(r,"===>ele"),r.rewarder_display&&(l+=F(String(r.rewarders)))}),String(l)},ce=()=>{V&&V.push("/stats-tokens")},B=y({});Y(()=>[u.value.poolConfigObj,u.value.tokensObj,g.value.topPoolsList,g.value.chainName,u.value.addressLpTokens],([n,l,r,a,f])=>{a=="Sui"?n&&!T(n)&&r&&r.length>0&&l&&!T(l)&&(r.forEach(v=>{var w;const d=n[v.swap_account],m=(w=d==null?void 0:d.rewarderInfo)==null?void 0:w.map((k,b)=>{const N=l[k.coinAddress];return{...k,emissionsEveryDay:Q(k.emissionsEveryDay,N==null?void 0:N.decimals),rewarder_display:d[`rewarder_display${b+1}`],rewarders:v.rewarder_apr[b]&&v.rewarder_apr[b].replace("%",""),logoUrl:N==null?void 0:N.logo_url,symbol:N==null?void 0:N.symbol,rewarderApr:v.rewarder_apr[b]&&v.rewarder_apr[b].replace("%","")}});console.log(d,"poolInfo===>"),d!=null&&d.is_display_rewarder&&(B.value={...B.value,[v.swap_account]:m})}),console.log(B.value,"rewardObj.value")):n&&!T(n)&&r&&r.length>0&&l&&!T(l)&&f&&!T(f)&&r.forEach(v=>{const d=f[v.swap_account];if(console.log(d,"===>poolInfo"),d){const m=d.rewarder_infos.map((w,k)=>{console.log(w,"===>reward");const b=l[w.coinAddress];return{...w,emissionsEveryDay:Q(w.emissionsEveryDay,b==null?void 0:b.decimals),rewarder_display:d[`rewarder_display${k+1}`],rewarders:X(v.rewarder_apr[k]&&v.rewarder_apr[k].replace("%",""),2),logoUrl:b==null?void 0:b.logo_url,symbol:b==null?void 0:b.symbol,rewarderApr:X(v.rewarder_apr[k]&&v.rewarder_apr[k].replace("%",""),2)}});console.log(d,"poolInfo===>"),d!=null&&d.is_display_rewarder&&(B.value={...B.value,[v.swap_account]:m})}})},{immediate:!0,deep:!0});const pe=n=>{var l;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((l=u.value.tokensObj[n==null?void 0:n.address])==null?void 0:l.logo_url)||(g.value.theme==="default"?U("/image/coins/unknown.png"):U("/image/coins/sui-unknown.png"))},ve=S(()=>g.value.theme),me=S(()=>u.value.tokensWarningObj);return{currentSortColumn:j,currentSortOrder:o,sortTable:ae,tokensWarningObj:me,theme:ve,getCoinIcon:pe,addCommom:_,store:g,importIcon:U,addressTokens:G,onChangeTokens:R,currentTokens:L,currentTopTokensList:z,topTokensList:H,router:V,isPc:O,getAprTotal:ie,getRewarderApr:ue,toTokensList:ce,labelToken:ne,select:se,tokenValue:re,tokensList:le,getLabel:de,rewardApr:te,tokensObj:J,rewardObj:B,t:h,decimalUi:W,chainName:oe,formatNumberAddCommom:ke}}});const A=e=>(fe("data-v-0994572d"),e=e(),Ne(),e),Ue={key:0,class:"title"},Ve={key:1,class:"title view-all-title"},He={class:"sort-by"},Be=A(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ee=[Be],De=A(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Pe=[De],We={key:0,class:"select-item"},Ie=["onClick"],ze=A(()=>s("svg",{"aria-hidden":"true",class:"pools-icon"},[s("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Re={class:"table-contianer"},Fe={class:"pools-table"},qe={class:"table-header"},Me=A(()=>s("th",null,"Tokens",-1)),Ge=A(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Je=[Ge],Ke=A(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Qe=[Ke],Xe=A(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ye=[Xe],Ze=A(()=>s("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),xe=[Ze],es=A(()=>s("th",null,null,-1)),ss={class:"table-body"},os={key:0},ns={colspan:"6"},rs={class:"upgrade-loading"},ls={class:"token"},as={class:"left"},ds=["onerror"],ts={key:0,class:"pool-warning"},is={class:"right"},us={class:"name"},cs={key:0,class:"label-all"},ps={class:"price onlyPrice"},vs={class:"price"},ms={class:"volume"},hs={class:"tvl"},bs={class:"btn-box"},_s={class:"h5-item-container"},ks={key:0,class:"upgrade-loading"},gs={class:"top"},ws={class:"token"},Cs=["onerror"],Os={key:0,class:"pool-warning"},ys={class:"right"},Ts={class:"name"},js={key:0,class:"label-all"},fs={class:"middle"},Ns={class:"item-pools"},$s={class:"price"},As={class:"item-pools"},Ss={class:"item-pools"},Ls={class:"item-pools"},Us={class:"bottom"},Vs={class:"panation"};function Hs(e,h,ee,u,G,J){const I=he,g=be,V=$e,L=je,j=Te("image");return c(),p("div",{class:C(["top-tokens-table",e.isAll?"top-tokens-table-all":""])},[e.isAll?(c(),p("div",Ve,[E(I),$(" "+t(e.$t("common.tokens")),1)])):(c(),p("div",Ue,[s("div",null,t(e.$t("common.topTokens")),1),s("div",{class:"view-all",onClick:h[0]||(h[0]=(...o)=>e.toTokensList&&e.toTokensList(...o))},t(e.$t("newAdd.viewAll"))+"   > ",1)])),s("div",He,[s("div",null,t(e.$t("newAdd.sortBy")),1),s("div",{class:"search-select",onClick:h[1]||(h[1]=D(o=>e.labelToken=!e.labelToken,["stop"]))},[s("div",null,[$(t(e.tokenValue)+" ",1),(c(),p("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortOrder=="desc"?"desc-svg":"asc-svg"])},Ee,2))]),(c(),p("svg",{"aria-hidden":"true",class:C(e.labelToken?"show-icon icon":"icon")},Pe,2))]),e.labelToken?(c(),p("div",We,[(c(!0),p(q,null,M(e.tokensList,(o,O)=>(c(),p("div",{key:O,class:"select-menu-item",onClick:D(()=>{e.labelToken=!1,e.tokenValue=o,e.sortTable(o=="Price"?"price":o=="Volume (24H)"?"vol":o=="TVL"?"tvl":"priceChange")},["stop"])},[$(t(o)+" ",1),ze],8,Ie))),128))])):P("",!0)]),s("div",Re,[s("table",Fe,[s("thead",qe,[s("tr",null,[Me,s("th",null,[s("span",{onClick:h[2]||(h[2]=D(o=>e.sortTable("price"),["stop"]))},[$(" Price "),(c(),p("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="price"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Je,2))])]),s("th",null,[s("span",{onClick:h[3]||(h[3]=D(o=>e.sortTable("priceChange"),["stop"]))},[$(" Price Change "),(c(),p("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="priceChange"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Qe,2))])]),s("th",null,[s("span",{onClick:h[4]||(h[4]=D(o=>e.sortTable("vol"),["stop"]))},[$(" Volume (24H) "),(c(),p("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="vol"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Ye,2))])]),s("th",null,[s("span",{class:"hover-box",onClick:h[5]||(h[5]=D(o=>e.sortTable("tvl"),["stop"]))},[$(" TVL "),(c(),p("svg",{"aria-hidden":"true",class:C(["pools-icon",e.currentSortColumn=="tvl"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},xe,2))])]),es])]),s("tbody",ss,[e.currentTopTokensList?P("",!0):(c(),p("tr",os,[s("td",ns,[s("div",rs,[E(g,{loading:!0,type:"statsPools"})])])])),(c(!0),p(q,null,M(e.currentTopTokensList,o=>(c(),p("tr",{key:o.address},[s("td",null,[s("div",ls,[s("div",as,[s("div",null,[Z(s("img",{onerror:e.theme=="default"?("importIcon"in e?e.importIcon:i(U))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:i(U))("/image/coins/sui-unknown.png"),alt:""},null,8,ds),[[j,e.getCoinIcon(e.addressTokens&&e.addressTokens[o.address])]]),!("checkNullObj"in e?e.checkNullObj:i(T))(e.tokensWarningObj||{})&&!e.tokensWarningObj[o.address]?(c(),p("div",ts)):P("",!0)])]),s("div",is,[s("div",us,[s("p",null,t(o.symbol),1),s("span",null,t(o.name),1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(c(),p("div",cs,[s("div",{class:C(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[s("span",null,t(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):P("",!0)])])]),s("td",null,[s("div",ps,[s("p",null,t(o.price?"$"+(Number(o.price)>1?("addCommom"in e?e.addCommom:i(_))(("decimalUi"in e?e.decimalUi:i(W))(o.price,2)):("addCommom"in e?e.addCommom:i(_))(("decimalUi"in e?e.decimalUi:i(W))(o.price,4))):"--"),1)])]),s("td",null,[s("div",vs,[s("p",{class:C(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},t(o.price_rate_24h!=="0%"&&!o.price_rate_24h.includes("-")?`+${o.price_rate_24h}`:o.price_rate_24h),3)])]),s("td",null,[s("div",ms," $"+t(("addCommom"in e?e.addCommom:i(_))(o.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:i(_))(o.vol_in_usd_24h,2)?("addCommom"in e?e.addCommom:i(_))(o.vol_in_usd_24h,2):"--"),1)]),s("td",null,[s("div",hs," $"+t(("addCommom"in e?e.addCommom:i(_))(o.tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:i(_))(o.tvl_in_usd,2)?("addCommom"in e?e.addCommom:i(_))(o.tvl_in_usd,2):"--"),1)]),s("td",null,[s("div",bs,[E(V,{class:"cancel-btn",onClick:O=>e.router.push(`/swap?to=${o.address}`)},{default:x(()=>[$(t(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])])]))),128))])])]),s("div",_s,[e.currentTopTokensList?(c(!0),p(q,{key:1},M(e.currentTopTokensList,o=>(c(),p("div",{key:o.address,class:"item h5-item"},[s("div",gs,[s("div",ws,[s("div",null,[Z(s("img",{onerror:e.theme=="default"?("importIcon"in e?e.importIcon:i(U))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:i(U))("/image/coins/sui-unknown.png"),alt:""},null,8,Cs),[[j,e.getCoinIcon(e.addressTokens&&e.addressTokens[o.address])]]),!("checkNullObj"in e?e.checkNullObj:i(T))(e.tokensWarningObj||{})&&!e.tokensWarningObj[o.address]?(c(),p("div",Os)):P("",!0)]),s("div",ys,[s("div",Ts,[s("p",null,t(o.symbol),1),s("span",null,t(o.name),1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(c(),p("div",js,[s("div",{class:C(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[s("span",null,t(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):P("",!0)])])]),s("div",fs,[s("div",Ns,[s("span",null,t(e.$t("common.price")),1),s("div",$s,[s("p",null,t(o.price?"$"+(Number(o.price)>1?("addCommom"in e?e.addCommom:i(_))(("decimalUi"in e?e.decimalUi:i(W))(o.price,2)):("addCommom"in e?e.addCommom:i(_))(("decimalUi"in e?e.decimalUi:i(W))(o.price,4))):"--"),1)])]),s("div",As,[s("span",null,t(e.$t("newAdd.priceChange")),1),s("p",{class:C(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},t(o.price_rate_24h),3)]),s("div",Ss,[s("span",null,t(e.$t("common.volume24h")),1),s("p",null," $"+t(("addCommom"in e?e.addCommom:i(_))(o.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:i(_))(o.vol_in_usd_24h,2)),1)]),s("div",Ls,[s("span",null,t(e.$t("common.tvl")),1),s("p",null," $"+t(("addCommom"in e?e.addCommom:i(_))(o.tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:i(_))(o.tvl_in_usd,2)),1)])]),s("div",Us,[E(V,{class:"cancel-btn",onClick:O=>e.router.push(`/swap?to=${o.address}`)},{default:x(()=>[$(t(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128)):(c(),p("div",ks,[E(g,{loading:!0,type:"statsPoolH5"})]))]),s("div",Vs,[E(L,{current:e.currentTokens,"onUpdate:current":h[6]||(h[6]=o=>e.currentTokens=o),"page-size":(e.isPc,10),simple:"",total:e.isAll?e.topTokensList.length:e.topTokensList.length>20?20:e.topTokensList.length,onChange:e.onChangeTokens},null,8,["current","page-size","total","onChange"])])],2)}const Fs=ye(Le,[["render",Hs],["__scopeId","data-v-0994572d"]]);export{Fs as T};
