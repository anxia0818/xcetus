import{d as H,c as T,e as b}from"./pool.5e02e1cf.js";import{a as G,r as n,m as F,D as O,y as Z,T as K,C as Q,M as X,a5 as Y,e as x,o as u,f as v,h as l,u as h,c as ee,v as g,x as U,z as W,i as ae,t as te,G as oe,S as se,J as ne}from"./entry.76d0f1e9.js";/* empty css              *//* empty css              */import{u as le,c as ie}from"./sha256.cb7ec708.js";import"./index.7d47b1d5.js";import{l as re}from"./lodash.3d4a174f.js";const de=G({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const i=le(),_=n(!1),t=F(()=>i),j=a=>{switch(a){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},w=F(()=>ie[t.value.chainName]),C=n(0),N=n(0),D=n(0),L=n(0),V=n(""),E=n("--"),A=re.debounce(()=>{k(p.value)},300);O(()=>e.mode,(a,c)=>{a!==c&&(_.value=!0,k(p.value))}),O(()=>e.address,(a,c)=>{a!==c&&(_.value=!0,k(p.value))});const q=n(null);Z(()=>{window.addEventListener("resize",A),setTimeout(()=>{document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day")},100),q.value=window.setInterval(()=>{k(p.value)},12e4)}),K(()=>{window.clearInterval(q.value)}),Q(()=>{window.removeEventListener("resize",A)}),X(()=>{if(!T(t.value.statsData||{})&&t.value.chainName){console.log(t.value.statsData,"===>store.statsData");const a=t.value.chainName=="Sui"?t.value.statsData.vol_in_usd_24h:t.value.statsData.vol_in_usd_24h_sum_v1;t.value.chainName=="Sui"?t.value.statsData.tvl_in_usd:t.value.statsData.tvl_in_usd_sum_v1,C.value=a,V.value=a,N.value=t.value.statsData.vol_in_usd,D.value=t.value.statsData.pure_tvl_in_usd,L.value=t.value.statsData.tx_num}});const p=n("D"),$=n({}),J=a=>{p.value=a,k(a)},k=a=>{a=="D"?document.body.clientWidth<750?r(40,100,4,e.mode,"day"):r(40,100,8,e.mode,"day"):a=="W"?document.body.clientWidth<750?r(20,100,6,e.mode,"wek"):r(30,100,12,e.mode,"wek"):a=="M"&&(document.body.clientWidth<750?r(20,100,12,e.mode,"mon"):r(20,100,18,e.mode,"mon"))},r=async(a,c,z,f,d)=>{const{data:m}=e.address!==""?t.value.theme=="default"?await fetch(`${w.value.api}/v2/histogram?date_type=${d}&typ=${f}&limit=${a}&swap_account=${e.address}`).then(s=>s.json()):await fetch(`${w.value.api}/v2/sui/histogram?date_type=${d}&typ=${f}&limit=${a}&address=${e.address}`).then(s=>s.json()):t.value.theme=="default"?await fetch(`${w.value.api}/v2/histogram?date_type=${d}&typ=${f}&limit=${a}`).then(s=>s.json()):await fetch(`${w.value.api}/v2/sui/histogram?date_type=${d}&typ=${f}&limit=${a}`).then(s=>s.json());let o=m.list;const y={categoryData:[],valueData:[],wheelBase:[]};o&&o.forEach(s=>{y.categoryData.push(s.date.slice(0,10)),y.valueData.push(s.num)}),_.value=!1,$.value=y,R(a,c,z)},S=n({day:"",month:"",year:"",current:""}),P=a=>a==1?"Jan":a==2?"Feb":a==3?"Mar":a==4?"Apr":a==5?"May":a==6?"Jun":a==7?"Jul":a==8?"Aug":a==9?"Sep":a==10?"Oct":a==11?"Nov":"Dec",R=(a,c,z)=>{const f=document.getElementById("echartsBox"),d=Y(f);let m={tooltip:{trigger:"axis",position:function(o,y,s,I,B){return[o[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(o){let y=o[0].axisValue.slice(5,7),s=P(y);const I=o[0].axisValue.slice(8,10),B=s,M=o[0].axisValue.slice(0,4);return S.value={day:I,month:B,year:M,current:""},V.value=o[0].value,E.value=o[0].value,t.value.theme=="default","&nbsp;&nbsp;&nbsp;"+I+"&nbsp;"+B+"&nbsp;"+M+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:t.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:$.value.categoryData.length>Number(a)?Number(a):$.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:$.value.categoryData},yAxis:{show:!1,max:function(o){return o.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:c,zoomLock:!0}],series:[{data:$.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:o=>t.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:z}],grid:{left:0,top:0,bottom:0,right:24}};document.body.clientWidth<750&&(m.grid={left:4,top:0,bottom:20,right:20}),t.value.theme=="default"&&(m.tooltip.backgroundColor="#293F38"),m&&d.setOption(m),m&&d.resize(),d.on("globalout",o=>{S.value={day:"",month:"",year:"",current:""},V.value=t.value.statsData.vol_in_usd_24h_sum_v1,E.value="--"})};return{currentVal:E,loading:_,getModeLabel:j,decimalUi:H,checkNullObj:T,store:t,addCommom:b,vol_in_usd_24h:C,vol_in_usd:N,tvl_in_usd:D,tx_num:L,changeEchart:J,echartVal:p,volTime:S,TradingVolume:V}}});const ue={class:"upgrade-chart-container"},ce={class:"echarts-content-box"},me={class:"echarts-content"},ve={class:"echarts-content-top"},he={class:"left"},pe={key:1},fe={key:2},ye={key:3},ge={key:4},be={key:5},_e={class:"echarts-tab"},we={key:0,class:"echarts-content-bottom"},De={id:"echartsBox",class:"echarts-content-bottom"};function $e(e,i,_,t,j,w){const C=se,N=ne;return u(),v("div",ue,[l("div",ce,[l("div",me,[l("div",ve,[l("div",he,[("checkNullObj"in e?e.checkNullObj:h(T))(e.store.statsData||{})?(u(),ee(C,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):e.address==""?(u(),v("p",pe,"$"+g(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:h(b))(("decimalUi"in e?e.decimalUi:h(H))(e.TradingVolume,2))),1)):e.currentVal!=="--"?(u(),v("p",fe,"$"+g(Number(e.currentVal)!==0&&Number(e.currentVal)<.01?"<0.01":("addCommom"in e?e.addCommom:h(b))(e.currentVal,2)),1)):e.mode=="vol"?(u(),v("p",ye,"$"+g(Number(e.poolInfo.vol)!==0&&Number(e.poolInfo.vol)<.01?"<0.01":("addCommom"in e?e.addCommom:h(b))(e.poolInfo.vol,2)),1)):e.mode=="tvl"?(u(),v("p",ge,"$"+g(Number(e.poolInfo.liqidity)!==0&&Number(e.poolInfo.liqidity)<.01?"<0.01":("addCommom"in e?e.addCommom:h(b))(e.poolInfo.liqidity,2)),1)):e.mode=="fee"?(u(),v("p",be,"$"+g(Number(e.poolInfo.fee_24_h)!==0&&Number(e.poolInfo.fee_24_h)<.01?"<0.01":("addCommom"in e?e.addCommom:h(b))(e.poolInfo.fee_24_h,2)),1)):U("",!0),l("span",null,g(e.address!==""?e.getModeLabel(e.mode):e.$t("common.tradingVal24h")),1)]),l("div",_e,[l("div",{class:W(["title-day",e.echartVal=="D"?"title-active":""]),onClick:i[0]||(i[0]=D=>e.changeEchart("D"))}," D ",2),l("div",{class:W(["title-week",e.echartVal=="W"?"title-active":""]),onClick:i[1]||(i[1]=D=>e.changeEchart("W"))}," W ",2),l("div",{class:W(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:i[2]||(i[2]=D=>e.changeEchart("M"))}," M ",2)])]),e.loading?(u(),v("div",we,[ae(N)])):U("",!0),te(l("div",De,null,512),[[oe,!e.loading]])])])])}const Se=x(de,[["render",$e],["__scopeId","data-v-668aacf8"]]);export{Se as _};
