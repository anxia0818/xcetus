import{a6 as To,l as xo,R as Bo,a7 as ho}from"./entry.b50b92ae.js";import{c as _,a as vo}from"./sha256.f7a9b7d8.js";import{N as Lo,I as Co,O as Po,b as $,P as J,T as Ao,C as So,V as oo,q as bo,s as O,u as Do,e as qo,a as go,f as fo,p as ao}from"./pool.ffe05eaf.js";import{D as t}from"./decimal.0bdeb344.js";function yo(e){const d={launchpad:_[e||"Sui"].launchpad,ido:_[e||"Sui"].ido,xcetus:_[e||"Sui"].xcetus,xcetus_dividends:_[e||"Sui"].xcetus_dividends,cetus_faucet:_[e||"Sui"].cetus_faucet,xtoken:_[e||"Sui"].xtoken,xtoken_dividends:_[e||"Sui"].xtoken_dividends,token_faucet:_[e||"Sui"].token_faucet,booster:_[e||"Sui"].booster,maker_bonus:_[e||"Sui"].maker_bonus,liquidity_stratefy:_[e||"Sui"].liquidity_stratefy,vaults:_[e||"Sui"].vaults,haedal:_[e||"Sui"].haedal,frams:_[e||"Sui"].frams},y={fullRpcUrl:localStorage.getItem(`${e}-currentRpclocal2`)||_[e||"Sui"].fullRpcUrl,simulationAccount:_[e||"Sui"].simulationAccount,cetus_config:_[e||"Sui"].cetus_config,clmm_pool:_[e||"Sui"].clmm_pool,integrate:_[e||"Sui"].integrate,deepbook:_[e||"Sui"].deepbook,deepbook_endpoint_v2:_[e||"Sui"].deepbook_endpoint_v2,aggregatorUrl:_[e||"Sui"].aggregatorUrl},p=new Lo(y),n=To(new Co(d,p)),c=vo(),U=xo(()=>c);Bo(()=>{U.value.address&&(p.senderAddress=U.value.address)});const I=async()=>{console.log(n,"sdk###");const o=await n.Vaults.getVaultList();return o&&o.data||[]},l=async o=>{const u=await n.Vaults.getVault(o);return console.log(u,"vault##"),{...u,quota_based_type:Po(u.quota_based_type).full_address}},h=async o=>{if(console.log(o,"###coinType"),p.senderAddress){const u=await n.ClmmSDK.fullClient.getBalance({owner:p.senderAddress,coinType:o});return u&&u.totalBalance}else return 0},i=o=>({transactionBlock:o,options:{showEffects:!0,showEvents:!0,showInput:!0,showRawInput:!0,showObjectChanges:!0,showBalanceChanges:!0}});return{getAutoPools:I,getLpBalance:h,getVault:async o=>{const u=await n.Vaults.getVault(o);return console.log(u,"vault##292"),u},deposit:async o=>{const{lowerTick:u,upperTick:g,slippage:S,rewarder_coin_types:v,isOnlyA:f,isOnlyB:x,currentTickIndex:P,decimal_b:R,request_id:k,use_Haedal_stake:j,shouldRequestStake:D,farming_pool:V}=o;console.log(o,"params###");let r=o.fix_amount_a,s,a,E,w=P;if(f||x){let A;try{A=await n.Vaults.calculateDepositSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:o.curSqrtPrice,fix_amount_a:o.fix_amount_a,input_amount:o.coinAmount,coinTypeA:o.coinTypeA,coinTypeB:o.coinTypeB,clmm_pool:o.clmm_pool,use_route:!0,priceSplitPoint:S,request_id:k,use_Haedal_stake:j,shouldRequestStake:D},!0)}catch{A=await n.Vaults.calculateDepositSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:o.curSqrtPrice,fix_amount_a:o.fix_amount_a,input_amount:o.coinAmount,coinTypeA:o.coinTypeA,coinTypeB:o.coinTypeB,clmm_pool:o.clmm_pool,use_route:!1,priceSplitPoint:S,request_id:k,use_Haedal_stake:j,shouldRequestStake:D},!0)}console.log(A,"swapResut##211"),A?(a=new $(A.afterSqrtPrice),s=A.fixAmountA===r?new $(J(o.coinAmount).sub(A.swapInAmount).toString()):new $(A.swapOutAmount),E={swap_amount:A.swapInAmount,a2b:r,input_amount:o.coinAmount,route_obj:A.routeObj,use_Haedal_stake:A.use_Haedal_stake},r=A.fixAmountA,w=Ao.sqrtPriceX64ToTickIndex(new $(A.afterSqrtPrice))):(a=new $(o.curSqrtPrice),s=new $(o.coinAmount))}else a=o.curSqrtPrice,s=new $(o.coinAmount);let m,b,L;console.log(u,P,g,"####138"),w>=u&&w<=g?(m=So.estLiquidityAndcoinAmountFromOneAmounts(u,g,s,r,!0,S,a),b=r?s.toString():m.tokenMaxA.toString(),L=r?m.tokenMaxB.toString():s.toString()):w<u?(b=s.toNumber(),L=0):w>g&&(b=0,L=s.toNumber()),console.log({lowerTick:u,upperTick:g,vault_id:o.id,clmm_pool:o.clmm_pool,farming_pool:V,lp_token_type:o.lp_token_type,amount_a:b,amount_b:L,fix_amount_a:r,slippage:S,coinTypeA:o.coinTypeA,coinTypeB:o.coinTypeB,swapParams:E},"params171");const H=await n.Vaults.deposit({lowerTick:u,upperTick:g,vault_id:o.id,clmm_pool:o.clmm_pool,lp_token_type:o.lp_token_type,amount_a:b,amount_b:L,fix_amount_a:r,slippage:S,coinTypeA:o.coinTypeA,coinTypeB:o.coinTypeB,swapParams:E,farming_pool:V});return i(H)},remove:async o=>{const{lowerTick:u,upperTick:g,coinTypeA:S,coinTypeB:v,receiveAmount:f,clmm_pool:x,lowerSqrtPrice:P,upperSqrtPrice:R,fix_amount_a:k,curSqrtPrice:j,slippage:D,rewarder_coin_types:V,id:r,liquidity:s,swapParams:a,isOnlyA:E,isOnlyB:w,sliderVal:m,positionInfo:b,maxLiquidity:L,request_id:H,farming_pool:A}=o;console.log(m,"sliderVal##");const F=await l(r),Y=await p.Pool.getPool(F.pool_id);let N,B,K,to,Z,z,C;const G=oo.get_share_liquidity_by_amount(F,m==100?b.balance:o.lpTokenAmount);if(console.log(f,"##receiveAmount"),E||w){try{N=await n.Vaults.calculateRemoveSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:Y.current_sqrt_price,fix_amount_a:k,receive_amount:f,coinTypeA:S,coinTypeB:v,clmm_pool:x,use_route:!0,priceSplitPoint:D,removeLiquidity:m==100?G:"",maxLiquidity:L,request_id:H})}catch(eo){console.log(eo,"e251"),N=await n.Vaults.calculateRemoveSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:Y.current_sqrt_price,fix_amount_a:k,receive_amount:f,coinTypeA:S,coinTypeB:v,clmm_pool:x,use_route:!1,priceSplitPoint:D,removeLiquidity:m==100?G:"",maxLiquidity:L,request_id:H})}if(console.log(N,"swapResut###"),N){const eo=oo.get_share_liquidity_by_amount(F,b.balance);B=So.getCoinAmountFromLiquidity(new $(m==100?eo:N.liquidity),new $(Y.current_sqrt_price),P,R,!1),K=oo.get_protocol_fee_amount(F,B.coinA.toString()),to=oo.get_protocol_fee_amount(F,B.coinB.toString()),Z=m==100?b.balance:oo.get_lp_amount_by_liquidity(F,N.liquidity),z=J(B.coinA.toString()).mul(J(1-o.slippage)),C=J(B.coinB.toString()).mul(J(1-o.slippage)),console.log(z.toString(),"##minAmountA"),console.log(C.toString(),"##minAmountA")}}else console.log(G,"#removeLiquidity"),B=So.getCoinAmountFromLiquidity(new $(G),new $(Y.current_sqrt_price),P,R,!1),console.log(B,"#coinAmountscoinAmounts"),Z=o.lpTokenAmount,z=J(B.coinA.toString()).mul(J(1-o.slippage)),C=J(B.coinB.toString()).mul(J(1-o.slippage)),console.log(K,to,"##protocol_fee_amount_b"),console.log(z.toString(),"##minAmountA"),console.log(C.toString(),"##minAmountA"),console.log(o,"params###246");console.log(Z,"lpTokenAmount remove");const M={vault_id:o.id,clmm_pool:o.clmm_pool,lp_token_type:o.lp_token_type,coinTypeA:o.coinTypeA,coinTypeB:o.coinTypeB,lp_token_amount:Z,min_amount_a:bo(z,0)||"",min_amount_b:bo(C,0)||"",rewarder_coin_types:[],slippage:o.slippage,farming_pool:A};console.log(M,"##removeParams"),(E||w)&&(M.swapParams={a2b:!k,swap_amount:N==null?void 0:N.swapInAmount,route_obj:N.routeObj});const W=await n.Vaults.remove(M);return i(W)},getAutoPool:l,calculateDepositSwapAmount:async o=>{const{lowerTick:u,upperTick:g,curSqrtPrice:S,fix_amount_a:v,input_amount:f,coinTypeA:x,coinTypeB:P,clmm_pool:R,slippage:k,decimals:j,request_id:D,use_Haedal_stake:V,shouldRequestStake:r}=o;console.log(o,"params###");let s;try{s=await n.Vaults.calculateDepositSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:S,fix_amount_a:v,input_amount:f,coinTypeA:x,coinTypeB:P,clmm_pool:R,use_route:!0,priceSplitPoint:k,request_id:D,use_Haedal_stake:V,shouldRequestStake:r},!0)}catch(a){if(console.log(a,"calculateDepositSwapAmount error"),String(a)=="Error: route unavailable"&&(console.log(a,"e432"),s=await n.Vaults.calculateDepositSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:S,fix_amount_a:v,input_amount:f,coinTypeA:x,coinTypeB:P,clmm_pool:R,use_route:!1,priceSplitPoint:k,request_id:D,use_Haedal_stake:V,shouldRequestStake:r},!0)),String(a)=="Error: HaedalStakeSuiAmountError")return"HaedalStakeSuiAmountError"}if(console.log(s,"##swapResut"),s){const a=new t(s.swapOutAmount);return{...s,swapOutAmountLimit:O(a.sub(a.mul(k)).toNumber(),j)}}return s},calculateRemoveSwapAmount:async o=>{const{lowerTick:u,upperTick:g,curSqrtPrice:S,fix_amount_a:v,receiveAmount:f,coinTypeA:x,coinTypeB:P,clmm_pool:R,slippage:k,decimals:j,liquidity:D,maxLiquidity:V,request_id:r}=o;console.log(o,"params###");let s;try{s=await n.Vaults.calculateRemoveSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:S,fix_amount_a:v,receive_amount:f,coinTypeA:x,coinTypeB:P,clmm_pool:R,use_route:!0,priceSplitPoint:k,removeLiquidity:D,maxLiquidity:V,request_id:r})}catch(a){String(a)=="Error: route unavailable"&&(console.log(a,"e432"),s=await n.Vaults.calculateRemoveSwapAmount({lowerTick:u,upperTick:g,curSqrtPrice:S,fix_amount_a:v,receive_amount:f,coinTypeA:x,coinTypeB:P,clmm_pool:R,use_route:!1,priceSplitPoint:k,removeLiquidity:D,maxLiquidity:V,request_id:r}))}if(console.log(s,"###swapResut calculateRemoveSwapAmount"),s){const a=new t(s.swapOutAmount);return console.log(a.toNumber(),"swapOutAmount.toNumber()"),{...s,swapOutAmountLimit:O(a.sub(a.mul(k)).toNumber(),j)}}return s}}}const Ro=ho("autoPool",{state:()=>({autoPoolList:[],autoPoolObj:{},positionInfoObj:{},positionInfoList:[],positionUSDObj:{},apyObj:{},currentAutoPoolStatus:"STATUS_RUNNING",slippage:localStorage.getItem("cetus-auto-slippage")||"0.1",autoPoolLoading:!1}),getters:{getPoolStore(){return Do()}},actions:{async getAutoPoolList(){const d=await yo("Sui").getAutoPools();console.log(d,"list###");const y=this.getPoolStore,p=_.Sui.vaultFilter,{data:n}=await fetch(`${_.Sui.api}/v2/sui/auto_pools`).then(l=>l.json());console.log(n,"data##37");const c=(n==null?void 0:n.pools)||[],U=d.filter(l=>c.some(h=>h.object_id===l.id));console.log(U,"##openPoolList");const I=(p?U:d).map(l=>{const h=y.poolConfigObj[l.pool_id];return console.log("autoPoolList map",l),{...h,id:l.id,lp_token_type:l.lp_token_type,autoPoolPositionInfo:l.position,is_pause:l.is_pause,total_supply:l.total_supply,liquidity:l.liquidity,protocol_fee_rate:l.protocol_fee_rate,max_quota:l.max_quota,quota_based_type:Po(l.quota_based_type).full_address,supportHaedalStake:l.supportHaedalStake}});this.autoPoolList=I,this.autoPoolObj=Object.fromEntries(I.map((l,h)=>[l.address,l])),this.getMyAutoPoolPosition(),console.log(I,"##autoPoolList")},async getMyAutoPoolPosition(){var c,U,I,l;const e=yo("Sui"),d=this.autoPoolList,y=qo("Sui"),p=[],{RATES:n}=this.getPoolStore;for(let h=0;h<d.length;h++){const i=d[h];console.log(i,"poolINfo###");const T=await y.getPool(i.address),q=await e.getLpBalance(d[h].lp_token_type);console.log(q,"balance##");const Q=(await y.getTokenListByCoinType([d[h].lp_token_type]))[0];console.log(Q,"lpInfo##");const io=((c=n[i.coinA.address])==null?void 0:c.price)||"",X=((U=n[i.coinB.address])==null?void 0:U.price)||"",o=i.autoPoolPositionInfo.tick_lower_index,u=i.autoPoolPositionInfo.tick_upper_index,g=Number(q)>0?oo.get_share_liquidity_by_amount({liquidity:i==null?void 0:i.liquidity,total_supply:i==null?void 0:i.total_supply},q):0,S={tick_lower_index:o,tick_upper_index:u,current_sqrt_price:T==null?void 0:T.current_sqrt_price,liquidity:g};console.log(i,"poolInfo##94");const v=await y.getCoinAmountFromLiquidity({pool:{...i,current_sqrt_price:T==null?void 0:T.current_sqrt_price},position:S,roundUp:!1});console.log(v,"##amountInfo");const f=v.coinaAmount,x=v.coinbAmount,P=f,R=x,k=i.coinA.decimals,j=i.coinB.decimals,D=y.TickMath.tickIndexToPrice(Number(o),k,j).toString(),V=y.TickMath.tickIndexToPrice(Number(u),k,j).toString(),r=new t(io).mul(new t(f)).toNumber(),s=new t(X).mul(new t(x)).toNumber(),a=r>0&&r<.01?"<$0.01":`$${go(O(r,2))}`,E=s>0&&s<.01?"<$0.01":`$${go(O(s,2))}`,w=Ao.sqrtPriceX64ToPrice(T.current_sqrt_price,k,j),m=await y.getCoinAmountFromLiquidity({pool:{...i,tick_lower_index:o,tick_upper_index:u,current_sqrt_price:T==null?void 0:T.current_sqrt_price},position:{...S,liquidity:i.liquidity},roundUp:!1}),b=new t(m.coinaAmount).toNumber(),L=new t(m.coinbAmount).toNumber();console.log(b,L,w.toString(),"###116");const H=O(new t(b).mul(new t(io)).toNumber(),2),A=O(new t(L).mul(new t(X)).toNumber(),2);console.log(T,"newPool##"),console.log(b,L,io,X,Number(H)+Number(A),"###poolCoinBNum");const{ratioA:F,ratioB:Y}=oo.calculateDepositRatio(o,u,new $.BN(T==null?void 0:T.current_sqrt_price));console.log(F,Y.toString(),"###139");const N=F.mul(100).toNumber().toFixed(0),B=100-Number(N);console.log(b,L,N,B,"###147");let K=0;Number(q)>0&&(K=new t(q).div(Math.pow(10,Q.decimals)));const to=new t(r).add(new t(s)).toNumber(),Z=io&&X?to>0&&to<.01?"<0.01":O(new t(r).add(new t(s)).toString(),2):"--",z=i.total_supply;let C=0;K>0&&z>0&&(C=new t(K).mul(Math.pow(10,Q.decimals)).div(new t(z)).mul(100).toNumber()),console.log(C,"##myShare");const G=new t(1).div(Math.pow(10,i.decimals)).toNumber();let M=0;if(C>1)M=O(C,2);else if(C>0&&C<G)M=`<${G}`;else if(C==0)M=0;else{const ro=fo(C),_o=ro==-1?2:ro+2;M=O(C,_o)}console.log(q,K.toString(),"###balance");const W=(await y.getTokenListByCoinType([i.quota_based_type]))[0],eo=ao(i.max_quota,W.decimals);console.log(i.quota_based_type,W,eo,"##quoteCoinInfo");const so=W.address==i.coin_b_address,co=so?new t(m.coinaAmount).mul(i.price).add(m.coinbAmount):new t(m.coinaAmount).mul(1/i.price).add(m.coinbAmount),po=((I=n[W.address])==null?void 0:I.price)||"",no=co.mul(new t(po)).toNumber();console.log(so,no,"#isQuotaCoin");const uo=eo,mo=so?new t(m.coinaAmount).mul(i.price).add(m.coinbAmount):new t(m.coinaAmount).mul(1/i.price).add(m.coinbAmount),lo=new t(uo).sub(mo).mul(X).toNumber();console.log(lo,"remainingTokenUSD##"),console.log(co.toNumber(),"#poolTokenNum"),this.positionInfoObj[i.id]={tick_lower_index:o,tick_upper_index:u,current_sqrt_price:T.current_sqrt_price,myLiquidity:ao(q,Q.decimals),amountA:P,amountB:R,...i,lpInfo:Q,myAmountAUSD:a,myAmountBUSD:E,myLiquidityUSD:Z,myShare:M,minPrice:D,maxPrice:V,poolCoinARatio:N,poolCoinBRatio:B,poolCoinANum:b,poolCoinBNum:L,poolCoinAUSD:H,poolCoinBUSD:A,quoteUSD:uo,poolUSD:no,balance:q,quoteCoinInfo:W,remainingTokenUSD:lo,currentDeposit:no,positionLiquidity:g},p.push({tick_lower_index:o,tick_upper_index:u,current_sqrt_price:(l=i==null?void 0:i.object)==null?void 0:l.current_sqrt_price,myLiquidity:ao(q,Q.decimals),amountA:P,amountB:R,...i,lpInfo:Q,myAmountAUSD:a,myAmountBUSD:E,myLiquidityUSD:Z,myShare:M,minPrice:D,maxPrice:V,poolCoinARatio:N,poolCoinBRatio:B,poolCoinANum:b,poolCoinBNum:L,poolCoinAUSD:H,poolCoinBUSD:A,quoteUSD:uo,poolUSD:no,balance:q})}this.positionInfoList=p,console.log(this.positionInfoObj,"this.positionInfoObj###"),console.log(this.positionInfoList,"###this.positionInfoList")},async updatePositionItem(e){var co,po,no,uo,mo,lo,ro,_o;const d=yo("Sui"),y=qo("Sui"),p=await d.getAutoPool(e),n=await y.getPool(p.pool_id);console.log("newPoolInfo:",p),console.log("newPool:",n),console.log("this.positionInfoObj[id]:",this.positionInfoObj[e]);const c={...this.positionInfoObj[e],autoPoolPositionInfo:p.position,...n},U=await d.getLpBalance(c.lp_token_type);console.log(U,"updatePositionItem lp balance");const I=(await y.getTokenListByCoinType([c.lp_token_type]))[0];console.log(U,"###balance updatePositionItem");const l=c.autoPoolPositionInfo.tick_lower_index,h=c.autoPoolPositionInfo.tick_upper_index;let i;p.total_supply==0?i=0:i=oo.get_share_liquidity_by_amount(p,String(U)),console.log(i,"##liquidity");const T={tick_lower_index:l,tick_upper_index:h,current_sqrt_price:n.current_sqrt_price,liquidity:i},q=y.getCoinAmountFromLiquidity({pool:{current_sqrt_price:n.current_sqrt_price,...c},position:T,roundUp:!1}),Q=q.coinaAmount,io=q.coinbAmount,{RATES:X}=this.getPoolStore,o=p.total_supply,u=Ao.sqrtPriceX64ToPrice(n.current_sqrt_price,(co=c==null?void 0:c.coinA)==null?void 0:co.decimals,(po=c==null?void 0:c.coinB)==null?void 0:po.decimals),g=2,S=2,v=((uo=X[(no=c==null?void 0:c.coinA)==null?void 0:no.address])==null?void 0:uo.price)||0,f=((lo=X[(mo=c==null?void 0:c.coinB)==null?void 0:mo.address])==null?void 0:lo.price)||0,x=new t(v).mul(new t(q==null?void 0:q.coinaAmount)).toNumber(),P=new t(f).mul(new t(q==null?void 0:q.coinbAmount)).toNumber(),R=x>0&&x<.01?"<$0.01":`$${go(O(x,2))}`,k=P>0&&P<.01?"<$0.01":`$${go(O(P,2))}`;let j=new t(0);Number(U)>0&&(j=new t(U).div(Math.pow(10,I==null?void 0:I.decimals)));const D=new t(x).add(new t(P)).toNumber(),V=v&&f?D>0&&D<.01?"<0.01":O(new t(x).add(new t(P)).toString(),2):"--",r=new t(j).mul(Math.pow(10,(ro=c.lpInfo)==null?void 0:ro.decimals)).div(new t(o)).mul(100).toNumber();console.log(r,"##myShare");const s=new t(1).div(Math.pow(10,c.decimals)).toNumber();let a=0;if(r>1)a=O(r,2);else if(r>0&&r<s)a=`<${s}`;else if(r==0)a=0;else{const wo=fo(r),ko=wo==-1?2:wo+2;a=O(r,ko)}const E=Ao.sqrtPriceX64ToPrice(n.current_sqrt_price,g,S),w=await y.getCoinAmountFromLiquidity({pool:{...c,tick_lower_index:l,tick_upper_index:h,current_sqrt_price:n==null?void 0:n.current_sqrt_price},position:{...T,liquidity:p.liquidity},roundUp:!1}),m=new t(w.coinaAmount).toNumber(),b=new t(w.coinbAmount).toNumber();console.log(m,b,E.toString(),"###116");const L=O(new t(m).mul(new t(v)).toNumber(),2),H=O(new t(b).mul(new t(f)).toNumber(),2);console.log(n,"newPool##"),console.log(m,b,v,f,Number(L)+Number(H),"###poolCoinBNum");const{ratioA:A,ratioB:F}=oo.calculateDepositRatio(l,h,new $.BN(n==null?void 0:n.current_sqrt_price));console.log(A,F.toString(),"###139");const Y=A.mul(100).toNumber().toFixed(0),N=100-Number(Y),B=(await y.getTokenListByCoinType([p.quota_based_type]))[0],K=ao(p.max_quota,B.decimals);console.log(p.quota_based_type,B,K,"##quoteCoinInfo");const to=B.address==c.coin_b_address,Z=to?new t(w.coinaAmount).mul(c.price).add(w.coinbAmount):new t(w.coinaAmount).mul(1/c.price).add(w.coinbAmount),z=((_o=X[B.address])==null?void 0:_o.price)||"",C=Z.mul(new t(z)).toNumber(),G=K,M=to?new t(w.coinaAmount).mul(c.price).add(w.coinbAmount):new t(w.coinaAmount).mul(1/c.price).add(w.coinbAmount),W=new t(G).sub(M).mul(f).toNumber();console.log(W,"remainingTokenUSD##");const eo=y.TickMath.tickIndexToPrice(Number(l),g,S).toString(),so=y.TickMath.tickIndexToPrice(Number(h),g,S).toString();this.positionInfoObj[e]={...c,tick_lower_index:l,tick_upper_index:h,current_sqrt_price:n.current_sqrt_price,myLiquidity:ao(U,I==null?void 0:I.decimals),amountA:Q,amountB:io,myShare:a,myAmountAUSD:R,myAmountBUSD:k,myLiquidityUSD:V,poolCoinARatio:Y,poolCoinBRatio:N,poolCoinANum:m,poolCoinBNum:b,poolCoinAUSD:L,poolCoinBUSD:H,quoteUSD:G,balance:U,price:u,quoteCoinInfo:B,remainingTokenUSD:W,currentDeposit:C,poolUSD:C,positionLiquidity:i,liquidity:p==null?void 0:p.liquidity,minPrice:eo,maxPrice:so},this.autoPoolLoading=!1,console.log(this.positionInfoObj[e],"###this.positionInfoObj[id]")},async getAutoPoolAPY(){try{const{data:e}=await fetch(`${_.Sui.api}/v2/sui/auto_pools`).then(d=>d.json());e&&e.pools&&e.pools.length>0&&(this.apyObj=Object.fromEntries(e.pools.map((d,y)=>[d.object_id,{...d,apr:d.apr.replace("%","")>0&&d.apr.replace("%","")<.01?"<0.01%":O(d.apr.replace("%",""),2)+"%",resultApr:d.apr.replace("%","")}])),console.log(this.apyObj,"data##"))}catch{this.apyObj={}}},async getVault(e,d){const y=yo("Sui");d||(this.autoPoolLoading=!0);const{status:p}=await y.getVault(e);this.currentAutoPoolStatus=p,this.updatePositionItem(e),console.log(p,"status##")},setSlippage(e){console.log(e,"slippage##"),this.slippage=e,localStorage.setItem("cetus-auto-slippage",e)}}});export{yo as a,Ro as u};
