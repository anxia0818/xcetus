import{_ as rn}from"./back.9f928804.js";import{_ as dn}from"./refresh-icon.a7ce44ec.js";import{a as ze,M as Eo,l as Po,r as w,m as vn,e as Xe,q as to,o as l,c as J,w as $e,h as o,i as z,j as je,t as m,f as _,F as ao,s as Wo,v as Ve,x as O,y as mn,I as cn,B as So,p as Ge,k as He,z as go,A as To,C as $,D as Ce,b as No,E as eo,G as qo,H as xe,u as A,J as jo,K as Io,L as vo,N as pn,O as fn,P as Xo,S as zo}from"./entry.4094fb39.js";/* empty css              */import{_ as gn,a as yn,b as bn}from"./icon-error_2x.2842515e.js";import{u as Ke,a as Go}from"./autoPool.b91fda91.js";import{u as oo,c as Je,a as R,g as Co,d as Fe,s as T,T as We,b as ue,p as Vo,e as Ho,f as kn}from"./pool.4427db39.js";import{_ as yo}from"./token-warning.0740cc79.js";import{_ as Yo}from"./auto-pool-apy-tips.f27ef84d.js";import{u as bo,a as Ro}from"./sha256.7c8d670f.js";import{i as uo}from"./import-icon.de3e6c66.js";import{_ as Jo}from"./assets-card.4967f82f.js";import{_ as Ko}from"./coin-lock.0c36a509.js";import{_ as Zo,a as Qo}from"./auto-pool-remove-modal.deb1ad55.js";/* empty css              */import{D as a}from"./decimal.0bdeb344.js";import{afterCurrentPrice as wo}from"./data.ec228448.js";import{V as Ao}from"./index.ab35997e.js";/* empty css              *//* empty css              */import"./decimal.6f03adc8.js";import{u as hn}from"./swapRouter.b7da1185.js";/* empty css              *//* empty css              */import"./img-lock_2x.a28135f4.js";import"./img-lock_2x.a35316a0.js";const _n=ze({components:{Modal:Eo},setup(e,t){const{t:W,locale:j}=Po(),N=Ke(),P=["0.1","0.5","1"],c=w(N.slippage||.1),{setSlippage:S}=N,y=vn();console.log(c.value,"slippage.value");const u=w(!1);function s(n,v){u.value=!1,c.value=v}function B(){S(c.value),t.emit("onClose",!1)}return{settingArr:P,changeActiveIndex:s,confirm:B,emit:y,slippage:c,t:W,isInput:u,inputChange:n=>{const v=new RegExp(/[^\d^\.]+/g);n.target.value=n.target.value.replace(v,""),c.value=n.target.value}}}});const xo=e=>(Ge("data-v-c5b99de4"),e=e(),He(),e),$n=xo(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),wn={class:"setting-container"},In={class:"title"},Cn=xo(()=>o("img",{src:bn,alt:""},null,-1)),An={class:"tag-list"},Pn={key:0,src:gn,alt:""},Sn={key:1,src:yn,alt:""},Tn={class:"footer"};function Nn(e,t,W,j,N,P){const c=mn,S=cn,y=So,u=to("Modal");return l(),J(u,{title:"Settings",class:"setting",centered:"",visible:!0,width:"400px",onCancel:t[3]||(t[3]=s=>e.$emit("onClose"))},{closeIcon:$e(()=>[$n]),footer:$e(()=>[o("div",Tn,[z(y,{type:"cancel",class:"cancel-btn cancel-btn-new",onClick:t[2]||(t[2]=s=>e.$emit("onClose"))},{default:$e(()=>[je(m(e.$t("button.cancel")),1)]),_:1}),z(y,{class:"confirmbtn",disabled:Number(e.slippage)==0||Number(e.slippage)>1||Number(e.slippage)<.01,onClick:e.confirm},{default:$e(()=>[je(m(e.$t("button.confirm")),1)]),_:1},8,["disabled","onClick"])])]),default:$e(()=>[o("div",wn,[o("div",In,[Cn,o("span",null,m(e.$t("modal.slippageTolerance")),1)]),o("div",An,[(l(!0),_(ao,null,Wo(e.settingArr,(s,B)=>(l(),J(c,{key:B,class:Ve(!e.isInput&&s==e.slippage?"tag-active":""),onClick:p=>e.changeActiveIndex(B,s)},{default:$e(()=>[je(m(s)+"% ",1)]),_:2},1032,["class","onClick"]))),128)),z(c,{class:Ve(["input-tag",e.isInput?"tag-active":""]),onClick:t[1]||(t[1]=s=>e.isInput=!0)},{default:$e(()=>[z(S,{value:e.slippage,"onUpdate:value":t[0]||(t[0]=s=>e.slippage=s),placeholder:"",suffix:"%",class:Ve(["slippage-input",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-input-waring":Number(e.slippage)>1?"slippage-input-error":""]),onChange:e.inputChange},null,8,["value","class","onChange"])]),_:1},8,["class"])])]),Number(e.slippage)>.5&&Number(e.slippage)<1||Number(e.slippage)>1?(l(),_("div",{key:0,class:Ve(["slippage-hint",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-hint-waring":Number(e.slippage)>1?"slippage-hint-error":""])},[Number(e.slippage)>.5&&1>=Number(e.slippage)?(l(),_("img",Pn)):O("",!0),Number(e.slippage)>1?(l(),_("img",Sn)):O("",!0),o("p",null,m(Number(e.slippage)>.5&&1>=Number(e.slippage)?e.$t("tips.slippageTolerance2"):Number(e.slippage)>1?e.$t("tips.slippageTolerance1"):""),1)],2)):O("",!0)]),_:1})}const qn=Xe(_n,[["render",Nn],["__scopeId","data-v-c5b99de4"]]),Rn=ze({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const W=w(!1),j=w(null),N=w(0);let P=w(!1);const c=w(20);oo();const S=Ke(),y=w(!1);go(()=>{}),To(()=>{clearInterval(j.value)});const u=()=>{P.value=!1,j.value=setInterval(()=>{var d;y.value||N.value<c.value&&(N.value+=1,N.value===c.value&&((d=e==null?void 0:e.poolInfo)!=null&&d.address&&p(),N.value=0))},1e3)},s=$(()=>S.slippage),B=()=>{t.emit("clearAll")},p=()=>{P.value||(P.value=!0,N.value=0,t.emit("clickRefresh"),setTimeout(()=>{P.value=!1},1e3))};Ce(()=>e.poolInfo,d=>{d&&!j.value&&u()},{immediate:!0});const n=No(),v=eo();return console.log(v,"route"),{refresh:P,clickRefresh:p,isShowSwapSetting:W,countdown:N,autoRefreshTime:c,slippage:s,clearAll:B,checkNullObj:Je,router:n,route:v}}});const Dn=e=>(Ge("data-v-71491a33"),e=e(),He(),e),Bn={class:"title"},Ln={class:"left"},Un=Dn(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Fn={key:0,class:"deposit-progress"};function Mn(e,t,W,j,N,P){const c=rn,S=dn,y=qn;return l(),_("div",Bn,[o("div",Ln,[z(c)]),o("div",{class:Ve(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[o("div",{class:"slippage-icon",onClick:t[0]||(t[0]=u=>e.isShowSwapSetting=!0)},[Un,o("span",null,m(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(l(),_("div",Fn,[z(S,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])):O("",!0)],2),e.isShowSwapSetting?(l(),J(y,{key:0,onOnClose:t[1]||(t[1]=u=>e.isShowSwapSetting=!1)})):O("",!0)])}const On=Xe(Rn,[["render",Mn],["__scopeId","data-v-71491a33"]]),Vn=ze({components:{AutoPoolApyTips:Yo},setup(){const e=bo(),t=$(()=>e),W=oo(),j=$(()=>W),N=Ke(),P=$(()=>N),c=$(()=>t.value.theme),S=eo(),y=w();Ce(()=>[P.value.positionInfoObj,S.params.id],([v,d])=>{v&&!Je(v)&&d&&(y.value=v[d],console.log(y.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const u=$(()=>{var v;return(v=y.value)==null?void 0:v.needReverse}),s=v=>{var d;return(v==null?void 0:v.logoURI)||(v==null?void 0:v.logo_url)||((d=j.value.tokensObj[v==null?void 0:v.address])==null?void 0:d.logo_url)||(c.value==="default"?uo("/image/coins/unknown.png"):uo("/image/coins/sui-unknown.png"))},B=$(()=>{var v,d;return console.log((v=y==null?void 0:y.value)==null?void 0:v.poolUSD,"##positionInfo?.value?.poolUSD"),(d=y==null?void 0:y.value)==null?void 0:d.poolUSD}),p=$(()=>{var v,d;return P.value.apyObj&&((d=P.value.apyObj[(v=y.value)==null?void 0:v.id])==null?void 0:d.apr)||"--"}),n=$(()=>t.value.currentExplorer);return{positionInfo:y,needReverse:u,getCoinIcon:s,tvl:B,apy:p,addCommom:R,getExplorerUrl:Co,currentExplorer:n}}});const Ye=e=>(Ge("data-v-0947d30b"),e=e(),He(),e),En={class:"auto-pool-v2-info"},Wn={class:"pool-info"},jn={class:"left"},Xn={class:"coin-a"},zn={alt:""},Gn={class:"coin-b"},Hn={alt:""},Yn={class:"position-name"},Jn={key:0,class:"pool-fee"},Kn=Ye(()=>o("span",null,"Fee tier",-1)),Zn={class:"vault-address"},Qn=["href"],xn=Ye(()=>o("span",null,"Vault Address",-1)),et=Ye(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),ot=[xn,et],nt={class:"apy-and-tvl"},tt={class:"apy"},st=Ye(()=>o("div",{class:"apy-title"},"APY",-1)),it={class:"apy-text"},lt={class:"tvl"},at=Ye(()=>o("div",{class:"tvl-title"},"TVL",-1)),ut={class:"tvl-text"},rt={class:"pool-info h5-pool-info"},dt={class:"left"},vt={class:"coin-a"},mt={alt:""},ct={class:"coin-b"},pt={alt:""},ft={class:"position-name"},gt={key:0,class:"pool-fee"},yt=Ye(()=>o("span",null,"Fee tier",-1)),bt={class:"left"},kt={class:"vault-address"},ht=["href"],_t=Ye(()=>o("span",null,"Vault Address",-1)),$t=Ye(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),wt=[_t,$t],It={class:"apy-and-tvl"},Ct={class:"apy"},At=Ye(()=>o("div",{class:"apy-title"},"APY",-1)),Pt={class:"apy-text"},St={class:"tvl"},Tt=Ye(()=>o("div",{class:"tvl-title"},"TVL",-1)),Nt={class:"tvl-text"};function qt(e,t,W,j,N,P){var u,s,B,p,n,v,d,b,C,f,L,U,F,K,x,Z,g,r,D,te,se,ve,G,ne,he,_e,fe,me,H,ie,be,ce,h,Y,Ne,ge,De,Ae,Be,we,Me,Ze,ro,re,Pe,qe;const c=yo,S=Yo,y=qo("image");return l(),_("div",En,[o("div",Wn,[o("div",jn,[o("div",Xn,[xe(o("img",zn,null,512),[[y,e.needReverse?e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b):e.getCoinIcon((u=e.positionInfo)==null?void 0:u.token_a)]]),z(c,{address:e.needReverse?(v=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:v.address:(p=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:p.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Gn,[xe(o("img",Hn,null,512),[[y,e.needReverse?e.getCoinIcon((b=e.positionInfo)==null?void 0:b.token_a):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b)]]),z(c,{address:e.needReverse?(U=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:U.address:(f=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Yn,m(e.needReverse?(K=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:K.symbol:(Z=(x=e.positionInfo)==null?void 0:x.token_a)==null?void 0:Z.symbol)+" - "+m(e.needReverse?(r=(g=e.positionInfo)==null?void 0:g.token_a)==null?void 0:r.symbol:(te=(D=e.positionInfo)==null?void 0:D.token_b)==null?void 0:te.symbol),1),(se=e.positionInfo)!=null&&se.fee?(l(),_("div",Jn,[Kn,je(" "+m(((ve=e.positionInfo)==null?void 0:ve.fee)*100)+"% ",1)])):O("",!0),o("div",Zn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Co))(e.currentExplorer,"poolAddress",(G=e.positionInfo)==null?void 0:G.id),target:"_blank"},ot,8,Qn)])]),o("div",nt,[o("div",tt,[st,o("div",it,[je(m(e.apy)+" ",1),z(S)])]),o("div",lt,[at,o("div",ut,"$"+m(("addCommom"in e?e.addCommom:A(R))(e.tvl,2)),1)])])]),o("div",rt,[o("div",dt,[o("div",vt,[xe(o("img",mt,null,512),[[y,e.needReverse?e.getCoinIcon((he=e.positionInfo)==null?void 0:he.token_b):e.getCoinIcon((ne=e.positionInfo)==null?void 0:ne.token_a)]]),z(c,{address:e.needReverse?(H=(me=e.positionInfo)==null?void 0:me.token_b)==null?void 0:H.address:(fe=(_e=e.positionInfo)==null?void 0:_e.token_a)==null?void 0:fe.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",ct,[xe(o("img",pt,null,512),[[y,e.needReverse?e.getCoinIcon((be=e.positionInfo)==null?void 0:be.token_a):e.getCoinIcon((ie=e.positionInfo)==null?void 0:ie.token_b)]]),z(c,{address:e.needReverse?(Ne=(Y=e.positionInfo)==null?void 0:Y.token_a)==null?void 0:Ne.address:(h=(ce=e.positionInfo)==null?void 0:ce.token_b)==null?void 0:h.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",ft,m(e.needReverse?(De=(ge=e.positionInfo)==null?void 0:ge.token_b)==null?void 0:De.symbol:(Be=(Ae=e.positionInfo)==null?void 0:Ae.token_a)==null?void 0:Be.symbol)+" - "+m(e.needReverse?(Me=(we=e.positionInfo)==null?void 0:we.token_a)==null?void 0:Me.symbol:(ro=(Ze=e.positionInfo)==null?void 0:Ze.token_b)==null?void 0:ro.symbol),1),(re=e.positionInfo)!=null&&re.fee?(l(),_("div",gt,[yt,je(" "+m(((Pe=e.positionInfo)==null?void 0:Pe.fee)*100)+"% ",1)])):O("",!0)]),o("div",bt,[o("div",kt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Co))(e.currentExplorer,"poolAddress",(qe=e.positionInfo)==null?void 0:qe.id),target:"_blank"},wt,8,ht)])]),o("div",It,[o("div",Ct,[At,o("div",Pt,[je(m(e.apy)+" ",1),z(S)])]),o("div",St,[Tt,o("div",Nt,"$"+m(("addCommom"in e?e.addCommom:A(R))(e.tvl,2)),1)])])])])}const en=Xe(Vn,[["render",qt],["__scopeId","data-v-0947d30b"]]),Rt=ze({components:{Slider:jo},setup(){const e=w(!0),t=oo(),W=$(()=>t),j=Ke(),N=$(()=>j),P=eo(),c=w();Ce(()=>[N.value.positionInfoObj,P.params.id],([p,n])=>{p&&!Je(p)&&n&&(c.value=p[n],console.log(c.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const S=$(()=>{var p;return(p=c.value)==null?void 0:p.needReverse}),y=p=>{var n;return(p==null?void 0:p.logoURI)||(p==null?void 0:p.logo_url)||((n=W.value.tokensObj[p==null?void 0:p.address])==null?void 0:n.logo_url)||uo("/image/coins/sui-unknown.png")},u=$(()=>{var b,C,f,L,U,F,K;const p=e.value?((b=c.value)==null?void 0:b.minPrice)&&T(c==null?void 0:c.value.minPrice,6):((C=c.value)==null?void 0:C.maxPrice)&&T(1/(c==null?void 0:c.value.maxPrice),6),n=e.value?((f=c.value)==null?void 0:f.maxPrice)&&T((L=c.value)==null?void 0:L.maxPrice,6):((U=c.value)==null?void 0:U.minPrice)&&T(1/(c==null?void 0:c.value.minPrice),6),v=(S.value?!e.value:e.value)?T((F=c.value)==null?void 0:F.price,6):T(1/((K=c.value)==null?void 0:K.price),6);let d={};return d[p]={label:"Min Price"},d[n]={label:"Max Price"},v>p&&v<n?d[v]={label:"Current Price"}:v<p?d[Number(p)+1e-9]={label:"Current Price"}:v>n&&(d[Number(n)-1e-9]={label:"Current Price"}),console.log(d,"obj###"),d}),s=$(()=>{var n,v;const p=(S.value?!e.value:e.value)?Fe((n=c.value)==null?void 0:n.price,6):Fe(1/((v=c.value)==null?void 0:v.price),6);return console.log(p,"result##"),p}),B=$(()=>{var n,v;const p=(S.value?!e.value:e.value)?Fe((n=c.value)==null?void 0:n.price,6):Fe(1/((v=c.value)==null?void 0:v.price),6);return console.log(p,"result##111"),p});return{direct:e,positionInfo:c,needReverse:S,getCoinIcon:y,decimalUi:Fe,addCommom:R,sFixD:T,marks:u,currentPrice:s,currentPriceResever:B}}});const ko=e=>(Ge("data-v-44da997b"),e=e(),He(),e),Dt={class:"v2-position-range"},Bt={class:"position-range-top"},Lt=ko(()=>o("div",null,"Position Range",-1)),Ut={class:"base-coin"},Ft={key:0},Mt={alt:""},Ot={key:1},Vt={alt:""},Et={key:2},Wt={key:3},jt=ko(()=>o("p",null,"Base coin",-1)),Xt={class:"coin-rate"},zt=ko(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Gt=ko(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Ht=[zt,Gt],Yt={class:"position-range-bottom"},Jt={class:"price-range"},Kt={class:"price-range-bg"},Zt={key:0,class:"min-price"},Qt={key:0},xt={key:1},es={key:1,class:"max-price"},os={key:0},ns={key:1},ts={key:0,class:"min-price"},ss={key:0},is={key:1},ls={key:1,class:"max-price"},as={key:0},us={key:1};function rs(e,t,W,j,N,P){var u,s,B,p,n,v,d,b,C,f,L,U,F,K,x,Z,g,r,D,te,se,ve,G,ne,he,_e,fe,me;const c=yo,S=to("Slider"),y=qo("image");return l(),_("div",Dt,[o("div",Bt,[Lt,o("div",Ut,[e.needReverse?(l(),_("div",Ot,[xe(o("img",Vt,null,512),[[y,e.direct?e.getCoinIcon((b=e.positionInfo)==null?void 0:b.token_b):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_a)]]),z(c,{address:e.direct?(U=(L=e.positionInfo)==null?void 0:L.token_b)==null?void 0:U.address:(f=(C=e.positionInfo)==null?void 0:C.token_a)==null?void 0:f.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])):(l(),_("div",Ft,[xe(o("img",Mt,null,512),[[y,e.direct?e.getCoinIcon((u=e.positionInfo)==null?void 0:u.token_a):e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b)]]),z(c,{address:e.direct?(p=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:p.address:(v=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:v.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])),e.needReverse?(l(),_("span",Wt,m(e.direct?(r=(g=e.positionInfo)==null?void 0:g.token_b)==null?void 0:r.symbol:(te=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:te.symbol),1)):(l(),_("span",Et,m(e.direct?(K=(F=e.positionInfo)==null?void 0:F.token_a)==null?void 0:K.symbol:(Z=(x=e.positionInfo)==null?void 0:x.token_b)==null?void 0:Z.symbol),1)),jt,o("div",Xt,[o("div",{onClick:t[0]||(t[0]=H=>e.direct=!e.direct)},Ht)])])]),o("div",Yt,[o("div",Jt,[o("div",Kt,[e.direct?(l(),J(S,{key:0,value:e.currentPrice,class:Ve(["position-slider",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(T))((se=e.positionInfo)==null?void 0:se.minPrice,6))||e.currentPrice>Number(("sFixD"in e?e.sFixD:A(T))((ve=e.positionInfo)==null?void 0:ve.maxPrice,6))?"hide-handler":""]),step:null,marks:e.marks,disabled:!0,min:Number(("decimalUi"in e?e.decimalUi:A(Fe))((G=e.positionInfo)==null?void 0:G.minPrice,6)),max:Number(("decimalUi"in e?e.decimalUi:A(Fe))((ne=e.positionInfo)==null?void 0:ne.maxPrice,6))},{mark:$e(({label:H})=>{var ie,be,ce,h,Y,Ne,ge,De,Ae,Be,we,Me;return[H=="Min Price"?(l(),_("div",Zt,[o("div",null,m(H),1),e.direct?(l(),_("div",Qt,m(((ie=e.positionInfo)==null?void 0:ie.minPrice)&&("sFixD"in e?e.sFixD:A(T))((be=e.positionInfo)==null?void 0:be.minPrice,6)),1)):(l(),_("div",xt,m(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((h=e.positionInfo)==null?void 0:h.maxPrice),6)),1))])):O("",!0),H=="Max Price"?(l(),_("div",es,[o("div",null,m(H),1),e.direct?(l(),_("div",os,m(((Y=e.positionInfo)==null?void 0:Y.maxPrice)&&("sFixD"in e?e.sFixD:A(T))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(l(),_("div",ns,m(((ge=e.positionInfo)==null?void 0:ge.minPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):O("",!0),H=="Current Price"?(l(),_("div",{key:2,class:Ve(["current-price",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(T))((Ae=e.positionInfo)==null?void 0:Ae.minPrice,6))?"current-price-left":e.currentPrice>Number(("sFixD"in e?e.sFixD:A(T))((Be=e.positionInfo)==null?void 0:Be.maxPrice,6))?"current-price-right":""])},[o("div",null,m(H),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(l(),_(ao,{key:0},[je(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))((we=e.positionInfo)==null?void 0:we.price,6))),1)],64)):(l(),_(ao,{key:1},[je(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))(1/((Me=e.positionInfo)==null?void 0:Me.price),6))),1)],64))])],2)):O("",!0)]}),_:1},8,["value","class","marks","min","max"])):(l(),J(S,{key:1,value:e.currentPriceResever,class:Ve(["position-slider",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(T))(1/((he=e.positionInfo)==null?void 0:he.maxPrice),6))||e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(T))(1/((_e=e.positionInfo)==null?void 0:_e.minPrice),6))?"hide-handler":""]),step:null,min:Number(("decimalUi"in e?e.decimalUi:A(Fe))(1/((fe=e.positionInfo)==null?void 0:fe.maxPrice),6)),max:Number(("decimalUi"in e?e.decimalUi:A(Fe))(1/((me=e.positionInfo)==null?void 0:me.minPrice),6)),marks:e.marks,disabled:!0},{mark:$e(({label:H})=>{var ie,be,ce,h,Y,Ne,ge,De,Ae,Be,we,Me;return[H=="Min Price"?(l(),_("div",ts,[o("div",null,m(H),1),e.direct?(l(),_("div",ss,m(((ie=e.positionInfo)==null?void 0:ie.minPrice)&&("sFixD"in e?e.sFixD:A(T))((be=e.positionInfo)==null?void 0:be.minPrice,6)),1)):(l(),_("div",is,m(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((h=e.positionInfo)==null?void 0:h.maxPrice),6)),1))])):O("",!0),H=="Max Price"?(l(),_("div",ls,[o("div",null,m(H),1),e.direct?(l(),_("div",as,m(((Y=e.positionInfo)==null?void 0:Y.maxPrice)&&("sFixD"in e?e.sFixD:A(T))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(l(),_("div",us,m(((ge=e.positionInfo)==null?void 0:ge.minPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):O("",!0),H=="Current Price"?(l(),_("div",{key:2,class:Ve(["current-price current-price-direct",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(T))(1/((Ae=e.positionInfo)==null?void 0:Ae.maxPrice),6))?"current-price-left":e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(T))(1/((Be=e.positionInfo)==null?void 0:Be.minPrice),6))?"current-price-right":""])},[o("div",null,m(H),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(l(),_(ao,{key:0},[je(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))((we=e.positionInfo)==null?void 0:we.price,6))),1)],64)):(l(),_(ao,{key:1},[je(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))(1/((Me=e.positionInfo)==null?void 0:Me.price),6))),1)],64))])],2)):O("",!0)]}),_:1},8,["value","class","min","max","marks"]))])])])])}const on=Xe(Rt,[["render",rs],["__scopeId","data-v-44da997b"]]),ds=ze({components:{Modal:Eo},props:{positionInfo:{type:Object,default:()=>({})}},setup(e){const t=$(()=>{var j,N;const W=Math.ceil(((j=e.positionInfo)==null?void 0:j.poolUSD)/((N=e.positionInfo)==null?void 0:N.quoteUSD)*100);return console.log(W,"Pool Capacity Ratio"),Number(W)});return{sFixD:T,addCommom:R,ratio:t}}});const Do=e=>(Ge("data-v-78a51262"),e=e(),He(),e),vs=Do(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ms={class:"deposit-slider"},cs={class:"info-block"},ps=Do(()=>o("div",{class:"leabl"},"Current Deposit：",-1)),fs={class:"text"},gs={class:"info-block"},ys=Do(()=>o("div",{class:"leabl"},"Max Capacity：",-1)),bs={class:"text"};function ks(e,t,W,j,N,P){const c=to("Modal");return l(),J(c,{width:"440px",visible:!0,footer:null,title:"Vault Capacity",onCancel:t[0]||(t[0]=S=>e.$emit("onClose"))},{closeIcon:$e(()=>[vs]),default:$e(()=>{var S,y,u,s;return[o("div",ms,[o("div",{class:"current-deposit",style:Io({width:`${e.ratio>100?100:e.ratio}%`})},null,4)]),o("div",cs,[ps,o("div",fs,m(("addCommom"in e?e.addCommom:A(R))(("sFixD"in e?e.sFixD:A(T))((S=e.positionInfo)==null?void 0:S.currentDeposit,2)))+" "+m((y=e.positionInfo)==null?void 0:y.quoteCoinInfo.symbol),1)]),o("div",gs,[ys,o("div",bs,m(("addCommom"in e?e.addCommom:A(R))(("sFixD"in e?e.sFixD:A(T))((u=e.positionInfo)==null?void 0:u.quoteUSD,2)))+" "+m((s=e.positionInfo)==null?void 0:s.quoteCoinInfo.symbol),1)])]}),_:1})}const nn=Xe(ds,[["render",ks],["__scopeId","data-v-78a51262"]]),hs=ze({components:{AutoPoolV2PoolCapacity:nn},setup(){const e=oo(),t=$(()=>e),W=Ke(),j=$(()=>W),N=eo(),P=w();Ce(()=>[j.value.positionInfoObj,N.params.id],([u,s])=>{console.log(u,"##positionInfoObj"),u&&!Je(u)&&s&&(P.value=u[s],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=$(()=>{var u;return(u=P.value)==null?void 0:u.needReverse}),S=u=>{var s;return console.log(u,"info##"),(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((s=t.value.tokensObj[u==null?void 0:u.address])==null?void 0:s.logo_url)||uo("/image/coins/sui-unknown.png")},y=w(!1);return{needReverse:c,positionInfo:P,getCoinIcon:S,addCommom:R,isShowModal:y}}});const _s=e=>(Ge("data-v-ad8a33e9"),e=e(),He(),e),$s={class:"pool-composition"},ws={class:"pool-composition-top"},Is=_s(()=>o("span",null,"Vault Composition",-1)),Cs={class:"pool-composition-bottom"},As={class:"token-ratio"},Ps={class:"before-coin"},Ss={alt:""},Ts={class:"after-coin"},Ns={alt:""},qs={class:"token-num"},Rs={class:"num-box"},Ds={class:"num-box"};function Bs(e,t,W,j,N,P){var u,s,B,p,n,v,d,b,C,f,L,U,F,K,x,Z,g,r,D,te,se,ve,G,ne,he,_e,fe,me,H;const c=yo,S=nn,y=qo("image");return l(),_("div",$s,[o("div",ws,[Is,Number((u=e.positionInfo)==null?void 0:u.quoteUSD)>0?(l(),_("div",{key:0,class:"pool-capacity",onClick:t[0]||(t[0]=ie=>e.isShowModal=!0)},"Vault Capacity")):O("",!0)]),o("div",Cs,[o("div",As,[o("div",Ps,[o("div",null,[z(c,{address:e.needReverse?(n=(p=e.positionInfo)==null?void 0:p.token_b)==null?void 0:n.address:(B=(s=e.positionInfo)==null?void 0:s.token_a)==null?void 0:B.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"]),xe(o("img",Ss,null,512),[[y,e.needReverse?e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b):e.getCoinIcon((v=e.positionInfo)==null?void 0:v.token_a)]])]),o("span",null,m((b=e.positionInfo)==null?void 0:b.poolCoinARatio)+"%",1)]),o("div",Ts,[o("span",null,m((C=e.positionInfo)==null?void 0:C.poolCoinBRatio)+"%",1),o("div",null,[xe(o("img",Ns,null,512),[[y,e.needReverse?e.getCoinIcon((L=e.positionInfo)==null?void 0:L.token_a):e.getCoinIcon((f=e.positionInfo)==null?void 0:f.token_b)]]),z(c,{address:e.needReverse?(x=(K=e.positionInfo)==null?void 0:K.token_a)==null?void 0:x.address:(F=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:F.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])])])]),o("div",qs,[o("div",{class:"token-a-bg",style:Io({width:`${(Z=e.positionInfo)==null?void 0:Z.poolCoinARatio}%`})},null,4),o("div",{class:"token-b-bg",style:Io({width:`${(g=e.positionInfo)==null?void 0:g.poolCoinBRatio}%`})},null,4),o("div",Rs,[o("div",null,m(("addCommom"in e?e.addCommom:A(R))((r=e.positionInfo)==null?void 0:r.poolCoinANum))+" "+m(e.needReverse?(ve=(se=e.positionInfo)==null?void 0:se.token_b)==null?void 0:ve.symbol:(te=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:te.symbol),1),o("div",null,"$"+m(("addCommom"in e?e.addCommom:A(R))((G=e.positionInfo)==null?void 0:G.poolCoinAUSD)),1)]),o("div",Ds,[o("div",null,m(("addCommom"in e?e.addCommom:A(R))((ne=e.positionInfo)==null?void 0:ne.poolCoinBNum))+" "+m(e.needReverse?(me=(fe=e.positionInfo)==null?void 0:fe.token_a)==null?void 0:me.symbol:(_e=(he=e.positionInfo)==null?void 0:he.token_b)==null?void 0:_e.symbol),1),o("div",null,"$"+m(("addCommom"in e?e.addCommom:A(R))((H=e.positionInfo)==null?void 0:H.poolCoinBUSD)),1)])])]),e.isShowModal?(l(),J(S,{key:0,"position-info":e.positionInfo,onOnClose:t[1]||(t[1]=ie=>e.isShowModal=!1)},null,8,["position-info"])):O("",!0)])}const tn=Xe(hs,[["render",Bs],["__scopeId","data-v-ad8a33e9"]]),Ls=ze({setup(){const e=oo(),t=$(()=>e),W=Ke(),j=$(()=>W),N=eo(),P=w();Ce(()=>[j.value.positionInfoObj,N.params.id],([s,B])=>{console.log(s,"##positionInfoObj"),s&&!Je(s)&&B&&(P.value=s[B],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=$(()=>{var s;return(s=P.value)==null?void 0:s.needReverse}),S=s=>{var B;return console.log(s,"info##"),(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((B=t.value.tokensObj[s==null?void 0:s.address])==null?void 0:B.logo_url)||uo("/image/coins/sui-unknown.png")},y=Ro(),u=$(()=>y);return{needReverse:c,positionInfo:P,getCoinIcon:S,addCommom:R,wallet:u}}});const mo=e=>(Ge("data-v-61c3efe6"),e=e(),He(),e),Us={class:"my-liquidity"},Fs={class:"my-liquidity-top"},Ms=mo(()=>o("div",null,"My Liquidity",-1)),Os=mo(()=>o("p",null,"My share of pool",-1)),Vs={class:"my-liquidity-bottom"},Es={class:"lp-token"},Ws=mo(()=>o("div",null,[o("span",null,"LP Token Balance ")],-1)),js={class:"lp-balance"},Xs={class:"token-num-content"},zs={class:"token-num token-a-num"},Gs={class:"logo"},Hs=["src"],Ys={class:"text"},Js={class:"lp-logo"},Ks=["src"],Zs=mo(()=>o("div",null,"Pooled Assets",-1)),Qs={class:"token-num"},xs={class:"logo"},ei=["src"],oi={class:"text"},ni=mo(()=>o("div",{class:"token-num-content-bg"},null,-1));function ti(e,t,W,j,N,P){var S,y,u,s,B,p,n,v,d,b,C,f,L,U,F,K,x,Z,g,r,D,te,se,ve,G,ne,he,_e,fe;const c=yo;return l(),_("div",Us,[o("div",Fs,[Ms,o("div",null,[Os,o("p",null,m(e.wallet.connected?(S=e.positionInfo)==null?void 0:S.myShare:"--")+"%",1)])]),o("div",Vs,[o("div",Es,[Ws,o("div",null,[o("span",js,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((y=e.positionInfo)==null?void 0:y.myLiquidity):"--")+" LP",1),o("span",null,m(e.wallet.connected?((u=e.positionInfo)==null?void 0:u.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in e?e.addCommom:A(R))((s=e.positionInfo)==null?void 0:s.myLiquidityUSD)}`:"<$0.01":"--"),1)])]),o("div",Xs,[o("div",zs,[o("div",Gs,[o("img",{src:e.needReverse?e.getCoinIcon((p=e.positionInfo)==null?void 0:p.token_b):e.getCoinIcon((B=e.positionInfo)==null?void 0:B.token_a),alt:""},null,8,Hs),z(c,{address:e.needReverse?(b=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:b.address:(v=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:v.address,"style-params":{width:"14px",height:"14px",left:"18px",bottom:"0"}},null,8,["address"])]),o("div",Ys,[o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((C=e.positionInfo)==null?void 0:C.amountA):"--")+" "+m(e.needReverse?(F=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:F.symbol:(L=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:L.symbol),1),o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((K=e.positionInfo)==null?void 0:K.myAmountAUSD):"--"),1)])]),o("div",Js,[o("img",{src:e.getCoinIcon((x=e.positionInfo)==null?void 0:x.lpInfo),alt:""},null,8,Ks),Zs]),o("div",Qs,[o("div",xs,[o("img",{src:e.needReverse?e.getCoinIcon((g=e.positionInfo)==null?void 0:g.token_a):e.getCoinIcon((Z=e.positionInfo)==null?void 0:Z.token_b),alt:""},null,8,ei),z(c,{address:e.needReverse?(se=(te=e.positionInfo)==null?void 0:te.token_a)==null?void 0:se.address:(D=(r=e.positionInfo)==null?void 0:r.token_b)==null?void 0:D.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])]),o("div",oi,[o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((ve=e.positionInfo)==null?void 0:ve.amountB):"--")+" "+m(e.needReverse?(_e=(he=e.positionInfo)==null?void 0:he.token_a)==null?void 0:_e.symbol:(ne=(G=e.positionInfo)==null?void 0:G.token_b)==null?void 0:ne.symbol),1),o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((fe=e.positionInfo)==null?void 0:fe.myAmountBUSD):"--"),1)])]),ni])])])}const sn=Xe(Ls,[["render",ti],["__scopeId","data-v-61c3efe6"]]),si=""+globalThis.__publicAssetsURL("image/icon-tips-error@2x.png");const ii={},ln=e=>(Ge("data-v-fcbc716b"),e=e(),He(),e),li={class:"status"},ai=ln(()=>o("img",{src:si,alt:""},null,-1)),ui=ln(()=>o("span",null,"Rebalancing is in processing. New deposits and withdraws are paused and will be back in minutes. ",-1)),ri=[ai,ui];function di(e,t){return l(),_("div",li,ri)}const an=Xe(ii,[["render",di],["__scopeId","data-v-fcbc716b"]]),vi=ze({components:{AutoPoolAddModal:Zo,AutoPoolV2PoolStatus:an},setup(){const e=Ro(),t=w(!1),W=bo(),j=$(()=>W),N=$(()=>j.value.chainName),P=$(()=>e),c=Ke(),S=$(()=>c),y=oo(),u=$(()=>y),s=w(),B=eo(),p=w(!1),n=w(!1);Ce(()=>[S.value.positionInfoObj,B.params.id],([I,M])=>{I&&!Je(I)&&M&&(s.value=I[M],console.log(s.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const v=$(()=>{var I,M;return console.log((I=s.value)==null?void 0:I.needReverse,"##positionInfo.value?.needReverse"),(M=s.value)==null?void 0:M.needReverse}),d=w(),b=w(),C=w(),f=w(),L=w(!0),U=$(()=>P.value.assets&&d.value&&P.value.assets[d.value.address]?Vo(P.value.assets[d.value.address].balance,d.value.decimals):0),F=$(()=>P.value.assets&&b.value&&P.value.assets[b.value.address]?Vo(P.value.assets[b.value.address].balance,b.value.decimals):0),K=I=>{I==="fromCoin"?(L.value=!0,C.value=U.value>0?d.value.symbol=="SUI"?new a(Number(U.value)).sub(new a(.05)).lt(new a(0))?"0":new a(Number(U.value)).sub(new a(.05)).toString():String(U.value):""):(L.value=!1,f.value=F.value>0?b.value.symbol=="SUI"?new a(Number(F.value)).sub(new a(.05)).lt(new a(0))?"0":new a(Number(F.value)).sub(new a(.05)).toString():String(F.value):"")},x=I=>{I==="fromCoin"?(L.value=!0,C.value=U.value>0?T(new a(Number(U.value)).div(2).toString(),d.value.decimals).toString():""):(L.value=!1,f.value=F.value>0?T(new a(Number(F.value)).div(2).toString(),b.value.decimals).toString():"")},Z=$(()=>N.value?Ho(N.value):{}),g=$(()=>S.value.slippage),r=w("--"),D=w("--"),te=I=>{const M=new a(s.value.autoPoolPositionInfo.liquidity),le=new a(I.toString());if(M.toNumber()>0&&le.toNumber()>0){const k=le.add(M);console.log("totalLiquidity:",le.div(k).mul(100).toString());const Se=le.div(k).mul(100).toNumber(),pe=kn(Se),ye=pe==-1?2:pe+2,ke=T(le.div(k).mul(100).toNumber(),ye);console.log(s.value.decimals,"##positionInfo.value.decimal");const Te=new a(1).div(new a(Math.pow(10,s.value.lpInfo.decimals))).toString();console.log(ke,Te,"###288"),Number(ke)<Number(Te)?r.value=`<${Te}`:r.value=ke}else le.toNumber()>0&&M.toNumber()<=0?r.value="100":r.value="--"},se=I=>{const M=new a(I.toString()),le=new a(g.value).div(100);console.log(le.toString(),"#slippageNum");const k=Ao.get_lp_amount_by_liquidity({liquidity:s.value.liquidity,total_supply:s.value.total_supply},I.toString()),Se=new a(Math.pow(10,s.value.lpInfo.decimals)),pe=new a(k).div(Se).toString(),ye=new a(pe).mul(le);console.log(k,ye.toString(),"###409");const ke=new a(pe).sub(ye);console.log(ke.toString(),"##minLp"),console.log(M.toString(),k,pe,"lpDecimalNum##"),D.value=T(ke.toString(),s.value.decimals)},ve=w(!1),G=w(!1),ne=w(""),he=w(),_e=w(!1),fe=async()=>{if(!s.value)return;console.log(C.value,f.value,"####updateAmounts"),n.value=!1,_e.value=!0;const I=s.value.autoPoolPositionInfo.tick_lower_index,M=s.value.autoPoolPositionInfo.tick_upper_index,le=We.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));We.tickIndexToSqrtPriceX64(I),We.tickIndexToSqrtPriceX64(M),le<I&&(v.value?ve.value=!0:G.value=!0),le>M&&(v.value?G.value=!0:ve.value=!0);let k;if(console.log(C.value||f.value,"#fromCoinAmount.value || toCoinAmount.value"),C.value||f.value){L.value?k=new a(C.value).mul(Math.pow(10,d.value.decimals)).toString():k=new a(f.value).mul(Math.pow(10,b.value.decimals)).toString();let Se,pe=L.value;if(console.log("执行##"),console.log(le,I,M,"###520"),re.value||Pe.value){const q=new a(1);if(console.log(q.toString(),k,"decimalNum###"),new a(k).lte(q))return n.value=!0,!1;console.log(v.value?L.value:!L.value,"#needReverse.value?fixedFromCoin.value:!fixedFromCoin.value"),console.log(k,"##coinAmount"),console.log("1106###needReverse.value####",v.value),console.log("1106###calculateDepositSwapAmount###params###",{lowerTick:I,upperTick:M,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:k,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(g.value)/100,decimals:re.value?d.value.decimals:b.value.decimals});const E=await Ze.calculateDepositSwapAmount({lowerTick:I,upperTick:M,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:k,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(g.value)/100,decimals:re.value?d.value.decimals:b.value.decimals,request_id:k});if(console.log(E,"###swapResult"),console.log("1106###calculateDepositSwapAmount###result###",E),E){if(E.request_id!==k)return;p.value=E.is_exceed,Se=new ue(E.afterSqrtPrice),k=E.fixAmountA===pe?new ue(new a(k).sub(E.swapInAmount).toString()):new ue(E.swapOutAmount),he.value={swap_amount:E.swapInAmount,route_obj:E.route_obj,a2b:pe,input_amount:k},pe=E.fixAmountA;const ee=s.value.token_a.decimals,X=s.value.token_b.decimals;wo.value=We.sqrtPriceX64ToPrice(E.afterSqrtPrice,ee,X).toString(),console.log(wo.value,"##afterCurrentPrice.value");const de=new a(E.swapInAmount).div(new a(Math.pow(10,ee))).toString(),ae=T(new a(E.swapOutAmountLimit).div(new a(Math.pow(10,X))).toString(),X),Q=v.value?s.value.token_b.symbol:s.value.token_a.symbol,V=v.value?s.value.token_a.symbol:s.value.token_b.symbol;ne.value=`To deposit ${R(re.value?C.value:f.value)} ${re.value?Q:V},
          ${R(de)} ${re.value?Q:V}  will be traded for ${R(ae)} ${re.value?V:Q} added to the pool.`}else Se=s.value.current_sqrt_price,k=new ue(k)}else p.value=!1,Se=s.value.current_sqrt_price,k=new ue(k),wo.value="",ne.value="";console.log(he,"##swapParams");let ye,ke,Te;const i=Z.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value,tokenB:b.value,lowerTick:I,upperTick:M,coinAmount:k,iscoinA:pe,roundUp:!0,slippage:Number(g.value)/100,curSqrtPrice:new ue(Se)});console.log("amount#",i),ye=i.liquidityAmount,ke=i.tokenMaxA,Te=i.tokenMaxB,!re.value&&!Pe.value&&(L.value?f.value=Number(Te)>0?Te:"":C.value=Number(ke)>0?ke:""),console.log(ye.toString(),"liquidityAmount###"),te(ye),se(ye),_e.value=!1}};Ce(()=>s.value,I=>{I&&!Je(I)&&(d.value=I==null?void 0:I.token_a,b.value=I==null?void 0:I.token_b,ve.value=!1,G.value=!1,fe())},{immediate:!0});const me=$(()=>u.value.RATES),H=$(()=>{var I,M,le,k,Se,pe,ye,ke,Te,i;if((M=me.value[(I=d.value)==null?void 0:I.address])!=null&&M.price&&((k=me.value[(le=b.value)==null?void 0:le.address])!=null&&k.price)){console.log((pe=me.value[(Se=d.value)==null?void 0:Se.address])==null?void 0:pe.price,"RATES.value[fromCoin.value?.address]?.price");const q=new a(C.value||0).mul(new a((ke=me.value[(ye=d.value)==null?void 0:ye.address])==null?void 0:ke.price)),E=new a(f.value||0).mul(new a((i=me.value[(Te=b.value)==null?void 0:Te.address])==null?void 0:i.price));return q.add(E).toNumber()}else return"--"});Ce(()=>C.value,vo((I,M)=>{console.log(I,"##newVal"),I?fe():(r.value="--",f.value="",D.value="--")},500),{immediate:!0}),Ce(()=>f.value,vo((I,M)=>{I?fe():(C.value="",r.value="--",D.value="--")},500),{immediate:!0});const{t:ie,locale:be}=Po(),ce=$(()=>{var I,M;if(re.value||Pe.value){const le=re.value?C.value:f.value,k=re.value?d.value:b.value;if((I=me.value[k==null?void 0:k.address])!=null&&I.price)return new a(le||0).mul(new a((M=me.value[k==null?void 0:k.address])==null?void 0:M.price)).toNumber()}return 0}),h=$(()=>{const I=Number(C.value)>Number(U.value),M=Number(f.value)>Number(F.value);return!C.value&&!f.value?ie("button.enterAmount"):I?ie("button.insufficientBalance",{name:d.value.symbol}):M?ie("button.insufficientBalance",{name:b.value.symbol}):p.value?ie("button.insufficientLiquidity"):Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(H.value)>Number(s.value.remainingTokenUSD)?"Exceeded the max capacity":n.value?ie("button.enterAmount"):(console.log(ce.value),"Add Liquidity")}),Y=$(()=>{const I=Number(C.value)>Number(U.value),M=Number(f.value)>Number(F.value);return!!(!C.value&&!f.value||I||M||C.value<=0&&f.value<=0||p.value||po.value!=="STATUS_RUNNING"||(console.log(H.value,s.value.quoteUSD,"positionInfo.value.quoteUSD#"),Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(H.value)>Number(s.value.remainingTokenUSD))||n.value||ce.value>1e4)}),Ne=w(!0),{setIsShowSuccess:ge,setIsShowRejected:De,setIsShowWaiting:Ae,setTransactionDesc:Be,setTransactionTxid:we,setPositiomNum:Me}=W,Ze=Go("Sui"),ro=async()=>{var Te,i;t.value=!1,Ne.value=!0,we("");const I=`${R(C.value)} ${(Te=d.value)==null?void 0:Te.symbol}`,M=`${R(f.value)} ${(i=b.value)==null?void 0:i.symbol}`;Be(`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?M:""}`),Ae(!0);const le=L.value,k=s.value.autoPoolPositionInfo.tick_lower_index,Se=s.value.autoPoolPositionInfo.tick_upper_index,pe=We.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));let ye;L.value?ye=new a(C.value).mul(Math.pow(10,d.value.decimals)).toString():ye=new a(f.value).mul(Math.pow(10,b.value.decimals)).toString();const ke=s.value.rewarderInfo.map(q=>q.coinAddress);console.log("1109###deposit###positionInfo###",s);try{const q={lowerTick:k,upperTick:Se,coinAmount:ye,fix_amount_a:le,slippage:Number(g.value)/100,curSqrtPrice:new ue(s.value.current_sqrt_price),id:s.value.id,clmm_pool:s.value.autoPoolPositionInfo.pool,lp_token_type:s.value.lp_token_type,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:ke,swapParams:he.value,isOnlyA:re.value,isOnlyB:Pe.value,currentTickIndex:pe,decimal_b:s.value.coinB.decimals};console.log("1106###deposit###params###",q);const E=await Ze.deposit(q);console.log(E,"===>payloadAdd11111");const ee=await P.value.currentWallet.signAndExecuteTransactionBlock(E);let X=Z.value.handleTx(ee);if(console.log("toAdd###tx###",X),X&&X.hash){we(X.hash),Ae(!1),ge(!0),console.log(s,"===>positionInfo");const de={title:"Supplied",desc:`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?M:""}`,hash:X.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?M:""}`};N.value!=="Aptos"&&(de.res=X.res),Z.value.showTransitionPending(de),await Z.value.watchTransaction(de)&&setTimeout(()=>{c.updatePositionItem(s.value.id),Z.value.getAccount(P.value.address)},1e3),Me()}else Ae(!1),De(!0);C.value="",f.value="",Ne.value=!1}catch(q){C.value="",f.value="",console.log("addError###",q),Ne.value=!1,Ae(!1),De(!0)}},re=w(!1),Pe=w(!1),qe=I=>{C.value="",f.value="",ne.value="",I=="only-a"?(re.value=!re.value,Pe.value=!1):(Pe.value=!Pe.value,re.value=!1)},po=$(()=>S.value.currentAutoPoolStatus),fo=w(),ho=()=>{fo.value=window.setInterval(()=>{(C.value||f.value)&&fe()},2e4)};go(()=>{ho()}),To(()=>{window.clearInterval(fo.value)});const _o=pn(fn,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0});return{currentAutoPoolStatus:po,wallet:P,positionInfo:s,isShowAddModal:t,needReverse:v,fromCoin:d,toCoin:b,fromCoinAmount:C,toCoinAmount:f,fromCoinBlance:U,toCoinBlance:F,fixedFromCoin:L,maxBtnSelect:K,halfBtnSelect:x,totalAmountUSD:H,addCommom:R,shareOfPool:r,minimumReceivedLP:D,addLiquidityBtnText:h,addLiquidityBtnDisabled:Y,toAdd:ro,showToCoinLock:G,showFromCoinLock:ve,isOnlyA:re,isOnlyB:Pe,onlyToken:qe,onlyText:ne,onlyTokenUSD:ce,calculateLoading:_e,indicator:_o}}});const no=e=>(Ge("data-v-dccb9a26"),e=e(),He(),e),mi={class:"auto-pool-add"},ci={class:"auto-pool-add-content"},pi={class:"liquidity-action-tab"},fi=no(()=>o("div",{class:"increase tab-active"},"Add",-1)),gi={class:"only-token"},yi=no(()=>o("div",null,"Deposit Amounts",-1)),bi={key:0},ki=no(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),hi={key:0},_i=no(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),$i={key:0,class:"card-item"},wi={key:1,class:"card-item"},Ii=no(()=>o("span",null,"Pool Closed",-1)),Ci={key:4,class:"add-info"},Ai={key:0,class:"only-text"},Pi={class:"total-amount"},Si=no(()=>o("span",null,"Total Amount",-1)),Ti={key:0},Ni={class:"total-amount"},qi=no(()=>o("span",null,"Share of Pool",-1)),Ri={key:0},Di={class:"total-amount"},Bi=no(()=>o("span",null,"Minimum Received LP",-1)),Li={key:0};function Ui(e,t,W,j,N,P){var p,n,v,d,b,C,f,L,U,F,K,x,Z,g,r;const c=Jo,S=Ko,y=to("AutoPoolV2PoolStatus"),u=So,s=zo,B=Zo;return l(),_("div",mi,[o("div",ci,[o("div",pi,[fi,o("div",{class:"remove",onClick:t[0]||(t[0]=Xo(D=>e.$emit("changeCurrentTab"),["stop"]))},"Remove")]),o("div",gi,[yi,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=D=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(l(),_("span",bi)):O("",!0)]),o("span",null,m(e.needReverse?(d=(v=e.positionInfo)==null?void 0:v.token_b)==null?void 0:d.symbol:(n=(p=e.positionInfo)==null?void 0:p.token_a)==null?void 0:n.symbol)+" only",1),ki]),o("div",{class:"only-b",onClick:t[2]||(t[2]=D=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(l(),_("span",hi)):O("",!0)]),o("span",null,m(e.needReverse?(L=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:L.symbol:(C=(b=e.positionInfo)==null?void 0:b.token_b)==null?void 0:C.symbol)+" only",1),_i])])]),o("div",{class:Ve(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(l(),_("div",$i,[z(c,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=D=>e.fromCoinAmount=D),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=D=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=D=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=D=>{e.fromCoinAmount=D}),onOnFocus:t[7]||(t[7]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.isOnlyA?(l(),J(S,{key:0})):O("",!0)])):O("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(l(),_("div",wi,[z(c,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=D=>e.toCoinAmount=D),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=D=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=D=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=D=>{e.toCoinAmount=D}),onOnFocus:t[12]||(t[12]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.isOnlyB?(l(),J(S,{key:0})):O("",!0)])):O("",!0)],2)]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(l(),J(y,{key:0})):O("",!0),(U=e.positionInfo)!=null&&U.is_pause?(l(),J(u,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:$e(()=>[Ii]),_:1})):e.wallet.connected?(l(),J(u,{key:2,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,onClick:t[13]||(t[13]=D=>e.isShowAddModal=!0)},{default:$e(()=>[o("span",null,m(e.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(l(),J(u,{key:3,class:"big-btn liquidity-btn",onClick:t[14]||(t[14]=D=>e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[o("span",null,m(e.$t("button.connectWallet")),1)]),_:1})),(((F=e.positionInfo)==null?void 0:F.quoteUSD)==0||Number((K=e.positionInfo)==null?void 0:K.remainingTokenUSD)>Number(e.totalAmountUSD))&&(Number(e.fromCoinAmount)>0||Number(e.toCoinAmount)>0)?(l(),_("div",Ci,[e.onlyText&&(e.isOnlyA&&e.fromCoinAmount>0||e.isOnlyB&&e.toCoinAmount>0)?(l(),_("div",Ai,m(e.onlyText),1)):O("",!0),o("div",Pi,[Si,e.calculateLoading?(l(),J(s,{key:1,paragraph:!1,active:""})):(l(),_("span",Ti,m(Number(e.totalAmountUSD)>0&&Number(e.totalAmountUSD)<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:A(R))(e.totalAmountUSD,2)}`),1))]),o("div",Ni,[qi,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),_("span",Ri,m(e.shareOfPool)+"%",1)):(l(),J(s,{key:1,paragraph:!1,active:""}))]),o("div",Di,[Bi,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),_("span",Li,m(("addCommom"in e?e.addCommom:A(R))(e.minimumReceivedLP))+" "+m(e.needReverse?(x=e.toCoin)==null?void 0:x.symbol:(Z=e.fromCoin)==null?void 0:Z.symbol)+"-"+m(e.needReverse?(g=e.fromCoin)==null?void 0:g.symbol:(r=e.toCoin)==null?void 0:r.symbol),1)):(l(),J(s,{key:1,paragraph:!1,active:""}))])])):O("",!0),e.isShowAddModal?(l(),J(B,{key:5,"pool-info":e.positionInfo,"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"total-amount":e.totalAmountUSD,"share-of-pool":e.shareOfPool,"minimum-received-l-p":e.minimumReceivedLP,"is-only-a":e.isOnlyA,"is-only-b":e.isOnlyB,onOnClose:t[15]||(t[15]=D=>e.isShowAddModal=!1),onToAdd:e.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","is-only-a","is-only-b","onToAdd"])):O("",!0)])}const Fi=Xe(vi,[["render",Ui],["__scopeId","data-v-dccb9a26"]]),Mi=ze({components:{AutoPoolRemoveModal:Qo,AutoPoolV2PoolStatus:an},setup(){const e=Ro(),t=$(()=>e),W=bo(),j=$(()=>W),N=$(()=>p.value.slippage),P=$(()=>j.value.chainName),c=hn(),S=$(()=>c),y=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],u=w(25),s=eo(),B=Ke(),p=$(()=>B),n=$(()=>(console.log(p.value.positionInfoObj[s.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),p.value.positionInfoObj[s.params.id])),v=$(()=>{var i;return(i=n.value)==null?void 0:i.needReverse}),d=w(),b=w(),C=w(!1),f=w(),L=$(()=>{var i;return(i=n.value)==null?void 0:i.myLiquidity}),U=w(!0),F=$(()=>P.value?Ho(P.value):{}),K=w(),x=w(),Z=Go("Sui"),g=w(""),r=w(""),D=w("--"),te=w(!1),se=w(!1),ve=w(),G=w(!0),ne=w(),he=oo(),_e=$(()=>he),fe=$(()=>_e.value.RATES),me=w(!1),H=async()=>{if(U.value||!n.value)return;x.value=!1,me.value=!0;const i=n.value.autoPoolPositionInfo.tick_lower_index,q=n.value.autoPoolPositionInfo.tick_upper_index,E=We.sqrtPriceX64ToTickIndex(new ue(n.value.current_sqrt_price));E<i&&(v.value?te.value=!0:se.value=!0),E>q&&(v.value?se.value=!0:te.value=!0);let ee;if(console.log(g.value||r.value,"#fromCoinAmount.value || toCoinAmount.value"),g.value||r.value){G.value?ee=new a(g.value).mul(Math.pow(10,d.value.decimals)).toString():ee=new a(r.value).mul(Math.pow(10,b.value.decimals)).toString();let X,de=G.value;if(h.value||Y.value){h.value?Number(g.value)/Number(k.value):Number(r.value)/Number(k.value);const oe=await Z.calculateRemoveSwapAmount({lowerTick:i,upperTick:q,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:de,receiveAmount:ee,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(N.value)/100,decimals:h.value?d.value.decimals:b.value.decimals,liquidity:g.value==k.value||r.value==k.value?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity,request_id:ee});if(console.log(oe,"###swapResult"),oe){if(oe.request_id!==ee)return;K.value=oe.is_exceed,ee=new ue(oe.swapOutAmount),X=n.value.current_sqrt_price,ve.value={swap_amount:oe.swapInAmount,liquidity:oe.liquidity,a2b:!de,route_obj:oe.route_obj},de=!de;const Ee=n.value.token_a.decimals,Oe=n.value.token_b.decimals,Re=new a(oe.swapInAmount).div(new a(Math.pow(10,Ee))).toString(),so=T(new a(oe.swapOutAmountLimit).div(new a(Math.pow(10,Oe))).toString(),Oe),Ie=v.value?n.value.token_b.symbol:n.value.token_a.symbol,Le=v.value?n.value.token_a.symbol:n.value.token_b.symbol;ne.value=g.value==k.value||r.value==k.value?`To withdraw ${R(h.value?g.value:r.value)} ${h.value?Ie:Le},
          ${R(h.value?n.value.amountB:n.value.amountA)} ${h.value?Le:Ie} 
           in the pool will be traded for ${Re} ${h.value?Ie:Le}`:`To withdraw ${R(h.value?g.value:r.value)} ${h.value?Ie:Le},
          ${R(Re)} ${h.value?Le:Ie}  in the pool will be traded for ${R(so)} ${h.value?Ie:Le}`}else{x.value=!0,ne.value="";return}}else K.value=!1,X=n.value.current_sqrt_price,ee=new ue(ee);console.log(X,"##curSqrtPrice"),console.log("执行了吗##");const{liquidityAmount:ae,tokenMaxA:Q,tokenMaxB:V}=F.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value,tokenB:b.value,lowerTick:i,upperTick:q,coinAmount:ee,iscoinA:de,roundUp:!1,slippage:Number(N.value)/100,curSqrtPrice:new ue(X)});if(console.log(n.value.current_sqrt_price,"##positionInfo.value.current_sqrt_price"),console.log(V.toString(),Q.toString(),n.value,"###323"),!h.value&&!Y.value&&(G.value?r.value=Number(V)>0?V:"":g.value=Number(Q)>0?Q:""),(h.value||Y.value)&&(Number(g.value)>=Number(k.value)||Number(r.value)>=Number(k.value))){console.log("执行这里了吗"),f.value=n.value.myLiquidity;const oe=new a(100);D.value=new a(n.value.myLiquidity).mul(new a(Math.pow(10,n.value.lpInfo.decimals))).toString(),ie.value=ae.toString(),u.value=oe.toNumber()}else{console.log("执行这里了吗1");const oe=Ao.get_lp_amount_by_liquidity({liquidity:n.value.liquidity,total_supply:n.value.total_supply},ae.toString()),Ee=new a(oe).div(new a(Math.pow(10,n.value.lpInfo.decimals))).toString();console.log(Ee,L.value,ae.toString(),n.value.liquidity,n.value.total_supply,"##lpBalance.value");const Oe=new a(Ee).div(new a(L.value)).mul(100);console.log(Ee,L.value,Oe.toNumber(),"lp##"),f.value=new a(L.value).mul(Oe.div(100)).toString(),D.value=oe,ie.value=ae.toString(),u.value=Oe.toNumber()}me.value=!1}},ie=w(),be=$(()=>{var i;return(i=n==null?void 0:n.value)==null?void 0:i.amountA}),ce=$(()=>{var i;return(i=n==null?void 0:n.value)==null?void 0:i.amountB}),h=w(!1),Y=w(!1),Ne=$(()=>{var de,ae,Q,V;const i=(ae=fe.value[(de=d==null?void 0:d.value)==null?void 0:de.address])==null?void 0:ae.price,q=(V=fe.value[(Q=b==null?void 0:b.value)==null?void 0:Q.address])==null?void 0:V.price;console.log(i,q,g.value,r.value,"####totalWithdraw");let E=g.value!=="--"&&g.value!==""?g.value:0,ee=r.value!=="--"&&r.value!==""?r.value:0,X;return i&&q&&(h.value||Y.value?X=new a(h.value?E:ee).mul(new a(h.value?i:q)).toString():(X=new a(E).mul(new a(i)).add(new a(ee).mul(new a(q))).toString(),console.log(X,"result##"))),X>0&&X<.01?"<$0.01":`$${R(T(X,2))}`}),ge=async i=>{var Ee,Oe,Re,so,Ie,Le,$o,Bo,Lo,Uo,Fo;if(!U.value)return;U.value=!0,x.value=!1,(Oe=(Ee=n.value)==null?void 0:Ee.token_a)==null||Oe.decimals,(so=(Re=n.value)==null?void 0:Re.token_b)==null||so.decimals;const q=(Ie=n.value)==null?void 0:Ie.tick_lower_index,E=(Le=n.value)==null?void 0:Le.tick_upper_index;We.tickIndexToSqrtPriceX64(q),We.tickIndexToSqrtPriceX64(E);const ee=(Bo=($o=n.value)==null?void 0:$o.autoPoolPositionInfo)==null?void 0:Bo.tick_lower_index,X=(Uo=(Lo=n.value)==null?void 0:Lo.autoPoolPositionInfo)==null?void 0:Uo.tick_upper_index,de=We.sqrtPriceX64ToTickIndex(new ue((Fo=n==null?void 0:n.value)==null?void 0:Fo.current_sqrt_price));de<ee&&(v.value?te.value=!0:se.value=!0),de>X&&(v.value?se.value=!0:te.value=!0);let ae="",Q,V;console.log(i.value,"##item.value"),console.log(V,"##coinAmount");let oe=G.value;if(console.log("执行##"),h.value||Y.value&&!te.value&&!se.value){if(h.value){const Qe=new a(k.value).mul(Math.pow(10,d.value.decimals)).mul(i.value).toString();console.log(Qe,"##amount"),V=T(Qe,0),g.value=T(new a(k.value).mul(i.value).toString(),d.value.decimals)}if(Y.value){const Qe=new a(k.value).mul(i.value).mul(Math.pow(10,b.value.decimals)).toString();V=T(Qe,0),r.value=T(new a(k.value).mul(i.value).toString(),b.value.decimals)}console.log(g.value,"##fromCoinAmount.value");const Ue=await Z.calculateRemoveSwapAmount({lowerTick:q,upperTick:E,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:oe,receiveAmount:V,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(N.value)/100,decimals:h.value?d.value.decimals:b.value.decimals,liquidity:i.value==1?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity,request_id:V});if(console.log(Ue,"###swapResult536"),Ue){if(Ue.request_id!==V)return;K.value=Ue.is_exceed,V=new ue(Ue.swapOutAmount),n.value.current_sqrt_price,ve.value={swap_amount:Ue.swapInAmount,liquidity:Ue.liquidity,route_obj:Ue.route_obj,a2b:!oe},oe=!oe;const Qe=n.value.token_a.decimals,Mo=n.value.token_b.decimals,un=new a(Ue.swapInAmount).div(new a(Math.pow(10,Qe))).toString(),Oo=T(new a(Ue.swapOutAmountLimit).div(new a(Math.pow(10,Mo))).toString(),Mo),io=v.value?n.value.token_b.symbol:n.value.token_a.symbol,lo=v.value?n.value.token_a.symbol:n.value.token_b.symbol;ne.value=i.value==1?`To withdraw ${R(h.value?g.value:r.value)} ${h.value?io:lo},
          ${R(h.value?n.value.amountB:n.value.amountA)} ${h.value?lo:io}  in the pool will be traded for ${R(Oo)} ${h.value?io:lo}`:`To withdraw ${R(h.value?g.value:r.value)} ${h.value?io:lo},
          ${R(un)} ${h.value?lo:io}  in the pool will be traded for ${R(Oo)} ${h.value?io:lo}`,ae=Ue.liquidity}else n.value.current_sqrt_price,V=new ue(V),ne.value="",x.value=!0;console.log(Q,"result###"),D.value=new a(n.value.myLiquidity).mul(new a(i.value)).toString(),console.log(n.value,n.value.liquidity,ae,D.value,"###positionInfo.value.liquidity"),console.log(D.value,"##lpTokenAmount.value"),f.value=new a(D.value),ie.value=ae}else{K.value=!1;const Ue=new a(be.value).mul(Math.pow(10,d.value.decimals)).mul(i.value).toString();V=T(Ue,0),g.value=T(new a(be.value).mul(i.value).toString(),d.value.decimals);const Qe=new a(ce.value).mul(i.value).mul(Math.pow(10,b.value.decimals)).toString();V=T(Qe,0),r.value=T(new a(ce.value).mul(i.value).toString(),b.value.decimals),n.value.current_sqrt_price,V=new ue(V),i.value!==1?Q=new a(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).mul(i.value).toString():Q=new a(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).toString(),f.value=new a(Q).div(Math.pow(10,n.value.lpInfo.decimals)),ae=Ao.get_share_liquidity_by_amount({liquidity:n.value.liquidity,total_supply:n.value.total_supply},Q),D.value=T(Q,0),ie.value=T(ae,0),console.log(ae,"###newLiquidity525")}};Ce(u,vo((i,q)=>{i!==q&&(Number(i)>100?u.value=100:i&&n.value?(console.log("687===>"),u.value=i,ge({value:u.value/100})):(g.value="",r.value=""))},300)),Ce(()=>g.value,vo((i,q)=>{i?H():!h.value&&!Y.value&&(r.value="",u.value=0)},500),{immediate:!0}),Ce(()=>r.value,vo((i,q)=>{i?H():!h.value&&!Y.value&&(g.value="",u.value=0)},500),{immediate:!0});const De=No(),{setIsShowSuccess:Ae,setIsShowRejected:Be,setIsShowWaiting:we,setTransactionDesc:Me,setTransactionTxid:Ze,setPositiomNum:ro,setTransactionDescText:re}=W,Pe=w(!1),{t:qe}=Po(),po=async()=>{var Ee,Oe;Pe.value=!0,Ze("");const i=Number(g.value)>0?`${R(g.value,d.value.decimals)} ${d.value.symbol}`:"",q=Number(r.value)>0?`${R(r.value,b.value.decimals)} ${b.value.symbol}`:"";console.log(i,q,"###transactionDescTo"),Me(qe("tips.removeLiquidiyText",{from:v.value?q:i,and:Number(g.value)>0&&Number(r.value)>0?"and":"",to:v.value?i:q})),we(!0);const E=qe("modal.removeLiquidityText2");re(E);const ee=n.value.autoPoolPositionInfo.tick_lower_index,X=n.value.autoPoolPositionInfo.tick_upper_index,de=We.tickIndexToSqrtPriceX64(ee),ae=We.tickIndexToSqrtPriceX64(X),Q=n.value.rewarderInfo.map(Re=>Re.coinAddress);console.log(D.value,"##lpTokenAmount.value431");let V;G.value?V=new a(g.value).mul(Math.pow(10,d.value.decimals)).toString():V=new a(r.value).mul(Math.pow(10,b.value.decimals)).toString(),console.log();const oe={lowerSqrtPrice:de,upperSqrtPrice:ae,lpTokenAmount:D.value,liquidity:ie.value,curSqrtPrice:new ue(n.value.object.current_sqrt_price),slippage:Number(N.value)/100,id:n.value.id,clmm_pool:n.value.autoPoolPositionInfo.pool,lp_token_type:n.value.lp_token_type,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:Q,swapParams:ve.value,fix_amount_a:G.value,isOnlyA:!te.value&&!se.value?h.value:!1,isOnlyB:!se.value&&!te.value?Y.value:!1,lowerTick:ee,upperTick:X,receiveAmount:V,sliderVal:u.value,positionInfo:n.value,maxLiquidity:n.value.positionLiquidity};try{const Re=await Z.remove(oe);console.log(Re,"移除流动性payload");const so=await t.value.currentWallet.signAndExecuteTransactionBlock(Re);let Ie=F.value.handleTx(so);if(console.log("0331###remove###tx####",Ie),Ie&&Ie.hash){Ze(Ie.hash),we(!1),Ae(!0);const Le={title:qe("common.removeLiquidity"),desc:"",hash:Ie.hash,descTransactions:`Remove ${i} ${Number(g.value)>0&&Number(r.value)>0?"and":""} ${q} from the pool`,sender:t.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${g.value} ${(Ee=d.value)==null?void 0:Ee.symbol} and ${r.value} ${(Oe=b.value)==null?void 0:Oe.symbol}`};Le.res=Ie.res,F.value.showTransitionPending(Le),await F.value.watchTransaction(Le)&&(g.value="",r.value="",f.value="",u.value=0,setTimeout(()=>{B.updatePositionItem(n.value.id),F.value.getAccount(t.value.address)},1e3),Number(u.value)==100&&s.name=="auto-pool-detail"&&De.push("/pool/auto"))}else we(!1),Be(!0);Pe.value=!1}catch(Re){console.log("Remove error",Re),Pe.value=!1,we(!1),Be(!0)}};Ce(()=>n.value,(i,q)=>{i&&!Je(i)&&(d.value=i==null?void 0:i.token_a,b.value=i==null?void 0:i.token_b,console.log("触发###"),(!q||q&&q.address!==i.address)&&(u.value=u.value>0?u.value:25,ge({value:u.value/100})),q&&q.current_sqrt_price!==i.current_sqrt_price&&(U.value?ge({value:u.value/100}):H()))},{immediate:!0});const fo=$(()=>{const i=Number(f.value)>Number(L.value);return!g.value&&!r.value||!f.value||f.value<=0||!g.value&&h.value||!r.value&&Y.value?qe("button.enterAmount"):i?"Invalid Amount":K.value?qe("button.insufficientLiquidity"):x.value?qe("button.enterAmount"):(console.log(g.value,k.value,r.value,"856##"),h.value&&Number(g.value)>Number(k.value)||Y.value&&Number(r.value)>Number(k.value)?"Invalid Amount":qe("button.remove"))}),ho=$(()=>{const i=Number(f.value)>Number(L.value);return!!(!g.value&&!r.value||Number(g.value)<=0&&h.value||Number(r.value)<=0&&Y.value||!f.value||f.value<=0||i||K.value||ye.value!=="STATUS_RUNNING"||x.value||h.value&&Number(g.value)>Number(k.value)||Y.value&&Number(r.value)>Number(k.value))}),_o=i=>(i==null?void 0:i.logoURI)||(i==null?void 0:i.logo_url)||uo("/image/coins/sui-unknown.png"),I=i=>{g.value="",r.value="",U.value=!0,ne.value="",i=="only-a"?(h.value=!h.value,Y.value=!1,G.value=!0):(Y.value=!Y.value,h.value=!1,G.value=!1)},M=i=>{U.value=!0,u.value=100,i==="fromCoin"?G.value=!0:G.value=!1},le=i=>{U.value=!0,u.value=50,i==="fromCoin"?G.value=!0:G.value=!1},k=w(),Se=async()=>{const i=n.value.token_a.decimals,q=n.value.token_b.decimals,E=new a(be.value).mul(new a(Math.pow(10,i))).toNumber(),ee=new a(ce.value).mul(new a(Math.pow(10,q))).toNumber(),X=h.value?ee:E,de=h.value?b.value.address===n.value.token_a.address:d.value.address===n.value.token_a.address;try{const ae=await S.value.swapRouterContract.getSwapRouter(h.value?b:d,h.value?d:b,X,!0,Number(N.value)/100,"",void 0,[{pool_id:n.value.address,tick_lower:n.value.autoPoolPositionInfo.tick_lower_index,tick_upper:n.value.autoPoolPositionInfo.tick_upper_index,delta_liquidity:Number(n.value.positionLiquidity),is_increase:!1}]),Q=new a(ae.amountOut);k.value=Q.sub(Q.mul(Number(N.value)/100)).add(new a(h.value?be.value:ce.value)).toString()}catch{if(h.value||Y.value){console.log(X,"##receiveAmount");let Q=await F.value.preSwap({pool:{address:n.value.address,coinA:n.value.token_a,coinB:n.value.token_b},a2b:de,byAmountIn:!0,amount:X});console.log(Q,Q.estimatedAmountOut,i,q,"##preSwapRes");const V=new a(Q.estimatedAmountOut);k.value=V.sub(V.mul(Number(N.value)/100)).add(new a(h.value?be.value:ce.value)).toString(),console.log("转换之后数量:",Q.estimatedAmountOut),console.log("转换之后滑点数量:",V.mul(Number(N.value)/100).toNumber()),console.log("原有数量减滑点数量:",V.sub(V.mul(Number(N.value)/100)).toNumber()),console.log("fromCoin原有数量:",be.value),console.log(k.value,"###onlyTokenBalance.value"),h.value?g.value=T(new a(k.value).mul(u.value/100).toString(),d.value.decimals):r.value=T(new a(k.value).mul(u.value/100).toString(),b.value.decimals),ge({value:u.value/100})}}ge({value:u.value/100})};Ce(()=>[h.value,Y.value,be.value,ce.value],([i,q])=>{i||q?Se():ge({value:u.value/100})},{immediate:!0});const pe=i=>`${i}%`,ye=$(()=>p.value.currentAutoPoolStatus),ke=w(),Te=()=>{ke.value=window.setInterval(()=>{(g.value||r.value)&&!U.value?H():ge({value:u.value/100})},2e4)};return go(()=>{Te()}),To(()=>{window.clearInterval(ke.value)}),{removeLiquidityBtnText:fo,removeLiquidityBtnDisabled:ho,wallet:t,ratioArr:y,positionInfo:n,isShowRemoveModal:C,needReverse:v,fromCoin:d,toCoin:b,lpAmount:f,lpBalance:L,sliderVal:u,sFixD:T,isSlider:U,fromCoinAmount:g,toCoinAmount:r,setPercent:ge,toRemove:po,addCommom:R,getCoinIcon:_o,isOnlyA:h,isOnlyB:Y,onlyToken:I,fixedFromCoin:G,maxBtnSelect:M,halfBtnSelect:le,fromCoinBlance:be,toCoinBlance:ce,showFromCoinLock:te,showToCoinLock:se,removeText:ne,onlyTokenBalance:k,totalWithdraw:Ne,formatter:pe,currentAutoPoolStatus:ye,calculateLoading:me}}});const co=e=>(Ge("data-v-53d176e5"),e=e(),He(),e),Oi={class:"auto-pool-add"},Vi={class:"auto-pool-add-content"},Ei={class:"liquidity-action-tab"},Wi=co(()=>o("div",{class:"remove tab-active"},"Remove",-1)),ji={key:0,class:"only-token"},Xi=co(()=>o("div",null,"Deposit Amounts",-1)),zi={key:0},Gi={key:0},Hi={key:0,class:"card-item"},Yi={key:1,class:"card-item"},Ji={class:"remove-ratio"},Ki={class:"remove-ratio-select"},Zi={key:0,class:"ratio"},Qi={key:1,class:"ratio"},xi={class:"ratio-list"},el=["onClick"],ol=co(()=>o("span",null,"Pool Closed",-1)),nl={class:"remove-info"},tl={key:0,class:"remove-text total-amount"},sl={class:"total-amount"},il=co(()=>o("span",null,"Total Withdraw",-1)),ll={key:0},al={class:"total-amount"},ul=co(()=>o("span",null,"LP Burn Amount",-1)),rl={key:0};function dl(e,t,W,j,N,P){var n,v,d,b,C,f,L,U,F,K,x,Z,g;const c=Jo,S=Ko,y=jo,u=to("AutoPoolV2PoolStatus"),s=So,B=zo,p=Qo;return l(),_("div",Oi,[o("div",Vi,[o("div",Ei,[o("div",{class:"increase",onClick:t[0]||(t[0]=Xo(r=>e.$emit("changeCurrentTab"),["stop"]))},"Add"),Wi]),!e.showFromCoinLock&&!e.showToCoinLock?(l(),_("div",ji,[Xi,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=r=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(l(),_("span",zi)):O("",!0)]),o("span",null,m(e.needReverse?(b=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:b.symbol:(v=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:v.symbol)+" only",1)]),o("div",{class:"only-b",onClick:t[2]||(t[2]=r=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(l(),_("span",Gi)):O("",!0)]),o("span",null,m(e.needReverse?(U=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:U.symbol:(f=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:f.symbol)+" only",1)])])])):O("",!0),o("div",{class:Ve(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(l(),_("div",Hi,[z(c,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=r=>e.fromCoinAmount=r),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.isOnlyA?e.onlyTokenBalance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[4]||(t[4]=r=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=r=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=r=>{e.isSlider=!1,e.fromCoinAmount=r}),onOnFocus:t[7]||(t[7]=()=>{e.isSlider=!1,e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(l(),J(S,{key:0})):O("",!0)])):O("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(l(),_("div",Yi,[z(c,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=r=>e.toCoinAmount=r),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.isOnlyB?e.onlyTokenBalance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[9]||(t[9]=r=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=r=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=r=>{e.isSlider=!1,e.toCoinAmount=r}),onOnFocus:t[12]||(t[12]=()=>{e.isSlider=!1,e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(l(),J(S,{key:0})):O("",!0)])):O("",!0)],2),o("div",Ji,[o("div",Ki,[Number(e.lpBalance)>=Number(e.lpAmount)?(l(),_("div",Zi,m(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:A(T))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:A(T))(e.sliderVal,2))+"% ",1)):(l(),_("div",Qi,"--")),o("div",xi,[(l(!0),_(ao,null,Wo(e.ratioArr,(r,D)=>(l(),_("div",{key:D,class:Ve(["ratio-item",e.sliderVal==r.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=r.value}},m(r.name),11,el))),128))])]),z(y,{value:e.sliderVal,"onUpdate:value":t[13]||(t[13]=r=>e.sliderVal=r),"tip-formatter":e.formatter,onChange:t[14]||(t[14]=r=>e.isSlider=!0)},null,8,["value","tip-formatter"])])]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(l(),J(u,{key:0})):O("",!0),(F=e.positionInfo)!=null&&F.is_pause?(l(),J(s,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:$e(()=>[ol]),_:1})):e.wallet.connected?(l(),J(s,{key:2,class:"big-btn liquidity-btn",disabled:e.removeLiquidityBtnDisabled,onClick:t[15]||(t[15]=r=>e.toRemove())},{default:$e(()=>[o("span",null,m(e.removeLiquidityBtnText),1)]),_:1},8,["disabled"])):(l(),J(s,{key:3,class:"big-btn liquidity-btn",onClick:t[16]||(t[16]=r=>e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[o("span",null,m(e.$t("button.connectWallet")),1)]),_:1})),o("div",nl,[e.removeText&&(e.isOnlyA&&Number(e.fromCoinAmount)>0||e.isOnlyB&&Number(e.toCoinAmount)>0)?(l(),_("div",tl,m(e.removeText),1)):O("",!0),o("div",sl,[il,e.calculateLoading?(l(),J(B,{key:1,paragraph:!1,active:""})):(l(),_("span",ll,m(e.totalWithdraw),1))]),o("div",al,[ul,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),_("span",rl,m(("addCommom"in e?e.addCommom:A(R))(("sFixD"in e?e.sFixD:A(T))(e.lpAmount,e.positionInfo.decimals)))+" "+m(e.needReverse?(K=e.toCoin)==null?void 0:K.symbol:(x=e.fromCoin)==null?void 0:x.symbol)+"-"+m(e.needReverse?(Z=e.fromCoin)==null?void 0:Z.symbol:(g=e.toCoin)==null?void 0:g.symbol),1)):(l(),J(B,{key:1,paragraph:!1,active:""}))])]),e.isShowRemoveModal?(l(),J(p,{key:4,"pool-info":e.positionInfo,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,onOnClose:t[17]||(t[17]=r=>e.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):O("",!0)])}const vl=Xe(Mi,[["render",dl],["__scopeId","data-v-53d176e5"]]),ml=ze({components:{AutoPoolV2Info:en,AutoPoolV2PositionRange:on,AutoPoolV2PoolComposition:tn,AutoPoolV2PoolLiquidity:sn,AutoPoolV2PoolAdd:Fi,AutoPoolV2PoolRemove:vl},setup(){const e=Ke();oo();const t=bo(),W=$(()=>t),j=$(()=>e),N=eo(),P=w();Ce(()=>[j.value.positionInfoObj,N.params.id],([y,u])=>{y&&!Je(y)&&u&&(P.value=y[u],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=async()=>{console.log("重新获取数据"),e.getAutoPoolAPY(),e.getVault(N.params.id)},S=w();return Ce(()=>N.query.action,y=>{y&&(S.value=y)},{immediate:!0}),go(()=>{e.getVault(N.params.id)}),$(()=>W.value.chainName),No(),{clickRefresh:c,currentTab:S,positionInfo:P}}});const cl={class:"auto-pool-detail-v2"},pl={class:"detail-top"},fl={class:"detail-bottom pc-detail"},gl={class:"detail-bottom-left"},yl={class:"detail-bottom-right"},bl={class:"h5-detail"};function kl(e,t,W,j,N,P){const c=On,S=en,y=on,u=tn,s=sn,B=to("AutoPoolV2PoolAdd"),p=to("AutoPoolV2PoolRemove");return l(),_("div",cl,[o("div",pl,[z(c,{"pool-info":e.positionInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"]),z(S)]),o("div",fl,[o("div",gl,[z(y),z(u),z(s)]),o("div",yl,[e.currentTab=="add"?(l(),J(B,{key:0,onChangeCurrentTab:t[0]||(t[0]=n=>e.currentTab="remove")})):(l(),J(p,{key:1,onChangeCurrentTab:t[1]||(t[1]=n=>e.currentTab="add")}))])]),o("div",bl,[e.currentTab=="add"?(l(),J(B,{key:0,onChangeCurrentTab:t[2]||(t[2]=n=>e.currentTab="remove")})):(l(),J(p,{key:1,onChangeCurrentTab:t[3]||(t[3]=n=>e.currentTab="add")})),z(y),z(u),z(s)])])}const Gl=Xe(ml,[["render",kl],["__scopeId","data-v-8f92038d"]]);export{Gl as default};
