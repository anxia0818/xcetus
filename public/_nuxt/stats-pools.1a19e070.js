import{_ as Js}from"./back.bdde7c3b.js";import{_ as Ks}from"./apr-tips.803fd881.js";import{i as y}from"./import-icon.de3e6c66.js";import{u as Qs,a as Xs,h as J,c as Y,s as Ys,t as vs,f as xs}from"./pool.98fa8225.js";import{a as se,m as z,r as p,v as ee,A as cs,b as oe,e as le,o as i,f as v,h as n,i as G,j as b,t as u,x as A,F as ls,q as ns,s as w,Z as ne,u as f,w as _s,p as ae,k as re,B as te}from"./entry.0db31a46.js";/* empty css              */import{p as ue}from"./precision.9d58cda5.js";import{_ as hs}from"./icon_on_stats.cdf13a69.js";import{_ as fs}from"./icon-Rewards.7cc3c377.js";const de=se({setup(){const s=Qs(),r=z(()=>s),ps=z(()=>r.value.tokensObj||{}),as=Xs(),I=z(()=>as),K=oe();let rs=p("big");const T=p(1),L=p(1);let H=p(!1);const o=()=>{as.getStatsData(I.value.chainName,I.value.filterCoinsObj)};ee(()=>{as.getStatsData(I.value.chainName,I.value.filterCoinsObj);const e=document.body.clientWidth;e<750?H.value=!1:H.value=!0,window.onresize=()=>{e<750?H.value=!1:H.value=!0},H.value,es(T.value,10),os(L.value,10)});let _=p([]);const k=z(()=>I.value.topPoolsList),h=e=>(l,t)=>{let c=l[e],d=t[e];return c-d},a=e=>(l,t)=>{let c=l[e];return t[e]-c},g=p(!1),$=p(!1),D=p(!1),V=p(!1),O=p(!0),E=p(!1),U=p(!1),F=p(!1),j=p(!1),N=p(!1),S=p(!1),C=p(!1),W=p(!1),q=p(!1),M=p(!1),R=p(!0),x=p(!1),ts=p("TVL"),us=p(["Volume (24H)","Volume (7D)","APR"]),ss=p(!1),ds=p("TVL"),is=p(["Price","Volume (24H)","Price Change"]),ks=e=>{const l=k;if(e=="tvl_in_usd"?(O.value?(g.value=!g.value,l.value.sort(g.value?h(e):a(e))):l.value.sort(a(e)),$.value=!1,D.value=!1,V.value=!1,O.value=!0,E.value=!1,U.value=!1,F.value=!1):e=="vol_in_usd_24h"?(E.value?($.value=!$.value,l.value.sort($.value?h(e):a(e))):l.value.sort(a(e)),g.value=!1,D.value=!1,V.value=!1,O.value=!1,E.value=!0,U.value=!1,F.value=!1):e=="vol_in_usd_7_day"?(U.value?(D.value=!D.value,l.value.sort(D.value?h(e):a(e))):l.value.sort(a(e)),g.value=!1,$.value=!1,V.value=!1,O.value=!1,E.value=!1,U.value=!0,F.value=!1):e=="aprNum"&&(F.value?(V.value=!V.value,l.value.sort(V.value?h(e):a(e))):l.value.sort(a(e)),g.value=!1,$.value=!1,D.value=!1,O.value=!1,E.value=!1,U.value=!1,F.value=!0),l.value.length<10)_.value=l.value.slice(0,10);else{const t=T.value*10;_.value=l.value.slice(t-10,t)}},gs=e=>{const l=Q;if(e=="price"?(W.value?(j.value=!j.value,l.value.sort(j.value?h(e):a(e))):l.value.sort(a(e)),N.value=!1,S.value=!1,C.value=!1,W.value=!0,q.value=!1,M.value=!1,R.value=!1):e=="vol_in_usd_24h"?(M.value?(S.value=!S.value,l.value.sort(S.value?h(e):a(e))):l.value.sort(a(e)),j.value=!1,N.value=!1,C.value=!1,W.value=!1,q.value=!1,M.value=!0,R.value=!1):e=="tvl_in_usd"?(R.value?(C.value=!C.value,l.value.sort(C.value?h(e):a(e))):l.value.sort(a(e)),j.value=!1,N.value=!1,S.value=!1,W.value=!1,q.value=!1,M.value=!1,R.value=!0):e=="priceHour"&&(q.value?(N.value=!N.value,l.value.sort(N.value?h(e):a(e))):l.value.sort(a(e)),j.value=!1,S.value=!1,C.value=!1,W.value=!1,q.value=!0,M.value=!1,R.value=!1),l.value.length<10)m.value=l.value.slice(0,10);else{const t=L.value*10;m.value=l.value.slice(t-10,t)}},ws=e=>{e=="label"?(ss.value=!ss.value,x.value=!1):e=="select"?(x.value=!x.value,ss.value=!1):(x.value=!1,ss.value=!1)},Ts=e=>{const l=[];l.push(ts.value),us.value.forEach((t,c)=>{t!=e&&l.push(t)}),us.value=l,ts.value=e,e=="TVL"?_.value.sort(a("tvl_in_usd")):e=="Volume (24H)"?_.value.sort(a("vol_in_usd_24h")):e=="Volume (7D)"?_.value.sort(a("vol_in_usd_7_day")):e=="APR"&&_.value.sort(a("aprNum"))},bs=e=>{const l=[];l.push(ds.value),is.value.forEach((t,c)=>{t!=e&&l.push(t)}),is.value=l,ds.value=e,e=="TVL"?m.value.sort(a("tvl_in_usd")):e=="Volume (24H)"?m.value.sort(a("vol_in_usd_24h")):e=="Price"?m.value.sort(a("price")):e=="Price Change"&&m.value.sort(a("priceHour"))};cs(k,()=>{H.value,es(T.value,10)});const es=(e,l)=>{T.value=e;const t=l*e-l;let c=l*e;c=c>k.value.length?k.value.length:c;const d=k.value;if(d.length>0){O.value&&!g.value?d.sort(ys):O.value&&g.value?d.sort(Ps):E.value?$.value?d.sort(Cs):d.sort(Is):U.value?D.value?d.sort(As):d.sort(Ls):F.value&&(V.value?d.sort($s):d.sort(Hs));const X=d.filter((Z,B)=>B>=t&&B<c);_.value=X}return d},ys=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,Is=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Ls=(e,l)=>l.vol_in_usd_7_day-e.vol_in_usd_7_day,Hs=(e,l)=>l.aprNum-e.aprNum,Ps=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Cs=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h,As=(e,l)=>e.vol_in_usd_7_day-l.vol_in_usd_7_day,$s=(e,l)=>e.aprNum-l.aprNum;let m=p([]);const Q=z(()=>{const e=I.value.topTokensList,l=[];for(let t=0;t<e.length;t++){const c=e[t];l.push({...c,priceHour:c?Number(c.price_rate_24h.substring(0,c.price_rate_24h.length-1)):"0"})}return l});cs(Q,()=>{H.value,os(L.value,10)});const os=(e,l)=>{L.value=e;const t=l*e-l;let c=l*e;c=c>Q.value.length?Q.value.length:c;const d=Q.value;if(d.length>0){R.value&&!C.value?d.sort(Ds):R.value&&C.value?d.sort(Ns):W.value?j.value?d.sort(Ss):d.sort(Vs):q.value?N.value?d.sort(Rs):d.sort(Os):M.value&&(S.value?d.sort(ms):d.sort(js));const X=d.filter((Z,B)=>B>=t&&B<c);m.value=X}return d},Ds=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,Vs=(e,l)=>l.price-e.price,Os=(e,l)=>l.priceHour-e.priceHour,js=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Ns=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Ss=(e,l)=>e.price-l.price,Rs=(e,l)=>e.priceHour-l.priceHour,ms=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h,Bs=e=>{const l=e.swap_account;return r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].rewarder_infos},Es=e=>{const l=e.swap_account;return r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].labels},Us=e=>{if(!Y(e)&&!Y(r.value.addressLpTokens)&&!Y(r.value.tokensObj)){const l=r.value.addressLpTokens[e.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1},Fs=e=>{if(!Y(e)&&!Y(r.value.addressLpTokens)&&!Y(r.value.tokensObj)){const l=e.swap_account,t=r.value.addressLpTokens[l];let c=(t==null?void 0:t.rewarder_infos)||[];const d=[];c.forEach((Z,B)=>{d.push({...Z,symbol:r.value.tokensObj[Z.coinAddress].symbol,rewarderApr:e.rewarder_apr[B],logoUrl:r.value.tokensObj[Z.coinAddress].logoURI,rewarder_display:t[`rewarder_display${B+1}`]})});let X=[];return X=d.filter(Z=>Z.rewarder_display),X}},Ws=(e,l)=>e&&l?Ys(ue.plus(vs(e),vs(l)),2)+"%":e,qs=e=>{let l=0;return e&&e.forEach(t=>{l+=vs(String(t))}),String(xs(String(l),2))},Ms=()=>{K&&K.push("/stats-pools")},Zs=()=>{K&&K.push("/stats-tokens")},zs=e=>{var l;return(e==null?void 0:e.logoURI)||(e==null?void 0:e.logo_url)||((l=r.value.tokensObj[e==null?void 0:e.address])==null?void 0:l.logo_url)||(I.value.theme==="default"?y("/image/coins/unknown.png"):y("/image/coins/sui-unknown.png"))},Gs=z(()=>r.value.tokensObj);return{theme:z(()=>I.value.theme),tokensObj:Gs,getCoinIcon:zs,getRewarderInfo:Bs,addCommom:J,store:I,importIcon:y,topPoolsList:k,addressTokens:ps,showEcharts:rs,currentPools:T,onChangePools:es,currentTopPoolsList:_,onChangeTokens:os,currentTokens:L,currentTopTokensList:m,topTokensList:Q,router:K,isPc:H,getAprTotal:Ws,getRewarderApr:qs,toPoolsList:Ms,toTokensList:Zs,changePoolsList:ks,changeTokensList:gs,tvlImprint:g,volHImprint:$,volDImprint:D,aprImprint:V,tokensPriceImprint:j,tokensPriceHImprint:N,tokensVolHImprint:S,tokensTvlImprint:C,labelToken:ss,select:x,selectValue:ts,selectList:us,reviseValue:ws,changeSort:Ts,tokenValue:ds,tokensList:is,changeSortLabel:bs,tvlImprintHighlight:O,volHImprintHighlight:E,volDImprintHighlight:U,aprImprintHighlight:F,tokensPriceImprintHighlight:W,tokensPriceHImprintHighlight:q,tokensVolHImprintHighlight:M,tokensTvlImprintHighlight:R,getLabel:Es,rewardApr:Fs,getsad:o,rewardDisplay:Us}}});const P=s=>(ae("data-v-3a16109e"),s=s(),re(),s),ie={class:"stats-container"},ve={class:"title"},pe={class:"top-pools-new"},ce={class:"sort-by"},_e=P(()=>n("img",{src:hs,alt:""},null,-1)),he=P(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),fe=[he],ke={key:0,class:"select-item"},ge=["onClick"],we=P(()=>n("img",{src:hs,alt:""},null,-1)),Te={class:"content"},be={class:"item"},ye=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ie=[ye],Le=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),He=[Le],Pe=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ce=[Pe],Ae=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),$e=[Ae],De={class:"apr-hover-content"},Ve=P(()=>n("span",null,"Â ",-1)),Oe={class:"token"},je=["src","onerror"],Ne={key:1,class:"pool-warning"},Se=["src","onerror"],Re={key:1,class:"pool-warning"},me={class:"name"},Be={class:"token-name"},Ee={class:"fee-tier-top"},Ue={class:"label-all"},Fe={key:0},We={class:"tvl"},qe={class:"volume-hour"},Me={class:"volume-day"},Ze=P(()=>n("img",{src:fs,alt:""},null,-1)),ze={key:0,class:"apr-hover-content"},Ge={class:"btn-box"},Je={class:"top"},Ke={class:"token"},Qe=["src","onerror"],Xe={key:1,class:"pool-warning"},Ye=["src","onerror"],xe={key:1,class:"pool-warning"},so={class:"name"},eo={class:"token-name"},oo={class:"label-all"},lo={key:0},no={class:"fee-tier-hint"},ao={class:"middle"},ro={class:"item-pools"},to={class:"item-pools"},uo={class:"item-pools"},io=P(()=>n("img",{src:fs,alt:""},null,-1)),vo={key:0,class:"apr-hover-content"},po={class:"bottom"},co={class:"panation"};function _o(s,r,ps,as,I,K){const rs=Js,T=Ks,L=te,H=ne;return i(),v("div",ie,[n("div",ve,[G(rs),b(" "+u(s.$t("menu.pools")),1)]),n("div",pe,[n("div",ce,[n("div",null,u(s.$t("newAdd.sortBy")),1),n("div",{class:"search-select",onClick:r[0]||(r[0]=o=>s.reviseValue("select"))},[n("div",null,[b(u(s.selectValue)+" ",1),_e]),(i(),v("svg",{"aria-hidden":"true",class:A(s.select?"show-icon icon":"icon")},fe,2)),s.select?(i(),v("div",ke,[(i(!0),v(ls,null,ns(s.selectList,(o,_)=>(i(),v("div",{key:_,class:"select-menu-item",onClick:k=>s.changeSort(o)},[b(u(o)+" ",1),we],8,ge))),128))])):w("",!0)])]),n("div",Te,[n("div",be,[n("span",null,u(s.$t("newAdd.pool")),1),n("span",{onClick:r[1]||(r[1]=o=>s.changePoolsList("tvl_in_usd"))},[b(u(s.$t("common.tvl"))+" ",1),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.tvlImprint?s.tvlImprintHighlight?"selected highlight":"selected":s.tvlImprintHighlight?"highlight":""])},Ie,2))]),n("span",{onClick:r[2]||(r[2]=o=>s.changePoolsList("vol_in_usd_24h"))},[b(u(s.$t("common.volume24H"))+" ",1),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.volHImprint?s.volHImprintHighlight?"selected highlight":"selected":s.volHImprintHighlight?"highlight":""])},He,2))]),n("span",{onClick:r[3]||(r[3]=o=>s.changePoolsList("vol_in_usd_7_day"))},[b(u(s.$t("newAdd.volume7D"))+" ",1),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.volDImprint?s.volDImprintHighlight?"selected highlight":"selected":s.volDImprintHighlight?"highlight":""])},Ce,2))]),n("span",{onClick:r[4]||(r[4]=o=>s.changePoolsList("aprNum"))},[b(" APR "),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.aprImprint?s.aprImprintHighlight?"selected highlight":"selected":s.aprImprintHighlight?"highlight":""])},$e,2)),n("div",De,[G(T,{class:"noHover apr-hover-con"})])]),Ve]),(i(!0),v(ls,null,ns(s.currentTopPoolsList,(o,_)=>{var k,h;return i(),v("div",{key:_,class:"item pc-item"},[n("div",Oe,[n("div",null,[o!=null&&o.token_a_address?(i(),v("img",{key:0,src:s.getCoinIcon(o.is_forward!==!1?s.addressTokens&&s.addressTokens[o.token_a_address]:s.addressTokens&&s.addressTokens[o.token_b_address]),onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,je)):w("",!0),s.tokensObj&&s.tokensObj[o.token_a_address]&&s.tokensObj[o.token_a_address].isSelfBuilt?(i(),v("div",Ne)):w("",!0)]),n("div",null,[o!=null&&o.token_b_address?(i(),v("img",{key:0,src:s.getCoinIcon(o.is_forward!==!1?s.addressTokens&&s.addressTokens[o.token_b_address]:s.addressTokens&&s.addressTokens[o.token_a_address]),onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,Se)):w("",!0),s.tokensObj&&s.tokensObj[o.token_b_address]&&s.tokensObj[o.token_b_address].isSelfBuilt?(i(),v("div",Re)):w("",!0)]),n("div",me,[n("p",Be,u(o.token_a_reserves)+" - "+u(o.token_b_reserves),1),n("div",Ee,u((o==null?void 0:o.fee)*100)+"%",1),n("div",Ue,[(i(!0),v(ls,null,ns(s.getLabel(o),(a,g)=>(i(),v("div",{key:g,class:A(["label",a])},[a!=="Native"?(i(),v("span",Fe,u(a),1)):w("",!0)],2))),128))])])]),n("div",We," $"+u(o.tvl_in_usd?("addCommom"in s?s.addCommom:f(J))(o.tvl_in_usd,2):"--"),1),n("div",qe," $"+u(o!=null&&o.vol_in_usd_24h?("addCommom"in s?s.addCommom:f(J))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1),n("div",Me," $"+u(o!=null&&o.vol_in_usd_7_day?("addCommom"in s?s.addCommom:f(J))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1),n("div",{class:A(["apr",((k=s.rewardApr(o))==null?void 0:k.length)>0&&s.rewardDisplay(o)?"apr-mark":""])},[Ze,b(" "+u(s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr)))+" ",1),((h=s.rewardApr(o))==null?void 0:h.length)!=0&&s.rewardDisplay(o)?(i(),v("div",ze,[G(T,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr)),is_display_rewarder:s.rewardDisplay(o),rewarder_apr:s.getRewarderApr(o.rewarder_apr)},"rewarder-info":s.rewardApr(o)},null,8,["l-item","rewarder-info"])])):w("",!0)],2),n("div",Ge,[G(L,{class:"cancel-btn",onClick:()=>s.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:_s(()=>[b(u(s.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(i(!0),v(ls,null,ns(s.currentTopPoolsList,(o,_)=>{var k,h;return i(),v("div",{key:_,class:"item h5-item"},[n("div",Je,[n("div",Ke,[n("div",null,[o!=null&&o.token_a_address?(i(),v("img",{key:0,src:s.getCoinIcon(o.is_forward!==!1?s.addressTokens&&s.addressTokens[o.token_a_address]:s.addressTokens&&s.addressTokens[o.token_b_address]),onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,Qe)):w("",!0),s.tokensObj&&s.tokensObj[o.token_a_address]&&s.tokensObj[o.token_a_address].isSelfBuilt?(i(),v("div",Xe)):w("",!0)]),n("div",null,[o!=null&&o.token_b_address?(i(),v("img",{key:0,src:s.getCoinIcon(o.is_forward!==!1?s.addressTokens&&s.addressTokens[o.token_b_address]:s.addressTokens&&s.addressTokens[o.token_a_address]),onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,Ye)):w("",!0),s.tokensObj&&s.tokensObj[o.token_b_address]&&s.tokensObj[o.token_b_address].isSelfBuilt?(i(),v("div",xe)):w("",!0)]),n("div",so,[n("p",eo,u(o.token_a_reserves)+" - "+u(o.token_b_reserves),1),n("div",oo,[(i(!0),v(ls,null,ns(s.getLabel(o),(a,g)=>(i(),v("div",{key:g,class:A(["label",a])},[a!=="Native"?(i(),v("span",lo,u(a),1)):w("",!0)],2))),128))])])]),n("div",no,u((o==null?void 0:o.fee)*100)+"%",1)]),n("div",ao,[n("div",ro,[n("span",null,u(s.$t("common.tvl")),1),n("p",null," $"+u(o.tvl_in_usd?("addCommom"in s?s.addCommom:f(J))(o.tvl_in_usd,2):"--"),1)]),n("div",to,[n("span",null,u(s.$t("common.volume24H")),1),n("p",null," $"+u(o!=null&&o.vol_in_usd_24h?("addCommom"in s?s.addCommom:f(J))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1)]),n("div",uo,[n("span",null,u(s.$t("newAdd.volume7D")),1),n("p",null," $"+u(o!=null&&o.vol_in_usd_7_day?("addCommom"in s?s.addCommom:f(J))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1)]),n("div",{class:A(["item-pools",((k=s.rewardApr(o))==null?void 0:k.length)>0&&s.rewardDisplay(o)?"":"apr-mark-h5"])},[n("span",null,u(s.$t("common.apr")),1),n("p",null,[io,b(" "+u(s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr))),1)]),((h=s.rewardApr(o))==null?void 0:h.length)!=0&&s.rewardDisplay(o)?(i(),v("div",vo,[G(T,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr)),is_display_rewarder:s.rewardDisplay(o),rewarder_apr:s.getRewarderApr(o.rewarder_apr)},"rewarder-info":s.rewardApr(o)},null,8,["l-item","rewarder-info"])])):w("",!0)],2)]),n("div",po,[G(L,{class:"cancel-btn",onClick:()=>s.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:_s(()=>[b(u(s.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),n("div",co,[G(H,{current:s.currentPools,"onUpdate:current":r[5]||(r[5]=o=>s.currentPools=o),"page-size":(s.isPc,10),simple:"",total:s.topPoolsList.length,onChange:s.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const Ho=le(de,[["render",_o],["__scopeId","data-v-3a16109e"]]);export{Ho as default};
