import{W as cn,_ as mn,a as vn}from"./xcetus-confirm.822e1226.js";import{v as gn,s as x,D as _,c as Z,p as R,a as ye,E as kn,e as B,u as pn,d as Ye,q as Ce}from"./pool.0669cdb9.js";import{a0 as hn,m as k,O as fn,a1 as wn,a as Se,e as Ie,o as g,f as y,h as o,v as C,u as N,i as ue,w as de,j as Q,B as Oe,I as An,p as Xe,k as Me,x as U,a4 as Cn,a9 as bn,K as yn,c as K,F as Te,s as Pe,J as Tn,l as Sn,r as M,b as In,D as le,y as _n,q as Bn,t as Ke,a8 as Ln,z as be,a7 as Nn,$ as Dn}from"./entry.704753f9.js";/* empty css              */import{c as L,a as he,u as Rn}from"./sha256.d1b62c32.js";import{C as Pn,X as re}from"./index.9ccb8e34.js";/* empty css              */import{_ as On}from"./xWHALE-icon.2df34cd4.js";import{_ as Xn}from"./WHALE-icon.28f954ba.js";import{_ as Mn}from"./img-no-Positions_2x.fa4f8aa8.js";/* empty css              *//* empty css              *//* empty css              */import{i as ee}from"./import-icon.de3e6c66.js";import{u as Un}from"./useTheme.3abf8707.js";import"./icon-selected_3x.09e9a6f0.js";function F(e){const a={launchpad:L[e||"Sui"].launchpad,ido:L[e||"Sui"].ido,xcetus:L[e||"Sui"].xcetus,xcetus_dividends:L[e||"Sui"].xcetus_dividends,cetus_faucet:L[e||"Sui"].cetus_faucet,xtoken:L[e||"Sui"].xtoken,xtoken_dividends:L[e||"Sui"].xtoken_dividends,token_faucet:L[e||"Sui"].token_faucet,booster:L[e||"Sui"].booster,maker_bonus:L[e||"Sui"].maker_bonus},l={fullRpcUrl:localStorage.getItem(`${e}-currentRpclocalnew`)||L[e||"Sui"].fullRpcUrl,simulationAccount:L[e||"Sui"].simulationAccount,cetus_config:L[e||"Sui"].cetus_config,clmm_pool:L[e||"Sui"].clmm_pool,integrate:L[e||"Sui"].integrate,deepbook:L[e||"Sui"].deepbook,deepbook_endpoint_v2:L[e||"Sui"].deepbook_endpoint_v2,aggregatorUrl:L[e||"Sui"].aggregatorUrl},b=new gn(l),d=hn(new Pn(a,b)),v=he(),s=k(()=>v);fn(()=>{s.value.address&&(d.ClmmSDK.senderAddress=s.value.address)});const u=async n=>{const i=await d.XToken.getOwnerLockTokens(n);return console.log(i,"===>lockTokens"),i},h=async(n,i)=>{const c=re.getAvailableXToken(n,i);return console.log(c,"==>availableXtoken"),c},r=async n=>{const i=await d.XToken.getOwnerTokenCoins(n);return console.log(i,"===>coins"),i},D=async n=>await d.XToken.getOwnerVeNFT(n),O=async(n,i)=>{const c={amount:n};i&&(c.venft_id=i);const p=await d.XToken.convertPayload(c);return j(p)},ne=async()=>{const n=await d.XToken.mintVeNFTPayload();return j(n)},te=async(n,i)=>{const c=await d.XToken.redeemNum(n,i);return console.log(c,"result===>"),{amountOut:c.amountOut,percent:x(new _(c.percent).mul(new _(100)).toString(),2)}},f=async(n,i)=>{const c=await d.XToken.reverseRedeemNum(n,i);return{amountOut:c.amountOut,percent:x(new _(c.percent).mul(new _(100)).toString(),2)}},q=async(n,i,c)=>{const p=await d.XToken.redeemLockPayload({venft_id:i,amount:n,lock_day:c});return console.log(p,"tx===>"),j(p)},J=n=>re.getLockingTokens(n),oe=async(n,i)=>{const c=await d.XToken.getLockToken(n);if(c&&re.isLocked(c)){const p=d.XToken.cancelRedeemPayload({venft_id:i,lock_id:n});return j(p)}},ae=async(n,i)=>{const c=await d.XToken.getLockToken(n);if(c&&!re.isLocked(c)){const p=await d.XToken.redeemPayload({venft_id:i,lock_id:n});return j(p)}},w=n=>{const i=Date.parse(new Date().toString())/1e3,c=new _(i).sub(n.start_time).div(new _(n.interval_day).mul(60)).toFixed(0,_.ROUND_UP),p=new _(n.start_time).add(new _(c).mul(60*n.interval_day));return console.log(p,"===>nextStartTime"),p.toString()},T=async()=>{const n=await d.XToken.getDividendManager();console.log("dividendManager:",n);const i=w(n).toString(),c=parseInt(String(new Date().getTime()/1e3)),p=n.interval_day,E=c-Number(n.start_time);return console.log(E,i,"timetime"),parseInt(String(E))>0?{nextStartTime:i,...n}:{nextStartTime:n.start_time+p*60,...n}},fe=async(n,i)=>{const c=await d.XToken.getVeNFTDividendInfo(i.venft_dividends.id,n);return{rewards:c&&c.rewards||[]}},Le=async n=>{const i=await d.XToken.getDividendManager();console.log("dividendManager99: ",i);const c=await d.XToken.getVeNFTDividendInfo(i.venft_dividends.id,n);if(c){const p=re.buildDividendRewardTypeList(c.rewards),E=await d.XToken.redeemDividendV2Payload(n,p,[d.XToken.buileXTokenCoinType()]);return j(E)}},Ne=async n=>{const i=await d.XToken.getDividendManager();if(console.log("dividendManager: ",i),i.bonus_types.length>0){const c=await d.XToken.redeemDividendV2Payload(n,i.bonus_types);return j(c)}},De=async n=>{const i=await d.XToken.getOwnerVeNFT(n);if(console.log("nfts: ",i),i){const c=await d.XToken.getXcetusManager();console.log("xcetusManager: ",c);const p=new _(i.xtoken_balance).div(c.treasury).mul(100).toString();return console.log("rate: ",p),Number(p)>0&&Number(p)<.01?"<0.01":x(p,2)}else return 0},j=n=>({transactionBlock:n,options:{showEffects:!0,showEvents:!0,showInput:!0,showRawInput:!0,showObjectChanges:!0,showBalanceChanges:!0}}),se=n=>{const i=Date.now()/1e3,{start_time:c,interval_day:p}=n,E=Math.ceil((i-c)/(p*60));return console.log(i,"===>currentTime"),console.log(c,"===>start_time"),console.log(i-c,"===>currentTime-start_time"),console.log((i-c)/(p*60),"(currentTime - start_time) / (interval_day * 60)"),E};return{getOwnerLockTokens:u,getOwnerTokenCoins:r,getOwnerVeNFT:D,depositToken:O,getMintVeNFTPayload:ne,redeemNum:te,getRedeemLockPayload:q,getAvailableXToken:h,getLockingTokens:J,getCancelRedeemPayload:oe,getVeNFTDividendInfo:fe,reverseRedeemNum:f,getRedeemPayload:ae,getRedeemDividendPayload:Le,getMyShare:De,getDividendManager:T,getPeriod:se,getRedeemDividendV2Payload:Ne,getPhaseDividendInfo:async n=>{if(n.dividends.size<=0)return null;{const i=se(n);console.log(i,"===>preiod");const c=await d.XToken.getPhaseDividendInfo(String(i));return console.log(c,"===>phaseDividendInfo11"),c}}}}const Ue=wn("xtoken",{state:()=>({venft_id:"",xtoken_balance:"--",venftInfo:{},pendingAmount:"--",newPendingAmount:"--",tokenBalance:"--",ownerLocks:[],availableXtoken:"--",redeemingXwhale:"--",nextStartTime:"",xtokenShare:"--",pendingCoinInfo:{},currentCoinInfo:{},newPendingCoinInfo:{},cetusApr:"",claimLoading:!1,waitUnLockAmount:"--",dividendManagerInfo:{},rewardWeekNum:"--"}),actions:{async getOwnerVeNFT(e){const a=F("Sui");try{const l=await a.getOwnerVeNFT(e);console.log(l,"===>result111"),l&&!Z(l)?(this.venft_id=l.id,this.xToken=R(l.xtoken_balance,9),this.venftInfo={id:l.id,type:l.type,index:l.index,xtoken_balance:l.xtoken_balance},console.log("执行37"),this.getVeNFTDividendInfo()):(this.xtokenBalance="0",this.availableXtoken="0",this.redeemingXwhale="0",this.pendingAmount="0",this.newPendingAmount="0")}catch{this.xtokenBalance="0",this.availableXtoken="0",this.redeemingXwhale="0",this.pendingAmount="0",this.newPendingAmount="0"}},async getVeNFTDividendInfo(){const e=F("Sui"),a=ye("Sui");try{const l=await e.getVeNFTDividendInfo(this.venft_id,this.dividendManagerInfo),b=await e.getPeriod(this.dividendManagerInfo),d=await a.getTokenList();console.log(b,d,"===>period76"),console.log(JSON.stringify(l),"===>result");const v=[];if(l&&l.rewards&&l.rewards.length>0){for(let s=0;s<l.rewards.length;s++)if(l.rewards[s].period<b){const u=l.rewards[s].rewards;for(let h=0;h<u.length;h++){const r=u[h];v.push({...r})}}if(v&&v.length>0){const s={};for(let h=0;h<v.length;h++){const r=v[h];if(s[r.coin_type])s[r.coin_type].amount=new _(s[r.coin_type].amount).add(new _(r.amount)).toString();else{let D=d.filter(O=>O.address==r.coin_type)[0];D||(D=(await a.getTokenListByCoinType([r.coin_type]))[0]),s[r.coin_type]={...r,...D}}}const u=Object.values(s);console.log(u,"===>rewardArr"),this.pendingCoinInfo=u[0],this.pendingAmount=x(R(u[0].amount,u[0].decimals),6),this.newPendingCoinInfo=u&&u.length>1?u[1]:{},this.newPendingAmount=u&&u.length>1?x(R(u[1].amount,u[1].decimals),6):"--"}}else{const s=await a.getPhaseDividendInfo(this.dividendManagerInfo);console.log(s.bonus_types[0],"==>phaseDividendInfo.bonus_types[0]");const u=kn(s.bonus_types[0],!1);console.log(u,"==>newPendingCoinAddress");let h=d.filter(r=>r.address==u)[0];h||(h=(await a.getTokenListByCoinType([u]))[0],console.log(h,"tokenList===>")),this.newPendingCoinInfo=h,console.log(h,"===>tokenInfo"),console.log(s,"==>phaseDividendInfo"),this.pendingAmount="0",this.newPendingAmount="0"}}catch{this.pendingAmount="0",this.newPendingAmount="0"}},async getDividendManager(){this.pendingCoinInfo={},this.newPendingCoinInfo={},this.pendingAmount="--",this.newPendingAmount="--";const a=await F("Sui").getDividendManager();console.log(a,"==>dividendManager");const l=ye("Sui"),b=a.bonus_types&&a.bonus_types[0]=="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":a.bonus_types,d=(await l.getTokenListByCoinType(b))[0],v=a.bonus_types&&a.bonus_types[1]=="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":a.bonus_types,s=(await l.getTokenListByCoinType(v))[1];this.nextStartTime=a.start_time==0?"":a.nextStartTime,this.dividendManagerInfo=a,this.pendingCoinInfo=d,this.newPendingCoinInfo=s,this.getVeNFTDividendInfo(),this.getPhaseDividendInfo()},async getAccountTokenBalance(e){const l=await F("Sui").getOwnerTokenCoins(e);if(console.log(l,"==>assets"),l&&l.length>0){let b=new _(0);l.forEach(d=>{console.log(R(d.balance.toString(),9),"===>prettyAmount(ele.balance.toString(), 9)"),b=b.add(R(d.balance.toString(),9))}),this.tokenBalance=b,console.log(this.tokenBalance,b,"===>this.tokenBalance")}else this.tokenBalance="0"},async getOwnerLockTokens(e){this.setClaimLoading(!0);const l=await F("Sui").getOwnerLockTokens(e);console.log(l,"assets===>");const b=l.sort((s,u)=>s.locked_until_time-u.locked_until_time);this.ownerLocks=b;const d=re.getWaitUnLockTokens(l);let v=new _(0);d.forEach(s=>{v=v.add(new _(s.token_amount).div(new _(Math.pow(10,9))))}),this.waitUnLockAmount=v.toString(),console.log(v.toString(),"===>waitUnLockAmount"),console.log(this.ownerLocks,"===>this.ownerLocks"),this.setClaimLoading(!1),this.getAvailableXToken()},async getAvailableXToken(){const a=await F("Sui").getAvailableXToken(this.venftInfo,this.ownerLocks);console.log(a,"==>result1111"),this.availableXtoken=R(a,9),console.log(this.xtokenBalance,"===>this.xtokenBalance"),console.log(this.availableXtoken,"===>this.availableXtoken"),this.redeemingXwhale=this.xtokenBalance&&this.xtokenBalance!=="--"?new _(this.xtokenBalance).sub(new _(this.availableXtoken)).toString():"--"},async getMyShare(e){const l=await F("Sui").getMyShare(e);this.xtokenShare=Number(l)>0&&Number(l)<.01?"<0.01":l,console.log(l,"result===>124")},async getXtokenApr(){const{data:e}=await fetch(`${L.Sui.api}/v2/sui/storm/xtoken_rewards_apr`).then(l=>l.json()),a=e.apr&&e.apr.replace("%","");this.cetusApr=Number(a)>0&&Number(a)<.01?"<0.01":a,console.log(e,this.cetusApr,"data===>")},async getPhaseDividendInfo(){var l;const e=F("Sui");console.log(this.dividendManagerInfo,"this.dividendManagerInfo");const a=await e.getPhaseDividendInfo(this.dividendManagerInfo);if(console.log(a,"result==>111"),a&&a.bonus&&a.bonus.length>0){const d=await ye("Sui").getTokenListByCoinType("0x"+a.bonus_types[0]);this.currentCoinInfo=d[0],console.log(this.currentCoinInfo,"this.currentCoinInfo"),this.rewardWeekNum=R(a.bonus[0]&&((l=a.bonus[0])==null?void 0:l.value),this.currentCoinInfo.decimals)}},loginOut(){this.venft_id="",this.xtokenBalance="--",this.venftInfo={},this.pendingAmount="--",this.newPendingAmount="--",this.tokenBalance="--",this.ownerLocks=[],this.availableXtoken="--",this.redeemingXwhale="--",this.xtokenShare="--"},setClaimLoading(e){this.claimLoading=e}}}),jn=Se({props:{inputValue:{type:String,default:""},currentTab:{type:String,default:""}},setup(){const e=he(),a=k(()=>e),l=u=>{const r=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,9})?).*$");u.target.value=u.target.value.replace(r,"$1")},b=Ue(),d=k(()=>b),v=k(()=>d.value.tokenBalance),s=k(()=>d.value.availableXtoken);return{wallet:a,walletStore:e,inputChange:l,tokenBalance:v,addCommom:B,availableXtoken:s}}}),_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAArlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8tivQqAAAAOXRSTlMAgJHBBexfQbzHVNty9bZaTiPQroaM+UYSdi/fpXttN8uaPBWyoJcfC2pjSSomDxrj1DOp8AnmZ9ikNUYEAAAKAklEQVR42u2dZ9PaMAzHlYQMwghhb3gYD3sXqL//F+u869UjOJEM9K6/t+2Fx7Fl/S0pFvznP/8g+8N21Aq94aBzjyqTbjzNwb/Fvht2PoMCE3HHl/raX8D7Mw3tvMse0fxaG3bhbTlEdpXpc+sPz/B+tBp5lp7jZRjDG+E3vrLMlN9lLJP67wX1T48ltsaMhPI9B6/jbH9hZJyKbXgNrT6jpWe9wsOEZUaP29jCc1nnmRman88cSqvMzPHFWsJz2H0ws1Q9eALXgav7avPl2WX+adetuv0579fKzo1pMvPBNJ6O9+uV7ZV/AJH9yKvXtFTAp1kXGdceTkNQ3+zhAaNiv8ce4K7AHGHyzxfmw5G+pUV2niXysQdD1BOnoh+mFhm+nfhm8j6YYDtLkkqrA2QhF/ZLCU5lCPRER/WpwsIc9xbDBN05nwIxDbVldNA/5jlqn9ICSnI1tWbdk8x3wFR4QMdSZR7jVQ6IqChlTxGoaAeKRUVri6FqO64DDYeCQtyRG2LxqHDzQMFCvj8akdsHxZ5yATwxk1GbgBlGF7mKBCwTqaMyqYPu0jhAADhG0r3KB5OMHOkaAAxdJqE/BbPkbCbBxpwFmYQOmMdzSX94IXlcoQLPoBswkayWOZUc5YIdPIk+E1ln0yV5iRi9wtOYU+muMk4r4PlkIiHiMQj1Rn90KI1SuyUmEMGzGTIBJ+XiHonutQXPp4J1JznnDebjBy3k1mUj7Nz0nLhn0MYTZQnQgvlbgpy2W3URKpqcDuNpgCaCPHDglTSy+sUi46jGgIHex5/2WlLxyDuhCUKR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";const je=e=>(Xe("data-v-3e06e38f"),e=e(),Me(),e),En={class:"stake-card"},Wn={class:"top"},Vn=je(()=>o("p",null,"Amount",-1)),Kn={class:"right"},Yn=je(()=>o("p",null,"Availabe",-1)),Gn={key:0},Fn={key:1},Qn={class:"bottom"},Jn={class:"left"},zn=je(()=>o("img",{src:_e,alt:""},null,-1));function Zn(e,a,l,b,d,v){const s=Oe,u=An;return g(),y("div",En,[o("div",Wn,[Vn,o("div",Kn,[Yn,e.currentTab=="Stake"?(g(),y("span",Gn,C(e.wallet&&e.wallet.address?`${("addCommom"in e?e.addCommom:N(B))(e.tokenBalance)} ABC`:"--"),1)):(g(),y("span",Fn,C(e.wallet&&e.wallet.address?`${("addCommom"in e?e.addCommom:N(B))(e.availableXtoken)} xABC`:"--"),1)),ue(s,{class:"max-btn",onClick:a[0]||(a[0]=h=>e.$emit("halfBalanne"))},{default:de(()=>[Q(C("Half"))]),_:1}),ue(s,{class:"max-btn",onClick:a[1]||(a[1]=h=>e.$emit("maxBalanne"))},{default:de(()=>[Q(C(e.$t("button.max")),1)]),_:1})])]),o("div",Qn,[ue(u,{value:e.inputValue,placeholder:"0.0",onChange:e.inputChange,onInput:a[2]||(a[2]=h=>e.$emit("onInput",h.target.value))},null,8,["value","onChange"]),o("div",Jn,[zn,o("div",null,[o("p",null,C(e.currentTab=="Stake"?"ABC":"xABC"),1)])])])])}const xn=Ie(jn,[["render",Zn],["__scopeId","data-v-3e06e38f"]]),qn=Se({props:{text:{type:String,default:""},identify:{type:String,default:""},valuables:{type:String,default:""}},setup(){const e=he();return{wallet:k(()=>e),walletStore:e}}});const Hn={class:"receive"},$n={key:0,src:_e,alt:""};function et(e,a,l,b,d,v){return g(),y("div",Hn,[o("span",null,C(e.text),1),o("p",null,[Q(C(e.wallet&&e.wallet.address?e.valuables:"--")+" ",1),e.identify=="receive"?(g(),y("img",$n)):U("",!0)])])}const nt=Ie(qn,[["render",et],["__scopeId","data-v-10ed83b9"]]),tt=Se({components:{WcountDown:cn},props:{current:{type:Number,default:1},loading:{type:Boolean,default:!1},list:{type:Array,default:()=>[]}},setup(e,a){const l=he(),b=k(()=>l),d=O=>new Date().getTime()/1e3>O.locked_until_time,v=Ue(),s=O=>{v.setClaimLoading(!0),a.emit("cancelRedeemPayload",O)},u=O=>{console.log("我要移除了"),v.setClaimLoading(!0),a.emit("toClaim",O)},h=k(()=>v),r=k(()=>h.value.claimLoading);console.log(e.list,"==>claimList");const D=Cn(bn,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});return{wallet:b,walletStore:l,getClaimBoolean:d,toCancel:s,addCommom:B,toClaim:u,prettyAmount:R,claimLoading:r,indicator:D}}});const Be=e=>(Xe("data-v-7be4ade6"),e=e(),Me(),e),ot={class:"claim-content"},at={key:0},st={class:"top"},it={class:"left"},lt=["onClick"],rt=["onClick"],ut={class:"bottom"},dt=Be(()=>o("img",{src:On,alt:""},null,-1)),ct=Be(()=>o("span",null,"→",-1)),mt=Be(()=>o("img",{src:Xn,alt:""},null,-1)),vt={key:1},gt={class:"no-data"},kt=Be(()=>o("img",{src:Mn,alt:""},null,-1)),pt={key:0},ht={key:1,class:"btn"};function ft(e,a,l,b,d,v){const s=Tn,u=yn("WcountDown"),h=Oe;return g(),y("div",ot,[e.claimLoading||e.list&&e.list.length>0?(g(),y("div",at,[e.claimLoading?(g(),K(s,{key:0})):U("",!0),(g(!0),y(Te,null,Pe(e.list,r=>(g(),y("div",{key:r.locked_start_time,class:"claim-blocks"},[o("div",st,[o("p",it,[Q(C(e.getClaimBoolean(r)?"Available":"Available in")+"   ",1),e.getClaimBoolean(r)?U("",!0):(g(),K(u,{key:0,"start-time":r.locked_start_time,"end-time":r.locked_until_time,onCountDown:a[0]||(a[0]=D=>e.$emit("countDown"))},null,8,["start-time","end-time"]))]),e.loading?(g(),K(s,{key:1,indicator:e.indicator},null,8,["indicator"])):(g(),y(Te,{key:0},[e.getClaimBoolean(r)?(g(),y("span",{key:1,onClick:D=>e.toClaim(r)},"Claim",8,rt)):(g(),y("span",{key:0,class:"not_carried_out",onClick:D=>e.toCancel(r)},"Cancel",8,lt))],64))]),o("div",ut,[o("div",null,[dt,o("span",null,C(("addCommom"in e?e.addCommom:N(B))(("prettyAmount"in e?e.prettyAmount:N(R))(r.xtoken_amount,9),9))+" xABC",1)]),ct,o("div",null,[mt,o("span",null,C(("addCommom"in e?e.addCommom:N(B))(("prettyAmount"in e?e.prettyAmount:N(R))(r.token_amount,9),9))+" ABC",1)])])]))),128))])):(g(),y("div",vt,[o("div",gt,[kt,e.wallet&&e.wallet.address?(g(),y("p",pt,"No data")):(g(),y("div",ht,[ue(h,{class:"ant-btn",onClick:a[1]||(a[1]=r=>e.walletStore.setIsShowWalletModal(!0))},{default:de(()=>[o("span",null,C(e.$t("button.connectWallet")),1)]),_:1})]))])]))])}const wt=Ie(tt,[["render",ft],["__scopeId","data-v-7be4ade6"]]),At=Se({setup(e,a){const{t:l,locale:b}=Sn(),d=["Stake","Unstake","Claim"],v=M("Stake"),s=M(""),u=M(""),h=In(),r=M(!1),D=M(!1),O=M(!1),ne=t=>{v.value=t,s.value="",u.value=""},te=he(),f=k(()=>te),q=Rn(),J=k(()=>q),oe=Un();le(()=>J.value.theme,t=>{t!=="sui"&&oe.selectSuiTheme()},{immediate:!0});const ae=M([{time:"15 D",num:15},{time:"30 D",num:30},{time:"90 D",num:90},{time:"180 D",num:180}]),w=M([{token_a_amount:"12,000,012.12",token_b_amount:"100,000,012.12",isClaim:!0},{token_a_amount:"199,000,012.12",token_b_amount:"106,308,012.12",isClaim:!1},{token_a_amount:"150,000,012.12",token_b_amount:"100,012.12",isClaim:!1},{token_a_amount:"100,023,012.12",token_b_amount:"100,300,012.12",isClaim:!0},{token_a_amount:"10,012.12",token_b_amount:"74,890,012.96",isClaim:!0}]),T=M(180),fe=()=>{T.value&&(T.value=T.value.replace(/[^\d]/g,""),T.value.charAt(0)==="0"&&(T.value=T.value.slice(1)))},Le=()=>{Number(T.value)<15&&(T.value=15)},Ne=t=>{T.value=t},De=t=>{s.value=t},j=M([]),se=t=>{console.log(t,"==>>>>>wewewe");let m=t*4-4,A=t*4;A=m>ie.value.length?ie.value.length:A,console.log(m,A,"===>>>>>>>wewewe");const I=ie.value.filter((V,Ve)=>Ve>=m&&Ve<A);j.value=JSON.parse(JSON.stringify(I)),console.log(j.value,"==>list.value"),console.log(ie.value,"===>ownerLocks.value.length")},ce=M(1),n=Ue(),i=k(()=>n);_n(()=>{document.addEventListener("visibilitychange",()=>{document.hidden||n.getDividendManager()}),n.getXtokenApr(),n.getDividendManager()});const c=k(()=>i.value.nextStartTime),p=k(()=>i.value.availableXtoken),E=k(()=>i.value.tokenBalance),Ge=k(()=>i.value.xtokenShare),Fe=k(()=>i.value.cetusApr),me=k(()=>i.value.pendingCoinInfo),we=k(()=>i.value.newPendingCoinInfo);console.log(c.value,"nextStartTime===>");const Ee=M("");le(()=>we.value,t=>{t&&!Z(t)?Ee.value=`Pending yield (${t.symbol})`:Ee.value="Pending yield"},{immediate:!0}),le(()=>f.value.address,t=>{console.log("触发",t),D.value=!0,j.value=[],t?(n.getOwnerVeNFT(t),n.getAccountTokenBalance(t),n.getOwnerLockTokens(t),n.getMyShare(t)):n.loginOut()},{immediate:!0});const Re=M("0"),H=F("Sui"),Qe=async()=>{const t=Ce(s.value,9),m=await H.redeemNum(t,Number(T.value));u.value=R(m.amountOut,9),console.log("===>amount2222"),Re.value=m.percent},Je=async()=>{const t=Ce(u.value,9),m=await H.reverseRedeemNum(t,Number(T.value));console.log(m,"===>amount111"),s.value=R(m.amountOut,9),Re.value=m.percent},ve=M(!0);le(()=>[s.value,T.value,ve.value],([t,m,A])=>{console.log(t,"===>>>>>>>fromCoinAmount",typeof t),t&&m&&A&&Number(m)>=15&&Qe(),!t&&A&&(u.value="")},{immediate:!0}),le(()=>[u.value,T.value,ve.value],([t,m,A])=>{t&&m&&!A&&Number(m)>=15&&(Je(),console.log(t,"===>toCoinAmount")),!t&&!A&&(s.value="")},{immediate:!0});const ze=()=>{!localStorage.getItem(`notTokenRemind${f.value.address}`)&&v.value=="Stake"?O.value=!0:v.value=="Stake"?We():He()},Ze=()=>{O.value=!1,We()},{setIsShowSuccess:ge,setIsShowRejected:Y,setIsShowWaiting:S,setTransactionDesc:ke,setTransactionTxid:G}=q,z=k(()=>(console.log(i.value.venft_id,"==>xtoken.value.venft_id"),i.value.venft_id)),X=k(()=>ye("Sui")),pe=k(()=>J.value.chainName),We=async()=>{r.value=!0,S(!0),G(""),ke(l("tips.converting",{from:`${B(s.value,9)} ABC`,and:"to",to:`${B(s.value,9)} xABC`}));try{let t;const m=Ce(s.value,9);console.log(z.value,"===>venft_id.value");const A=await H.depositToken(m,z.value);console.log(A,"payload==>");const W=await f.value.currentWallet.signAndExecuteTransactionBlock(A);if(t=X.value.handleTx(W),t&&t.hash){G(t.hash),S(!1),ge(!0);const I={title:"Converted",desc:`Converted ${B(s.value,9)} xABC successfully`,hash:t.hash,tit:"Converted",icon:"icon-icon-Swap",tokenInfo:{tokena:"Token",numa:`- ${s.value}`,logoa:ee("/sui-image/WHALE-icon.png"),tokenb:"xABC",numb:`+ ${s.value}`,logob:ee("/sui-image/xWHALE-icon.png")}};pe.value!=="Aptos"&&(I.res=t.res),X.value.showTransitionPending(I);const V=await X.value.watchTransaction(I);console.log("0221###swap###transitionStatus####",V),V&&setTimeout(()=>{n.getAccountTokenBalance(f.value.address),n.getOwnerVeNFT(f.value.address),n.getOwnerLockTokens(f.value.address),n.getMyShare(f.value.address)},3e3),r.value=!1}else S(!1),Y(!0),r.value=!1;s.value=""}catch(t){S(!1),Y(!0),r.value=!1,s.value="",console.log(t,"error===>")}},xe=k(()=>{if(v.value=="Stake"){if(Number(s.value)>Number(E.value))return!0}else if(Number(s.value)>Number(p.value))return!0;return!s.value||!u.value||Number(s.value)==0||Number(u.value)==0}),qe=k(()=>v.value=="Stake"&&Number(s.value)>Number(E.value)?l("button.insufficientBalance",{name:"ABC"}):v.value=="Unstake"&&Number(s.value)>Number(p.value)?l("button.insufficientBalance",{name:"xABC"}):Number(T.value)<15?"Minimum vesting duration is 15 days":v.value=="Stake"&&z?"Stake":v.value!=="Unstake"&&z?"Unstake":"Convert"),He=async()=>{r.value=!0,S(!0),G(""),ke(l("tips.redeeming",{from:`${B(s.value,9)} xABC`,to:`${B(u.value,9)} ABC`}));try{let t;const m=Ce(s.value,9);console.log(m.toString(),"538====>");const A=await H.getRedeemLockPayload(m,z.value,Number(T.value));console.log(A,"payload==>");const W=await f.value.currentWallet.signAndExecuteTransactionBlock(A);if(t=X.value.handleTx(W),t&&t.hash){G(t.hash),S(!1),ge(!0);const I={title:"Redemption",desc:"Redemption transaction submitted successfully.",hash:t.hash,tit:"Vesting",icon:"icon-icon-Removed",tokenInfo:{tokena:"xABC",numa:`- ${s.value}`,logoa:ee("/sui-image/xWHALE-icon.png")}};pe.value!=="Aptos"&&(I.res=t.res),X.value.showTransitionPending(I);const V=await X.value.watchTransaction(I);console.log("0221###swap###transitionStatus####",V),V&&setTimeout(()=>{n.getAccountTokenBalance(f.value.address),n.getOwnerVeNFT(f.value.address),n.getOwnerLockTokens(f.value.address),n.getMyShare(f.value.address)},3e3),r.value=!1}else S(!1),Y(!0),r.value=!1;s.value="",u.value=""}catch(t){S(!1),Y(!0),r.value=!1,s.value="",u.value="",console.log(t,"error===>")}},$e=()=>{ve.value=!0,s.value=x(new _(v.value!=="Stake"?p.value:E.value).div(new _(2)).toString(),9)},en=()=>{ve.value=!0,s.value=v.value!=="Stake"?x(p.value,9):x(E.value,9)},nn=async t=>{r.value=!0,S(!0),G(""),ke("");try{let m;console.log(t.id,"==>vItem.id");const A=await H.getCancelRedeemPayload(t.id,z.value);console.log(A,"payload==>");const W=await f.value.currentWallet.signAndExecuteTransactionBlock(A);if(m=X.value.handleTx(W),m&&m.hash){G(m.hash),S(!1),ge(!0);const I={title:"Cancelled Redemption",desc:"Cancelled redemption successfully.",hash:m.hash,tit:"Cancelled Redemption",icon:"icon-a-icon-Shutdown",tokenInfo:{tokena:"xCETUS",numa:`+ ${R(t.xcetus_amount,9)}`,logoa:ee("/sui-image/xWHALE-icon.png")}};pe.value!=="Aptos"&&(I.res=m.res),X.value.showTransitionPending(I);const V=await X.value.watchTransaction(I);console.log("0221###swap###transitionStatus####",V),V&&setTimeout(()=>{n.getOwnerVeNFT(f.value.address),n.getOwnerLockTokens(f.value.address),r.value=!1},3e3)}else S(!1),Y(!0),r.value=!1;s.value="",u.value=""}catch(m){S(!1),Y(!0),r.value=!1,s.value="",u.value="",n.setClaimLoading(""),console.log(m,"error===>")}},tn=async t=>{console.log(t,"vItem===>"),r.value=!0,S(!0),G(""),ke(`${l("tips.claimingPendingYield")} ${B(R(t.token_amount,9),9)} ABC`);try{let m;const A=await H.getRedeemPayload(t.id,z.value);console.log(A,"payload==>");const W=await f.value.currentWallet.signAndExecuteTransactionBlock(A);if(m=X.value.handleTx(W),m&&m.hash){G(m.hash),S(!1),ge(!0);const I={title:"Claimed",desc:`Claimed ${B(R(t.token_amount,9),9)} ABC successfully.`,hash:m.hash,tit:"ABC Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:"ABC",numa:`+ ${R(t.token_amount,9)}`,logoa:ee("/sui-image/WHALE-icon.png")}};pe.value!=="Aptos"&&(I.res=m.res),X.value.showTransitionPending(I);const V=await X.value.watchTransaction(I);console.log("0221###swap###transitionStatus####",V),V&&setTimeout(()=>{n.getOwnerLockTokens(f.value.address),n.getAccountTokenBalance(f.value.address),n.getOwnerVeNFT(f.value.address),n.getMyShare(f.value.address),n.getAvailableXToken(),r.value=!1},3e3)}else S(!1),Y(!0),r.value=!1;s.value="",u.value=""}catch(m){S(!1),Y(!0),r.value=!1,s.value="",u.value="",n.setClaimLoading(""),console.log(m,"error===>")}},Ae=k(()=>i.value.pendingAmount),$=k(()=>i.value.newPendingAmount),on=k(()=>i.value.waitUnLockAmount),an=async()=>{r.value=!0,S(!0),G(""),ke(`${l("tips.claimingPendingYield")} ${Ae.value} ${me.value.symbol} ${Number($.value)>0?"and":""} ${Number($.value)>0?$.value+" "+we.value.symbol:""}`);try{let t;const m=await H.getRedeemDividendPayload(z.value);console.log(m,"payload==>");const A=await f.value.currentWallet.signAndExecuteTransactionBlock(m);if(t=X.value.handleTx(A),t&&t.hash){G(t.hash),S(!1),ge(!0);const W={title:"Claim",desc:`Claimed ${Ae.value} ${me.value.symbol} 
            ${Number($.value)>0?"and":""} ${Number($.value)>0?$.value+" "+we.value.symbol:""} successfully.`,hash:t.hash,tit:"Claimed Rewards",icon:"icon-icon-Removed",tokenInfo:{tokena:me.value.symbol,numa:`+ ${Ae.value}`,logoa:me.value.logo_url}};pe.value!=="Aptos"&&(W.res=t.res),X.value.showTransitionPending(W);const I=await X.value.watchTransaction(W);console.log("0221###swap###transitionStatus####",I),I&&setTimeout(()=>{n.getVeNFTDividendInfo(),r.value=!1},3e3),n.getOwnerLockTokens(f.value.address)}else S(!1),Y(!0),r.value=!1,r.value=!1}catch(t){S(!1),Y(!0),r.value=!1,console.log(t,"error===>")}},sn=k(()=>i.value.rewardWeekNum),ie=k(()=>i.value.ownerLocks);le(()=>ie.value,(t,m)=>{if(D.value=!1,ce.value>1&&j.value.length<=1){const A=ce.value-1;se(A)}else se(ce.value)},{deep:!0});const ln=()=>{n.getDividendManager()},rn=k(()=>i.value.currentCoinInfo),un=pn(),dn=k(()=>un);return{clickModalConvert:Ze,openConfirmModal:O,getCoinIcon:t=>{var m;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((m=dn.value.tokensObj[t==null?void 0:t.address])==null?void 0:m.logo_url)||(J.value.theme==="default"?ee("/image/coins/unknown.png"):ee("/image/coins/sui-unknown.png"))},currentCoinInfo:rn,decimalUi:Ye,xtokenApr:Fe,xtokenShare:Ge,newPendingAmount:$,newPendingCoinInfo:we,isShowPagination:D,getNextEpoch:ln,router:h,currentTab:v,switchList:d,changeSwitch:ne,inputChange:De,vestingDateList:ae,vestingParameter:T,validateInput:fe,inputBlur:Le,vestingTab:Ne,claimList:w,current:ce,onChangeClaim:se,list:j,fromCoinAmount:s,toCoinAmount:u,wallet:f,walletStore:te,nextStartTime:c,addCommom:B,availableXtoken:p,tokenBalance:E,pendingCoinInfo:me,redeemRatio:Re,fixedFromCoin:ve,loading:r,depositOrWithdraw:ze,btnDisabled:xe,btnText:qe,halfBalanne:$e,maxBalanne:en,ownerLocks:ie,cancelRedeemPayload:nn,claimToken:tn,pendingAmount:Ae,waitUnLockAmount:on,claimPendingYield:an,rewardWeekNum:sn}}}),Ct="data:image/png;base64,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",bt="data:image/png;base64,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";const P=e=>(Xe("data-v-ecb5acc0"),e=e(),Me(),e),yt={class:"stake-container"},Tt=P(()=>o("div",{class:"title"},"Stake",-1)),St={class:"stake-content"},It={class:"content"},_t={class:"top-block"},Bt={class:"top-info"},Lt=P(()=>o("div",{class:"avatar-info"},[o("div",{class:"avatar"}),o("p",null,"ABC"),o("span",null,"ABC Coin")],-1)),Nt={class:"info-text"},Dt={class:"bot-block"},Rt={class:"num-info"},Pt={class:"value"},Ot=P(()=>o("span",null,"APR",-1)),Xt={class:"value"},Mt={class:"reward"},Ut={alt:""},jt=P(()=>o("span",null,"Rewards/week",-1)),Et={class:"profit"},Wt={class:"share"},Vt=P(()=>o("div",null,[o("img",{src:Ct,alt:""}),o("span",null,"Your share")],-1)),Kt={class:"share claim-block"},Yt={class:"earned-block"},Gt={class:"left"},Ft=P(()=>o("span",null,[o("img",{src:bt,alt:""}),Q(" Earned ")],-1)),Qt={class:"right"},Jt={key:0,class:"top"},zt={key:1},Zt={class:"bottom-info"},xt={class:"info-left"},qt={class:"reward-distribution-in"},Ht=P(()=>o("p",null,"Reward distribution in",-1)),$t={class:"balance"},eo=P(()=>o("p",null,"Balance",-1)),no={class:"balance-block"},to=P(()=>o("img",{src:_e,alt:""},null,-1)),oo=P(()=>o("span",null,"ABC",-1)),ao={class:"balance-block"},so=P(()=>o("img",{src:_e,alt:""},null,-1)),io=P(()=>o("span",null,"xABC",-1)),lo=P(()=>o("div",{class:"line"},null,-1)),ro=P(()=>o("div",{class:"info-introduction"}," Note: Staking ABC for xABC is irreversible, if you want to convert xABC back to ABC, a vesting period will be applied & different vesting durations correspond to different redeem ratios. ",-1)),uo={class:"info-right"},co={class:"switch-info"},mo=["onClick"],vo={key:1,class:"vesting-duration"},go={class:"vesting-content"},ko={class:"switch-day"},po=P(()=>o("p",null,"Vesting duration",-1)),ho={class:"vesting-right"},fo=["onClick"],wo={class:"slider-block"},Ao={class:"vesting-left"},Co={class:"value-days"},bo=P(()=>o("span",null,"days",-1));function yo(e,a,l,b,d,v){var q,J,oe,ae;const s=Oe,u=mn,h=xn,r=Nn,D=nt,O=wt,ne=Dn,te=vn,f=Bn("image");return g(),y("div",yt,[Tt,o("div",St,[o("div",It,[o("div",_t,[o("div",Bt,[Lt,o("div",Nt," Stake your ABC for xABC to earn "+C((q=e.currentCoinInfo)==null?void 0:q.symbol)+" rewards. ",1)])]),o("div",Dt,[o("div",Rt,[o("div",Pt,[o("p",null,C(("decimalUi"in e?e.decimalUi:N(Ye))(e.xtokenApr,2))+"%",1),Ot]),o("div",Xt,[o("div",Mt,[Q(C(("addCommom"in e?e.addCommom:N(B))(e.rewardWeekNum))+" "+C((J=e.currentCoinInfo)==null?void 0:J.symbol)+" ",1),Ke(o("img",Ut,null,512),[[f,e.getCoinIcon(e.currentCoinInfo)]])]),jt])]),o("div",Et,[o("div",Wt,[Vt,o("p",null,C(e.xtokenShare)+"%",1)]),o("div",Kt,[o("div",Yt,[o("div",Gt,[Ft,e.wallet&&e.wallet.address?(g(),K(s,{key:0,class:"claim",loading:e.loading,disabled:!((!("checkNullObj"in e?e.checkNullObj:N(Z))(e.pendingAmount)||!("checkNullObj"in e?e.checkNullObj:N(Z))(e.newPendingCoinInfo))&&e.pendingAmount!=="--"&&(Number(e.pendingAmount)!==0||Number(e.newPendingAmount)!==0)),onClick:e.claimPendingYield},{default:de(()=>[Q(" Claim ")]),_:1},8,["loading","disabled","onClick"])):U("",!0)]),o("div",Qt,[Number(e.pendingAmount)!==0||Number(e.pendingAmount)==0&&("checkNullObj"in e?e.checkNullObj:N(Z))(e.newPendingCoinInfo)?(g(),y("p",Jt,C(e.pendingAmount=="--"||("checkNullObj"in e?e.checkNullObj:N(Z))(e.pendingAmount)?"--":("addCommom"in e?e.addCommom:N(B))(e.pendingAmount))+" "+C((oe=e.pendingCoinInfo)==null?void 0:oe.symbol),1)):U("",!0),("checkNullObj"in e?e.checkNullObj:N(Z))(e.newPendingCoinInfo)?U("",!0):(g(),y("p",zt,C(e.newPendingAmount=="--"||("checkNullObj"in e?e.checkNullObj:N(Z))(e.newPendingCoinInfo)?"--":("addCommom"in e?e.addCommom:N(B))(e.newPendingAmount))+" "+C((ae=e.newPendingCoinInfo)==null?void 0:ae.symbol),1))])])])])])]),o("div",Zt,[o("div",xt,[o("div",qt,[Ht,ue(u,{"start-time":e.nextStartTime,stake:!0,onCountDown:a[0]||(a[0]=w=>e.getNextEpoch())},null,8,["start-time"])]),o("div",$t,[eo,o("div",no,[to,o("p",null,[Q(C(("addCommom"in e?e.addCommom:N(B))(e.tokenBalance)),1),oo])]),o("div",ao,[so,o("p",null,[Q(C(("addCommom"in e?e.addCommom:N(B))(e.availableXtoken)),1),io])])]),lo,ro]),o("div",uo,[o("div",co,[(g(!0),y(Te,null,Pe(e.switchList,(w,T)=>(g(),y("div",{key:T,class:be([e.currentTab==w?"selected":"","switch-block"]),onClick:fe=>e.changeSwitch(w)},C(w),11,mo))),128))]),e.currentTab!=="Claim"?(g(),K(h,{key:0,"input-value":e.fromCoinAmount,"current-tab":e.currentTab,onHalfBalanne:e.halfBalanne,onMaxBalanne:e.maxBalanne,onOnInput:a[1]||(a[1]=w=>{e.fromCoinAmount=w})},null,8,["input-value","current-tab","onHalfBalanne","onMaxBalanne"])):U("",!0),e.currentTab=="Unstake"?(g(),y("div",vo,[o("div",go,[o("div",ko,[po,o("div",ho,[(g(!0),y(Te,null,Pe(e.vestingDateList,w=>(g(),y("div",{key:w.time,class:be(["box-table",{"box-table-active":w.num===Number(e.vestingParameter)}]),onClick:T=>e.vestingTab(w.num)},C(w.time),11,fo))),128))])]),o("div",wo,[o("div",Ao,[o("div",Co,[Ke(o("input",{"onUpdate:modelValue":a[2]||(a[2]=w=>e.vestingParameter=w),onInput:a[3]||(a[3]=(...w)=>e.validateInput&&e.validateInput(...w)),onBlur:a[4]||(a[4]=(...w)=>e.inputBlur&&e.inputBlur(...w))},null,544),[[Ln,e.vestingParameter]])]),bo]),ue(r,{value:e.vestingParameter,"onUpdate:value":a[5]||(a[5]=w=>e.vestingParameter=w),max:180,min:15},null,8,["value"])])])])):U("",!0),e.currentTab=="Unstake"?(g(),K(D,{key:2,text:"Redeem ratio",identify:"ratio",valuables:`${e.redeemRatio}%`},null,8,["valuables"])):U("",!0),e.currentTab=="Stake"||e.currentTab=="Unstake"?(g(),K(D,{key:3,text:"You will receive",identify:"receive",valuables:e.toCoinAmount||e.fromCoinAmount?`${("addCommom"in e?e.addCommom:N(B))(e.currentTab=="Unstake"?e.toCoinAmount:e.fromCoinAmount)} ${e.currentTab=="Unstake"?"ABC":"xABC"}`:"--",onCancelRedeemPayload:e.cancelRedeemPayload},null,8,["valuables","onCancelRedeemPayload"])):U("",!0),e.wallet&&e.wallet.address&&e.currentTab!=="Claim"?(g(),K(s,{key:4,class:be([e.currentTab=="Unstake"?"unstake-btn":"","stake-btn"]),loading:e.loading,disabled:e.btnDisabled,onClick:e.depositOrWithdraw},{default:de(()=>[o("span",null,C(e.btnText),1)]),_:1},8,["class","loading","disabled","onClick"])):e.currentTab!=="Claim"?(g(),K(s,{key:5,class:be([e.currentTab=="Unstake"?"unstake-btn":"","stake-btn"]),onClick:a[6]||(a[6]=w=>e.walletStore.setIsShowWalletModal(!0))},{default:de(()=>[o("span",null,C(e.$t("button.connectWallet")),1)]),_:1},8,["class"])):U("",!0),e.currentTab=="Claim"?(g(),K(O,{key:6,list:e.list,loading:e.loading,current:e.current,onToClaim:e.claimToken,onCancelRedeemPayload:e.cancelRedeemPayload},null,8,["list","loading","current","onToClaim","onCancelRedeemPayload"])):U("",!0),e.currentTab=="Claim"&&e.ownerLocks&&e.ownerLocks.length>4&&!e.isShowPagination?(g(),K(ne,{key:7,current:e.current,"onUpdate:current":a[7]||(a[7]=w=>e.current=w),"page-size":4,simple:"",total:e.ownerLocks.length,onChange:e.onChangeClaim},null,8,["current","total","onChange"])):U("",!0)])])]),e.openConfirmModal?(g(),K(te,{key:0,"is-token":!0,onClickConvert:e.clickModalConvert,onClose:a[8]||(a[8]=()=>e.openConfirmModal=!e.openConfirmModal)},null,8,["onClickConvert"])):U("",!0)])}const Vo=Ie(At,[["render",yo],["__scopeId","data-v-ecb5acc0"]]);export{Vo as default};
