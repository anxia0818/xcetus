import{_ as qo}from"./new-position-title.54330ba8.js";import{_ as uo}from"./token-warning.6e87491f.js";import{_ as bo}from"./auto-pool-apy-tips.8c76da95.js";import{u as Ue,a as U,g as no,c as Me,f as Bo,d as Ze,s as oe,p as fo,b as ko,T as Pe,e as Q,h as No,i as Oo,j as Lo}from"./pool.36d56712.js";import{u as ro,a as co}from"./sha256.86ba14fb.js";import{u as De,a as _o}from"./autoPool.53100744.js";import{i as Ke}from"./import-icon.de3e6c66.js";import{a as Fe,l as _,m as Ve,r as w,q as we,e as Ee,s as po,o as k,f as q,h as o,t as Be,i as X,v as c,j as io,x as te,u as M,p as Qe,k as xe,y as to,z as go,A as ho,C as vo,c as _e,w as Je,B as wo,D as Mo,b as Uo,F as Do,E as Fo,G as Vo,H as yo}from"./entry.0305e135.js";import"./decimal.633e31ee.js";import{D as i}from"./decimal.0e8aa3f1.js";import{_ as $o}from"./assets-card.b01433c8.js";import{_ as Co}from"./coin-lock.285c6eeb.js";import{_ as Io,a as Ao}from"./auto-pool-remove-modal.34ea538f.js";import{afterCurrentPrice as ao}from"./data.272d1d1f.js";import{V as mo}from"./index.b1407aae.js";/* empty css              *//* empty css              */import"./back.8096f913.js";import"./swap-setting.9b0d45b1.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./img-lock_2x.a28135f4.js";import"./img-lock_2x.7afe2a4b.js";const Eo=Fe({components:{AutoPoolApyTips:bo},setup(){const e=ro(),s=_(()=>e),x=Ue(),G=_(()=>x),Z=De(),I=_(()=>Z),g=_(()=>s.value.theme),y=Ve(),v=w();we(()=>[I.value.positionInfoObj,y.params.id],([a,r])=>{a&&!Me(a)&&r&&(v.value=a[r],console.log(v.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const S=_(()=>{var a;return(a=v.value)==null?void 0:a.needReverse}),t=a=>{var r;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((r=G.value.tokensObj[a==null?void 0:a.address])==null?void 0:r.logo_url)||(g.value==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))},n=_(()=>{var a,r;return I.value.apyObj&&((r=I.value.apyObj[(a=v.value)==null?void 0:a.id])==null?void 0:r.tvl)||"--"}),h=_(()=>{var a,r;return I.value.apyObj&&((r=I.value.apyObj[(a=v.value)==null?void 0:a.id])==null?void 0:r.apr)||"--"});return{positionInfo:v,needReverse:S,getCoinIcon:t,tvl:n,apy:h,addCommom:U,getExplorerUrl:no}}});const $e=e=>(Qe("data-v-204ed24b"),e=e(),xe(),e),Wo={class:"auto-pool-v2-info"},jo={class:"pool-info"},Xo={class:"left"},Ho={class:"coin-a"},zo={alt:""},Yo={class:"coin-b"},Go={alt:""},Zo={class:"position-name"},Jo={key:0,class:"pool-fee"},Ko=$e(()=>o("span",null,"Fee tier",-1)),Qo={class:"vault-address"},xo=["href"],en=$e(()=>o("span",null,"Vault Address",-1)),on=$e(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),nn=[en,on],tn={class:"pool-address"},sn=["href"],ln=$e(()=>o("span",null,"Pool Address",-1)),an=$e(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),un=[ln,an],rn={class:"apy-and-tvl"},dn={class:"apy"},vn=$e(()=>o("div",{class:"apy-title"},"APY",-1)),mn={class:"apy-text"},cn={class:"tvl"},pn=$e(()=>o("div",{class:"tvl-title"},"TVL",-1)),fn={class:"tvl-text"},yn={class:"pool-info h5-pool-info"},bn={class:"left"},kn={class:"coin-a"},_n={alt:""},gn={class:"coin-b"},hn={alt:""},wn={class:"position-name"},$n={key:0,class:"pool-fee"},Cn=$e(()=>o("span",null,"Fee tier",-1)),In={class:"left"},An={class:"vault-address"},Pn=["href"],Sn=$e(()=>o("span",null,"Vault Address",-1)),Tn=$e(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),Rn=[Sn,Tn],qn={class:"pool-address"},Bn=["href"],Nn=$e(()=>o("span",null,"Pool Address",-1)),On=$e(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),Ln=[Nn,On],Mn={class:"apy-and-tvl"},Un={class:"apy"},Dn=$e(()=>o("div",{class:"apy-title"},"APY",-1)),Fn={class:"apy-text"},Vn={class:"tvl"},En=$e(()=>o("div",{class:"tvl-title"},"TVL",-1)),Wn={class:"tvl-text"};function jn(e,s,x,G,Z,I){var S,t,n,h,a,r,A,d,m,P,B,N,J,p,u,F,O,V,ne,f,j,ae,ue,re,de,H,be,ge,$,ee,We,Ce,je,Ne,Se,Re,Oe,Le,Xe,He,ve,se,oo,b,T,z,me,ke;const g=uo,y=bo,v=po("image");return k(),q("div",Wo,[o("div",jo,[o("div",Xo,[o("div",Ho,[Be(o("img",zo,null,512),[[v,e.needReverse?e.getCoinIcon((t=e.positionInfo)==null?void 0:t.token_b):e.getCoinIcon((S=e.positionInfo)==null?void 0:S.token_a)]]),X(g,{address:e.needReverse?(r=(a=e.positionInfo)==null?void 0:a.token_b)==null?void 0:r.address:(h=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:h.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Yo,[Be(o("img",Go,null,512),[[v,e.needReverse?e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_a):e.getCoinIcon((A=e.positionInfo)==null?void 0:A.token_b)]]),X(g,{address:e.needReverse?(N=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:N.address:(P=(m=e.positionInfo)==null?void 0:m.token_b)==null?void 0:P.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Zo,c(e.needReverse?(p=(J=e.positionInfo)==null?void 0:J.token_b)==null?void 0:p.symbol:(F=(u=e.positionInfo)==null?void 0:u.token_a)==null?void 0:F.symbol)+" - "+c(e.needReverse?(V=(O=e.positionInfo)==null?void 0:O.token_a)==null?void 0:V.symbol:(f=(ne=e.positionInfo)==null?void 0:ne.token_b)==null?void 0:f.symbol),1),(j=e.positionInfo)!=null&&j.fee?(k(),q("div",Jo,[Ko,io(" "+c(((ae=e.positionInfo)==null?void 0:ae.fee)*100)+"% ",1)])):te("",!0),o("div",Qo,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:M(no))("poolAddress",(ue=e.positionInfo)==null?void 0:ue.id),target:"_blank"},nn,8,xo)]),o("div",tn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:M(no))("poolAddress",(re=e.positionInfo)==null?void 0:re.address),target:"_blank"},un,8,sn)])]),o("div",rn,[o("div",dn,[vn,o("div",mn,[io(c(e.apy)+" ",1),X(y)])]),o("div",cn,[pn,o("div",fn,"$"+c(("addCommom"in e?e.addCommom:M(U))(e.tvl,2)),1)])])]),o("div",yn,[o("div",bn,[o("div",kn,[Be(o("img",_n,null,512),[[v,e.needReverse?e.getCoinIcon((H=e.positionInfo)==null?void 0:H.token_b):e.getCoinIcon((de=e.positionInfo)==null?void 0:de.token_a)]]),X(g,{address:e.needReverse?(ee=($=e.positionInfo)==null?void 0:$.token_b)==null?void 0:ee.address:(ge=(be=e.positionInfo)==null?void 0:be.token_a)==null?void 0:ge.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",gn,[Be(o("img",hn,null,512),[[v,e.needReverse?e.getCoinIcon((Ce=e.positionInfo)==null?void 0:Ce.token_a):e.getCoinIcon((We=e.positionInfo)==null?void 0:We.token_b)]]),X(g,{address:e.needReverse?(Re=(Se=e.positionInfo)==null?void 0:Se.token_a)==null?void 0:Re.address:(Ne=(je=e.positionInfo)==null?void 0:je.token_b)==null?void 0:Ne.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",wn,c(e.needReverse?(Le=(Oe=e.positionInfo)==null?void 0:Oe.token_b)==null?void 0:Le.symbol:(He=(Xe=e.positionInfo)==null?void 0:Xe.token_a)==null?void 0:He.symbol)+" - "+c(e.needReverse?(se=(ve=e.positionInfo)==null?void 0:ve.token_a)==null?void 0:se.symbol:(b=(oo=e.positionInfo)==null?void 0:oo.token_b)==null?void 0:b.symbol),1),(T=e.positionInfo)!=null&&T.fee?(k(),q("div",$n,[Cn,io(" "+c(((z=e.positionInfo)==null?void 0:z.fee)*100)+"% ",1)])):te("",!0)]),o("div",In,[o("div",An,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:M(no))("poolAddress",(me=e.positionInfo)==null?void 0:me.id),target:"_blank"},Rn,8,Pn)]),o("div",qn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:M(no))("poolAddress",(ke=e.positionInfo)==null?void 0:ke.address),target:"_blank"},Ln,8,Bn)])]),o("div",Mn,[o("div",Un,[Dn,o("div",Fn,[io(c(e.apy)+" ",1),X(y)])]),o("div",Vn,[En,o("div",Wn,"$"+c(("addCommom"in e?e.addCommom:M(U))(e.tvl,2)),1)])])])])}const Po=Ee(Eo,[["render",jn],["__scopeId","data-v-204ed24b"]]),Xn=Fe({setup(){const e=w(!0),s=Ue(),x=_(()=>s),G=De(),Z=_(()=>G),I=Ve(),g=w();we(()=>[Z.value.positionInfoObj,I.params.id],([t,n])=>{t&&!Me(t)&&n&&(g.value=t[n],console.log(g.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const y=_(()=>{var t;return(t=g.value)==null?void 0:t.needReverse}),v=t=>{var n;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((n=x.value.tokensObj[t==null?void 0:t.address])==null?void 0:n.logo_url)||Ke("/image/coins/sui-unknown.png")},S=_(()=>{var r,A,d;const t=(r=g==null?void 0:g.value)==null?void 0:r.price,n=(A=g==null?void 0:g.value)==null?void 0:A.minPrice,h=(d=g==null?void 0:g.value)==null?void 0:d.maxPrice;let a;if(t>=n&&t<=h){const m=new i(n).add(new i(h)).div(2).toNumber();a=t>m?50+new i(t).sub(m).div(m).toNumber():50-new i(t).sub(m).div(m).toNumber()}else t<n?(a=new i(t).sub(new i(n)).mul(100).toNumber()+15,console.log(a,"##result")):t>h&&(a=new i(t).sub(new i(h)).div(new i(h)).mul(100).toNumber()+70+15);return Number(Bo(a,0))});return{direct:e,positionInfo:g,needReverse:y,getCoinIcon:v,decimalUi:Ze,addCommom:U,sFixD:oe,moveRatio:S}}}),Hn=""+globalThis.__publicAssetsURL("sui-image/icon_currentprice@2x.png");const qe=e=>(Qe("data-v-edab56db"),e=e(),xe(),e),zn={class:"v2-position-range"},Yn={class:"position-range-top"},Gn=qe(()=>o("div",null,"Position Range",-1)),Zn={class:"base-coin"},Jn={key:0},Kn={alt:""},Qn={key:1},xn={alt:""},et={key:2},ot={key:3},nt=qe(()=>o("p",null,"Base coin",-1)),tt={class:"coin-rate"},st=qe(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),lt=qe(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),it=[st,lt],at={class:"position-range-bottom"},ut=qe(()=>o("div",{class:"current-price-title"},"Current Price",-1)),rt={key:0,class:"current-price-text"},dt={key:1,class:"current-price-text"},vt=qe(()=>o("div",{class:"current-price-title"},"Current Price",-1)),mt={key:0,class:"current-price-text"},ct={key:1,class:"current-price-text"},pt={class:"price-range"},ft=qe(()=>o("div",{class:"price-range-bg"},[o("div",{class:"price-range-border"})],-1)),yt={class:"min-price"},bt=qe(()=>o("div",null,"Min Price",-1)),kt={class:"max-price"},_t=qe(()=>o("div",null,"Max Price",-1));function gt(e,s,x,G,Z,I){var v,S,t,n,h,a,r,A,d,m,P,B,N,J,p,u,F,O,V,ne,f,j,ae,ue,re,de,H,be;const g=uo,y=po("image");return k(),q("div",zn,[o("div",Yn,[Gn,o("div",Zn,[e.needReverse?(k(),q("div",Qn,[Be(o("img",xn,null,512),[[y,e.direct?e.getCoinIcon((A=e.positionInfo)==null?void 0:A.token_b):e.getCoinIcon((r=e.positionInfo)==null?void 0:r.token_a)]]),X(g,{address:e.direct?(B=(P=e.positionInfo)==null?void 0:P.token_b)==null?void 0:B.address:(m=(d=e.positionInfo)==null?void 0:d.token_a)==null?void 0:m.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])):(k(),q("div",Jn,[Be(o("img",Kn,null,512),[[y,e.direct?e.getCoinIcon((v=e.positionInfo)==null?void 0:v.token_a):e.getCoinIcon((S=e.positionInfo)==null?void 0:S.token_b)]]),X(g,{address:e.direct?(n=(t=e.positionInfo)==null?void 0:t.token_a)==null?void 0:n.address:(a=(h=e.positionInfo)==null?void 0:h.token_b)==null?void 0:a.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])),e.needReverse?(k(),q("span",ot,c(e.direct?(O=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:O.symbol:(ne=(V=e.positionInfo)==null?void 0:V.token_a)==null?void 0:ne.symbol),1)):(k(),q("span",et,c(e.direct?(J=(N=e.positionInfo)==null?void 0:N.token_a)==null?void 0:J.symbol:(u=(p=e.positionInfo)==null?void 0:p.token_b)==null?void 0:u.symbol),1)),nt,o("div",tt,[o("div",{onClick:s[0]||(s[0]=ge=>e.direct=!e.direct)},it)])])]),o("div",at,[o("div",{class:"current-price",style:to({left:`${e.moveRatio>40&&e.moveRatio-60?e.moveRatio:e.moveRatio>92?92:e.moveRatio<=13?10:e.moveRatio-13}%`})},[ut,(e.needReverse?!e.direct:e.direct)?(k(),q("div",rt,c(("addCommom"in e?e.addCommom:M(U))(("decimalUi"in e?e.decimalUi:M(Ze))((f=e.positionInfo)==null?void 0:f.price,6))),1)):(k(),q("div",dt,c(("addCommom"in e?e.addCommom:M(U))(("decimalUi"in e?e.decimalUi:M(Ze))(1/((j=e.positionInfo)==null?void 0:j.price),6))),1))],4),o("div",{class:"current-price h5-current-price",style:to({left:`${e.moveRatio>40&&e.moveRatio-60?e.moveRatio:e.moveRatio>92?92:e.moveRatio<=23?0:e.moveRatio-13}%`})},[vt,(e.needReverse?!e.direct:e.direct)?(k(),q("div",mt,c(("addCommom"in e?e.addCommom:M(U))(("decimalUi"in e?e.decimalUi:M(Ze))((ae=e.positionInfo)==null?void 0:ae.price,6))),1)):(k(),q("div",ct,c(("addCommom"in e?e.addCommom:M(U))(("decimalUi"in e?e.decimalUi:M(Ze))(1/((ue=e.positionInfo)==null?void 0:ue.price),6))),1))],4),o("div",pt,[ft,o("img",{style:to({left:`${e.moveRatio}%`}),src:Hn,alt:""},null,4),o("div",yt,[bt,o("div",null,c(((re=e.positionInfo)==null?void 0:re.minPrice)&&("sFixD"in e?e.sFixD:M(oe))((de=e.positionInfo)==null?void 0:de.minPrice,6)),1)]),o("div",kt,[_t,o("div",null,c(((H=e.positionInfo)==null?void 0:H.maxPrice)&&("sFixD"in e?e.sFixD:M(oe))((be=e.positionInfo)==null?void 0:be.maxPrice,6)),1)])])])])}const So=Ee(Xn,[["render",gt],["__scopeId","data-v-edab56db"]]),ht=Fe({setup(){const e=Ue(),s=_(()=>e),x=De(),G=_(()=>x),Z=Ve(),I=w();return we(()=>[G.value.positionInfoObj,Z.params.id],([v,S])=>{console.log(v,"##positionInfoObj"),v&&!Me(v)&&S&&(I.value=v[S],console.log(I.value,"##positionInfo.value"))},{immediate:!0,deep:!0}),{needReverse:_(()=>{var v;return(v=I.value)==null?void 0:v.needReverse}),positionInfo:I,getCoinIcon:v=>{var S;return console.log(v,"info##"),(v==null?void 0:v.logoURI)||(v==null?void 0:v.logo_url)||((S=s.value.tokensObj[v==null?void 0:v.address])==null?void 0:S.logo_url)||Ke("/image/coins/sui-unknown.png")},addCommom:U}}});const wt=e=>(Qe("data-v-0bdfedc0"),e=e(),xe(),e),$t={class:"pool-composition"},Ct=wt(()=>o("div",{class:"pool-composition-top"},"Pool Composition",-1)),It={class:"pool-composition-bottom"},At={class:"token-ratio"},Pt={class:"before-coin"},St={alt:""},Tt={class:"after-coin"},Rt={alt:""},qt={class:"token-num"},Bt={class:"num-box"},Nt={class:"num-box"};function Ot(e,s,x,G,Z,I){var v,S,t,n,h,a,r,A,d,m,P,B,N,J,p,u,F,O,V,ne,f,j,ae,ue,re,de,H,be;const g=uo,y=po("image");return k(),q("div",$t,[Ct,o("div",It,[o("div",At,[o("div",Pt,[o("div",null,[X(g,{address:e.needReverse?(n=(t=e.positionInfo)==null?void 0:t.token_b)==null?void 0:n.address:(S=(v=e.positionInfo)==null?void 0:v.token_a)==null?void 0:S.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"]),Be(o("img",St,null,512),[[y,e.needReverse?e.getCoinIcon((a=e.positionInfo)==null?void 0:a.token_b):e.getCoinIcon((h=e.positionInfo)==null?void 0:h.token_a)]])]),o("span",null,c((r=e.positionInfo)==null?void 0:r.poolCoinARatio)+"%",1)]),o("div",Tt,[o("span",null,c((A=e.positionInfo)==null?void 0:A.poolCoinBRatio)+"%",1),o("div",null,[Be(o("img",Rt,null,512),[[y,e.needReverse?e.getCoinIcon((m=e.positionInfo)==null?void 0:m.token_a):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b)]]),X(g,{address:e.needReverse?(J=(N=e.positionInfo)==null?void 0:N.token_a)==null?void 0:J.address:(B=(P=e.positionInfo)==null?void 0:P.token_b)==null?void 0:B.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])])])]),o("div",qt,[o("div",{class:"token-a-bg",style:to({width:`${(p=e.positionInfo)==null?void 0:p.poolCoinARatio}%`})},null,4),o("div",{class:"token-b-bg",style:to({width:`${(u=e.positionInfo)==null?void 0:u.poolCoinBRatio}%`})},null,4),o("div",Bt,[o("div",null,c(("addCommom"in e?e.addCommom:M(U))((F=e.positionInfo)==null?void 0:F.poolCoinANum))+" "+c(e.needReverse?(f=(ne=e.positionInfo)==null?void 0:ne.token_b)==null?void 0:f.symbol:(V=(O=e.positionInfo)==null?void 0:O.token_a)==null?void 0:V.symbol),1),o("div",null,"$"+c(("addCommom"in e?e.addCommom:M(U))((j=e.positionInfo)==null?void 0:j.poolCoinAUSD)),1)]),o("div",Nt,[o("div",null,c(("addCommom"in e?e.addCommom:M(U))((ae=e.positionInfo)==null?void 0:ae.poolCoinBNum))+" "+c(e.needReverse?(H=(de=e.positionInfo)==null?void 0:de.token_a)==null?void 0:H.symbol:(re=(ue=e.positionInfo)==null?void 0:ue.token_b)==null?void 0:re.symbol),1),o("div",null,"$"+c(("addCommom"in e?e.addCommom:M(U))((be=e.positionInfo)==null?void 0:be.poolCoinBUSD)),1)])])])])}const To=Ee(ht,[["render",Ot],["__scopeId","data-v-0bdfedc0"]]),Lt=Fe({setup(){const e=Ue(),s=_(()=>e),x=De(),G=_(()=>x),Z=Ve(),I=w();we(()=>[G.value.positionInfoObj,Z.params.id],([t,n])=>{console.log(t,"##positionInfoObj"),t&&!Me(t)&&n&&(I.value=t[n],console.log(I.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const g=_(()=>{var t;return(t=I.value)==null?void 0:t.needReverse}),y=t=>{var n;return console.log(t,"info##"),(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((n=s.value.tokensObj[t==null?void 0:t.address])==null?void 0:n.logo_url)||Ke("/image/coins/sui-unknown.png")},v=co(),S=_(()=>v);return{needReverse:g,positionInfo:I,getCoinIcon:y,addCommom:U,wallet:S}}});const so=e=>(Qe("data-v-c9de826f"),e=e(),xe(),e),Mt={class:"my-liquidity"},Ut={class:"my-liquidity-top"},Dt=so(()=>o("div",null,"My Liquidity",-1)),Ft=so(()=>o("p",null,"My share of pool",-1)),Vt={class:"my-liquidity-bottom"},Et={class:"lp-token"},Wt=so(()=>o("div",null,[o("span",null,"LP Token Balance ")],-1)),jt={class:"lp-balance"},Xt={class:"token-num-content"},Ht={class:"token-num token-a-num"},zt={class:"logo"},Yt=["src"],Gt={class:"text"},Zt={class:"lp-logo"},Jt=["src"],Kt=so(()=>o("div",null,"Pooled Assets",-1)),Qt={class:"token-num"},xt={class:"logo"},es=["src"],os={class:"text"},ns=so(()=>o("div",{class:"token-num-content-bg"},null,-1));function ts(e,s,x,G,Z,I){var y,v,S,t,n,h,a,r,A,d,m,P,B,N,J,p,u,F,O,V,ne,f,j,ae,ue,re,de,H;const g=uo;return k(),q("div",Mt,[o("div",Ut,[Dt,o("div",null,[Ft,o("p",null,c(e.wallet.connected?(y=e.positionInfo)==null?void 0:y.myShare:"--")+"%",1)])]),o("div",Vt,[o("div",Et,[Wt,o("div",null,[o("span",jt,c(e.wallet.connected?("addCommom"in e?e.addCommom:M(U))((v=e.positionInfo)==null?void 0:v.myLiquidity):"--")+" LP",1),o("span",null,"$"+c(e.wallet.connected?("addCommom"in e?e.addCommom:M(U))((S=e.positionInfo)==null?void 0:S.myLiquidityUSD):"--"),1)])]),o("div",Xt,[o("div",Ht,[o("div",zt,[o("img",{src:e.needReverse?e.getCoinIcon((n=e.positionInfo)==null?void 0:n.token_b):e.getCoinIcon((t=e.positionInfo)==null?void 0:t.token_a),alt:""},null,8,Yt),X(g,{address:e.needReverse?(A=(r=e.positionInfo)==null?void 0:r.token_b)==null?void 0:A.address:(a=(h=e.positionInfo)==null?void 0:h.token_a)==null?void 0:a.address,"style-params":{width:"14px",height:"14px",left:"18px",bottom:"0"}},null,8,["address"])]),o("div",Gt,[o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:M(U))((d=e.positionInfo)==null?void 0:d.amountA):"--")+" "+c(e.needReverse?(N=(B=e.positionInfo)==null?void 0:B.token_b)==null?void 0:N.symbol:(P=(m=e.positionInfo)==null?void 0:m.token_a)==null?void 0:P.symbol),1),o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:M(U))((J=e.positionInfo)==null?void 0:J.myAmountAUSD):"--"),1)])]),o("div",Zt,[o("img",{src:e.getCoinIcon((p=e.positionInfo)==null?void 0:p.lpInfo),alt:""},null,8,Jt),Kt]),o("div",Qt,[o("div",xt,[o("img",{src:e.needReverse?e.getCoinIcon((F=e.positionInfo)==null?void 0:F.token_a):e.getCoinIcon((u=e.positionInfo)==null?void 0:u.token_b),alt:""},null,8,es),X(g,{address:e.needReverse?(f=(ne=e.positionInfo)==null?void 0:ne.token_a)==null?void 0:f.address:(V=(O=e.positionInfo)==null?void 0:O.token_b)==null?void 0:V.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])]),o("div",os,[o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:M(U))((j=e.positionInfo)==null?void 0:j.amountB):"--")+" "+c(e.needReverse?(de=(re=e.positionInfo)==null?void 0:re.token_a)==null?void 0:de.symbol:(ue=(ae=e.positionInfo)==null?void 0:ae.token_b)==null?void 0:ue.symbol),1),o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:M(U))((H=e.positionInfo)==null?void 0:H.myAmountBUSD):"--"),1)])]),ns])])])}const Ro=Ee(Lt,[["render",ts],["__scopeId","data-v-c9de826f"]]),ss=Fe({components:{AutoPoolAddModal:Io},setup(){const e=co(),s=w(!1),x=ro(),G=_(()=>x),Z=_(()=>G.value.chainName),I=_(()=>e),g=De(),y=_(()=>g),v=Ue(),S=_(()=>v),t=w(),n=Ve(),h=w(!1);we(()=>[y.value.positionInfoObj,n.params.id],([b,T])=>{b&&!Me(b)&&T&&(t.value=b[T],console.log(t.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const a=_(()=>{var b,T;return console.log((b=t.value)==null?void 0:b.needReverse,"##positionInfo.value?.needReverse"),(T=t.value)==null?void 0:T.needReverse}),r=w(),A=w(),d=w(),m=w(),P=w(!0),B=_(()=>I.value.assets&&r.value&&I.value.assets[r.value.address]?fo(I.value.assets[r.value.address].balance,r.value.decimals):0),N=_(()=>I.value.assets&&A.value&&I.value.assets[A.value.address]?fo(I.value.assets[A.value.address].balance,A.value.decimals):0),J=b=>{b==="fromCoin"?(P.value=!0,d.value=B.value>0?r.value.symbol=="SUI"?new i(Number(B.value)).sub(new i(.05)).lt(new i(0))?"0":new i(Number(B.value)).sub(new i(.05)).toString():String(B.value):""):(P.value=!1,m.value=N.value>0?A.value.symbol=="SUI"?new i(Number(N.value)).sub(new i(.05)).lt(new i(0))?"0":new i(Number(N.value)).sub(new i(.05)).toString():String(N.value):"")},p=b=>{b==="fromCoin"?(P.value=!0,d.value=B.value>0?oe(new i(Number(B.value)).div(2).toString(),r.value.decimals).toString():""):(P.value=!1,m.value=N.value>0?oe(new i(Number(N.value)).div(2).toString(),A.value.decimals).toString():"")},u=_(()=>Z.value?ko(Z.value):{}),F=_(()=>G.value.slippage),O=w("--"),V=w("--"),ne=b=>{const T=new i(t.value.autoPoolPositionInfo.liquidity),z=new i(b.toString());if(T.toNumber()>0&&z.toNumber()>0){const me=z.add(T);console.log("totalLiquidity:",z.div(me).mul(100).toString());const ke=z.div(me).mul(100).toNumber(),K=Lo(ke),D=K==-1?2:K+2,ce=oe(z.div(me).mul(100).toNumber(),D);console.log(t.value.decimals,"##positionInfo.value.decimal");const pe=new i(1).div(new i(Math.pow(10,t.value.lpInfo.decimals))).toString();console.log(ce,pe,"###288"),Number(ce)<Number(pe)?O.value=`<${pe}`:O.value=ce}else z.toNumber()>0&&T.toNumber()<=0?O.value="100":O.value="--"},f=b=>{const T=new i(b.toString()),z=new i(F.value).div(100),me=T.mul(z),ke=T.sub(me),K=mo.get_lp_amount_by_liquidity({liquidity:t.value.liquidity,total_supply:t.value.total_supply},ke),D=new i(Math.pow(10,t.value.lpInfo.decimals)),ce=new i(K).div(D).toString();V.value=ce},j=w(!1),ae=w(!1),ue=w(""),re=w(),de=async()=>{if(!t.value)return;const b=t.value.autoPoolPositionInfo.tick_lower_index,T=t.value.autoPoolPositionInfo.tick_upper_index,z=Pe.sqrtPriceX64ToTickIndex(new Q(t.value.current_sqrt_price));let me=Pe.tickIndexToSqrtPriceX64(b),ke=Pe.tickIndexToSqrtPriceX64(T);z<b&&(a.value?j.value=!0:ae.value=!0),z>T&&(a.value?ae.value=!0:j.value=!0);let K;if(console.log(d.value||m.value,"#fromCoinAmount.value || toCoinAmount.value"),d.value||m.value){P.value?K=new i(d.value).mul(Math.pow(10,r.value.decimals)).toString():K=new i(m.value).mul(Math.pow(10,A.value.decimals)).toString();let D,ce=P.value;if(console.log("执行##"),ve.value||se.value){console.log(a.value?P.value:!P.value,"#needReverse.value?fixedFromCoin.value:!fixedFromCoin.value");const R=await Xe.calculateDepositSwapAmount({lowerTick:b,upperTick:T,curSqrtPrice:new Q(t.value.current_sqrt_price),fix_amount_a:ce,input_amount:K,coinTypeA:t.value.autoPoolPositionInfo.coin_type_a,coinTypeB:t.value.autoPoolPositionInfo.coin_type_b,clmm_pool:t.value.address});if(console.log(R,"###swapResult"),R){h.value=R.is_exceed,D=new Q(R.afterSqrtPrice),K=new Q(R.swapOutAmount),re.value={swap_amount:R.swapInAmount,a2b:ce},ce=!ce;const Y=t.value.token_a.decimals,L=t.value.token_b.decimals;ao.value=Pe.sqrtPriceX64ToPrice(R.afterSqrtPrice,Y,L).toString(),console.log(ao.value,"##afterCurrentPrice.value");const le=new i(R.swapInAmount).div(new i(Math.pow(10,Y))).toString(),fe=new i(R.swapOutAmount).div(new i(Math.pow(10,L))).toString(),ie=a.value?t.value.token_b.symbol:t.value.token_a.symbol,W=a.value?t.value.token_a.symbol:t.value.token_b.symbol;ue.value=`To deposit ${ve.value?d.value:m.value} ${ve.value?ie:W},
          ${le} ${ve.value?ie:W}  will be traded for ${fe} ${ve.value?W:ie} added to the pool.`}else D=t.value.current_sqrt_price,K=new Q(K),ao.value=""}else h.value=!1,D=t.value.current_sqrt_price,K=new Q(K),ao.value="",ue.value="";console.log(re,"##swapParams");let pe,l,C;if(z>=b&&z<=T){const R=u.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:r.value,tokenB:A.value,lowerTick:b,upperTick:T,coinAmount:K,iscoinA:ce,roundUp:!0,slippage:Number(F.value)/100,curSqrtPrice:new Q(D)});pe=R.liquidityAmount,l=R.tokenMaxA,C=R.tokenMaxB,!ve.value&&!se.value&&(P.value?m.value=Number(C)>0?C:"":d.value=Number(l)>0?l:"")}else z<T?pe={liquidityAmount:No(me,ke,K),tokenMaxA:0,tokenMaxB:m.value}.liquidityAmount:pe={liquidityAmount:Oo(me,ke,K),tokenMaxA:d.value,tokenMaxB:0}.liquidityAmount;console.log(pe.toString(),"liquidityAmount###"),ne(pe),f(pe)}};we(()=>t.value,b=>{b&&!Me(b)&&(r.value=b==null?void 0:b.token_a,A.value=b==null?void 0:b.token_b,j.value=!1,ae.value=!1,de())},{immediate:!0});const H=_(()=>S.value.RATES),be=_(()=>{var b,T,z,me,ke,K,D,ce,pe,l;if((T=H.value[(b=r.value)==null?void 0:b.address])!=null&&T.price&&((me=H.value[(z=A.value)==null?void 0:z.address])!=null&&me.price)){console.log((K=H.value[(ke=r.value)==null?void 0:ke.address])==null?void 0:K.price,"RATES.value[fromCoin.value?.address]?.price");const C=new i(d.value||0).mul(new i((ce=H.value[(D=r.value)==null?void 0:D.address])==null?void 0:ce.price)),R=new i(m.value||0).mul(new i((l=H.value[(pe=A.value)==null?void 0:pe.address])==null?void 0:l.price));return Ze(C.add(R).toString(),2)}else return"--"});we(()=>d.value,(b,T)=>{b?de():(O.value="--",m.value="",V.value="--")},{immediate:!0}),we(()=>m.value,(b,T)=>{b?de():(d.value="",O.value="--",V.value="--")},{immediate:!0});const{t:ge,locale:$}=go(),ee=_(()=>{const b=Number(d.value)>Number(B.value),T=Number(m.value)>Number(N.value);return!d.value&&!m.value?ge("button.enterAmount"):b?ge("button.insufficientBalance",{name:r.value.symbol}):T?ge("button.insufficientBalance",{name:A.value.symbol}):h.value?ge("button.insufficientLiquidity"):"Add Liquidity"}),We=_(()=>{const b=Number(d.value)>Number(B.value),T=Number(m.value)>Number(N.value);return!!(!d.value&&!m.value||b||T||d.value<=0&&m.value<=0||h.value)}),Ce=w(!0),{setIsShowSuccess:je,setIsShowRejected:Ne,setIsShowWaiting:Se,setTransactionDesc:Re,setTransactionTxid:Oe,setPositiomNum:Le}=x,Xe=_o("Sui"),He=async()=>{var pe,l;s.value=!1,Ce.value=!0,Oe("");const b=`${U(d.value)} ${(pe=r.value)==null?void 0:pe.symbol}`,T=`${U(m.value)} ${(l=A.value)==null?void 0:l.symbol}`;Re(`Deposit ${d.value>0?b:""} ${m.value>0&&d.value>0?"and":""} ${m.value>0?T:""}`),Se(!0);const z=P.value,me=t.value.autoPoolPositionInfo.tick_lower_index,ke=t.value.autoPoolPositionInfo.tick_upper_index,K=Pe.sqrtPriceX64ToTickIndex(new Q(t.value.current_sqrt_price));let D;P.value?D=new i(d.value).mul(Math.pow(10,r.value.decimals)).toString():D=new i(m.value).mul(Math.pow(10,A.value.decimals)).toString();const ce=t.value.rewarderInfo.map(C=>C.coinAddress);try{const C={lowerTick:me,upperTick:ke,coinAmount:D,fix_amount_a:z,slippage:Number(F.value)/100,curSqrtPrice:new Q(t.value.current_sqrt_price),id:t.value.id,clmm_pool:t.value.autoPoolPositionInfo.pool,lp_token_type:t.value.lp_token_type,coinTypeA:t.value.autoPoolPositionInfo.coin_type_a,coinTypeB:t.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:ce,swapParams:re.value,isOnlyA:ve.value,isOnlyB:se.value,currentTickIndex:K},R=await Xe.deposit(C);console.log(R,"===>payloadAdd11111");const Y=await I.value.currentWallet.signAndExecuteTransactionBlock(R);let L=u.value.handleTx(Y);if(console.log("toAdd###tx###",L),L&&L.hash){Oe(L.hash),Se(!1),je(!0),console.log(t,"===>positionInfo");const le={title:"Supplied",desc:`Deposit ${d.value>0?b:""} ${m.value>0&&d.value>0?"and":""} ${m.value>0?T:""}`,hash:L.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deposit ${d.value>0?b:""} ${m.value>0&&d.value>0?"and":""} ${m.value>0?T:""}`};Z.value!=="Aptos"&&(le.res=L.res),u.value.showTransitionPending(le),await u.value.watchTransaction(le)&&setTimeout(()=>{g.updatePositionItem(t.value.id),u.value.getAccount(I.value.address)},1e3),Le()}else Se(!1),Ne(!0);d.value="",m.value="",Ce.value=!1}catch(C){d.value="",m.value="",console.log("addError###",C),Ce.value=!1,Se(!1),Ne(!0)}},ve=w(!1),se=w(!1);return{wallet:I,positionInfo:t,isShowAddModal:s,needReverse:a,fromCoin:r,toCoin:A,fromCoinAmount:d,toCoinAmount:m,fromCoinBlance:B,toCoinBlance:N,fixedFromCoin:P,maxBtnSelect:J,halfBtnSelect:p,totalAmountUSD:be,addCommom:U,shareOfPool:O,minimumReceivedLP:V,addLiquidityBtnText:ee,addLiquidityBtnDisabled:We,toAdd:He,showToCoinLock:ae,showFromCoinLock:j,isOnlyA:ve,isOnlyB:se,onlyToken:b=>{d.value="",m.value="",ue.value="",b=="only-a"?(ve.value=!ve.value,se.value=!1):(se.value=!se.value,ve.value=!1)},onlyText:ue}}});const eo=e=>(Qe("data-v-476f2fce"),e=e(),xe(),e),ls={class:"auto-pool-add"},is={class:"auto-pool-add-content"},as={class:"liquidity-action-tab"},us=eo(()=>o("div",{class:"increase tab-active"},"Add",-1)),rs={class:"only-token"},ds=eo(()=>o("div",null,"Deposit Amounts",-1)),vs={key:0},ms={key:0},cs={key:0,class:"card-item"},ps={key:1,class:"card-item"},fs=eo(()=>o("span",null,"Pool Closed",-1)),ys={class:"add-info"},bs={key:0,class:"only-text"},ks={class:"total-amount"},_s=eo(()=>o("span",null,"Total Amount",-1)),gs={class:"total-amount"},hs=eo(()=>o("span",null,"Share of Pool",-1)),ws={class:"total-amount"},$s=eo(()=>o("span",null,"Minimum Received LP",-1));function Cs(e,s,x,G,Z,I){var t,n,h,a,r,A,d,m,P,B,N,J,p;const g=$o,y=Co,v=wo,S=Io;return k(),q("div",ls,[o("div",is,[o("div",as,[us,o("div",{class:"remove",onClick:s[0]||(s[0]=ho(u=>e.$emit("changeCurrentTab"),["stop"]))},"Remove")]),o("div",rs,[ds,o("div",null,[o("div",{class:"only-a",onClick:s[1]||(s[1]=u=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(k(),q("span",vs)):te("",!0)]),o("span",null,c(e.needReverse?(a=(h=e.positionInfo)==null?void 0:h.token_b)==null?void 0:a.symbol:(n=(t=e.positionInfo)==null?void 0:t.token_a)==null?void 0:n.symbol)+" only",1)]),o("div",{class:"only-b",onClick:s[2]||(s[2]=u=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(k(),q("span",ms)):te("",!0)]),o("span",null,c(e.needReverse?(m=(d=e.positionInfo)==null?void 0:d.token_a)==null?void 0:m.symbol:(A=(r=e.positionInfo)==null?void 0:r.token_b)==null?void 0:A.symbol)+" only",1)])])]),o("div",{class:vo(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(k(),q("div",cs,[X(g,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":s[3]||(s[3]=u=>e.fromCoinAmount=u),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:s[4]||(s[4]=u=>e.maxBtnSelect("fromCoin")),onOnHalf:s[5]||(s[5]=u=>e.halfBtnSelect("fromCoin")),onOnInput:s[6]||(s[6]=u=>{e.fromCoinAmount=u}),onOnFocus:s[7]||(s[7]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.isOnlyA?(k(),_e(y,{key:0})):te("",!0)])):te("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(k(),q("div",ps,[X(g,{modelValue:e.toCoinAmount,"onUpdate:modelValue":s[8]||(s[8]=u=>e.toCoinAmount=u),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:s[9]||(s[9]=u=>e.maxBtnSelect("toCoin")),onOnHalf:s[10]||(s[10]=u=>e.halfBtnSelect("toCoin")),onOnInput:s[11]||(s[11]=u=>{e.toCoinAmount=u}),onOnFocus:s[12]||(s[12]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.isOnlyB?(k(),_e(y,{key:0})):te("",!0)])):te("",!0)],2)]),(P=e.positionInfo)!=null&&P.is_pause?(k(),_e(v,{key:0,class:"big-btn liquidity-btn",disabled:!0},{default:Je(()=>[fs]),_:1})):e.wallet.connected?(k(),_e(v,{key:1,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,onClick:s[13]||(s[13]=u=>e.isShowAddModal=!0)},{default:Je(()=>[o("span",null,c(e.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(k(),_e(v,{key:2,class:"big-btn liquidity-btn",onClick:s[14]||(s[14]=u=>e.wallet.setIsShowWalletModal(!0))},{default:Je(()=>[o("span",null,c(e.$t("button.connectWallet")),1)]),_:1})),o("div",ys,[e.onlyText?(k(),q("div",bs,c(e.onlyText),1)):te("",!0),o("div",ks,[_s,o("span",null,"$"+c(("addCommom"in e?e.addCommom:M(U))(e.totalAmountUSD)),1)]),o("div",gs,[hs,o("span",null,c(e.shareOfPool)+"%",1)]),o("div",ws,[$s,o("span",null,c(("addCommom"in e?e.addCommom:M(U))(e.minimumReceivedLP))+" "+c(e.needReverse?(B=e.toCoin)==null?void 0:B.symbol:(N=e.fromCoin)==null?void 0:N.symbol)+"-"+c(e.needReverse?(J=e.fromCoin)==null?void 0:J.symbol:(p=e.toCoin)==null?void 0:p.symbol),1)])]),e.isShowAddModal?(k(),_e(S,{key:3,"pool-info":e.positionInfo,"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"total-amount":e.totalAmountUSD,"share-of-pool":e.shareOfPool,"minimum-received-l-p":e.minimumReceivedLP,"is-only-a":e.isOnlyA,"is-only-b":e.isOnlyB,onOnClose:s[15]||(s[15]=u=>e.isShowAddModal=!1),onToAdd:e.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","is-only-a","is-only-b","onToAdd"])):te("",!0)])}const Is=Ee(ss,[["render",Cs],["__scopeId","data-v-476f2fce"]]),As=Fe({components:{AutoPoolRemoveModal:Ao},setup(){const e=co(),s=_(()=>e),x=ro(),G=_(()=>x),Z=_(()=>G.value.slippage),I=_(()=>G.value.chainName),g=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],y=w(25),v=Ve(),S=De(),t=_(()=>S),n=_(()=>(console.log(t.value.positionInfoObj[v.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),t.value.positionInfoObj[v.params.id])),h=_(()=>{var l;return(l=n.value)==null?void 0:l.needReverse}),a=w(),r=w(),A=w(!1),d=w(),m=_(()=>{var l;return(l=n.value)==null?void 0:l.myLiquidity}),P=w(!0),B=_(()=>I.value?ko(I.value):{}),N=w(),J=_o("Sui"),p=w(""),u=w(""),F=w("--"),O=w(!1),V=w(!1),ne=w(),f=w(!0),j=w(),ae=Ue(),ue=_(()=>ae),re=_(()=>ue.value.RATES),de=async()=>{if(P.value||!n.value)return;const l=n.value.autoPoolPositionInfo.tick_lower_index,C=n.value.autoPoolPositionInfo.tick_upper_index,R=Pe.sqrtPriceX64ToTickIndex(new Q(n.value.current_sqrt_price));R<l&&(h.value?O.value=!0:V.value=!0),R>C&&(h.value?V.value=!0:O.value=!0);let Y;if(console.log(p.value||u.value,"#fromCoinAmount.value || toCoinAmount.value"),p.value||u.value){f.value?Y=new i(p.value).mul(Math.pow(10,a.value.decimals)).toString():Y=new i(u.value).mul(Math.pow(10,r.value.decimals)).toString();let L,le=f.value;if($.value||ee.value){const E=await J.calculateRemoveSwapAmount({lowerTick:l,upperTick:C,curSqrtPrice:new Q(n.value.current_sqrt_price),fix_amount_a:le,receiveAmount:Y,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address});if(console.log(E,"###swapResult"),E){N.value=E.is_exceed,Y=new Q(E.swapOutAmount),L=n.value.current_sqrt_price,ne.value={swap_amount:E.swapInAmount,liquidity:E.liquidity,a2b:!le},le=!le;const ze=n.value.token_a.decimals,Ye=n.value.token_b.decimals,Ae=new i(E.swapInAmount).div(new i(Math.pow(10,ze))).toString(),Ie=new i(E.swapOutAmount).div(new i(Math.pow(10,Ye))).toString(),he=h.value?n.value.token_b.symbol:n.value.token_a.symbol,Ge=h.value?n.value.token_a.symbol:n.value.token_b.symbol;j.value=p.value==D.value||u.value==D.value?`To withdraw ${$.value?p.value:u.value} ${$.value?he:Ge},
          ${$.value?n.value.amountB:n.value.amountA} ${$.value?Ge:he} 
           in the pool will be traded for ${Ae} ${$.value?he:Ge}`:`To withdraw ${$.value?p.value:u.value} ${$.value?he:Ge},
          ${Ae} ${$.value?Ge:he}  in the pool will be traded for ${Ie} ${$.value?he:Ge}`}else L=n.value.current_sqrt_price,Y=new Q(Y),j.value=""}else N.value=!1,L=n.value.current_sqrt_price,Y=new Q(Y);console.log(L,"##curSqrtPrice"),console.log("执行了吗##");const{liquidityAmount:fe,tokenMaxA:ie,tokenMaxB:W}=B.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:a.value,tokenB:r.value,lowerTick:l,upperTick:C,coinAmount:Y,iscoinA:le,roundUp:!1,slippage:Number(Z.value)/100,curSqrtPrice:new Q(L)});console.log(n.value.current_sqrt_price,"##positionInfo.value.current_sqrt_price"),console.log(W.toString(),ie.toString(),n.value,"###323"),!$.value&&!ee.value&&(f.value?u.value=Number(W)>0?W:"":p.value=Number(ie)>0?ie:"");const Te=mo.get_lp_amount_by_liquidity({liquidity:n.value.liquidity,total_supply:n.value.total_supply},fe.toString());d.value=new i(Te).div(new i(Math.pow(10,n.value.lpInfo.decimals))).toString(),console.log(Te,d.value,m.value,"####392");const ye=($.value||ee.value)&&(p.value==D.value||u.value==D.value)?new i(100):new i(d.value).div(new i(m.value)).mul(100);console.log(ye.toString(),"ratio##"),F.value=$.value||ee.value&&(p.value==D.value||u.value==D.value)?n.value.myLiquidity:d.value,H.value=fe.toString(),y.value=ye.toNumber()}},H=w(),be=_(()=>{var l;return(l=n==null?void 0:n.value)==null?void 0:l.amountA}),ge=_(()=>{var l;return(l=n==null?void 0:n.value)==null?void 0:l.amountB}),$=w(!1),ee=w(!1),We=_(()=>{var le,fe,ie,W;const l=(fe=re.value[(le=a==null?void 0:a.value)==null?void 0:le.address])==null?void 0:fe.price,C=(W=re.value[(ie=r==null?void 0:r.value)==null?void 0:ie.address])==null?void 0:W.price;console.log(l,C,p.value,u.value,"####totalWithdraw");let R=p.value!=="--"&&p.value!==""?p.value:0,Y=u.value!=="--"&&u.value!==""?u.value:0,L;return l&&C&&($.value||ee.value?L=new i($.value?R:Y).mul(new i($.value?l:C)).toString():(L=new i(R).mul(new i(l)).add(new i(Y).mul(new i(C))).toString(),console.log(L,"result##"))),L>0&&L<.01?"<$0.01":`$${U(oe(L,2))}`}),Ce=async l=>{if(!P.value)return;P.value=!0,n.value.token_a.decimals,n.value.token_b.decimals;const C=n.value.tick_lower_index,R=n.value.tick_upper_index;Pe.tickIndexToSqrtPriceX64(C),Pe.tickIndexToSqrtPriceX64(R);const Y=n.value.autoPoolPositionInfo.tick_lower_index,L=n.value.autoPoolPositionInfo.tick_upper_index,le=Pe.sqrtPriceX64ToTickIndex(new Q(n.value.current_sqrt_price));le<Y&&(h.value?O.value=!0:V.value=!0),le>L&&(h.value?V.value=!0:O.value=!0);let fe="",ie,W;console.log(l.value,"##item.value"),console.log(W,"##coinAmount");let Te=f.value;if(console.log("执行##"),$.value||ee.value&&!O.value&&!V.value){if($.value){const E=new i(D.value).mul(Math.pow(10,a.value.decimals)).mul(l.value).toString();console.log(E,"##amount"),W=oe(E,0),p.value=oe(new i(D.value).mul(l.value).toString(),a.value.decimals)}if(ee.value){const E=new i(D.value).mul(l.value).mul(Math.pow(10,r.value.decimals)).toString();W=oe(E,0),u.value=oe(new i(D.value).mul(l.value).toString(),r.value.decimals)}const ye=await J.calculateRemoveSwapAmount({lowerTick:C,upperTick:R,curSqrtPrice:new Q(n.value.current_sqrt_price),fix_amount_a:Te,receiveAmount:W,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address});if(console.log(ye,"###swapResult"),ye){N.value=ye.is_exceed,W=new Q(ye.swapOutAmount),n.value.current_sqrt_price,ne.value={swap_amount:ye.swapInAmount,liquidity:ye.liquidity,a2b:!Te},Te=!Te;const E=n.value.token_a.decimals,ze=n.value.token_b.decimals,Ye=new i(ye.swapInAmount).div(new i(Math.pow(10,E))).toString(),Ae=new i(ye.swapOutAmount).div(new i(Math.pow(10,ze))).toString(),Ie=h.value?n.value.token_b.symbol:n.value.token_a.symbol,he=h.value?n.value.token_a.symbol:n.value.token_b.symbol;j.value=l.value==1?`To withdraw ${$.value?p.value:u.value} ${$.value?Ie:he},
          ${$.value?n.value.amountB:n.value.amountA} ${$.value?he:Ie}  in the pool will be traded for ${Ye} ${$.value?Ie:he}`:`To withdraw ${$.value?p.value:u.value} ${$.value?Ie:he},
          ${Ae} ${$.value?he:Ie}  in the pool will be traded for ${Ye} ${$.value?Ie:he}`,fe=ye.liquidity}else n.value.current_sqrt_price,W=new Q(W),j.value="";console.log(ie,"result###"),F.value=oe(new i(n.value.myLiquidity).mul(new i(l.value)).toString(),0),console.log(n.value,n.value.liquidity,fe,F.value,"###positionInfo.value.liquidity"),console.log(F.value,"##lpTokenAmount.value"),d.value=new i(F.value),H.value=fe}else{N.value=!1;const ye=new i(be.value).mul(Math.pow(10,a.value.decimals)).mul(l.value).toString();W=oe(ye,0),p.value=oe(new i(be.value).mul(l.value).toString(),a.value.decimals);const E=new i(ge.value).mul(l.value).mul(Math.pow(10,r.value.decimals)).toString();W=oe(E,0),u.value=oe(new i(ge.value).mul(l.value).toString(),r.value.decimals),n.value.current_sqrt_price,W=new Q(W),l.value!==1?ie=new i(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).mul(l.value).toString():ie=new i(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).toString(),d.value=new i(ie).div(Math.pow(10,n.value.lpInfo.decimals)),fe=mo.get_share_liquidity_by_amount({liquidity:n.value.liquidity,total_supply:n.value.total_supply},ie),F.value=oe(ie,0),H.value=oe(fe,0),console.log(fe,"###newLiquidity525")}};we(y,Mo((l,C)=>{l!==C&&(Number(l)>100?y.value=100:l&&n.value?(console.log("687===>"),y.value=l,Ce({value:y.value/100})):(p.value="",u.value=""))},300)),we(()=>p.value,(l,C)=>{l?de():(u.value="",y.value=0)},{immediate:!0}),we(()=>u.value,(l,C)=>{l?de():(p.value="",y.value=0)},{immediate:!0});const je=Uo(),{setIsShowSuccess:Ne,setIsShowRejected:Se,setIsShowWaiting:Re,setTransactionDesc:Oe,setTransactionTxid:Le,setPositiomNum:Xe,setTransactionDescText:He}=x,ve=w(!1),{t:se}=go(),oo=async()=>{var Te,ye;ve.value=!0,Le("");const l=Number(p.value)>0?`${U(p.value,a.value.decimals)} ${a.value.symbol}`:"",C=Number(u.value)>0?`${U(u.value,r.value.decimals)} ${r.value.symbol}`:"";console.log(l,C,"###transactionDescTo"),Oe(se("tips.removeLiquidiyText",{from:h.value?C:l,and:Number(p.value)>0&&Number(u.value)>0?"and":"",to:h.value?l:C})),Re(!0);const R=se("modal.removeLiquidityText2");He(R);const Y=n.value.autoPoolPositionInfo.tick_lower_index,L=n.value.autoPoolPositionInfo.tick_upper_index,le=Pe.tickIndexToSqrtPriceX64(Y),fe=Pe.tickIndexToSqrtPriceX64(L),ie=n.value.rewarderInfo.map(E=>E.coinAddress);console.log(H.value,F.value,"##liquidityVal.value");let W;f.value?W=new i(p.value).mul(Math.pow(10,a.value.decimals)).toString():W=new i(u.value).mul(Math.pow(10,r.value.decimals)).toString();try{console.log(F.value,H.value,n.value.object.current_sqrt_price,"698##");const E={lowerSqrtPrice:le,upperSqrtPrice:fe,lpTokenAmount:new Q(F.value),liquidity:new Q(H.value),curSqrtPrice:new Q(n.value.object.current_sqrt_price),slippage:Number(Z.value)/100,id:n.value.id,clmm_pool:n.value.autoPoolPositionInfo.pool,lp_token_type:n.value.lp_token_type,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:ie,swapParams:ne.value,fix_amount_a:f.value,isOnlyA:!O.value&&!V.value?$.value:!1,isOnlyB:!V.value&&!O.value?ee.value:!1,lowerTick:Y,upperTick:L,receiveAmount:W,sliderVal:y.value},ze=await J.remove(E);console.log(ze,"移除流动性payload");const Ye=await s.value.currentWallet.signAndExecuteTransactionBlock(ze);let Ae=B.value.handleTx(Ye);if(console.log("0331###remove###tx####",Ae),Ae&&Ae.hash){Le(Ae.hash),Re(!1),Ne(!0);const Ie={title:se("common.removeLiquidity"),desc:"",hash:Ae.hash,descTransactions:`Remove ${l} ${Number(p.value)>0&&Number(u.value)>0?"and":""} ${C} from the pool`,sender:s.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${p.value} ${(Te=a.value)==null?void 0:Te.symbol} and ${u.value} ${(ye=r.value)==null?void 0:ye.symbol}`};Ie.res=Ae.res,B.value.showTransitionPending(Ie),await B.value.watchTransaction(Ie)&&(p.value="",u.value="",d.value="",y.value=0,setTimeout(()=>{S.updatePositionItem(n.value.id),B.value.getAccount(s.value.address)},1e3),Number(y.value)==100&&v.name=="auto-pool-detail"&&je.push("/pool/auto"))}else Re(!1),Se(!0);ve.value=!1}catch(E){console.log("Remove error",E),ve.value=!1,Re(!1),Se(!0)}};we(()=>n.value,(l,C)=>{l&&!Me(l)&&(a.value=l==null?void 0:l.token_a,r.value=l==null?void 0:l.token_b,console.log("触发###"),(!C||C&&C.address!==l.address)&&(y.value=y.value>0?y.value:25,Ce({value:y.value/100})))},{immediate:!0});const b=_(()=>{const l=Number(d.value)>Number(m.value);return!p.value&&!u.value||!d.value||d.value<=0||!p.value&&$.value||!u.value&&ee.value?se("button.enterAmount"):l?"Invalid Amount":N.value?se("button.insufficientLiquidity"):se("button.remove")}),T=_(()=>{const l=Number(d.value)>Number(m.value);return!!(!p.value&&!u.value||Number(p.value)<=0&&$.value||Number(u.value)<=0&&ee.value||!d.value||d.value<=0||l||N.value)}),z=l=>(l==null?void 0:l.logoURI)||(l==null?void 0:l.logo_url)||Ke("/image/coins/sui-unknown.png"),me=l=>{p.value="",u.value="",P.value=!0,j.value="",l=="only-a"?($.value=!$.value,ee.value=!1,f.value=!0):(ee.value=!ee.value,$.value=!1,f.value=!1)},ke=l=>{P.value=!0,y.value=100,l==="fromCoin"?f.value=!0:f.value=!1},K=l=>{P.value=!0,y.value=50,l==="fromCoin"?f.value=!0:f.value=!1},D=w(),ce=async()=>{f.value;const l=n.value.token_a.decimals,C=n.value.token_b.decimals,R=$.value?ge.value:be.value;console.log(R,"###receiveAmount");const Y=a.value.address===n.value.token_a.address&&r.value.address===n.value.token_b.address?0:1;if($.value||ee.value){console.log(R,"##receiveAmount");let L=await B.value.preSwap({pool:{address:n.value.address,coinA:n.value.token_a,coinB:n.value.token_b},a2b:Y==1,byAmountIn:!0,amount:R});console.log(L,L.estimatedAmountOut,l,C,"##preSwapRes"),D.value=new i(L.estimatedAmountOut).add(new i($.value?be.value:ge.value)).toString(),console.log(D.value,"###onlyTokenBalance.value"),Ce({value:y.value/100})}};return we(()=>[$.value,ee.value],([l,C])=>{l||C?ce():Ce({value:y.value/100})},{immediate:!0}),{removeLiquidityBtnText:b,removeLiquidityBtnDisabled:T,wallet:s,ratioArr:g,positionInfo:n,isShowRemoveModal:A,needReverse:h,fromCoin:a,toCoin:r,lpAmount:d,lpBalance:m,sliderVal:y,sFixD:oe,isSlider:P,fromCoinAmount:p,toCoinAmount:u,setPercent:Ce,toRemove:oo,addCommom:U,getCoinIcon:z,isOnlyA:$,isOnlyB:ee,onlyToken:me,fixedFromCoin:f,maxBtnSelect:ke,halfBtnSelect:K,fromCoinBlance:be,toCoinBlance:ge,showFromCoinLock:O,showToCoinLock:V,removeText:j,onlyTokenBalance:D,totalWithdraw:We,formatter:l=>`${l}%`}}});const lo=e=>(Qe("data-v-7ca2e7d2"),e=e(),xe(),e),Ps={class:"auto-pool-add"},Ss={class:"auto-pool-add-content"},Ts={class:"liquidity-action-tab"},Rs=lo(()=>o("div",{class:"remove tab-active"},"Remove",-1)),qs={key:0,class:"only-token"},Bs=lo(()=>o("div",null,"Deposit Amounts",-1)),Ns={key:0},Os={key:0},Ls={key:0,class:"card-item"},Ms={key:1,class:"card-item"},Us={class:"remove-ratio"},Ds={class:"remove-ratio-select"},Fs={key:0,class:"ratio"},Vs={key:1,class:"ratio"},Es={class:"ratio-list"},Ws=["onClick"],js=lo(()=>o("span",null,"Pool Closed",-1)),Xs={key:3,class:"remove-info"},Hs={key:0,class:"remove-text total-amount"},zs={class:"total-amount"},Ys=lo(()=>o("span",null,"Total Withdraw",-1)),Gs={class:"total-amount"},Zs=lo(()=>o("span",null,"LP Burn Amount",-1)),Js={key:0},Ks={key:1};function Qs(e,s,x,G,Z,I){var n,h,a,r,A,d,m,P,B,N,J,p,u,F,O,V,ne;const g=$o,y=Co,v=Vo,S=wo,t=Ao;return k(),q("div",Ps,[o("div",Ss,[o("div",Ts,[o("div",{class:"increase",onClick:s[0]||(s[0]=ho(f=>e.$emit("changeCurrentTab"),["stop"]))},"Add"),Rs]),!e.showFromCoinLock&&!e.showToCoinLock?(k(),q("div",qs,[Bs,o("div",null,[o("div",{class:"only-a",onClick:s[1]||(s[1]=f=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(k(),q("span",Ns)):te("",!0)]),o("span",null,c(e.needReverse?(r=(a=e.positionInfo)==null?void 0:a.token_b)==null?void 0:r.symbol:(h=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:h.symbol)+" only",1)]),o("div",{class:"only-b",onClick:s[2]||(s[2]=f=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(k(),q("span",Os)):te("",!0)]),o("span",null,c(e.needReverse?(P=(m=e.positionInfo)==null?void 0:m.token_a)==null?void 0:P.symbol:(d=(A=e.positionInfo)==null?void 0:A.token_b)==null?void 0:d.symbol)+" only",1)])])])):te("",!0),o("div",{class:vo(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(k(),q("div",Ls,[X(g,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":s[3]||(s[3]=f=>e.fromCoinAmount=f),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.isOnlyA?e.onlyTokenBalance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:s[4]||(s[4]=f=>e.maxBtnSelect("fromCoin")),onOnHalf:s[5]||(s[5]=f=>e.halfBtnSelect("fromCoin")),onOnInput:s[6]||(s[6]=f=>{e.isSlider=!1,e.fromCoinAmount=f}),onOnFocus:s[7]||(s[7]=()=>{e.isSlider=!1,e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(k(),_e(y,{key:0})):te("",!0)])):te("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(k(),q("div",Ms,[X(g,{modelValue:e.toCoinAmount,"onUpdate:modelValue":s[8]||(s[8]=f=>e.toCoinAmount=f),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.isOnlyB?e.onlyTokenBalance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:s[9]||(s[9]=f=>e.maxBtnSelect("toCoin")),onOnHalf:s[10]||(s[10]=f=>e.halfBtnSelect("toCoin")),onOnInput:s[11]||(s[11]=f=>{e.isSlider=!1,e.toCoinAmount=f}),onOnFocus:s[12]||(s[12]=()=>{e.isSlider=!1,e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(k(),_e(y,{key:0})):te("",!0)])):te("",!0)],2),o("div",Us,[o("div",Ds,[Number(e.lpBalance)>=Number(e.lpAmount)?(k(),q("div",Fs,c(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:M(oe))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:M(oe))(e.sliderVal,2))+"% ",1)):(k(),q("div",Vs,"--")),o("div",Es,[(k(!0),q(Do,null,Fo(e.ratioArr,(f,j)=>(k(),q("div",{key:j,class:vo(["ratio-item",e.sliderVal==f.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=f.value}},c(f.name),11,Ws))),128))])]),X(v,{value:e.sliderVal,"onUpdate:value":s[13]||(s[13]=f=>e.sliderVal=f),"tip-formatter":e.formatter,onChange:s[14]||(s[14]=f=>e.isSlider=!0)},null,8,["value","tip-formatter"])])]),(B=e.positionInfo)!=null&&B.is_pause?(k(),_e(S,{key:0,class:"big-btn liquidity-btn",disabled:!0},{default:Je(()=>[js]),_:1})):e.wallet.connected?(k(),_e(S,{key:1,class:"big-btn liquidity-btn",disabled:e.removeLiquidityBtnDisabled,onClick:s[15]||(s[15]=f=>e.toRemove())},{default:Je(()=>[o("span",null,c(e.removeLiquidityBtnText),1)]),_:1},8,["disabled"])):(k(),_e(S,{key:2,class:"big-btn liquidity-btn",onClick:s[16]||(s[16]=f=>e.wallet.setIsShowWalletModal(!0))},{default:Je(()=>[o("span",null,c(e.$t("button.connectWallet")),1)]),_:1})),e.removeLiquidityBtnDisabled?te("",!0):(k(),q("div",Xs,[e.removeText&&(e.isOnlyA&&e.fromCoinAmount||e.isOnlyB&&e.toCoinAmount)?(k(),q("div",Hs,c(e.removeText),1)):te("",!0),o("div",zs,[Ys,o("span",null,c(e.totalWithdraw),1)]),o("div",Gs,[Zs,e.fromCoinAmount||e.toCoinAmount?(k(),q("span",Js,c(("addCommom"in e?e.addCommom:M(U))(e.lpAmount))+" "+c(e.needReverse?(N=e.toCoin)==null?void 0:N.symbol:(J=e.fromCoin)==null?void 0:J.symbol)+"-"+c(e.needReverse?(p=e.fromCoin)==null?void 0:p.symbol:(u=e.toCoin)==null?void 0:u.symbol),1)):(k(),q("span",Ks,"0 "+c(e.needReverse?(F=e.toCoin)==null?void 0:F.symbol:(O=e.fromCoin)==null?void 0:O.symbol)+"-"+c(e.needReverse?(V=e.fromCoin)==null?void 0:V.symbol:(ne=e.toCoin)==null?void 0:ne.symbol),1))])])),e.isShowRemoveModal?(k(),_e(t,{key:4,"pool-info":e.positionInfo,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,onOnClose:s[17]||(s[17]=f=>e.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):te("",!0)])}const xs=Ee(As,[["render",Qs],["__scopeId","data-v-7ca2e7d2"]]),el=Fe({components:{AutoPoolV2Info:Po,AutoPoolV2PositionRange:So,AutoPoolV2PoolComposition:To,AutoPoolV2PoolLiquidity:Ro,AutoPoolV2PoolAdd:Is,AutoPoolV2PoolRemove:xs},setup(){const e=De(),s=Ue(),x=ro(),G=_(()=>x),Z=()=>{e.getAutoPoolAPY(),e.getAutoPoolList(),s.setPoolConfigList(G.value.chainName,G.value.filterCoinsObj)},I=w(),g=Ve();return we(()=>g.query.action,y=>{y&&(I.value=y)},{immediate:!0}),{clickRefresh:Z,currentTab:I}}});const ol={class:"auto-pool-detail-v2"},nl={class:"detail-top"},tl={class:"detail-bottom pc-detail"},sl={class:"detail-bottom-left"},ll={class:"detail-bottom-right"},il={class:"h5-detail"};function al(e,s,x,G,Z,I){const g=qo,y=Po,v=So,S=To,t=Ro,n=yo("AutoPoolV2PoolAdd"),h=yo("AutoPoolV2PoolRemove");return k(),q("div",ol,[o("div",nl,[X(g,{onClickRefresh:e.clickRefresh},null,8,["onClickRefresh"]),X(y)]),o("div",tl,[o("div",sl,[X(v),X(S),X(t)]),o("div",ll,[e.currentTab=="add"?(k(),_e(n,{key:0,onChangeCurrentTab:s[0]||(s[0]=a=>e.currentTab="remove")})):(k(),_e(h,{key:1,onChangeCurrentTab:s[1]||(s[1]=a=>e.currentTab="add")}))])]),o("div",il,[e.currentTab=="add"?(k(),_e(n,{key:0,onChangeCurrentTab:s[2]||(s[2]=a=>e.currentTab="remove")})):(k(),_e(h,{key:1,onChangeCurrentTab:s[3]||(s[3]=a=>e.currentTab="add")})),X(v),X(S),X(t)])])}const Nl=Ee(el,[["render",al],["__scopeId","data-v-b226cf01"]]);export{Nl as default};
