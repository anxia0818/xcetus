import{s as Rs,a as j,u as ps,d as as,c as H}from"./pool.c290b960.js";import{a as x,l as _,r as R,e as ss,o as t,f as n,h as o,i as u,v as r,u as f,S as Hs,p as is,k as ds,j as N,F as M,E as cs,M as js,b as hs,Q as vs,s as Ts,w as rs,t as Z,B as gs,y as Vs,c as ts,x as V,z as Is,A as ns,H as Js,q as X,K as Ks}from"./entry.a9cf1035.js";/* empty css              */import{a as os,u as ks}from"./sha256.ebe7cf33.js";import{_ as Os}from"./auto-pool-apy-tips.ef1d0d62.js";/* empty css              */import{u as Qs}from"./farms.5bb19105.js";import{_ as Gs}from"./upgrade-loading.1dcfb9f9.js";import{_ as Ns}from"./token-warning.f0d1ed5a.js";import{_ as Xs}from"./coin-tips.3b50fba8.js";import{i as ls}from"./import-icon.de3e6c66.js";import{u as us}from"./autoPool.d1624643.js";import{R as Ds}from"./farms-range.a492faf8.js";import{_ as Us}from"./img-connect-wallet_2x.e6d6be5a.js";import{_ as qs}from"./token-warning_2x.baf8b568.js";import{_ as Zs}from"./img-no-Positions_2x.30e6da44.js";import"./decimal.0bdeb344.js";/* empty css              */import"./icon-Amount-for-Sale_2x.b2e65df2.js";const xs=x({props:{list:{type:Array,default:()=>[]},listLoading:{type:Boolean,default:!1},totalTVL:{type:String,default:""}},setup(s){const l=os(),b=_(()=>l),g=R(!1);return{wallet:b,sFixD:Rs,loading:g,addCommom:j}}});const ys=s=>(is("data-v-5f665cc6"),s=s(),ds(),s),so={class:"vaults-banner"},oo={class:"vaults-banner-center"},eo=ys(()=>o("div",{class:"title"},"Vaults",-1)),to=ys(()=>o("div",{class:"desc"},"Harvesting, compounding & rebalancing is automated.Stake your tokens to earn.",-1)),no={class:"claim-rewards"},lo={class:"claim-title"},ao=ys(()=>o("span",null,"Total Value Locked",-1)),io={key:0,class:"loading-spin"},co={key:1},ro={key:2};function uo(s,l,b,g,L,m){const p=Hs;return t(),n("div",so,[o("div",oo,[eo,to,o("div",no,[o("div",lo,[ao,s.listLoading?(t(),n("span",io,[u(p)])):s.wallet.address?(t(),n("span",co,"$"+r(("addCommom"in s?s.addCommom:f(j))(("sFixD"in s?s.sFixD:f(Rs))(s.totalTVL||0,2))),1)):(t(),n("span",ro,"--"))])])])])}const _o=ss(xs,[["render",uo],["__scopeId","data-v-5f665cc6"]]),po=x({setup(){const s=R(!1),l=os(),b=_(()=>l),g=Qs(),L=_(()=>g),m=_(()=>L.value.farmsPoolList);return{isShowMore:s,wallet:b,walletStore:l,farmsPoolList:m}}});const es=s=>(is("data-v-3db8d825"),s=s(),ds(),s),ho={class:"vaults-table"},vo=es(()=>o("th",null,"Vaults",-1)),go=es(()=>o("th",null,"TVL",-1)),ko=es(()=>o("th",null,"Your Deposit",-1)),yo=es(()=>o("th",null,"Actions",-1)),fo=es(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),$o={class:"pool"},bo={class:"staked-tvl"},mo={class:"apr"},wo={class:"my-staked"},So={class:"actions"},Co=es(()=>o("tr",{style:{height:"8px",background:"unset !important"}},null,-1));function Lo(s,l,b,g,L,m){const p=Os,h=js;return t(),n("div",ho,[o("table",null,[o("thead",null,[o("tr",null,[vo,go,o("th",null,[o("span",null,[N("APY "),u(p)])]),ko,yo]),fo]),o("tbody",null,[(t(),n(M,null,cs(4,(A,w)=>(t(),n(M,{key:w},[o("tr",null,[o("td",null,[o("div",$o,[u(h,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1}),u(h,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",bo,[u(h,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",mo,[o("span",null,[u(h,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),o("td",null,[o("div",wo,[u(h,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",So,[u(h,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),Co],64))),64))])])])}const Ao=ss(po,[["render",Lo],["__scopeId","data-v-3db8d825"]]),Po=x({components:{Range:Ds},props:{pItem:{type:Object,default:()=>({})}},setup(s){const l=ks(),b=_(()=>l),g=ps(),L=_(()=>g),m=a=>{var v;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((v=L.value.tokensObj[a==null?void 0:a.address])==null?void 0:v.logo_url)||(b.value.theme==="default"?ls("/image/coins/unknown.png"):ls("/image/coins/sui-unknown.png"))},p=R(!0),h=us(),A=_(()=>h),w=_(()=>A.value.positionInfoObj[s.pItem.id]),P=hs(),S=(a,v)=>{P.push(`/vaults-detail/${a.id}?action=${v}`)},B=a=>{const v=a.needReverse,I=v?a.token_b.address:a.token_a.address,q=v?a.token_a.address:a.token_b.address;P.push(`/swap?from=${I}&to=${q}`)},O=os(),e=_(()=>O);return console.log(s.pItem,"pItem##"),{getCoinIcon:m,direct:p,decimalUi:as,addCommom:j,autoPool:A,positionInfo:w,toAutoPoolDetail:S,toSwap:B,wallet:e}}}),Ms=""+globalThis.__publicAssetsURL("sui-image/range-vaults.png");const J=s=>(is("data-v-82c05974"),s=s(),ds(),s),Bo={class:"vaults-position-card"},Io={class:"auto-position-card-conetent"},Ro={key:0,class:"no-vaults-data no-data"},jo=J(()=>o("img",{src:Us},null,-1)),To={key:1,class:"auto-position-card"},Vo={class:"position-range"},Oo=J(()=>o("div",{class:"inrange"},[o("img",{src:Ms,alt:""}),o("span",null,"In range")],-1)),No={class:"right"},Do={class:"top"},Uo=J(()=>o("p",null,"Position Range",-1)),qo={key:0},Mo={key:1},Yo={class:"item lp-tokens"},Wo=J(()=>o("div",{class:"top"},"Your LP Tokens",-1)),Fo={class:"bottom"},Eo={key:0,class:"lp-num"},zo={key:1,class:"lp-num"},Ho={class:"item share"},Jo=J(()=>o("div",{class:"top"},"Share",-1)),Ko={class:"bottom"},Qo={key:0},Go={key:1},Xo={class:"item yourBanlance"},Zo=J(()=>o("div",{class:"top"},"Your Balance",-1)),xo={class:"bottom"},se={class:"token-info"},oe={class:"token-num"},ee={alt:""},te={key:0},ne={key:1},le=J(()=>o("p",null,"--",-1)),ae=[le],ie={class:"token-num"},de={alt:""},ce={key:0},re={key:1},ue=J(()=>o("p",null,"--",-1)),_e=[ue],pe={class:"action"};function he(s,l,b,g,L,m){var w,P,S,B,O,e,a,v;const p=gs,h=vs("Range"),A=Ts("image");return t(),n("div",Bo,[o("div",Io,[s.wallet.address?(t(),n("div",To,[o("div",Vo,[Oo,o("div",No,[o("div",Do,[Uo,s.direct?(t(),n("span",qo,r(("addCommom"in s?s.addCommom:f(j))(("decimalUi"in s?s.decimalUi:f(as))(s.pItem.price,6)))+" Current",1)):(t(),n("span",Mo,r(("addCommom"in s?s.addCommom:f(j))(("decimalUi"in s?s.decimalUi:f(as))(1/s.pItem.price,6)))+" Current",1))]),u(h,{"pool-info":s.positionInfo,"prop-direct":s.direct,"use-props-direct":!0,onClickChange:l[1]||(l[1]=I=>s.direct=!s.direct)},null,8,["pool-info","prop-direct"])])]),o("div",Yo,[Wo,o("div",Fo,[(w=s.wallet)!=null&&w.connected?(t(),n("div",Eo,r(("addCommom"in s?s.addCommom:f(j))((P=s.positionInfo)==null?void 0:P.myLiquidity))+" LP",1)):(t(),n("div",zo,"--"))])]),o("div",Ho,[Jo,o("div",Ko,[(S=s.wallet)!=null&&S.connected?(t(),n("span",Qo,r((B=s.positionInfo)==null?void 0:B.myShare)+"%",1)):(t(),n("span",Go,"--%"))])]),o("div",Xo,[Zo,o("div",xo,[o("div",se,[o("div",oe,[Z(o("img",ee,null,512),[[A,s.pItem.needReverse?s.pItem.coinB.logo_url:s.pItem.coinA.logo_url]]),(O=s.wallet)!=null&&O.connected?(t(),n("div",te,[o("span",null,r(("addCommom"in s?s.addCommom:f(j))((e=s.positionInfo)==null?void 0:e.amountA)),1)])):(t(),n("div",ne,ae))]),o("div",ie,[Z(o("img",de,null,512),[[A,s.pItem.needReverse?s.pItem.coinA.logo_url:s.pItem.coinB.logo_url]]),(a=s.wallet)!=null&&a.connected?(t(),n("div",ce,[o("span",null,r(("addCommom"in s?s.addCommom:f(j))((v=s.positionInfo)==null?void 0:v.amountB)),1)])):(t(),n("div",re,_e))])])])]),o("div",pe,[o("div",null,[o("div",{class:"remove-btn",onClick:l[2]||(l[2]=I=>s.toAutoPoolDetail(s.pItem,"remove"))},"Withdraw")])])])):(t(),n("div",Ro,[jo,u(p,{class:"add-liquidity-btn",onClick:l[0]||(l[0]=I=>s.wallet.setIsShowWalletModal(!0))},{default:rs(()=>[N("Connect Wallet")]),_:1})]))])])}const ve=ss(Po,[["render",he],["__scopeId","data-v-82c05974"]]),ge=x({components:{TokenWarning:Ns,Range:Ds},props:{list:{type:Array,default:()=>[]}},setup(){const{t:s}=Vs(),l=ks(),b=_(()=>l),g=ps(),L=_(()=>g),m=i=>{var T;return(i==null?void 0:i.logoURI)||(i==null?void 0:i.logo_url)||((T=L.value.tokensObj[i==null?void 0:i.address])==null?void 0:T.logo_url)||(b.value.theme==="default"?ls("/image/coins/unknown.png"):ls("/image/coins/sui-unknown.png"))},p=_(()=>L.value.tokensObj),h=_(()=>b.value.statsData),A=_(()=>b.value.theme),w=us(),P=_(()=>w),S=R({}),B=i=>{S.value[i]?S.value[i]=!1:S.value[i]=!0,console.log(S.value,"##isShowPosition.value")},O=_(()=>P.value.positionInfoObj),e=os(),a=_(()=>e),v=R(!1),I=hs(),q=(i,T)=>{I.push(`/vaults-detail/${i.id}?action=${T}`)},D=i=>{const T=i.needReverse,Y=T?i.token_b.address:i.token_a.address,W=T?i.token_a.address:i.token_b.address;I.push(`/swap?from=${Y}&to=${W}`)},U=R(!0);return{router:I,getCoinIcon:m,tokensObj:p,t:s,statsData:h,checkNullObj:H,addCommom:j,importIcon:ls,theme:A,isShowPosition:S,togglePosition:B,positionInfo:O,wallet:a,isShowDetail:v,toAutoPoolDetail:q,toSwap:D,direct:U}}});const C=s=>(is("data-v-c79b5ce2"),s=s(),ds(),s),ke={class:"vaults-table-contianer"},ye={class:"table pc-pool-item"},fe={class:"table-header"},$e={class:"table-tr"},be=C(()=>o("th",null,"Vaults",-1)),me=C(()=>o("th",null,"TVL",-1)),we=C(()=>o("th",null,"Your Deposit",-1)),Se=C(()=>o("th",null,"Action",-1)),Ce=C(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),Le={class:"table-body"},Ae=["onClick"],Pe={class:"token"},Be={class:"img-box"},Ie=["src"],Re={class:"img-box img-last-box"},je=["src"],Te={class:"name"},Ve={class:"top"},Oe={class:"token-name"},Ne={class:"tokena"},De={class:"tokenb"},Ue={class:"fee-warning"},qe={class:"fee-tier-top"},Me={key:0,class:"pool-warning"},Ye=C(()=>o("img",{src:qs,alt:""},null,-1)),We={class:"hover-text"},Fe={key:0},Ee={class:"skeleton-box"},ze={key:1},He={key:2},Je={class:"skeleton-box"},Ke={key:3},Qe={key:4},Ge={class:"skeleton-box"},Xe={key:5},Ze={class:"show-position"},xe={class:"svg-icon"},st=C(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),ot=[st],et={key:0,class:"table-tr view-table-tr"},tt={colspan:"5"},nt=C(()=>o("td",null,null,-1)),lt=C(()=>o("tr",{style:{height:"8px",background:"unset"}},null,-1)),at={class:"h5-pool-item"},it={class:"token"},dt={class:"img-box"},ct={key:0,class:"pool-warning"},rt={class:"img-box img-last-box"},ut={key:0,class:"pool-warning"},_t={class:"name"},pt={class:"top"},ht={class:"token-name"},vt={class:"tokena"},gt={class:"tokenb"},kt={class:"fee-warning"},yt={class:"fee-tier-top"},ft={key:0,class:"pool-warning"},$t=C(()=>o("img",{src:qs,alt:""},null,-1)),bt={class:"hover-text"},mt={class:"bottom"},wt={class:"row"},St=C(()=>o("div",{class:"left"},"TVL",-1)),Ct={key:0,class:"right"},Lt={key:1,class:"right"},At={class:"row"},Pt=C(()=>o("div",{class:"left"},"APY",-1)),Bt={key:0,class:"right"},It={key:1,class:"right theme-right"},Rt={class:"row"},jt=C(()=>o("div",{class:"left"},"Your Deposit",-1)),Tt={key:0,class:"right"},Vt={key:1,class:"right"},Ot=["onClick"],Nt=C(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),Dt=[Nt],Ut={key:0,class:"h5-auto-pool-details"},qt={class:"position-range"},Mt=C(()=>o("div",{class:"inrange"},[o("img",{src:Ms,alt:""}),o("span",null,"In range")],-1)),Yt={class:"right"},Wt={class:"top"},Ft=C(()=>o("p",null,"Position Range",-1)),Et={key:0},zt={key:1},Ht={class:"h5-item lp-tokens"},Jt=C(()=>o("div",{class:"top"},"Your LP Tokens",-1)),Kt={class:"bottom"},Qt={key:0,class:"lp-num"},Gt={key:1,class:"lp-num"},Xt={class:"h5-item share"},Zt=C(()=>o("div",{class:"top"},"Share",-1)),xt={class:"bottom"},sn={key:0},on={key:1},en={class:"h5-item yourBanlance"},tn=C(()=>o("div",{class:"top"},"Your Balance",-1)),nn={class:"bottom"},ln={class:"token-info"},an={class:"token-num"},dn={alt:""},cn={key:0},rn={key:1},un=C(()=>o("p",null,"--",-1)),_n=[un],pn={class:"token-num"},hn={alt:""},vn={key:0},gn={key:1},kn=C(()=>o("p",null,"--",-1)),yn=[kn],fn={class:"action"};function $n(s,l,b,g,L,m){const p=Os,h=Ns,A=Xs,w=js,P=gs,S=ve,B=vs("Range"),O=Ts("image");return t(),n("div",ke,[o("table",ye,[o("thead",fe,[o("tr",$e,[be,me,o("th",null,[o("span",null,[N("APY "),u(p)])]),we,Se]),Ce]),o("tbody",Le,[(t(!0),n(M,null,cs(s.list,(e,a)=>{var v,I,q,D,U,i,T,Y,W,K,F,Q,E,d,$;return t(),n(M,{key:a},[o("tr",{class:"table-tr",onClick:k=>s.togglePosition(a)},[o("td",null,[o("div",Pe,[o("div",Be,[o("img",{src:s.getCoinIcon(e.needReverse?e.coinB:e.coinA)},null,8,Ie),u(h,{address:e.needReverse?(I=e==null?void 0:e.coinB)==null?void 0:I.address:(v=e==null?void 0:e.coinA)==null?void 0:v.address,"style-params":{right:0,bottom:0,width:"12px",height:"12px"}},null,8,["address"])]),o("div",Re,[o("img",{src:s.getCoinIcon(e.needReverse?e.coinA:e.coinB)},null,8,je),u(h,{address:e.needReverse?(D=e.coinA)==null?void 0:D.address:(q=e==null?void 0:e.coinB)==null?void 0:q.address,"style-params":{right:0,bottom:0,width:"12px",height:"12px"}},null,8,["address"])]),o("div",Te,[o("div",Ve,[o("p",Oe,[o("span",Ne,[N(r(e.needReverse?(i=e==null?void 0:e.coinB)==null?void 0:i.symbol:(U=e==null?void 0:e.coinA)==null?void 0:U.symbol)+" ",1),e!=null&&e.coinB&&(e!=null&&e.coinA)?(t(),ts(A,{key:0,"coin-info":e.needReverse?e==null?void 0:e.coinB:e==null?void 0:e.coinA},null,8,["coin-info"])):V("",!0)]),N(" - "),o("span",De,[N(r(e.needReverse?(T=e==null?void 0:e.coinA)==null?void 0:T.symbol:(Y=e==null?void 0:e.coinB)==null?void 0:Y.symbol)+" ",1),e!=null&&e.coinB&&(e!=null&&e.coinA)?(t(),ts(A,{key:0,"coin-info":e.needReverse?e==null?void 0:e.coinA:e==null?void 0:e.coinB},null,8,["coin-info"])):V("",!0)])]),o("div",Ue,[o("div",qe,r((e==null?void 0:e.fee)*100)+"%",1),(K=s.tokensObj[(W=e.coinA)==null?void 0:W.address])!=null&&K.isSelfBuilt||(Q=s.tokensObj[(F=e.coinB)==null?void 0:F.address])!=null&&Q.isSelfBuilt?(t(),n("div",Me,[Ye,o("div",We,r(s.t("newAdd.poolWarning")),1)])):V("",!0)])])])])]),("checkNullObj"in s?s.checkNullObj:f(H))(s.statsData)?(t(),n("td",Fe,[o("div",Ee,[u(w,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",ze," $"+r(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:f(j))(e.poolUSD,2)),1)),("checkNullObj"in s?s.checkNullObj:f(H))(s.statsData)?(t(),n("td",He,[o("div",Je,[u(w,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Ke,r(e.apy),1)),(E=s.wallet)!=null&&E.connected&&!s.positionInfo[e.id].myLiquidityUSD?(t(),n("td",Qe,[o("div",Ge,[u(w,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Xe,[s.wallet.connected?(t(),n(M,{key:0},[N(r(((d=s.positionInfo[e.id])==null?void 0:d.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:f(j))(($=s.positionInfo[e.id])==null?void 0:$.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(M,{key:1},[N("--")],64))])),o("td",null,[o("div",Ze,[u(P,{class:"add-liquidity-btn",onClick:Is(k=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:rs(()=>[N("Deposit")]),_:2},1032,["onClick"]),o("div",xe,[(t(),n("svg",{"aria-hidden":"true",class:ns(["icon",s.isShowPosition&&s.isShowPosition[a]?"icon-open":""])},ot,2))])])])],8,Ae),s.isShowPosition&&s.isShowPosition[a]?(t(),n("tr",et,[o("td",tt,[u(S,{"p-item":e},null,8,["p-item"])]),nt])):V("",!0),lt],64)}),128))])]),o("div",at,[(t(!0),n(M,null,cs(s.list,(e,a)=>{var v,I,q,D,U,i,T,Y,W,K,F,Q,E,d;return t(),n("div",{key:e.address,class:"item"},[o("div",it,[o("div",dt,[Z(o("img",null,null,512),[[O,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),(e.needReverse?(I=s.tokensObj[e.coinB.address])!=null&&I.isSelfBuilt:(v=s.tokensObj[e.coinA.address])!=null&&v.isSelfBuilt)?(t(),n("div",ct)):V("",!0)]),o("div",rt,[Z(o("img",null,null,512),[[O,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),(e.needReverse?(q=s.tokensObj[e.coinA.address])!=null&&q.isSelfBuilt:(D=s.tokensObj[e.coinB.address])!=null&&D.isSelfBuilt)?(t(),n("div",ut)):V("",!0)]),o("div",_t,[o("div",pt,[o("p",ht,[o("span",vt,[N(r(e.needReverse?e.coinB.symbol:e.coinA.symbol)+" ",1),e&&e.coinB&&e.coinA?(t(),ts(A,{key:0,"coin-info":e.needReverse?e==null?void 0:e.coinB:e==null?void 0:e.coinA},null,8,["coin-info"])):V("",!0)]),N(" - "),o("span",gt,[N(r(e.needReverse?e.coinA.symbol:e.coinB.symbol)+" ",1),e&&e.coinB&&e.coinA?(t(),ts(A,{key:0,"coin-info":e.needReverse?e==null?void 0:e.coinA:e==null?void 0:e.coinB},null,8,["coin-info"])):V("",!0)])]),o("div",kt,[o("div",yt,r((e==null?void 0:e.fee)*100)+"%",1),(U=s.tokensObj[e.coinA.address])!=null&&U.isSelfBuilt||(i=s.tokensObj[e.coinB.address])!=null&&i.isSelfBuilt?(t(),n("div",ft,[$t,o("div",bt,r(s.t("newAdd.poolWarning")),1)])):V("",!0)])])])]),o("div",mt,[o("div",wt,[St,("checkNullObj"in s?s.checkNullObj:f(H))(s.statsData)?(t(),n("div",Ct,[u(w,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",Lt," $"+r(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:f(j))(e.poolUSD,2)),1))]),o("div",At,[Pt,("checkNullObj"in s?s.checkNullObj:f(H))(s.statsData)?(t(),n("div",Bt,[u(w,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",It,[o("i",null,r(e.apy),1),u(p)]))]),o("div",Rt,[jt,("checkNullObj"in s?s.checkNullObj:f(H))(s.positionInfo)&&((T=s.wallet)!=null&&T.connected)?(t(),n("div",Tt,[u(w,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",Vt,[(Y=s.wallet)!=null&&Y.connected?(t(),n(M,{key:0},[N(r(((W=s.positionInfo[e.id])==null?void 0:W.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:f(j))((K=s.positionInfo[e.id])==null?void 0:K.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(M,{key:1},[N("--")],64))]))])]),u(P,{class:"h5-add-liquidity-btn",onClick:Is($=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:rs(()=>[N("Deposit")]),_:2},1032,["onClick"]),o("div",{class:ns(["details-btn",s.isShowPosition&&s.isShowPosition[a]?"details-btn-text-active":""]),onClick:$=>s.togglePosition(a)},[(t(),n("svg",{"aria-hidden":"true",class:ns(["icon",s.isShowPosition&&s.isShowPosition[a]?"icon-active":""])},Dt,2))],10,Ot),s.isShowPosition&&s.isShowPosition[a]?(t(),n("div",Ut,[o("div",qt,[Mt,o("div",Yt,[o("div",Wt,[Ft,s.direct?(t(),n("span",Et,r(("addCommom"in s?s.addCommom:f(j))(("decimalUi"in s?s.decimalUi:f(as))(e.price,6)))+" Current",1)):(t(),n("span",zt,r(("addCommom"in s?s.addCommom:f(j))(("decimalUi"in s?s.decimalUi:f(as))(1/e.price,6)))+" Current",1))]),u(B,{"pool-info":e,"prop-direct":s.direct,"use-props-direct":!0,onClickChange:l[0]||(l[0]=$=>s.direct=!s.direct)},null,8,["pool-info","prop-direct"])])]),o("div",Ht,[Jt,o("div",Kt,[(F=s.wallet)!=null&&F.connected?(t(),n("div",Qt,r(("addCommom"in s?s.addCommom:f(j))(e==null?void 0:e.myLiquidity))+" LP",1)):(t(),n("div",Gt,"--"))])]),o("div",Xt,[Zt,o("div",xt,[(Q=s.wallet)!=null&&Q.connected?(t(),n("span",sn,r(e==null?void 0:e.myShare)+"%",1)):(t(),n("span",on,"--%"))])]),o("div",en,[tn,o("div",nn,[o("div",ln,[o("div",an,[Z(o("img",dn,null,512),[[O,e.needReverse?e.coinB.logo_url:e.coinA.logo_url]]),(E=s.wallet)!=null&&E.connected?(t(),n("div",cn,[o("span",null,r(("addCommom"in s?s.addCommom:f(j))(e==null?void 0:e.amountA)),1)])):(t(),n("div",rn,_n))]),o("div",pn,[Z(o("img",hn,null,512),[[O,e.needReverse?e.coinA.logo_url:e.coinB.logo_url]]),(d=s.wallet)!=null&&d.connected?(t(),n("div",vn,[o("span",null,r(("addCommom"in s?s.addCommom:f(j))(e==null?void 0:e.amountB)),1)])):(t(),n("div",gn,yn))])])])]),o("div",fn,[o("div",null,[o("div",{class:"remove-btn",onClick:l[1]||(l[1]=$=>s.toAutoPoolDetail(s.pItem,"remove"))},"Withdraw")])])])):V("",!0)])}),128))])])}const bn=ss(ge,[["render",$n],["__scopeId","data-v-c79b5ce2"]]),mn=x({props:{selectValue:{type:String,default:""},showList:{type:Object,default:()=>({})}},setup(s,l){const b=["All Vaults","My Vaults"],g=R("All Vaults"),L=R(s.selectValue),m=R(!1),p=os(),h=_(()=>p),A=us(),w=_(()=>A),P=_(()=>w.value.autoPoolList);return{wallet:h,changeSort:a=>{L.value=a,l.emit("changeSort",a)},tabList:b,currentTab:g,sortValue:L,clickRefresh:()=>{l.emit("clickRefresh")},isRefresh:m,vaultsPoolList:P,getListNum:()=>s.showList.length,changeTab:a=>{g.value=a,console.log(a,"itemitem"),a=="My Vaults"?l.emit("changeTab",!0):l.emit("changeTab",!1)}}}});const _s=s=>(is("data-v-019954dc"),s=s(),ds(),s),wn={class:"vaults-tab"},Sn={class:"tab-left"},Cn=["onClick"],Ln={key:0},An={class:"tab-right"},Pn={class:"sort-select"},Bn={class:"sort-select-box"},In=_s(()=>o("div",null,"Sort by",-1)),Rn=_s(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),jn=_s(()=>o("svg",{class:"arrow-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_arrow"})],-1)),Tn={class:"sort-list"},Vn={class:"refresh"},On=_s(()=>o("use",{"xlink:href":"#icon-icon-refresh2"},null,-1)),Nn=[On];function Dn(s,l,b,g,L,m){return t(),n("div",wn,[o("div",Sn,[(t(!0),n(M,null,cs(s.tabList,p=>(t(),n("div",{key:p,class:ns(["tab-item",s.currentTab==p?"tab-item-active":""]),onClick:h=>s.changeTab(p)},[o("span",null,r(p),1),s.currentTab==p&&s.getListNum()?(t(),n("p",Ln,r(s.currentTab=="My Vaults"&&!s.wallet.address?0:s.getListNum()),1)):V("",!0)],10,Cn))),128))]),o("div",An,[o("div",Pn,[o("div",Bn,[In,o("div",null,[o("span",null,r(s.sortValue),1),Rn,jn])]),o("div",Tn,[o("div",{class:"sort-item",onClick:l[0]||(l[0]=p=>s.changeSort("APY"))},"APY"),o("div",{class:"sort-item",onClick:l[1]||(l[1]=p=>s.changeSort("TVL"))},"TVL")])]),o("div",Vn,[(t(),n("svg",{"aria-hidden":"true",class:ns(["refresh-icon",s.isRefresh?"refreshing":""]),onClick:l[2]||(l[2]=(...p)=>s.clickRefresh&&s.clickRefresh(...p))},Nn,2))])])])}const Un=ss(mn,[["render",Dn],["__scopeId","data-v-019954dc"]]),qn=x({components:{VaultsTabs:Un},setup(){Vs();const s=ks(),l=_(()=>s),b=ps(),g=_(()=>b),L=us(),m=_(()=>L),p=os(),h=_(()=>p),A=_(()=>m.value.positionInfoObj),w=_(()=>l.value.chainName),P=R(!1),S=R(!1),B=R("TVL"),O=R(["APY"]),e=R(!1),a=d=>{console.log(d,"w121");const $=[];$.push(B.value),O.value.forEach((k,c)=>{k!=d&&$.push(k)}),O.value=$,B.value=d,q(m.value.positionInfoList)};Js(()=>{document.addEventListener("click",()=>{F("")})});const v=R([]),I=R(!0),q=d=>{console.log(d,"##poolList");const $=[];d.filter(c=>!c.is_pause).forEach(c=>{var fs,$s,bs,ms,ws,Ss,Cs,Ls,As,Ps,Bs;const y=l.value.addressLpTokens[c.address],z=g.value.poolsObj[c.address];console.log(m.value.apyObj,"##autoPool.value.apyObj");const G=((fs=m.value.apyObj[c.id])==null?void 0:fs.apr)||"0%",Ys=(($s=m.value.apyObj[c.id])==null?void 0:$s.resultApr)||"0",Ws=((bs=m.value.apyObj[c.id])==null?void 0:bs.tvl)||0;console.log(c.autoPoolPositionInfo.id,"###watchPools 246"),console.log(y,"##statsObj");const Fs=c.needReverse?((Cs=g.value.tokensObj[(Ss=c.coinB)==null?void 0:Ss.address])==null?void 0:Cs.labels)||[]:((ws=g.value.tokensObj[(ms=c.coinA)==null?void 0:ms.address])==null?void 0:ws.labels)||[],Es=c.needReverse?((As=g.value.tokensObj[(Ls=c.coinA)==null?void 0:Ls.address])==null?void 0:As.labels)||[]:((Bs=g.value.tokensObj[(Ps=c.coinB)==null?void 0:Ps.address])==null?void 0:Bs.labels)||[],zs=[...new Set(Fs.concat(Es))];$.push({...c,liqidity:Ws,vol:y?y.vol_in_usd_24h:"0",fee:c.fee?c.fee:z!=null&&z.fee?z.fee:"--",labels:zs,isFarming:c==null?void 0:c.isFarming,fee_24_h:y&&y.fee_24_h,apy:G,resultApr:Ys})});let k=[];B.value=="APY"?k=$.sort((c,y)=>y.resultApr-c.resultApr):k=$.sort((c,y)=>y.liqidity-c.liqidity),v.value=k,I.value=!1,console.log(v.value.length,"##list.value.length"),b.setAutoPoolNum(v.value.length),console.log(v.value,"##list.value")};X(()=>[m.value.positionInfoList,m.value.apyObj,g.value.poolConfigObj],([d,$,k])=>{console.log("执行次数###",k),d&&d.length>0&&k&&!H(k)&&(console.log(d,"###autoPoolList"),q(d))},{immediate:!0,deep:!0}),X(()=>[h.value.address,m.value.autoPoolList,g.value.poolConfigObj],([d,$,k])=>{d&&$&&$.length>0&&k&&!H(k)&&L.getMyAutoPoolPosition()},{immediate:!0});const D=R(null),U=_(()=>D.value&&D.value.firstToken?D.value.firstToken:null),i=_(()=>D.value&&D.value.lastToken?D.value.lastToken:null),T=R(),Y=R(""),W=()=>{let d=[];d=v.value,console.log(d,"##pageList");const $=d.filter((y,z)=>U.value&&i.value?y.coinA.address==U.value.address&&y.coinB.address==i.value.address||y.coinA.address==i.value.address&&y.coinB.address==U.value.address:U.value?y.coinA.address.toLowerCase().includes(U.value.address.toLowerCase())||y.coinB.address.toLowerCase().includes(U.value.address.toLowerCase()):i.value?y.coinA.address.toLowerCase().includes(i.value.address.toLowerCase())||y.coinB.address.toLowerCase().includes(i.value.address.toLowerCase()):d);let k=[],c=[];console.log($,"##filterArr"),$.forEach((y,z)=>{console.log(y,"irem##");const G=A.value&&A.value[y.id];console.log(G,"##positionInfo"),P.value&&Number(G==null?void 0:G.myLiquidity)>0&&h.value.connected?c.push(y):k.push({...y})}),Y.value=k.reduce((y,z)=>y+z.poolUSD,0),console.log(k,"121arrnewValnewValnewVal"),T.value=P.value&&h.value.connected?c:k,console.log(T.value,"##showList.value "),I.value||(P.value&&h.value.connected?b.setAutoPoolNum(c.length):b.setAutoPoolNum(k.length))};X(()=>[U.value,i.value,v.value,P.value,h.value.address],([d,$,k,c])=>{(d||$||k||c)&&(console.log("newValnewValnewVal",d,$,k,JSON.stringify(k)),W())},{immediate:!0}),Ks(()=>{b.setAutoPoolNum("--")});const K=_(()=>g.value.autoPoolNum),F=d=>{d=="label"?(s.setIsSelect("pools"),e.value=!e.value,S.value=!1,l.value.setIsShowMore(!1)):d=="select"?(s.setIsSelect("pools"),S.value=!S.value,e.value=!1,l.value.setIsShowMore(!1)):(S.value=!1,e.value=!1)};X(()=>l.value.isSelect,d=>{d!=="pools"&&F("")},{immediate:!0});const Q=hs(),E=()=>{I.value=!0,L.getAutoPoolList(),L.getAutoPoolAPY()};return X(()=>l.value.isRefresh,d=>{E()},{immediate:!0}),X(()=>w.value,d=>{d=="Aptos"&&Q.push("/pools")},{immediate:!0}),{totalTVL:Y,clickRefresh:E,isMyLiquidity:P,chainName:w,store:l,select:S,selectValue:B,selectList:O,label:e,changeSort:a,list:v,listLoading:I,showList:T,childTokenSelectRef:D,wallet:h,autoPoolNum:K}}});const Mn={class:"vaults-container-new"},Yn={class:"vaults-container-center"},Wn={class:"auto-pool"},Fn={key:0,class:"no-vaults-data no-data"},En=o("img",{src:Us},null,-1),zn={key:0,class:"upgrade-loading pc-loading"},Hn={key:1,class:"upgrade-loading h5-loading"},Jn={key:3,class:"no-vaults-data"},Kn=o("img",{src:Zs},null,-1),Qn=o("span",{class:"no-vaults"},"No vaults found",-1),Gn=[Kn,Qn];function Xn(s,l,b,g,L,m){const p=_o,h=vs("VaultsTabs"),A=gs,w=Ao,P=Gs,S=bn;return t(),n("div",Mn,[u(p,{list:s.showList,"total-t-v-l":s.totalTVL,"list-loading":s.listLoading},null,8,["list","total-t-v-l","list-loading"]),o("div",Yn,[u(h,{"select-value":s.selectValue,"show-list":s.showList,onChangeSort:l[0]||(l[0]=B=>s.changeSort(B)),onChangeTab:l[1]||(l[1]=B=>{s.isMyLiquidity=B}),onClickRefresh:s.clickRefresh},null,8,["select-value","show-list","onClickRefresh"]),o("div",Wn,[s.isMyLiquidity&&!s.wallet.address?(t(),n("div",Fn,[En,u(A,{class:"add-liquidity-btn",onClick:l[2]||(l[2]=B=>s.wallet.setIsShowWalletModal(!0))},{default:rs(()=>[N("Connect Wallet")]),_:1})])):V("",!0),s.isMyLiquidity&&s.wallet.address&&s.listLoading||!s.isMyLiquidity&&s.listLoading?(t(),n(M,{key:1},[s.listLoading?(t(),n("div",zn,[u(w)])):V("",!0),s.listLoading?(t(),n("div",Hn,[u(P,{type:"poolsCard",loading:!0})])):V("",!0)],64)):V("",!0),s.isMyLiquidity&&s.wallet.address&&!s.listLoading||!s.isMyLiquidity&&!s.listLoading?(t(),ts(S,{key:2,list:s.showList},null,8,["list"])):V("",!0),s.autoPoolNum!=="--"&&Number(s.autoPoolNum)<=0&&!s.listLoading?(t(),n("div",Jn,Gn)):V("",!0)])])])}const kl=ss(qn,[["render",Xn]]);export{kl as default};
