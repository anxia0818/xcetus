import{_ as ce}from"./new-position-title.b83e33f1.js";import{_ as zo}from"./token-warning.e404875a.js";import{_ as me}from"./status-block.fde4b976.js";import{u as qo,g as ve,a as q,d as Io,c as To,p as Yo,b as Qo,s as lo,e as eo,f as pe,T as Ro,C as Ko}from"./pool.2b9b3833.js";import{u as Lo,a as jo}from"./sha256.14a85de7.js";import{i as ko}from"./import-icon.de3e6c66.js";import{u as Oo,a as Zo}from"./autoPool.5b92ec00.js";import{a as bo,l as c,r as B,m as go,q as no,e as ho,s as Bo,o as R,f as Z,h as e,t as D,i as X,v as d,j as ro,x as Ho,u as E,p as Co,k as So,M as xo,y as Do,z as oe,c as to,w as co,B as Fo,A as ee,C as Xo,D as fe,L as _e,I as be,S as ne,E as ge,b as he,F as $e,G as ye,H as Ie,J as ke}from"./entry.4958ad73.js";import{_ as Ce}from"./assets-card.ca672ff7.js";import{D as y}from"./decimal.0e8aa3f1.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./decimal.633e31ee.js";import"./back.0010f204.js";import"./swap-setting.6d5dffde.js";/* empty css              */import"./index.398b81c4.js";/* empty css              */const Se=bo({setup(){const o=Lo(),n=c(()=>o),T=qo(),C=c(()=>T),S=c(()=>n.value.theme),h=t=>{var l;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((l=C.value.tokensObj[t==null?void 0:t.address])==null?void 0:l.logo_url)||(S.value==="default"?ko("/image/coins/unknown.png"):ko("/image/coins/sui-unknown.png"))},p=B(!0),v=Oo(),b=c(()=>v),r=go(),i=B();no(()=>[b.value.positionInfoObj,r.params.id],([t,l])=>{t&&!To(t)&&l&&(i.value=t[l],console.log(i.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const s=c(()=>{var t;return(t=i.value)==null?void 0:t.needReverse}),a=c(()=>{var t;return(t=n.value.newTopPoolsObj[r.params.id])==null?void 0:t.tvl_in_usd});return{positionInfo:i,tvl:a,store:n,indexStore:o,needReverse:s,getCoinIcon:h,getExplorerUrl:ve,addCommom:q,decimalUi:Io,direct:p}}});const No=o=>(Co("data-v-b3b0f98e"),o=o(),So(),o),Ae={class:"auto-position-info"},Pe={class:"pool-info"},we={class:"left"},Re={class:"coin-a"},Te={alt:""},qe={class:"coin-b"},Le={alt:""},Be={class:"position-name"},Ne={key:0,class:"pool-fee"},Me=No(()=>e("span",null,"Fee tier",-1)),Oe={class:"right"},De={class:"price-info"},Ue={class:"current-price"},je=No(()=>e("span",null,"Current Price",-1)),Fe={class:"coin-rate"},Ee=No(()=>e("div",null,[e("svg",{class:"icon icon-up","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),We=No(()=>e("div",null,[e("svg",{class:"icon icon-down","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Xe=[Ee,We],ze={key:0},He={key:1},Ge={class:"apy-and-tvl"},Je=No(()=>e("div",{class:"apy"},[e("div",{class:"apy-title"},"APY"),e("div",{class:"apy-text"},"--%")],-1)),Ve={class:"tvl"},Ye=No(()=>e("div",{class:"tvl-title"},"TVL",-1)),Ke={class:"tvl-text"};function Qe(o,n,T,C,S,h){var r,i,s,a,t,l,f,u,g,_,k,z,A,I,U,M,N,H,P,W,O,V,j,x,Y,so,K,mo,$o,vo,$,Q,ao;const p=zo,v=me,b=Bo("image");return R(),Z("div",Ae,[e("div",Pe,[e("div",we,[e("div",Re,[D(e("img",Te,null,512),[[b,o.needReverse?o.getCoinIcon((i=o.positionInfo)==null?void 0:i.token_b):o.getCoinIcon((r=o.positionInfo)==null?void 0:r.token_a)]]),X(p,{address:o.needReverse?(l=(t=o.positionInfo)==null?void 0:t.token_b)==null?void 0:l.address:(a=(s=o.positionInfo)==null?void 0:s.token_a)==null?void 0:a.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),e("div",qe,[D(e("img",Le,null,512),[[b,o.needReverse?o.getCoinIcon((u=o.positionInfo)==null?void 0:u.token_a):o.getCoinIcon((f=o.positionInfo)==null?void 0:f.token_b)]]),X(p,{address:o.needReverse?(z=(k=o.positionInfo)==null?void 0:k.token_a)==null?void 0:z.address:(_=(g=o.positionInfo)==null?void 0:g.token_b)==null?void 0:_.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),e("div",Be,d(o.needReverse?(I=(A=o.positionInfo)==null?void 0:A.token_b)==null?void 0:I.symbol:(M=(U=o.positionInfo)==null?void 0:U.token_a)==null?void 0:M.symbol)+" "+d(o.needReverse?(H=(N=o.positionInfo)==null?void 0:N.token_a)==null?void 0:H.symbol:(W=(P=o.positionInfo)==null?void 0:P.token_b)==null?void 0:W.symbol),1),(O=o.positionInfo)!=null&&O.fee?(R(),Z("div",Ne,[Me,ro(" "+d(((V=o.positionInfo)==null?void 0:V.fee)*100)+"% ",1)])):Ho("",!0)]),e("div",Oe,[X(v,{"current-status":(j=o.positionInfo)==null?void 0:j.currentStatus},null,8,["current-status"])])]),e("div",De,[e("div",Ue,[e("div",null,[je,e("div",Fe,[e("div",{onClick:n[0]||(n[0]=po=>o.direct=!o.direct)},Xe)])]),(o.needReverse?!o.direct:o.direct)?(R(),Z("div",ze,[ro(d(("addCommom"in o?o.addCommom:E(q))(("decimalUi"in o?o.decimalUi:E(Io))((x=o.positionInfo)==null?void 0:x.price,6)))+"   ",1),e("span",null,d((so=(Y=o.positionInfo)==null?void 0:Y.token_b)==null?void 0:so.symbol)+" per "+d((mo=(K=o.positionInfo)==null?void 0:K.token_a)==null?void 0:mo.symbol),1)])):(R(),Z("div",He,[ro(d(("addCommom"in o?o.addCommom:E(q))(("decimalUi"in o?o.decimalUi:E(Io))(1/(($o=o.positionInfo)==null?void 0:$o.price),6)))+"   ",1),e("span",null,d(($=(vo=o.positionInfo)==null?void 0:vo.token_a)==null?void 0:$.symbol)+" per "+d((ao=(Q=o.positionInfo)==null?void 0:Q.token_b)==null?void 0:ao.symbol),1)]))]),e("div",Ge,[Je,e("div",Ve,[Ye,e("div",Ke,"$"+d(("addCommom"in o?o.addCommom:E(q))(o.tvl)),1)])])])])}const te=ho(Se,[["render",Qe],["__scopeId","data-v-b3b0f98e"]]),Ze=bo({setup(){const o=Oo(),n=c(()=>o),T=go(),C=c(()=>(console.log(n.value.positionInfoObj[T.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),n.value.positionInfoObj[T.params.id])),S=c(()=>{var h;return(h=C.value)==null?void 0:h.needReverse});return{positionInfo:C,needReverse:S,addCommom:q}}});const Go=o=>(Co("data-v-5ba420a3"),o=o(),So(),o),xe={class:"auto-position-liquidity"},on={class:"my-liquidity"},en={class:"left"},nn=Go(()=>e("div",null,"My Liquidity",-1)),tn={class:"right"},sn=Go(()=>e("div",null,"My share",-1)),ln={class:"my-liquidity-info"},an={class:"lp-info"},un={class:"lp-bg"},dn={alt:""},rn={alt:""},cn={class:"lp-num"},mn=Go(()=>e("div",{class:"assets-pooled-title"}," Pooled Assets ",-1)),vn={class:"assets-pooled"},pn={alt:""},fn={alt:""};function _n(o,n,T,C,S,h){var v,b,r,i,s,a,t,l,f,u,g,_,k,z,A,I,U,M,N,H,P,W,O,V,j,x,Y,so,K,mo;const p=Bo("image");return R(),Z("div",xe,[e("div",on,[e("div",en,[nn,e("div",null,"$"+d(("addCommom"in o?o.addCommom:E(q))((v=o.positionInfo)==null?void 0:v.myLiquidityUSD)),1)]),e("div",tn,[sn,e("div",null,d(o.positionInfo.myShare),1)])]),e("div",ln,[e("div",an,[e("div",un,[D(e("img",dn,null,512),[[p,o.needReverse?(r=(b=o.positionInfo)==null?void 0:b.token_b)==null?void 0:r.logo_url:(s=(i=o.positionInfo)==null?void 0:i.token_a)==null?void 0:s.logo_url]]),D(e("img",rn,null,512),[[p,o.needReverse?(t=(a=o.positionInfo)==null?void 0:a.token_a)==null?void 0:t.logo_url:(f=(l=o.positionInfo)==null?void 0:l.token_b)==null?void 0:f.logo_url]])]),e("div",cn,d(("addCommom"in o?o.addCommom:E(q))((u=o.positionInfo)==null?void 0:u.myLiquidity))+"LP",1)]),mn,e("div",vn,[e("div",null,[D(e("img",pn,null,512),[[p,o.needReverse?(_=(g=o.positionInfo)==null?void 0:g.token_b)==null?void 0:_.logo_url:(z=(k=o.positionInfo)==null?void 0:k.token_a)==null?void 0:z.logo_url]]),e("div",null,[e("p",null,"$"+d(("addCommom"in o?o.addCommom:E(q))((A=o.positionInfo)==null?void 0:A.myAmountAUSD)),1),e("p",null,d(("addCommom"in o?o.addCommom:E(q))((I=o.positionInfo)==null?void 0:I.amountA))+" "+d(o.needReverse?(M=(U=o.positionInfo)==null?void 0:U.token_b)==null?void 0:M.symbol:(H=(N=o.positionInfo)==null?void 0:N.token_a)==null?void 0:H.symbol),1)])]),e("div",null,[D(e("img",fn,null,512),[[p,o.needReverse?(W=(P=o.positionInfo)==null?void 0:P.token_a)==null?void 0:W.logo_url:(V=(O=o.positionInfo)==null?void 0:O.token_b)==null?void 0:V.logo_url]]),e("div",null,[e("p",null,"$"+d(("addCommom"in o?o.addCommom:E(q))((j=o.positionInfo)==null?void 0:j.myAmountBUSD)),1),e("p",null,d(("addCommom"in o?o.addCommom:E(q))((x=o.positionInfo)==null?void 0:x.amountB))+" "+d(o.needReverse?(so=(Y=o.positionInfo)==null?void 0:Y.token_a)==null?void 0:so.symbol:(mo=(K=o.positionInfo)==null?void 0:K.token_b)==null?void 0:mo.symbol),1)])])])])])}const se=ho(Ze,[["render",_n],["__scopeId","data-v-5ba420a3"]]),bn=bo({components:{Modal:xo},props:{poolInfo:{type:Object,default:()=>({})},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},totalAmount:{type:String,default:""},shareOfPool:{type:String,default:""},minimumReceivedLP:{type:String,default:""}},setup(o,n){const{t:T}=Do(),C=c(()=>{var a,t,l;return((a=o==null?void 0:o.poolInfo)==null?void 0:a.needReverse)||((l=(t=o==null?void 0:o.poolInfo)==null?void 0:t.poolInfo)==null?void 0:l.needReverse)}),S=qo(),h=c(()=>S),p=Lo(),v=c(()=>p),b=a=>{var t;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((t=h.value.tokensObj[a==null?void 0:a.address])==null?void 0:t.logo_url)||(v.value.theme==="default"?ko("/image/coins/unknown.png"):ko("/image/coins/sui-unknown.png"))},r=go(),i=B(!1),s=()=>{n.emit("toAdd")};return console.log(o,"props451"),{needReverse:C,getCoinIcon:b,addCommom:q,t:T,route:r,checked:i,decimalUi:Io,clickSubmit:s}}});const Uo=o=>(Co("data-v-aad63c94"),o=o(),So(),o),gn=Uo(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),hn={class:"modal-content"},$n={class:"pool-info"},yn={class:"left"},In={alt:""},kn={alt:""},Cn={class:"pool-name"},Sn={class:"right"},An={class:"coin-info"},Pn={class:"from-coin-info"},wn={class:"left"},Rn={class:"coin-amount"},Tn={class:"coin-symbol"},qn={class:"right"},Ln={class:"to-coin-info"},Bn={class:"left"},Nn={class:"coin-amount"},Mn={class:"coin-symbol"},On={class:"right"},Dn=Uo(()=>e("div",{class:"to-swap-logo"},null,-1)),Un={class:"add-info"},jn={class:"total-amount"},Fn=Uo(()=>e("span",null,"Total Amount",-1)),En={class:"total-amount"},Wn=Uo(()=>e("span",null,"Share of Pool",-1)),Xn={class:"total-amount"},zn=Uo(()=>e("span",null,"Minimum Received LP",-1));function Hn(o,n,T,C,S,h){const p=zo,v=Fo,b=oe("Modal"),r=Bo("image");return R(),to(b,{width:"440px",visible:!0,footer:null,title:"Add Liquidity",onCancel:n[0]||(n[0]=i=>o.$emit("onClose"))},{closeIcon:co(()=>[gn]),default:co(()=>{var i,s,a,t,l,f,u,g,_,k,z,A,I,U,M,N,H,P,W,O,V,j,x,Y;return[e("div",hn,[e("div",$n,[e("div",yn,[e("div",null,[D(e("img",In,null,512),[[r,o.needReverse?(t=(a=o.poolInfo)==null?void 0:a.token_b)==null?void 0:t.logo_url:(s=(i=o.poolInfo)==null?void 0:i.token_a)==null?void 0:s.logo_url]]),X(p,{address:o.needReverse?(g=(u=o.poolInfo)==null?void 0:u.token_b)==null?void 0:g.address:(f=(l=o.poolInfo)==null?void 0:l.token_a)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",null,[D(e("img",kn,null,512),[[r,o.needReverse?(A=(z=o.poolInfo)==null?void 0:z.token_a)==null?void 0:A.logo_url:(k=(_=o.poolInfo)==null?void 0:_.token_b)==null?void 0:k.logo_url]]),X(p,{address:o.needReverse?(N=(M=o.poolInfo)==null?void 0:M.token_a)==null?void 0:N.address:(U=(I=o.poolInfo)==null?void 0:I.token_b)==null?void 0:U.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",Cn,[e("span",null,d(o.needReverse?(O=(W=o.poolInfo)==null?void 0:W.token_b)==null?void 0:O.symbol:(P=(H=o.poolInfo)==null?void 0:H.token_a)==null?void 0:P.symbol),1),ro(" - "),e("span",null,d(o.needReverse?(Y=(x=o.poolInfo)==null?void 0:x.token_a)==null?void 0:Y.symbol:(j=(V=o.poolInfo)==null?void 0:V.token_b)==null?void 0:j.symbol),1)])]),e("div",Sn,[ro(" Fee tier "),e("span",null,d(o.poolInfo&&o.poolInfo.fee*100)+"%",1)])]),e("div",An,[e("div",Pn,[e("div",wn,[e("div",Rn,d(("addCommom"in o?o.addCommom:E(q))(o.fromCoinAmount)||0),1),e("div",Tn,d(o.fromCoin&&o.fromCoin.symbol),1)]),e("div",qn,[D(e("img",null,null,512),[[r,o.fromCoin&&o.fromCoin.logoURI||o.getCoinIcon(o.fromCoin)]]),X(p,{address:o.fromCoin&&o.fromCoin.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])])]),e("div",Ln,[e("div",Bn,[e("div",Nn,d(("addCommom"in o?o.addCommom:E(q))(o.toCoinAmount)||0),1),e("div",Mn,d(o.toCoin&&o.toCoin.symbol),1)]),e("div",On,[D(e("img",null,null,512),[[r,o.toCoin&&o.toCoin.logoURI||o.getCoinIcon(o.toCoin)]]),X(p,{address:o.toCoin&&o.toCoin.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),Dn])]),e("div",Un,[e("div",jn,[Fn,e("span",null,"$"+d(("addCommom"in o?o.addCommom:E(q))(o.totalAmount)),1)]),e("div",En,[Wn,e("span",null,d(o.shareOfPool)+"%",1)]),e("div",Xn,[zn,e("span",null,d(("addCommom"in o?o.addCommom:E(q))(o.minimumReceivedLP))+" "+d(o.fromCoin.symbol)+"-"+d(o.toCoin.symbol),1)])])]),X(v,{class:"big-btn liquidity-btn",onClick:o.clickSubmit},{default:co(()=>[ro(" Add Liquidity ")]),_:1},8,["onClick"])]}),_:1})}const ie=ho(bn,[["render",Hn],["__scopeId","data-v-aad63c94"]]),Gn=bo({components:{AutoPoolAddModal:ie},setup(){const o=jo(),n=B(!1),T=Lo(),C=c(()=>T),S=c(()=>C.value.chainName),h=c(()=>o),p=Oo(),v=c(()=>p),b=qo(),r=c(()=>b),i=B(),s=go();no(()=>[v.value.positionInfoObj,s.params.id],([m,w])=>{m&&!To(m)&&w&&(i.value=m[w],console.log(i.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const a=c(()=>{var m;return(m=i.value)==null?void 0:m.needReverse}),t=B(),l=B();no(()=>i.value,m=>{m&&!To(m)&&(t.value=m==null?void 0:m.token_a,l.value=m==null?void 0:m.token_b)},{immediate:!0});const f=B(),u=B(),g=B(!0),_=c(()=>h.value.assets&&t.value&&h.value.assets[t.value.address]?Yo(h.value.assets[t.value.address].balance,t.value.decimals):0),k=c(()=>h.value.assets&&l.value&&h.value.assets[l.value.address]?Yo(h.value.assets[l.value.address].balance,l.value.decimals):0),z=m=>{m==="fromCoin"?(g.value=!0,f.value=_.value>0?t.value.symbol=="SUI"?new y(Number(_.value)).sub(new y(.05)).lt(new y(0))?"0":new y(Number(_.value)).sub(new y(.05)).toString():String(_.value):""):(g.value=!1,u.value=k.value>0?l.value.symbol=="SUI"?new y(Number(k.value)).sub(new y(.05)).lt(new y(0))?"0":new y(Number(k.value)).sub(new y(.05)).toString():String(k.value):"")},A=m=>{m==="fromCoin"?(g.value=!0,f.value=_.value>0?lo(new y(Number(_.value)).div(2).toString(),t.value.decimals).toString():""):(g.value=!1,u.value=k.value>0?lo(new y(Number(k.value)).div(2).toString(),l.value.decimals).toString():"")},I=c(()=>S.value?Qo(S.value):{}),U=c(()=>C.value.slippage),M=B("--"),N=B("--"),H=m=>{const w=new y(i.value.autoPoolPositionInfo.liquidity),L=new y(m.toString());M.value=lo(L.div(w).div(100).toString(),i.value.decimals)},P=m=>{const w=new y(m.toString());console.log(m.toString(),"##liquidityAmount.toString()");const L=w.mul(new y(U.value).div(100)),G=new y(Math.pow(10,i.value.decimals));N.value=lo(w.minus(L).div(G).toString(),i.value.decimals)},W=()=>{if(console.log(i.value,"238##"),!i.value||!f.value&&!u.value)return;const m=i.value.autoPoolPositionInfo.tick_lower_index,w=i.value.autoPoolPositionInfo.tick_upper_index;let L;if(f.value||u.value){if(g.value){const io=new y(f.value).mul(Math.pow(10,t.value.decimals)).toString();L=new eo(io)}else{const io=new y(u.value).mul(Math.pow(10,l.value.decimals)).toString();L=new eo(io)}const{liquidityAmount:G,tokenMaxA:J,tokenMaxB:F,tokenMaxAOrigin:uo,tokenMaxBOrigin:fo}=I.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:t.value,tokenB:l.value,lowerTick:m,upperTick:w,coinAmount:L,iscoinA:g.value,roundUp:!0,slippage:Number(U.value)/100,curSqrtPrice:new eo(i.value.current_sqrt_price)});console.log(F.toString(),J.toString(),i.value,"###323"),g.value?u.value=Number(F)>0?F:"":f.value=Number(J)>0?J:"",H(G),P(G)}},O=c(()=>r.value.RATES),V=c(()=>{var m,w,L,G,J,F,uo,fo,io,oo;if((w=O.value[(m=t.value)==null?void 0:m.address])!=null&&w.price&&((G=O.value[(L=l.value)==null?void 0:L.address])!=null&&G.price)){console.log((F=O.value[(J=t.value)==null?void 0:J.address])==null?void 0:F.price,"RATES.value[fromCoin.value?.address]?.price");const _o=new y(f.value||0).mul(new y((fo=O.value[(uo=t.value)==null?void 0:uo.address])==null?void 0:fo.price)),Mo=new y(u.value||0).mul(new y((oo=O.value[(io=l.value)==null?void 0:io.address])==null?void 0:oo.price));return lo(_o.add(Mo).toString(),6)}else return"--"});no(f,(m,w)=>{m&&W(),m==""&&(M.value="--",u.value="",N.value="--")}),no(u,(m,w)=>{m&&W(),m==""&&(f.value="",M.value="--",N.value="--")});const{t:j,locale:x}=Do(),Y=c(()=>{const m=Number(f.value)>Number(_.value),w=Number(u.value)>Number(k.value);return!f.value&&!u.value?j("button.enterAmount"):m?j("button.insufficientBalance",{name:t.value.symbol}):w?j("button.insufficientBalance",{name:l.value.symbol}):"Add Liquidity"}),so=c(()=>{const m=Number(f.value)>Number(_.value),w=Number(u.value)>Number(k.value);return!!(!f.value&&!u.value||m||w)}),K=B(!0),{setIsShowSuccess:mo,setIsShowRejected:$o,setIsShowWaiting:vo,setTransactionDesc:$,setTransactionTxid:Q,setPositiomNum:ao}=T,po=Zo("Sui");return{wallet:h,positionInfo:i,isShowAddModal:n,needReverse:a,fromCoin:t,toCoin:l,fromCoinAmount:f,toCoinAmount:u,fromCoinBlance:_,toCoinBlance:k,fixedFromCoin:g,maxBtnSelect:z,halfBtnSelect:A,totalAmountUSD:V,addCommom:q,shareOfPool:M,minimumReceivedLP:N,addLiquidityBtnText:Y,addLiquidityBtnDisabled:so,toAdd:async()=>{var uo,fo,io,oo,_o,Mo;n.value=!1,K.value=!0,Q("");const m=`${f.value} ${(uo=t.value)==null?void 0:uo.symbol}`,w=`${u.value} ${(fo=l.value)==null?void 0:fo.symbol}`;$(j("tips.increaseLiquiditySuccess",{from:a.value?w:m,and:"and",to:a.value?m:w})),vo(!0);const L=g.value,G=i.value.autoPoolPositionInfo.tick_lower_index,J=i.value.autoPoolPositionInfo.tick_upper_index;let F;if(g.value){const yo=new y(f.value).mul(Math.pow(10,t.value.decimals)).toString();F=new eo(yo)}else{const yo=new y(u.value).mul(Math.pow(10,l.value.decimals)).toString();F=new eo(yo)}try{const yo={lowerTick:G,upperTick:J,coinAmount:F,fix_amount_a:L,slippage:Number(U.value)/100,curSqrtPrice:new eo(i.value.current_sqrt_price),id:i.value.id,clmm_pool:i.value.autoPoolPositionInfo.pool,lp_token_type:i.value.lp_token_type,coinTypeA:i.value.autoPoolPositionInfo.coin_type_a,coinTypeB:i.value.autoPoolPositionInfo.coin_type_b},Vo=await po.deposit(yo);console.log(Vo,"===>payloadAdd11111");const re=await h.value.currentWallet.signAndExecuteTransactionBlock(Vo);let wo=I.value.handleTx(re);if(console.log("toAdd###tx###",wo),wo&&wo.hash){Q(wo.hash),vo(!1),mo(!0),console.log(i,"===>positionInfo");const Wo={title:"Supplied",desc:j("tips.addLiquiditySuccessText",{from:`${f.value} ${(io=t.value)==null?void 0:io.symbol}`,and:"and",to:`${u.value} ${(oo=l.value)==null?void 0:oo.symbol}`}),hash:wo.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deopsit ${f.value} ${(_o=t.value)==null?void 0:_o.symbol} and ${u.value} ${(Mo=l.value)==null?void 0:Mo.symbol}`};S.value!=="Aptos"&&(Wo.res=wo.res),I.value.showTransitionPending(Wo),await I.value.watchTransaction(Wo)&&setTimeout(()=>{p.updatePositionItem(i.value.address),I.value.getAccount(h.value.address)},1e3),ao()}else vo(!1),$o(!0);f.value="",u.value="",K.value=!1}catch(yo){f.value="",u.value="",console.log("addError###",yo),K.value=!1,vo(!1),$o(!0)}}}}});const Eo=o=>(Co("data-v-1fdead2f"),o=o(),So(),o),Jn={class:"auto-pool-add"},Vn={class:"auto-pool-add-content"},Yn={class:"liquidity-action-tab"},Kn=Eo(()=>e("div",{class:"increase tab-active"},"Add",-1)),Qn={class:"card-item"},Zn={class:"card-item"},xn={class:"add-info"},ot={class:"total-amount"},et=Eo(()=>e("span",null,"Total Amount",-1)),nt={class:"total-amount"},tt=Eo(()=>e("span",null,"Share of Pool",-1)),st={class:"total-amount"},it=Eo(()=>e("span",null,"Minimum Received LP",-1));function lt(o,n,T,C,S,h){var r,i;const p=Ce,v=Fo,b=ie;return R(),Z("div",Jn,[e("div",Vn,[e("div",Yn,[Kn,e("div",{class:"remove",onClick:n[0]||(n[0]=ee(s=>o.$emit("changeCurrentTab"),["stop"]))},"Remove")]),e("div",{class:Xo(o.needReverse?"card-container reverse":"card-container")},[e("div",Qn,[X(p,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":n[1]||(n[1]=s=>o.fromCoinAmount=s),"input-value":o.fromCoinAmount,"coin-symbol":o.fromCoin?o.fromCoin.symbol:null,"coin-name":o.fromCoin?o.fromCoin.name:null,balance:o.fromCoinBlance,"coin-icon":o.fromCoin?o.fromCoin.logoURI:"",address:o.fromCoin?o.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[2]||(n[2]=s=>o.maxBtnSelect("fromCoin")),onOnHalf:n[3]||(n[3]=s=>o.halfBtnSelect("fromCoin")),onOnInput:n[4]||(n[4]=s=>{o.fromCoinAmount=s}),onOnFocus:n[5]||(n[5]=()=>{o.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),e("div",Zn,[X(p,{modelValue:o.toCoinAmount,"onUpdate:modelValue":n[6]||(n[6]=s=>o.toCoinAmount=s),"input-value":o.toCoinAmount,"coin-symbol":o.toCoin?o.toCoin.symbol:null,"coin-name":o.toCoin?o.toCoin.name:null,balance:o.toCoinBlance,"swap-direct":"To","coin-icon":o.toCoin?o.toCoin.logoURI:"",address:o.toCoin?o.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[7]||(n[7]=s=>o.maxBtnSelect("toCoin")),onOnHalf:n[8]||(n[8]=s=>o.halfBtnSelect("toCoin")),onOnInput:n[9]||(n[9]=s=>{o.toCoinAmount=s}),onOnFocus:n[10]||(n[10]=()=>{o.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])])],2),e("div",xn,[e("div",ot,[et,e("span",null,"$"+d(("addCommom"in o?o.addCommom:E(q))(o.totalAmountUSD)),1)]),e("div",nt,[tt,e("span",null,d(o.shareOfPool)+"%",1)]),e("div",st,[it,e("span",null,d(("addCommom"in o?o.addCommom:E(q))(o.minimumReceivedLP))+" "+d((r=o.fromCoin)==null?void 0:r.symbol)+"-"+d((i=o.toCoin)==null?void 0:i.symbol),1)])])]),o.wallet.connected?(R(),to(v,{key:0,class:"big-btn liquidity-btn",disabled:o.addLiquidityBtnDisabled,onClick:n[11]||(n[11]=s=>o.isShowAddModal=!0)},{default:co(()=>[e("span",null,d(o.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(R(),to(v,{key:1,class:"big-btn",onClick:n[12]||(n[12]=s=>o.wallet.setIsShowWalletModal(!0))},{default:co(()=>[e("span",null,d(o.$t("button.connectWallet")),1)]),_:1})),o.isShowAddModal?(R(),to(b,{key:2,"pool-info":o.positionInfo,"from-coin":o.positionInfo.token_a,"to-coin":o.positionInfo.token_b,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,"total-amount":o.totalAmountUSD,"share-of-pool":o.shareOfPool,"minimum-received-l-p":o.minimumReceivedLP,onOnClose:n[13]||(n[13]=s=>o.isShowAddModal=!1),onToAdd:o.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","onToAdd"])):Ho("",!0)])}const le=ho(Gn,[["render",lt],["__scopeId","data-v-1fdead2f"]]),at=bo({props:{inputValue:{type:String,default:""},balance:{type:String,default:""},lpDecimals:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},inputDisabled:{type:Boolean,default:!1}},setup(o,n){const{t:T,locale:C}=Do(),S=Lo(),h=c(()=>S),p=c(()=>new y(Number(o.balance)).div(2)),v=fe(_e,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function b(){this.$emit("onSelect")}const r=_=>{const k=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${o.lpDecimals&&o.lpDecimals}})?).*$`);_.target.value=_.target.value.replace(k,"$1")},i=jo(),s=c(()=>i),a=qo(),t=c(()=>a),l=c(()=>t.value.tokensWarningObj);no(()=>t.value.RATES,_=>{_&&console.log(_,"price====>")},{immediate:!0});const f=c(()=>t.value.tokensObj),u=c(()=>h.value.theme);return{route:go(),theme:u,tokensObj:f,pool:t,halfBalance:p,t:T,addCommom:q,store:h,wallet:s,indicator:v,inputChange:r,importIcon:ko,selectCoin:b,formatNumber:pe,tokensWarningObj:l,checkNullObj:To}}});const ae=o=>(Co("data-v-84de2193"),o=o(),So(),o),ut={class:"card"},dt={class:"top"},rt={key:1,class:"input-div"},ct={key:0},mt={class:"left"},vt={class:"loading-token"},pt={class:"lp-bg"},ft={alt:""},_t={alt:""},bt=ae(()=>e("p",null,"LP",-1)),gt={class:"bottom"},ht=ae(()=>e("div",null,null,-1)),$t={class:"top"},yt={class:"right"},It={class:"balance"};function kt(o,n,T,C,S,h){const p=be,v=ne,b=Bo("image");return R(),Z("div",ut,[e("div",dt,[o.inputDisabled?(R(),Z("div",rt,[o.inputValue?(R(),Z("span",ct,d(o.inputValue),1)):(R(),to(v,{key:1,indicator:o.indicator},null,8,["indicator"]))])):(R(),to(p,{key:0,value:o.inputValue=="InsufficientLiquidity"?"":o.inputValue,placeholder:"0.0",disabled:o.inputDisabled,onChange:o.inputChange,onInput:n[0]||(n[0]=r=>o.$emit("onInput",r.target.value)),onFocus:n[1]||(n[1]=r=>o.$emit("onFocus"))},null,8,["value","disabled","onChange"])),e("div",mt,[e("div",vt,[e("div",pt,[D(e("img",ft,null,512),[[b,o.fromCoin.logo_url]]),D(e("img",_t,null,512),[[b,o.toCoin.logo_url]])]),bt])])]),e("div",gt,[ht,e("div",$t,[e("div",yt,[ro(d(o.$t("common.balance"))+" ",1),e("span",It,d(o.wallet.connected?("addCommom"in o?o.addCommom:E(q))(o.balance,o.lpDecimals):"0"),1)])])])])}const Ct=ho(at,[["render",kt],["__scopeId","data-v-84de2193"]]),St=bo({components:{Modal:xo},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"11111111111"},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(o,n){const{t:T}=Do(),C=c(()=>{var a,t,l;return((a=o==null?void 0:o.poolInfo)==null?void 0:a.needReverse)||((l=(t=o==null?void 0:o.poolInfo)==null?void 0:t.poolInfo)==null?void 0:l.needReverse)}),S=qo(),h=c(()=>S),p=Lo(),v=c(()=>p),b=a=>{var t;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((t=h.value.tokensObj[a==null?void 0:a.address])==null?void 0:t.logo_url)||(v.value.theme==="default"?ko("/image/coins/unknown.png"):ko("/image/coins/sui-unknown.png"))},r=go(),i=B(!1),s=()=>{n.emit("toAdd")};return console.log(o,"props451"),{needReverse:C,getCoinIcon:b,addCommom:q,t:T,route:r,checked:i,decimalUi:Io,clickSubmit:s}}});const Ao=o=>(Co("data-v-6d964534"),o=o(),So(),o),At=Ao(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Pt={class:"modal-content"},wt={class:"pool-info"},Rt={class:"left"},Tt={alt:""},qt={alt:""},Lt={class:"pool-name"},Bt={class:"right"},Nt={class:"lp-info"},Mt=Ao(()=>e("div",{class:"lp-num"},[e("p",null,"1,126,122.123456"),e("span",null,"USDT-USDC LP")],-1)),Ot={class:"lp-bg"},Dt={alt:""},Ut={alt:""},jt={class:"est-receive"},Ft=Ao(()=>e("div",{class:"est-receive-title"},"Estimated Receive",-1)),Et={class:"token-a"},Wt=Ao(()=>e("div",null,"0.941824",-1)),Xt={alt:""},zt=Ao(()=>e("span",null,"USDT",-1)),Ht={class:"token-a"},Gt=Ao(()=>e("div",null,"0.941824",-1)),Jt={alt:""},Vt=Ao(()=>e("span",null,"USDC",-1));function Yt(o,n,T,C,S,h){const p=zo,v=Fo,b=oe("Modal"),r=Bo("image");return R(),to(b,{width:"440px",visible:!0,footer:null,title:"Add Liquidity",onCancel:n[0]||(n[0]=i=>o.$emit("onClose"))},{closeIcon:co(()=>[At]),default:co(()=>{var i,s,a,t,l,f,u,g,_,k,z,A,I,U,M,N,H,P,W,O,V,j,x,Y;return[e("div",Pt,[e("div",wt,[e("div",Rt,[e("div",null,[D(e("img",Tt,null,512),[[r,o.needReverse?(t=(a=o.poolInfo)==null?void 0:a.token_b)==null?void 0:t.logo_url:(s=(i=o.poolInfo)==null?void 0:i.token_a)==null?void 0:s.logo_url]]),X(p,{address:o.needReverse?(g=(u=o.poolInfo)==null?void 0:u.token_b)==null?void 0:g.address:(f=(l=o.poolInfo)==null?void 0:l.token_a)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",null,[D(e("img",qt,null,512),[[r,o.needReverse?(A=(z=o.poolInfo)==null?void 0:z.token_a)==null?void 0:A.logo_url:(k=(_=o.poolInfo)==null?void 0:_.token_b)==null?void 0:k.logo_url]]),X(p,{address:o.needReverse?(N=(M=o.poolInfo)==null?void 0:M.token_a)==null?void 0:N.address:(U=(I=o.poolInfo)==null?void 0:I.token_b)==null?void 0:U.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),e("div",Lt,[e("span",null,d(o.needReverse?(O=(W=o.poolInfo)==null?void 0:W.token_b)==null?void 0:O.symbol:(P=(H=o.poolInfo)==null?void 0:H.token_a)==null?void 0:P.symbol),1),ro(" - "),e("span",null,d(o.needReverse?(Y=(x=o.poolInfo)==null?void 0:x.token_a)==null?void 0:Y.symbol:(j=(V=o.poolInfo)==null?void 0:V.token_b)==null?void 0:j.symbol),1)])]),e("div",Bt,[ro(" Fee tier "),e("span",null,d(o.poolInfo&&o.poolInfo.fee*100)+"%",1)])]),e("div",Nt,[Mt,e("div",Ot,[D(e("img",Dt,null,512),[[r,o.needReverse?o.poolInfo.token_b.logo_url:o.poolInfo.token_a.logo_url]]),D(e("img",Ut,null,512),[[r,o.needReverse?o.poolInfo.token_a.logo_url:o.poolInfo.token_b.logo_url]])])]),e("div",jt,[Ft,e("div",Et,[Wt,e("div",null,[D(e("img",Xt,null,512),[[r,"1"]]),zt])]),e("div",Ht,[Gt,e("div",null,[D(e("img",Jt,null,512),[[r,"1"]]),Vt])])])]),X(v,{class:"big-btn liquidity-btn",onClick:o.clickSubmit},{default:co(()=>[ro(d(o.isIncrease?"Increase Liquidity":o.title==o.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["onClick"])]}),_:1})}const ue=ho(St,[["render",Yt],["__scopeId","data-v-6d964534"]]),Kt=bo({components:{AutoPoolRemoveModal:ue},setup(){const o=jo(),n=c(()=>o),T=Lo(),C=c(()=>T),S=c(()=>C.value.slippage),h=c(()=>C.value.chainName),p=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],v=B(25),b=go(),r=Oo(),i=c(()=>r),s=c(()=>(console.log(i.value.positionInfoObj[b.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),i.value.positionInfoObj[b.params.id])),a=c(()=>{var $;return($=s.value)==null?void 0:$.needReverse}),t=B(),l=B(),f=B(!1),u=B(),g=c(()=>s.value.myLiquidity),_=B(!0),k=c(()=>h.value?Qo(h.value):{}),z=Zo("Sui"),A=B("--"),I=B("--"),U=()=>{if(_.value||!s.value)return;if(!u.value){A.value="--",I.value="--",v.value=0;return}if(Number(u.value)>Number(g.value))return;if(Number(u.value)*Math.pow(10,s.value.decimals)==Number(g.value)){v.value=100,N({value:1}),_.value=!0;return}console.log(g.value,"##lpBalance.value");const $=new y(u.value).mul(Math.pow(10,s.value.decimals)).toString();console.log($.toString(),g.value,"lpBalance.value##");const Q=new y(u.value).div(new y(g.value)).mul(100),ao=s.value.autoPoolPositionInfo.tick_lower_index,po=s.value.autoPoolPositionInfo.tick_upper_index,Po=s.value.token_a.decimals,m=s.value.token_b.decimals,w=Ro.tickIndexToSqrtPriceX64(ao),L=Ro.tickIndexToSqrtPriceX64(po);console.log(s.value.object.current_sqrt_price,"##positionInfo.value.object.current_sqrt_price");const G=Ko.getCoinAmountFromLiquidity(new eo(u.value),new eo(s.value.object.current_sqrt_price),w,L,!1),J=new y(G.coinA.toString()).div(Math.pow(10,Po)).toString(),F=new y(G.coinB.toString()).div(Math.pow(10,m)).toString();A.value=Number(J)>0?J:"--",I.value=Number(F)>0?F:"--",console.log(Q.toString(),"##ratio"),v.value=Q.toNumber(),M.value=lo(u.value,0)},M=B(),N=$=>{if(!_.value)return;_.value=!0;const Q=s.value.token_a.decimals,ao=s.value.token_b.decimals,po=s.value.tick_lower_index,Po=s.value.tick_upper_index,m=Ro.tickIndexToSqrtPriceX64(po),w=Ro.tickIndexToSqrtPriceX64(Po);let L="";console.log(s.value,"positionInfo.value.myLiquidity###"),$.value!==1?L=new y(s.value.myLiquidity).mul($.value).toString():L=s.value.myLiquidity,L=lo(L,0)||"0",M.value=lo(L,0),u.value=L;const G=Ko.getCoinAmountFromLiquidity(new eo(L),new eo(s.value.object.current_sqrt_price),m,w,!1),J=new y(G.coinA.toString()).div(Math.pow(10,Q)).toString(),F=new y(G.coinB.toString()).div(Math.pow(10,ao)).toString();console.log(J,F,"amountA121212"),A.value=Number(J)>0?J:"--",I.value=Number(F)>0?F:"--"};no(v,ge(($,Q)=>{$!==Q&&(Number($)>100?v.value=100:$&&s.value?(console.log("687===>"),v.value=$,N({value:v.value/100})):(A.value="--",I.value="--"))},300)),no(()=>u.value,$=>{U()},{immediate:!0});const H=he(),{setIsShowSuccess:P,setIsShowRejected:W,setIsShowWaiting:O,setTransactionDesc:V,setTransactionTxid:j,setPositiomNum:x,setTransactionDescText:Y}=T,so=B(!1),{t:K}=Do(),mo=async()=>{var L,G,J,F;so.value=!0,j("");const $=q(A.value,t.value.decimals)==0?"":`${Io(A.value,t.value.decimals)} ${t.value.symbol}`,Q=q(I.value,l.value.decimals)==0?"":`${Io(I.value,l.value.decimals)} ${l.value.symbol}`;V(K("tips.removeLiquidiyText",{from:a.value?Q:$,and:q(A.value,t.value.decimals)==0||q(I.value,l.value.decimals)==0?"":"and",to:a.value?$:Q})),O(!0);const ao=K("modal.removeLiquidityText2");Y(ao);const po=s.value.autoPoolPositionInfo.tick_lower_index,Po=s.value.autoPoolPositionInfo.tick_upper_index,m=Ro.tickIndexToSqrtPriceX64(po),w=Ro.tickIndexToSqrtPriceX64(Po);try{const uo={lowerSqrtPrice:m,upperSqrtPrice:w,lpTokenAmount:new eo(M.value),curSqrtPrice:new eo(s.value.object.current_sqrt_price),slippage:S.value,id:s.value.id,clmm_pool:s.value.autoPoolPositionInfo.pool,lp_token_type:s.value.lp_token_type,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b},fo=await z.remove(uo),io=await n.value.currentWallet.signAndExecuteTransactionBlock(fo);let oo=k.value.handleTx(io);if(console.log("0331###remove###tx####",oo),oo&&oo.hash){j(oo.hash),O(!1),P(!0);const _o={title:K("common.removeLiquidity"),desc:"",hash:oo.hash,descTransactions:`Remove ${A.value} ${(L=t.value)==null?void 0:L.symbol} and ${I.value} ${(G=l.value)==null?void 0:G.symbol} 
             from the pool`,sender:n.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${A.value} ${(J=t.value)==null?void 0:J.symbol} and ${I.value} ${(F=l.value)==null?void 0:F.symbol}`};_o.res=oo.res,k.value.showTransitionPending(_o),await k.value.watchTransaction(_o)&&(A.value="",I.value="",setTimeout(()=>{r.updatePositionItem(s.value.address),k.value.getAccount(n.value.address)},1e3),Number(v.value)==100&&b.name=="auto-pool-detail"&&H.push("/pool/auto"))}else O(!1),W(!0);so.value=!1}catch(uo){console.log("Remove error",uo),so.value=!1,O(!1),W(!0)}};no(()=>s.value,$=>{$&&!To($)&&(t.value=$==null?void 0:$.token_a,l.value=$==null?void 0:$.token_b,N({value:v.value/100}))},{immediate:!0});const $o=c(()=>{const $=Number(u.value)>Number(g.value);return!u.value||u.value<=0?K("button.enterAmount"):$?"Invalid Amount":K("button.remove")}),vo=c(()=>{const $=Number(u.value)>Number(g.value);return!!(!u.value||u.value<=0||$)});return{removeLiquidityBtnText:$o,removeLiquidityBtnDisabled:vo,wallet:n,ratioArr:p,positionInfo:s,isShowRemoveModal:f,needReverse:a,fromCoin:t,toCoin:l,lpAmount:u,lpBalance:g,sliderVal:v,sFixD:lo,isSlider:_,fromCoinAmount:A,toCoinAmount:I,setPercent:N,toRemove:mo}}});const Jo=o=>(Co("data-v-2ba45324"),o=o(),So(),o),Qt={class:"auto-pool-add"},Zt={class:"auto-pool-add-content"},xt={class:"liquidity-action-tab"},os=Jo(()=>e("div",{class:"remove tab-active"},"Remove",-1)),es={class:"card-item"},ns={class:"remove-ratio"},ts=Jo(()=>e("div",{class:"remove-ratio-title"},"Amount",-1)),ss={class:"remove-ratio-select"},is={key:0,class:"ratio"},ls={key:1,class:"ratio"},as={class:"ratio-list"},us=["onClick"],ds={class:"est-receive"},rs=Jo(()=>e("div",{class:"est-receive-title"},"Estimated Receive",-1)),cs={class:"token-a"},ms={alt:""},vs={class:"token-a"},ps={alt:""};function fs(o,n,T,C,S,h){var s,a,t,l,f,u,g,_,k,z,A,I,U,M,N,H;const p=Ct,v=Ie,b=Fo,r=ue,i=Bo("image");return R(),Z("div",Qt,[e("div",Zt,[e("div",xt,[e("div",{class:"increase",onClick:n[0]||(n[0]=ee(P=>o.$emit("changeCurrentTab"),["stop"]))},"Add"),os]),e("div",{class:Xo(o.needReverse?"card-container reverse":"card-container")},[e("div",es,[X(p,{modelValue:o.lpAmount,"onUpdate:modelValue":n[1]||(n[1]=P=>o.lpAmount=P),"input-value":o.lpAmount,balance:o.lpBalance,"from-coin":o.fromCoin,"to-coin":o.toCoin,onOnInput:n[2]||(n[2]=P=>{o.isSlider=!1,o.lpAmount=P})},null,8,["modelValue","input-value","balance","from-coin","to-coin"])])],2),e("div",ns,[ts,e("div",ss,[Number(o.lpBalance)>=Number(o.lpAmount)?(R(),Z("div",is,d(o.sliderVal>0&&Number(("sFixD"in o?o.sFixD:E(lo))(o.sliderVal,2))<.01?"<0.01":("sFixD"in o?o.sFixD:E(lo))(o.sliderVal,2))+"% ",1)):(R(),Z("div",ls,"--")),e("div",as,[(R(!0),Z($e,null,ye(o.ratioArr,(P,W)=>(R(),Z("div",{key:W,class:Xo(["ratio-item",o.sliderVal==P.value?"ratio-item-active":""]),onClick:()=>{o.isSlider=!0,o.sliderVal=P.value}},d(P.name),11,us))),128))])]),X(v,{value:o.sliderVal,"onUpdate:value":n[3]||(n[3]=P=>o.sliderVal=P)},null,8,["value"])]),e("div",ds,[rs,e("div",cs,[e("div",null,d(o.fromCoinAmount),1),e("div",null,[D(e("img",ms,null,512),[[i,o.needReverse?(a=(s=o.positionInfo)==null?void 0:s.token_b)==null?void 0:a.logo_url:(l=(t=o.positionInfo)==null?void 0:t.token_a)==null?void 0:l.logo_url]]),e("span",null,d(o.needReverse?(u=(f=o.positionInfo)==null?void 0:f.token_b)==null?void 0:u.symbol:(_=(g=o.positionInfo)==null?void 0:g.token_a)==null?void 0:_.symbol),1)])]),e("div",vs,[e("div",null,d(o.toCoinAmount),1),e("div",null,[D(e("img",ps,null,512),[[i,o.needReverse?(z=(k=o.positionInfo)==null?void 0:k.token_a)==null?void 0:z.logo_url:(I=(A=o.positionInfo)==null?void 0:A.token_b)==null?void 0:I.logo_url]]),e("span",null,d(o.needReverse?(M=(U=o.positionInfo)==null?void 0:U.token_a)==null?void 0:M.symbol:(H=(N=o.positionInfo)==null?void 0:N.token_b)==null?void 0:H.symbol),1)])])])]),o.wallet.connected?(R(),to(b,{key:0,class:"big-btn liquidity-btn",disabled:o.removeLiquidityBtnDisabled,onClick:o.toRemove},{default:co(()=>[e("span",null,d(o.removeLiquidityBtnText),1)]),_:1},8,["disabled","onClick"])):(R(),to(b,{key:1,class:"big-btn",onClick:n[4]||(n[4]=P=>o.wallet.setIsShowWalletModal(!0))},{default:co(()=>[e("span",null,d(o.$t("button.connectWallet")),1)]),_:1})),o.isShowRemoveModal?(R(),to(r,{key:2,"pool-info":o.positionInfo,"from-coin":o.positionInfo.token_a,"to-coin":o.positionInfo.token_b,onOnClose:n[5]||(n[5]=P=>o.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):Ho("",!0)])}const de=ho(Kt,[["render",fs],["__scopeId","data-v-2ba45324"]]),_s=bo({components:{AutoPoolAdd:le,AutoPositionInfo:te,AutoPositionLiquidity:se,AutoPoolRemove:de},setup(){const o=B("add"),n=jo(),T=c(()=>n),C=Oo(),S=c(()=>C),h=qo(),p=c(()=>h);no(()=>p.value.poolConfigList,r=>{r&&r.length>0&&C.getAutoPoolList()},{immediate:!0}),no(()=>[T.value.address,S.value.autoPoolList],([r,i])=>{r&&i&&i.length>0&&C.getMyAutoPoolPosition()},{immediate:!0}),no(()=>[S.value.positionInfoList,p.value.RATES],(r,i)=>{r[0]&&r[0].length>0&&r[1]&&!To(r[1])&&(console.log("执行了吗##"),C.getUserPositionUSD())},{immediate:!0});const v=go(),b=c(()=>(console.log(S.value.positionInfoObj[v.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),S.value.positionInfoObj[v.params.id]));return{currentTab:o,positionInfo:b}}});const bs={class:"auto-increase-liquidity"},gs={class:"auto-increase-liquidity-content"},hs={class:"left"},$s={class:"right"},ys={class:"loading-global"};function Is(o,n,T,C,S,h){const p=ce,v=te,b=se,r=le,i=de,s=ne;return R(),Z("div",bs,[X(p),e("div",gs,[e("div",hs,[X(v),X(b)]),e("div",$s,[o.currentTab=="add"?(R(),to(r,{key:0,onChangeCurrentTab:n[0]||(n[0]=a=>o.currentTab="remove")})):(R(),to(i,{key:1,onChangeCurrentTab:n[1]||(n[1]=a=>o.currentTab="add")}))])]),D(e("div",ys,[X(s)],512),[[ke,!o.positionInfo]])])}const zs=ho(_s,[["render",Is],["__scopeId","data-v-e2ffc17a"]]);export{zs as default};
