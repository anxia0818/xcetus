import{_ as rn}from"./back.0075664a.js";import{_ as dn}from"./refresh-icon.62c62948.js";import{a as Xe,M as Eo,l as Po,r as w,m as vn,e as je,q as so,o as u,c as Y,w as we,h as o,i as z,j as We,t as c,f as g,F as to,s as Wo,v as Ue,x as U,y as mn,I as cn,B as So,p as ze,k as Ge,z as yo,A as To,C as h,D as Ce,b as No,E as oo,G as Ro,H as eo,u as A,J as jo,K as Io,L as vo,N as pn,O as fn,P as Xo,S as zo}from"./entry.01ccd342.js";/* empty css              */import{_ as yn,a as gn,b as bn}from"./icon-error_2x.7f1e91e5.js";import{u as Ke,a as Go}from"./autoPool.9a27ae6e.js";import{u as no,c as Je,a as N,g as Co,d as Ye,s as C,f as hn,T as Ee,b as ue,p as Vo,e as Ho,h as kn}from"./pool.960c7102.js";import{_ as go}from"./token-warning.9f81701e.js";import{_ as Yo}from"./auto-pool-apy-tips.39c377bd.js";import{u as bo,a as qo}from"./sha256.1c12d539.js";import{i as uo}from"./import-icon.de3e6c66.js";import"./decimal.6f03adc8.js";import{D as l}from"./decimal.0bdeb344.js";import{_ as Jo}from"./assets-card.5062ad98.js";import{_ as Ko}from"./coin-lock.03277da3.js";import{_ as Zo,a as Qo}from"./auto-pool-remove-modal.16e0d94f.js";/* empty css              */import{afterCurrentPrice as $o}from"./data.6cf6fc18.js";import{V as Ao}from"./index.d720504a.js";/* empty css              *//* empty css              */import{u as _n}from"./swapRouter.4c229205.js";/* empty css              *//* empty css              */import"./img-lock_2x.a28135f4.js";import"./img-lock_2x.d76240b3.js";const wn=Xe({components:{Modal:Eo},setup(e,t){const{t:V,locale:j}=Po(),T=Ke(),P=["0.1","0.5","1"],m=w(T.slippage||.1),{setSlippage:S}=T,b=vn();console.log(m.value,"slippage.value");const d=w(!1);function s(n,r){d.value=!1,m.value=r}function L(){S(m.value),t.emit("onClose",!1)}return{settingArr:P,changeActiveIndex:s,confirm:L,emit:b,slippage:m,t:V,isInput:d,inputChange:n=>{const r=new RegExp(/[^\d]/g);n.target.value=n.target.value.replace(r,""),m.value=n.target.value}}}});const xo=e=>(ze("data-v-d3ed2d1a"),e=e(),Ge(),e),$n=xo(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),In={class:"setting-container"},Cn={class:"title"},An=xo(()=>o("img",{src:bn,alt:""},null,-1)),Pn={class:"tag-list"},Sn={key:0,src:yn,alt:""},Tn={key:1,src:gn,alt:""},Nn={class:"footer"};function Rn(e,t,V,j,T,P){const m=mn,S=cn,b=So,d=so("Modal");return u(),Y(d,{title:"Settings",class:"setting",centered:"",visible:!0,width:"400px",onCancel:t[3]||(t[3]=s=>e.$emit("onClose"))},{closeIcon:we(()=>[$n]),footer:we(()=>[o("div",Nn,[z(b,{type:"cancel",class:"cancel-btn cancel-btn-new",onClick:t[2]||(t[2]=s=>e.$emit("onClose"))},{default:we(()=>[We(c(e.$t("button.cancel")),1)]),_:1}),z(b,{class:"confirmbtn",disabled:Number(e.slippage)==0||Number(e.slippage)>1||Number(e.slippage)<.01,onClick:e.confirm},{default:we(()=>[We(c(e.$t("button.confirm")),1)]),_:1},8,["disabled","onClick"])])]),default:we(()=>[o("div",In,[o("div",Cn,[An,o("span",null,c(e.$t("modal.slippageTolerance")),1)]),o("div",Pn,[(u(!0),g(to,null,Wo(e.settingArr,(s,L)=>(u(),Y(m,{key:L,class:Ue(!e.isInput&&s==e.slippage?"tag-active":""),onClick:F=>e.changeActiveIndex(L,s)},{default:we(()=>[We(c(s)+"% ",1)]),_:2},1032,["class","onClick"]))),128)),z(m,{class:Ue(["input-tag",e.isInput?"tag-active":""]),onClick:t[1]||(t[1]=s=>e.isInput=!0)},{default:we(()=>[z(S,{value:e.slippage,"onUpdate:value":t[0]||(t[0]=s=>e.slippage=s),placeholder:"",suffix:"%",class:Ue(["slippage-input",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-input-waring":Number(e.slippage)>1?"slippage-input-error":""]),onChange:e.inputChange},null,8,["value","class","onChange"])]),_:1},8,["class"])])]),Number(e.slippage)>.5&&Number(e.slippage)<1||Number(e.slippage)>1?(u(),g("div",{key:0,class:Ue(["slippage-hint",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-hint-waring":Number(e.slippage)>1?"slippage-hint-error":""])},[Number(e.slippage)>.5&&1>=Number(e.slippage)?(u(),g("img",Sn)):U("",!0),Number(e.slippage)>1?(u(),g("img",Tn)):U("",!0),o("p",null,c(Number(e.slippage)>.5&&1>=Number(e.slippage)?e.$t("tips.slippageTolerance2"):Number(e.slippage)>1?e.$t("tips.slippageTolerance1"):""),1)],2)):U("",!0)]),_:1})}const qn=je(wn,[["render",Rn],["__scopeId","data-v-d3ed2d1a"]]),Dn=Xe({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const V=w(!1),j=w(null),T=w(0);let P=w(!1);const m=w(20);no();const S=Ke(),b=w(!1);yo(()=>{}),To(()=>{clearInterval(j.value)});const d=()=>{P.value=!1,j.value=setInterval(()=>{var i;b.value||T.value<m.value&&(T.value+=1,T.value===m.value&&((i=e==null?void 0:e.poolInfo)!=null&&i.address&&F(),T.value=0))},1e3)},s=h(()=>S.slippage),L=()=>{t.emit("clearAll")},F=()=>{P.value||(P.value=!0,T.value=0,t.emit("clickRefresh"),setTimeout(()=>{P.value=!1},1e3))};Ce(()=>e.poolInfo,i=>{i&&!j.value&&d()},{immediate:!0});const n=No(),r=oo();return console.log(r,"route"),{refresh:P,clickRefresh:F,isShowSwapSetting:V,countdown:T,autoRefreshTime:m,slippage:s,clearAll:L,checkNullObj:Je,router:n,route:r}}});const Bn=e=>(ze("data-v-71491a33"),e=e(),Ge(),e),Ln={class:"title"},Fn={class:"left"},Mn=Bn(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),On={key:0,class:"deposit-progress"};function Un(e,t,V,j,T,P){const m=rn,S=dn,b=qn;return u(),g("div",Ln,[o("div",Fn,[z(m)]),o("div",{class:Ue(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[o("div",{class:"slippage-icon",onClick:t[0]||(t[0]=d=>e.isShowSwapSetting=!0)},[Mn,o("span",null,c(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(u(),g("div",On,[z(S,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])):U("",!0)],2),e.isShowSwapSetting?(u(),Y(b,{key:0,onOnClose:t[1]||(t[1]=d=>e.isShowSwapSetting=!1)})):U("",!0)])}const Vn=je(Dn,[["render",Un],["__scopeId","data-v-71491a33"]]),En=Xe({components:{AutoPoolApyTips:Yo},setup(){const e=bo(),t=h(()=>e),V=no(),j=h(()=>V),T=Ke(),P=h(()=>T),m=h(()=>t.value.theme),S=oo(),b=w();Ce(()=>[P.value.positionInfoObj,S.params.id],([r,i])=>{r&&!Je(r)&&i&&(b.value=r[i],console.log(b.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const d=h(()=>{var r;return(r=b.value)==null?void 0:r.needReverse}),s=r=>{var i;return(r==null?void 0:r.logoURI)||(r==null?void 0:r.logo_url)||((i=j.value.tokensObj[r==null?void 0:r.address])==null?void 0:i.logo_url)||(m.value==="default"?uo("/image/coins/unknown.png"):uo("/image/coins/sui-unknown.png"))},L=h(()=>{var r,i;return console.log((r=b==null?void 0:b.value)==null?void 0:r.poolUSD,"##positionInfo?.value?.poolUSD"),(i=b==null?void 0:b.value)==null?void 0:i.poolUSD}),F=h(()=>{var r,i;return P.value.apyObj&&((i=P.value.apyObj[(r=b.value)==null?void 0:r.id])==null?void 0:i.apr)||"--"}),n=h(()=>t.value.currentExplorer);return{positionInfo:b,needReverse:d,getCoinIcon:s,tvl:L,apy:F,addCommom:N,getExplorerUrl:Co,currentExplorer:n}}});const He=e=>(ze("data-v-0947d30b"),e=e(),Ge(),e),Wn={class:"auto-pool-v2-info"},jn={class:"pool-info"},Xn={class:"left"},zn={class:"coin-a"},Gn={alt:""},Hn={class:"coin-b"},Yn={alt:""},Jn={class:"position-name"},Kn={key:0,class:"pool-fee"},Zn=He(()=>o("span",null,"Fee tier",-1)),Qn={class:"vault-address"},xn=["href"],et=He(()=>o("span",null,"Vault Address",-1)),ot=He(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),nt=[et,ot],tt={class:"apy-and-tvl"},st={class:"apy"},lt=He(()=>o("div",{class:"apy-title"},"APY",-1)),it={class:"apy-text"},at={class:"tvl"},ut=He(()=>o("div",{class:"tvl-title"},"TVL",-1)),rt={class:"tvl-text"},dt={class:"pool-info h5-pool-info"},vt={class:"left"},mt={class:"coin-a"},ct={alt:""},pt={class:"coin-b"},ft={alt:""},yt={class:"position-name"},gt={key:0,class:"pool-fee"},bt=He(()=>o("span",null,"Fee tier",-1)),ht={class:"left"},kt={class:"vault-address"},_t=["href"],wt=He(()=>o("span",null,"Vault Address",-1)),$t=He(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),It=[wt,$t],Ct={class:"apy-and-tvl"},At={class:"apy"},Pt=He(()=>o("div",{class:"apy-title"},"APY",-1)),St={class:"apy-text"},Tt={class:"tvl"},Nt=He(()=>o("div",{class:"tvl-title"},"TVL",-1)),Rt={class:"tvl-text"};function qt(e,t,V,j,T,P){var d,s,L,F,n,r,i,p,$,f,B,q,M,J,K,Q,y,v,R,ne,te,ve,G,ee,ke,_e,fe,me,Z,se,ge,ce,k,H,Ne,be,De,Ae,Be,$e,Fe,Qe,ro,re,Pe,Re;const m=go,S=Yo,b=Ro("image");return u(),g("div",Wn,[o("div",jn,[o("div",Xn,[o("div",zn,[eo(o("img",Gn,null,512),[[b,e.needReverse?e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_a)]]),z(m,{address:e.needReverse?(r=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:r.address:(F=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:F.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Hn,[eo(o("img",Yn,null,512),[[b,e.needReverse?e.getCoinIcon((p=e.positionInfo)==null?void 0:p.token_a):e.getCoinIcon((i=e.positionInfo)==null?void 0:i.token_b)]]),z(m,{address:e.needReverse?(q=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:q.address:(f=($=e.positionInfo)==null?void 0:$.token_b)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Jn,c(e.needReverse?(J=(M=e.positionInfo)==null?void 0:M.token_b)==null?void 0:J.symbol:(Q=(K=e.positionInfo)==null?void 0:K.token_a)==null?void 0:Q.symbol)+" - "+c(e.needReverse?(v=(y=e.positionInfo)==null?void 0:y.token_a)==null?void 0:v.symbol:(ne=(R=e.positionInfo)==null?void 0:R.token_b)==null?void 0:ne.symbol),1),(te=e.positionInfo)!=null&&te.fee?(u(),g("div",Kn,[Zn,We(" "+c(((ve=e.positionInfo)==null?void 0:ve.fee)*100)+"% ",1)])):U("",!0),o("div",Qn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Co))(e.currentExplorer,"poolAddress",(G=e.positionInfo)==null?void 0:G.id),target:"_blank"},nt,8,xn)])]),o("div",tt,[o("div",st,[lt,o("div",it,[We(c(e.apy)+" ",1),z(S)])]),o("div",at,[ut,o("div",rt,"$"+c(("addCommom"in e?e.addCommom:A(N))(e.tvl,2)),1)])])]),o("div",dt,[o("div",vt,[o("div",mt,[eo(o("img",ct,null,512),[[b,e.needReverse?e.getCoinIcon((ke=e.positionInfo)==null?void 0:ke.token_b):e.getCoinIcon((ee=e.positionInfo)==null?void 0:ee.token_a)]]),z(m,{address:e.needReverse?(Z=(me=e.positionInfo)==null?void 0:me.token_b)==null?void 0:Z.address:(fe=(_e=e.positionInfo)==null?void 0:_e.token_a)==null?void 0:fe.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",pt,[eo(o("img",ft,null,512),[[b,e.needReverse?e.getCoinIcon((ge=e.positionInfo)==null?void 0:ge.token_a):e.getCoinIcon((se=e.positionInfo)==null?void 0:se.token_b)]]),z(m,{address:e.needReverse?(Ne=(H=e.positionInfo)==null?void 0:H.token_a)==null?void 0:Ne.address:(k=(ce=e.positionInfo)==null?void 0:ce.token_b)==null?void 0:k.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",yt,c(e.needReverse?(De=(be=e.positionInfo)==null?void 0:be.token_b)==null?void 0:De.symbol:(Be=(Ae=e.positionInfo)==null?void 0:Ae.token_a)==null?void 0:Be.symbol)+" - "+c(e.needReverse?(Fe=($e=e.positionInfo)==null?void 0:$e.token_a)==null?void 0:Fe.symbol:(ro=(Qe=e.positionInfo)==null?void 0:Qe.token_b)==null?void 0:ro.symbol),1),(re=e.positionInfo)!=null&&re.fee?(u(),g("div",gt,[bt,We(" "+c(((Pe=e.positionInfo)==null?void 0:Pe.fee)*100)+"% ",1)])):U("",!0)]),o("div",ht,[o("div",kt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Co))(e.currentExplorer,"poolAddress",(Re=e.positionInfo)==null?void 0:Re.id),target:"_blank"},It,8,_t)])]),o("div",Ct,[o("div",At,[Pt,o("div",St,[We(c(e.apy)+" ",1),z(S)])]),o("div",Tt,[Nt,o("div",Rt,"$"+c(("addCommom"in e?e.addCommom:A(N))(e.tvl,2)),1)])])])])}const en=je(En,[["render",qt],["__scopeId","data-v-0947d30b"]]),Dt=Xe({components:{Slider:jo},setup(){const e=w(!0),t=no(),V=h(()=>t),j=Ke(),T=h(()=>j),P=oo(),m=w();Ce(()=>[T.value.positionInfoObj,P.params.id],([n,r])=>{n&&!Je(n)&&r&&(m.value=n[r],console.log(m.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const S=h(()=>{var n;return(n=m.value)==null?void 0:n.needReverse}),b=n=>{var r;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((r=V.value.tokensObj[n==null?void 0:n.address])==null?void 0:r.logo_url)||uo("/image/coins/sui-unknown.png")},d=h(()=>{var $,f,B;const n=($=m==null?void 0:m.value)==null?void 0:$.price,r=(f=m==null?void 0:m.value)==null?void 0:f.minPrice,i=(B=m==null?void 0:m.value)==null?void 0:B.maxPrice;let p;if(n>=r&&n<=i){const q=new l(r).add(new l(i)).div(2).toNumber();p=n>q?50+new l(n).sub(q).div(q).toNumber():50-new l(n).sub(q).div(q).toNumber()}else n<r?(p=new l(n).sub(new l(r)).mul(100).toNumber()+15,console.log(p,"##result")):n>i&&(p=new l(n).sub(new l(i)).div(new l(i)).mul(100).toNumber()+70+15);return Number(hn(p,0))}),s=h(()=>{var $,f,B,q,M,J,K;const n=e.value?(($=m.value)==null?void 0:$.minPrice)&&C(m==null?void 0:m.value.minPrice,6):((f=m.value)==null?void 0:f.maxPrice)&&C(1/(m==null?void 0:m.value.maxPrice),6),r=e.value?((B=m.value)==null?void 0:B.maxPrice)&&C((q=m.value)==null?void 0:q.maxPrice,6):((M=m.value)==null?void 0:M.minPrice)&&C(1/(m==null?void 0:m.value.minPrice),6),i=(S.value?!e.value:e.value)?C((J=m.value)==null?void 0:J.price,6):C(1/((K=m.value)==null?void 0:K.price),6);let p={};return p[n]={label:"Min Price"},p[r]={label:"Max Price"},i>n&&i<r?p[i]={label:"Current Price"}:i<n?p[Number(n)+1e-9]={label:"Current Price"}:i>r&&(p[Number(r)-1e-9]={label:"Current Price"}),console.log(p,"obj###"),p}),L=h(()=>{var r,i;const n=(S.value?!e.value:e.value)?Ye((r=m.value)==null?void 0:r.price,6):Ye(1/((i=m.value)==null?void 0:i.price),6);return console.log(n,"result##"),n}),F=h(()=>{var r,i;const n=(S.value?!e.value:e.value)?Ye((r=m.value)==null?void 0:r.price,6):Ye(1/((i=m.value)==null?void 0:i.price),6);return console.log(n,"result##111"),n});return{direct:e,positionInfo:m,needReverse:S,getCoinIcon:b,decimalUi:Ye,addCommom:N,sFixD:C,moveRatio:d,marks:s,currentPrice:L,currentPriceResever:F}}});const ho=e=>(ze("data-v-220133b5"),e=e(),Ge(),e),Bt={class:"v2-position-range"},Lt={class:"position-range-top"},Ft=ho(()=>o("div",null,"Position Range",-1)),Mt={class:"base-coin"},Ot={key:0},Ut={alt:""},Vt={key:1},Et={alt:""},Wt={key:2},jt={key:3},Xt=ho(()=>o("p",null,"Base coin",-1)),zt={class:"coin-rate"},Gt=ho(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Ht=ho(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Yt=[Gt,Ht],Jt={class:"position-range-bottom"},Kt={class:"price-range"},Zt={class:"price-range-bg"},Qt={key:0,class:"min-price"},xt={key:0},es={key:1},os={key:1,class:"max-price"},ns={key:0},ts={key:1},ss={key:0,class:"min-price"},ls={key:0},is={key:1},as={key:1,class:"max-price"},us={key:0},rs={key:1};function ds(e,t,V,j,T,P){var d,s,L,F,n,r,i,p,$,f,B,q,M,J,K,Q,y,v,R,ne,te,ve,G,ee,ke,_e,fe,me;const m=go,S=so("Slider"),b=Ro("image");return u(),g("div",Bt,[o("div",Lt,[Ft,o("div",Mt,[e.needReverse?(u(),g("div",Vt,[eo(o("img",Et,null,512),[[b,e.direct?e.getCoinIcon((p=e.positionInfo)==null?void 0:p.token_b):e.getCoinIcon((i=e.positionInfo)==null?void 0:i.token_a)]]),z(m,{address:e.direct?(q=(B=e.positionInfo)==null?void 0:B.token_b)==null?void 0:q.address:(f=($=e.positionInfo)==null?void 0:$.token_a)==null?void 0:f.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])):(u(),g("div",Ot,[eo(o("img",Ut,null,512),[[b,e.direct?e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_a):e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b)]]),z(m,{address:e.direct?(F=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:F.address:(r=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:r.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])),e.needReverse?(u(),g("span",jt,c(e.direct?(v=(y=e.positionInfo)==null?void 0:y.token_b)==null?void 0:v.symbol:(ne=(R=e.positionInfo)==null?void 0:R.token_a)==null?void 0:ne.symbol),1)):(u(),g("span",Wt,c(e.direct?(J=(M=e.positionInfo)==null?void 0:M.token_a)==null?void 0:J.symbol:(Q=(K=e.positionInfo)==null?void 0:K.token_b)==null?void 0:Q.symbol),1)),Xt,o("div",zt,[o("div",{onClick:t[0]||(t[0]=Z=>e.direct=!e.direct)},Yt)])])]),o("div",Jt,[o("div",Kt,[o("div",Zt,[e.direct?(u(),Y(S,{key:0,value:e.currentPrice,class:Ue(["position-slider",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(C))((te=e.positionInfo)==null?void 0:te.minPrice,6))||e.currentPrice>Number(("sFixD"in e?e.sFixD:A(C))((ve=e.positionInfo)==null?void 0:ve.maxPrice,6))?"hide-handler":""]),step:1e-4,marks:e.marks,disabled:!0,min:Number(("sFixD"in e?e.sFixD:A(C))((G=e.positionInfo)==null?void 0:G.minPrice,6)),max:Number(("sFixD"in e?e.sFixD:A(C))((ee=e.positionInfo)==null?void 0:ee.maxPrice,6))},{mark:we(({label:Z})=>{var se,ge,ce,k,H,Ne,be,De,Ae,Be,$e,Fe;return[Z=="Min Price"?(u(),g("div",Qt,[o("div",null,c(Z),1),e.direct?(u(),g("div",xt,c(((se=e.positionInfo)==null?void 0:se.minPrice)&&("sFixD"in e?e.sFixD:A(C))((ge=e.positionInfo)==null?void 0:ge.minPrice,6)),1)):(u(),g("div",es,c(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(C))(1/((k=e.positionInfo)==null?void 0:k.maxPrice),6)),1))])):U("",!0),Z=="Max Price"?(u(),g("div",os,[o("div",null,c(Z),1),e.direct?(u(),g("div",ns,c(((H=e.positionInfo)==null?void 0:H.maxPrice)&&("sFixD"in e?e.sFixD:A(C))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(u(),g("div",ts,c(((be=e.positionInfo)==null?void 0:be.minPrice)&&("sFixD"in e?e.sFixD:A(C))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):U("",!0),Z=="Current Price"?(u(),g("div",{key:2,class:Ue(["current-price",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(C))((Ae=e.positionInfo)==null?void 0:Ae.minPrice,6))?"current-price-left":e.currentPrice>Number(("sFixD"in e?e.sFixD:A(C))((Be=e.positionInfo)==null?void 0:Be.maxPrice,6))?"current-price-right":""])},[o("div",null,c(Z),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(u(),g(to,{key:0},[We(c(("addCommom"in e?e.addCommom:A(N))(("decimalUi"in e?e.decimalUi:A(Ye))(($e=e.positionInfo)==null?void 0:$e.price,6))),1)],64)):(u(),g(to,{key:1},[We(c(("addCommom"in e?e.addCommom:A(N))(("decimalUi"in e?e.decimalUi:A(Ye))(1/((Fe=e.positionInfo)==null?void 0:Fe.price),6))),1)],64))])],2)):U("",!0)]}),_:1},8,["value","class","marks","min","max"])):(u(),Y(S,{key:1,value:e.currentPriceResever,class:Ue(["position-slider",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(C))(1/((ke=e.positionInfo)==null?void 0:ke.maxPrice),6))||e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(C))(1/((_e=e.positionInfo)==null?void 0:_e.minPrice),6))?"hide-handler":""]),step:null,min:Number(("sFixD"in e?e.sFixD:A(C))(1/((fe=e.positionInfo)==null?void 0:fe.maxPrice),6)),max:Number(("sFixD"in e?e.sFixD:A(C))(1/((me=e.positionInfo)==null?void 0:me.minPrice),6)),marks:e.marks,disabled:!0},{mark:we(({label:Z})=>{var se,ge,ce,k,H,Ne,be,De,Ae,Be,$e,Fe;return[Z=="Min Price"?(u(),g("div",ss,[o("div",null,c(Z),1),e.direct?(u(),g("div",ls,c(((se=e.positionInfo)==null?void 0:se.minPrice)&&("sFixD"in e?e.sFixD:A(C))((ge=e.positionInfo)==null?void 0:ge.minPrice,6)),1)):(u(),g("div",is,c(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(C))(1/((k=e.positionInfo)==null?void 0:k.maxPrice),6)),1))])):U("",!0),Z=="Max Price"?(u(),g("div",as,[o("div",null,c(Z),1),e.direct?(u(),g("div",us,c(((H=e.positionInfo)==null?void 0:H.maxPrice)&&("sFixD"in e?e.sFixD:A(C))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(u(),g("div",rs,c(((be=e.positionInfo)==null?void 0:be.minPrice)&&("sFixD"in e?e.sFixD:A(C))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):U("",!0),Z=="Current Price"?(u(),g("div",{key:2,class:Ue(["current-price current-price-direct",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(C))(1/((Ae=e.positionInfo)==null?void 0:Ae.maxPrice),6))?"current-price-left":e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(C))(1/((Be=e.positionInfo)==null?void 0:Be.minPrice),6))?"current-price-right":""])},[o("div",null,c(Z),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(u(),g(to,{key:0},[We(c(("addCommom"in e?e.addCommom:A(N))(("decimalUi"in e?e.decimalUi:A(Ye))(($e=e.positionInfo)==null?void 0:$e.price,6))),1)],64)):(u(),g(to,{key:1},[We(c(("addCommom"in e?e.addCommom:A(N))(("decimalUi"in e?e.decimalUi:A(Ye))(1/((Fe=e.positionInfo)==null?void 0:Fe.price),6))),1)],64))])],2)):U("",!0)]}),_:1},8,["value","class","min","max","marks"]))])])])])}const on=je(Dt,[["render",ds],["__scopeId","data-v-220133b5"]]),vs=Xe({components:{Modal:Eo},props:{positionInfo:{type:Object,default:()=>({})}},setup(e){const t=h(()=>{var j,T;const V=Math.ceil(((j=e.positionInfo)==null?void 0:j.poolUSD)/((T=e.positionInfo)==null?void 0:T.quoteUSD)*100);return console.log(V,"Pool Capacity Ratio"),Number(V)});return{sFixD:C,addCommom:N,ratio:t}}});const Do=e=>(ze("data-v-78a51262"),e=e(),Ge(),e),ms=Do(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),cs={class:"deposit-slider"},ps={class:"info-block"},fs=Do(()=>o("div",{class:"leabl"},"Current Deposit：",-1)),ys={class:"text"},gs={class:"info-block"},bs=Do(()=>o("div",{class:"leabl"},"Max Capacity：",-1)),hs={class:"text"};function ks(e,t,V,j,T,P){const m=so("Modal");return u(),Y(m,{width:"440px",visible:!0,footer:null,title:"Vault Capacity",onCancel:t[0]||(t[0]=S=>e.$emit("onClose"))},{closeIcon:we(()=>[ms]),default:we(()=>{var S,b,d,s;return[o("div",cs,[o("div",{class:"current-deposit",style:Io({width:`${e.ratio>100?100:e.ratio}%`})},null,4)]),o("div",ps,[fs,o("div",ys,c(("addCommom"in e?e.addCommom:A(N))(("sFixD"in e?e.sFixD:A(C))((S=e.positionInfo)==null?void 0:S.currentDeposit,2)))+" "+c((b=e.positionInfo)==null?void 0:b.quoteCoinInfo.symbol),1)]),o("div",gs,[bs,o("div",hs,c(("addCommom"in e?e.addCommom:A(N))(("sFixD"in e?e.sFixD:A(C))((d=e.positionInfo)==null?void 0:d.quoteUSD,2)))+" "+c((s=e.positionInfo)==null?void 0:s.quoteCoinInfo.symbol),1)])]}),_:1})}const nn=je(vs,[["render",ks],["__scopeId","data-v-78a51262"]]),_s=Xe({components:{AutoPoolV2PoolCapacity:nn},setup(){const e=no(),t=h(()=>e),V=Ke(),j=h(()=>V),T=oo(),P=w();Ce(()=>[j.value.positionInfoObj,T.params.id],([d,s])=>{console.log(d,"##positionInfoObj"),d&&!Je(d)&&s&&(P.value=d[s],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const m=h(()=>{var d;return(d=P.value)==null?void 0:d.needReverse}),S=d=>{var s;return console.log(d,"info##"),(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((s=t.value.tokensObj[d==null?void 0:d.address])==null?void 0:s.logo_url)||uo("/image/coins/sui-unknown.png")},b=w(!1);return{needReverse:m,positionInfo:P,getCoinIcon:S,addCommom:N,isShowModal:b}}});const ws=e=>(ze("data-v-ad8a33e9"),e=e(),Ge(),e),$s={class:"pool-composition"},Is={class:"pool-composition-top"},Cs=ws(()=>o("span",null,"Vault Composition",-1)),As={class:"pool-composition-bottom"},Ps={class:"token-ratio"},Ss={class:"before-coin"},Ts={alt:""},Ns={class:"after-coin"},Rs={alt:""},qs={class:"token-num"},Ds={class:"num-box"},Bs={class:"num-box"};function Ls(e,t,V,j,T,P){var d,s,L,F,n,r,i,p,$,f,B,q,M,J,K,Q,y,v,R,ne,te,ve,G,ee,ke,_e,fe,me,Z;const m=go,S=nn,b=Ro("image");return u(),g("div",$s,[o("div",Is,[Cs,Number((d=e.positionInfo)==null?void 0:d.quoteUSD)>0?(u(),g("div",{key:0,class:"pool-capacity",onClick:t[0]||(t[0]=se=>e.isShowModal=!0)},"Vault Capacity")):U("",!0)]),o("div",As,[o("div",Ps,[o("div",Ss,[o("div",null,[z(m,{address:e.needReverse?(n=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:n.address:(L=(s=e.positionInfo)==null?void 0:s.token_a)==null?void 0:L.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"]),eo(o("img",Ts,null,512),[[b,e.needReverse?e.getCoinIcon((i=e.positionInfo)==null?void 0:i.token_b):e.getCoinIcon((r=e.positionInfo)==null?void 0:r.token_a)]])]),o("span",null,c((p=e.positionInfo)==null?void 0:p.poolCoinARatio)+"%",1)]),o("div",Ns,[o("span",null,c(($=e.positionInfo)==null?void 0:$.poolCoinBRatio)+"%",1),o("div",null,[eo(o("img",Rs,null,512),[[b,e.needReverse?e.getCoinIcon((B=e.positionInfo)==null?void 0:B.token_a):e.getCoinIcon((f=e.positionInfo)==null?void 0:f.token_b)]]),z(m,{address:e.needReverse?(K=(J=e.positionInfo)==null?void 0:J.token_a)==null?void 0:K.address:(M=(q=e.positionInfo)==null?void 0:q.token_b)==null?void 0:M.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])])])]),o("div",qs,[o("div",{class:"token-a-bg",style:Io({width:`${(Q=e.positionInfo)==null?void 0:Q.poolCoinARatio}%`})},null,4),o("div",{class:"token-b-bg",style:Io({width:`${(y=e.positionInfo)==null?void 0:y.poolCoinBRatio}%`})},null,4),o("div",Ds,[o("div",null,c(("addCommom"in e?e.addCommom:A(N))((v=e.positionInfo)==null?void 0:v.poolCoinANum))+" "+c(e.needReverse?(ve=(te=e.positionInfo)==null?void 0:te.token_b)==null?void 0:ve.symbol:(ne=(R=e.positionInfo)==null?void 0:R.token_a)==null?void 0:ne.symbol),1),o("div",null,"$"+c(("addCommom"in e?e.addCommom:A(N))((G=e.positionInfo)==null?void 0:G.poolCoinAUSD)),1)]),o("div",Bs,[o("div",null,c(("addCommom"in e?e.addCommom:A(N))((ee=e.positionInfo)==null?void 0:ee.poolCoinBNum))+" "+c(e.needReverse?(me=(fe=e.positionInfo)==null?void 0:fe.token_a)==null?void 0:me.symbol:(_e=(ke=e.positionInfo)==null?void 0:ke.token_b)==null?void 0:_e.symbol),1),o("div",null,"$"+c(("addCommom"in e?e.addCommom:A(N))((Z=e.positionInfo)==null?void 0:Z.poolCoinBUSD)),1)])])]),e.isShowModal?(u(),Y(S,{key:0,"position-info":e.positionInfo,onOnClose:t[1]||(t[1]=se=>e.isShowModal=!1)},null,8,["position-info"])):U("",!0)])}const tn=je(_s,[["render",Ls],["__scopeId","data-v-ad8a33e9"]]),Fs=Xe({setup(){const e=no(),t=h(()=>e),V=Ke(),j=h(()=>V),T=oo(),P=w();Ce(()=>[j.value.positionInfoObj,T.params.id],([s,L])=>{console.log(s,"##positionInfoObj"),s&&!Je(s)&&L&&(P.value=s[L],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const m=h(()=>{var s;return(s=P.value)==null?void 0:s.needReverse}),S=s=>{var L;return console.log(s,"info##"),(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((L=t.value.tokensObj[s==null?void 0:s.address])==null?void 0:L.logo_url)||uo("/image/coins/sui-unknown.png")},b=qo(),d=h(()=>b);return{needReverse:m,positionInfo:P,getCoinIcon:S,addCommom:N,wallet:d}}});const mo=e=>(ze("data-v-61c3efe6"),e=e(),Ge(),e),Ms={class:"my-liquidity"},Os={class:"my-liquidity-top"},Us=mo(()=>o("div",null,"My Liquidity",-1)),Vs=mo(()=>o("p",null,"My share of pool",-1)),Es={class:"my-liquidity-bottom"},Ws={class:"lp-token"},js=mo(()=>o("div",null,[o("span",null,"LP Token Balance ")],-1)),Xs={class:"lp-balance"},zs={class:"token-num-content"},Gs={class:"token-num token-a-num"},Hs={class:"logo"},Ys=["src"],Js={class:"text"},Ks={class:"lp-logo"},Zs=["src"],Qs=mo(()=>o("div",null,"Pooled Assets",-1)),xs={class:"token-num"},el={class:"logo"},ol=["src"],nl={class:"text"},tl=mo(()=>o("div",{class:"token-num-content-bg"},null,-1));function sl(e,t,V,j,T,P){var S,b,d,s,L,F,n,r,i,p,$,f,B,q,M,J,K,Q,y,v,R,ne,te,ve,G,ee,ke,_e,fe;const m=go;return u(),g("div",Ms,[o("div",Os,[Us,o("div",null,[Vs,o("p",null,c(e.wallet.connected?(S=e.positionInfo)==null?void 0:S.myShare:"--")+"%",1)])]),o("div",Es,[o("div",Ws,[js,o("div",null,[o("span",Xs,c(e.wallet.connected?("addCommom"in e?e.addCommom:A(N))((b=e.positionInfo)==null?void 0:b.myLiquidity):"--")+" LP",1),o("span",null,c(e.wallet.connected?((d=e.positionInfo)==null?void 0:d.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in e?e.addCommom:A(N))((s=e.positionInfo)==null?void 0:s.myLiquidityUSD)}`:"<$0.01":"--"),1)])]),o("div",zs,[o("div",Gs,[o("div",Hs,[o("img",{src:e.needReverse?e.getCoinIcon((F=e.positionInfo)==null?void 0:F.token_b):e.getCoinIcon((L=e.positionInfo)==null?void 0:L.token_a),alt:""},null,8,Ys),z(m,{address:e.needReverse?(p=(i=e.positionInfo)==null?void 0:i.token_b)==null?void 0:p.address:(r=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:r.address,"style-params":{width:"14px",height:"14px",left:"18px",bottom:"0"}},null,8,["address"])]),o("div",Js,[o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:A(N))(($=e.positionInfo)==null?void 0:$.amountA):"--")+" "+c(e.needReverse?(M=(q=e.positionInfo)==null?void 0:q.token_b)==null?void 0:M.symbol:(B=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:B.symbol),1),o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:A(N))((J=e.positionInfo)==null?void 0:J.myAmountAUSD):"--"),1)])]),o("div",Ks,[o("img",{src:e.getCoinIcon((K=e.positionInfo)==null?void 0:K.lpInfo),alt:""},null,8,Zs),Qs]),o("div",xs,[o("div",el,[o("img",{src:e.needReverse?e.getCoinIcon((y=e.positionInfo)==null?void 0:y.token_a):e.getCoinIcon((Q=e.positionInfo)==null?void 0:Q.token_b),alt:""},null,8,ol),z(m,{address:e.needReverse?(te=(ne=e.positionInfo)==null?void 0:ne.token_a)==null?void 0:te.address:(R=(v=e.positionInfo)==null?void 0:v.token_b)==null?void 0:R.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])]),o("div",nl,[o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:A(N))((ve=e.positionInfo)==null?void 0:ve.amountB):"--")+" "+c(e.needReverse?(_e=(ke=e.positionInfo)==null?void 0:ke.token_a)==null?void 0:_e.symbol:(ee=(G=e.positionInfo)==null?void 0:G.token_b)==null?void 0:ee.symbol),1),o("div",null,c(e.wallet.connected?("addCommom"in e?e.addCommom:A(N))((fe=e.positionInfo)==null?void 0:fe.myAmountBUSD):"--"),1)])]),tl])])])}const sn=je(Fs,[["render",sl],["__scopeId","data-v-61c3efe6"]]),ll=""+globalThis.__publicAssetsURL("image/icon-tips-error@2x.png");const il={},ln=e=>(ze("data-v-fcbc716b"),e=e(),Ge(),e),al={class:"status"},ul=ln(()=>o("img",{src:ll,alt:""},null,-1)),rl=ln(()=>o("span",null,"Rebalancing is in processing. New deposits and withdraws are paused and will be back in minutes. ",-1)),dl=[ul,rl];function vl(e,t){return u(),g("div",al,dl)}const an=je(il,[["render",vl],["__scopeId","data-v-fcbc716b"]]),ml=Xe({components:{AutoPoolAddModal:Zo,AutoPoolV2PoolStatus:an},setup(){const e=qo(),t=w(!1),V=bo(),j=h(()=>V),T=h(()=>j.value.chainName),P=h(()=>e),m=Ke(),S=h(()=>m),b=no(),d=h(()=>b),s=w(),L=oo(),F=w(!1),n=w(!1);Ce(()=>[S.value.positionInfoObj,L.params.id],([I,O])=>{I&&!Je(I)&&O&&(s.value=I[O],console.log(s.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const r=h(()=>{var I,O;return console.log((I=s.value)==null?void 0:I.needReverse,"##positionInfo.value?.needReverse"),(O=s.value)==null?void 0:O.needReverse}),i=w(),p=w(),$=w(),f=w(),B=w(!0),q=h(()=>P.value.assets&&i.value&&P.value.assets[i.value.address]?Vo(P.value.assets[i.value.address].balance,i.value.decimals):0),M=h(()=>P.value.assets&&p.value&&P.value.assets[p.value.address]?Vo(P.value.assets[p.value.address].balance,p.value.decimals):0),J=I=>{I==="fromCoin"?(B.value=!0,$.value=q.value>0?i.value.symbol=="SUI"?new l(Number(q.value)).sub(new l(.05)).lt(new l(0))?"0":new l(Number(q.value)).sub(new l(.05)).toString():String(q.value):""):(B.value=!1,f.value=M.value>0?p.value.symbol=="SUI"?new l(Number(M.value)).sub(new l(.05)).lt(new l(0))?"0":new l(Number(M.value)).sub(new l(.05)).toString():String(M.value):"")},K=I=>{I==="fromCoin"?(B.value=!0,$.value=q.value>0?C(new l(Number(q.value)).div(2).toString(),i.value.decimals).toString():""):(B.value=!1,f.value=M.value>0?C(new l(Number(M.value)).div(2).toString(),p.value.decimals).toString():"")},Q=h(()=>T.value?Ho(T.value):{}),y=h(()=>S.value.slippage),v=w("--"),R=w("--"),ne=I=>{const O=new l(s.value.autoPoolPositionInfo.liquidity),le=new l(I.toString());if(O.toNumber()>0&&le.toNumber()>0){const _=le.add(O);console.log("totalLiquidity:",le.div(_).mul(100).toString());const Se=le.div(_).mul(100).toNumber(),pe=kn(Se),ye=pe==-1?2:pe+2,he=C(le.div(_).mul(100).toNumber(),ye);console.log(s.value.decimals,"##positionInfo.value.decimal");const Te=new l(1).div(new l(Math.pow(10,s.value.lpInfo.decimals))).toString();console.log(he,Te,"###288"),Number(he)<Number(Te)?v.value=`<${Te}`:v.value=he}else le.toNumber()>0&&O.toNumber()<=0?v.value="100":v.value="--"},te=I=>{const O=new l(I.toString()),le=new l(y.value).div(100);console.log(le.toString(),"#slippageNum");const _=Ao.get_lp_amount_by_liquidity({liquidity:s.value.liquidity,total_supply:s.value.total_supply},I.toString()),Se=new l(Math.pow(10,s.value.lpInfo.decimals)),pe=new l(_).div(Se).toString(),ye=new l(pe).mul(le);console.log(_,ye.toString(),"###409");const he=new l(pe).sub(ye);console.log(he.toString(),"##minLp"),console.log(O.toString(),_,pe,"lpDecimalNum##"),R.value=C(he.toString(),s.value.decimals)},ve=w(!1),G=w(!1),ee=w(""),ke=w(),_e=w(!1),fe=async()=>{if(!s.value)return;console.log($.value,f.value,"####updateAmounts"),n.value=!1,_e.value=!0;const I=s.value.autoPoolPositionInfo.tick_lower_index,O=s.value.autoPoolPositionInfo.tick_upper_index,le=Ee.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));Ee.tickIndexToSqrtPriceX64(I),Ee.tickIndexToSqrtPriceX64(O),le<I&&(r.value?ve.value=!0:G.value=!0),le>O&&(r.value?G.value=!0:ve.value=!0);let _;if(console.log($.value||f.value,"#fromCoinAmount.value || toCoinAmount.value"),$.value||f.value){B.value?_=new l($.value).mul(Math.pow(10,i.value.decimals)).toString():_=new l(f.value).mul(Math.pow(10,p.value.decimals)).toString();let Se,pe=B.value;if(console.log("执行##"),console.log(le,I,O,"###520"),re.value||Pe.value){const D=new l(1);if(console.log(D.toString(),_,"decimalNum###"),new l(_).lte(D))return n.value=!0,!1;console.log(r.value?B.value:!B.value,"#needReverse.value?fixedFromCoin.value:!fixedFromCoin.value"),console.log(_,"##coinAmount"),console.log("1106###needReverse.value####",r.value),console.log("1106###calculateDepositSwapAmount###params###",{lowerTick:I,upperTick:O,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:_,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(y.value)/100,decimals:re.value?i.value.decimals:p.value.decimals});const E=await Qe.calculateDepositSwapAmount({lowerTick:I,upperTick:O,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:_,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(y.value)/100,decimals:re.value?i.value.decimals:p.value.decimals});if(console.log(E,"###swapResult"),console.log("1106###calculateDepositSwapAmount###result###",E),E){F.value=E.is_exceed,Se=new ue(E.afterSqrtPrice),_=E.fixAmountA===pe?new ue(new l(_).sub(E.swapInAmount).toString()):new ue(E.swapOutAmount),ke.value={swap_amount:E.swapInAmount,route_obj:E.route_obj,a2b:pe,input_amount:_},pe=E.fixAmountA;const ie=s.value.token_a.decimals,X=s.value.token_b.decimals;$o.value=Ee.sqrtPriceX64ToPrice(E.afterSqrtPrice,ie,X).toString(),console.log($o.value,"##afterCurrentPrice.value");const de=new l(E.swapInAmount).div(new l(Math.pow(10,ie))).toString(),ae=C(new l(E.swapOutAmountLimit).div(new l(Math.pow(10,X))).toString(),X),x=r.value?s.value.token_b.symbol:s.value.token_a.symbol,W=r.value?s.value.token_a.symbol:s.value.token_b.symbol;ee.value=`To deposit ${N(re.value?$.value:f.value)} ${re.value?x:W},
          ${N(de)} ${re.value?x:W}  will be traded for ${N(ae)} ${re.value?W:x} added to the pool.`}else Se=s.value.current_sqrt_price,_=new ue(_)}else F.value=!1,Se=s.value.current_sqrt_price,_=new ue(_),$o.value="",ee.value="";console.log(ke,"##swapParams");let ye,he,Te;const a=Q.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:i.value,tokenB:p.value,lowerTick:I,upperTick:O,coinAmount:_,iscoinA:pe,roundUp:!0,slippage:Number(y.value)/100,curSqrtPrice:new ue(Se)});console.log("amount#",a),ye=a.liquidityAmount,he=a.tokenMaxA,Te=a.tokenMaxB,!re.value&&!Pe.value&&(B.value?f.value=Number(Te)>0?Te:"":$.value=Number(he)>0?he:""),console.log(ye.toString(),"liquidityAmount###"),ne(ye),te(ye),_e.value=!1}};Ce(()=>s.value,I=>{I&&!Je(I)&&(i.value=I==null?void 0:I.token_a,p.value=I==null?void 0:I.token_b,ve.value=!1,G.value=!1,fe())},{immediate:!0});const me=h(()=>d.value.RATES),Z=h(()=>{var I,O,le,_,Se,pe,ye,he,Te,a;if((O=me.value[(I=i.value)==null?void 0:I.address])!=null&&O.price&&((_=me.value[(le=p.value)==null?void 0:le.address])!=null&&_.price)){console.log((pe=me.value[(Se=i.value)==null?void 0:Se.address])==null?void 0:pe.price,"RATES.value[fromCoin.value?.address]?.price");const D=new l($.value||0).mul(new l((he=me.value[(ye=i.value)==null?void 0:ye.address])==null?void 0:he.price)),E=new l(f.value||0).mul(new l((a=me.value[(Te=p.value)==null?void 0:Te.address])==null?void 0:a.price));return D.add(E).toNumber()}else return"--"});Ce(()=>$.value,vo((I,O)=>{console.log(I,"##newVal"),I?fe():(v.value="--",f.value="",R.value="--")},500),{immediate:!0}),Ce(()=>f.value,vo((I,O)=>{I?fe():($.value="",v.value="--",R.value="--")},500),{immediate:!0});const{t:se,locale:ge}=Po(),ce=h(()=>{var I,O;if(re.value||Pe.value){const le=re.value?$.value:f.value,_=re.value?i.value:p.value;if((I=me.value[_==null?void 0:_.address])!=null&&I.price)return new l(le||0).mul(new l((O=me.value[_==null?void 0:_.address])==null?void 0:O.price)).toNumber()}return 0}),k=h(()=>{const I=Number($.value)>Number(q.value),O=Number(f.value)>Number(M.value);return!$.value&&!f.value?se("button.enterAmount"):I?se("button.insufficientBalance",{name:i.value.symbol}):O?se("button.insufficientBalance",{name:p.value.symbol}):F.value?se("button.insufficientLiquidity"):Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(Z.value)>Number(s.value.remainingTokenUSD)?"Exceeded the max capacity":n.value?se("button.enterAmount"):(console.log(ce.value),"Add Liquidity")}),H=h(()=>{const I=Number($.value)>Number(q.value),O=Number(f.value)>Number(M.value);return!!(!$.value&&!f.value||I||O||$.value<=0&&f.value<=0||F.value||po.value!=="STATUS_RUNNING"||(console.log(Z.value,s.value.quoteUSD,"positionInfo.value.quoteUSD#"),Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(Z.value)>Number(s.value.remainingTokenUSD))||n.value||ce.value>1e4)}),Ne=w(!0),{setIsShowSuccess:be,setIsShowRejected:De,setIsShowWaiting:Ae,setTransactionDesc:Be,setTransactionTxid:$e,setPositiomNum:Fe}=V,Qe=Go("Sui"),ro=async()=>{var Te,a;t.value=!1,Ne.value=!0,$e("");const I=`${N($.value)} ${(Te=i.value)==null?void 0:Te.symbol}`,O=`${N(f.value)} ${(a=p.value)==null?void 0:a.symbol}`;Be(`Deposit ${$.value>0?I:""} ${f.value>0&&$.value>0?"and":""} ${f.value>0?O:""}`),Ae(!0);const le=B.value,_=s.value.autoPoolPositionInfo.tick_lower_index,Se=s.value.autoPoolPositionInfo.tick_upper_index,pe=Ee.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));let ye;B.value?ye=new l($.value).mul(Math.pow(10,i.value.decimals)).toString():ye=new l(f.value).mul(Math.pow(10,p.value.decimals)).toString();const he=s.value.rewarderInfo.map(D=>D.coinAddress);console.log("1109###deposit###positionInfo###",s);try{const D={lowerTick:_,upperTick:Se,coinAmount:ye,fix_amount_a:le,slippage:Number(y.value)/100,curSqrtPrice:new ue(s.value.current_sqrt_price),id:s.value.id,clmm_pool:s.value.autoPoolPositionInfo.pool,lp_token_type:s.value.lp_token_type,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:he,swapParams:ke.value,isOnlyA:re.value,isOnlyB:Pe.value,currentTickIndex:pe,decimal_b:s.value.coinB.decimals};console.log("1106###deposit###params###",D);const E=await Qe.deposit(D);console.log(E,"===>payloadAdd11111");const ie=await P.value.currentWallet.signAndExecuteTransactionBlock(E);let X=Q.value.handleTx(ie);if(console.log("toAdd###tx###",X),X&&X.hash){$e(X.hash),Ae(!1),be(!0),console.log(s,"===>positionInfo");const de={title:"Supplied",desc:`Deposit ${$.value>0?I:""} ${f.value>0&&$.value>0?"and":""} ${f.value>0?O:""}`,hash:X.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deposit ${$.value>0?I:""} ${f.value>0&&$.value>0?"and":""} ${f.value>0?O:""}`};T.value!=="Aptos"&&(de.res=X.res),Q.value.showTransitionPending(de),await Q.value.watchTransaction(de)&&setTimeout(()=>{m.updatePositionItem(s.value.id),Q.value.getAccount(P.value.address)},1e3),Fe()}else Ae(!1),De(!0);$.value="",f.value="",Ne.value=!1}catch(D){$.value="",f.value="",console.log("addError###",D),Ne.value=!1,Ae(!1),De(!0)}},re=w(!1),Pe=w(!1),Re=I=>{$.value="",f.value="",ee.value="",I=="only-a"?(re.value=!re.value,Pe.value=!1):(Pe.value=!Pe.value,re.value=!1)},po=h(()=>S.value.currentAutoPoolStatus),fo=w(),ko=()=>{fo.value=window.setInterval(()=>{($.value||f.value)&&fe()},2e4)};yo(()=>{ko()}),To(()=>{window.clearInterval(fo.value)});const _o=pn(fn,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0});return{currentAutoPoolStatus:po,wallet:P,positionInfo:s,isShowAddModal:t,needReverse:r,fromCoin:i,toCoin:p,fromCoinAmount:$,toCoinAmount:f,fromCoinBlance:q,toCoinBlance:M,fixedFromCoin:B,maxBtnSelect:J,halfBtnSelect:K,totalAmountUSD:Z,addCommom:N,shareOfPool:v,minimumReceivedLP:R,addLiquidityBtnText:k,addLiquidityBtnDisabled:H,toAdd:ro,showToCoinLock:G,showFromCoinLock:ve,isOnlyA:re,isOnlyB:Pe,onlyToken:Re,onlyText:ee,onlyTokenUSD:ce,calculateLoading:_e,indicator:_o}}});const Ze=e=>(ze("data-v-e887916d"),e=e(),Ge(),e),cl={class:"auto-pool-add"},pl={class:"auto-pool-add-content"},fl={class:"liquidity-action-tab"},yl=Ze(()=>o("div",{class:"increase tab-active"},"Add",-1)),gl={class:"only-token"},bl=Ze(()=>o("div",null,"Deposit Amounts",-1)),hl={key:0},kl=Ze(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),_l={key:0},wl=Ze(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),$l={key:0,class:"card-item"},Il={key:1,class:"card-item"},Cl=Ze(()=>o("span",null,"Pool Closed",-1)),Al={key:0,class:"add-info"},Pl={key:0,class:"only-text"},Sl={class:"total-amount"},Tl=Ze(()=>o("span",null,"Total Amount",-1)),Nl={key:0},Rl={class:"total-amount"},ql=Ze(()=>o("span",null,"Share of Pool",-1)),Dl={key:0},Bl={class:"total-amount"},Ll=Ze(()=>o("span",null,"Minimum Received LP",-1)),Fl={key:0},Ml={key:1,class:"add-info only-add-info"},Ol=Ze(()=>o("div",{class:"only-text"},"Single-asset deposit can't be higher than $10,000 at a time.",-1)),Ul=[Ol];function Vl(e,t,V,j,T,P){var F,n,r,i,p,$,f,B,q,M,J,K,Q,y,v;const m=Jo,S=Ko,b=so("AutoPoolV2PoolStatus"),d=So,s=zo,L=Zo;return u(),g("div",cl,[o("div",pl,[o("div",fl,[yl,o("div",{class:"remove",onClick:t[0]||(t[0]=Xo(R=>e.$emit("changeCurrentTab"),["stop"]))},"Remove")]),o("div",gl,[bl,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=R=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(u(),g("span",hl)):U("",!0)]),o("span",null,c(e.needReverse?(i=(r=e.positionInfo)==null?void 0:r.token_b)==null?void 0:i.symbol:(n=(F=e.positionInfo)==null?void 0:F.token_a)==null?void 0:n.symbol)+" only",1),kl]),o("div",{class:"only-b",onClick:t[2]||(t[2]=R=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(u(),g("span",_l)):U("",!0)]),o("span",null,c(e.needReverse?(B=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:B.symbol:($=(p=e.positionInfo)==null?void 0:p.token_b)==null?void 0:$.symbol)+" only",1),wl])])]),o("div",{class:Ue(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(u(),g("div",$l,[z(m,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=R=>e.fromCoinAmount=R),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=R=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=R=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=R=>{e.fromCoinAmount=R}),onOnFocus:t[7]||(t[7]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.isOnlyA?(u(),Y(S,{key:0})):U("",!0)])):U("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(u(),g("div",Il,[z(m,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=R=>e.toCoinAmount=R),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=R=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=R=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=R=>{e.toCoinAmount=R}),onOnFocus:t[12]||(t[12]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.isOnlyB?(u(),Y(S,{key:0})):U("",!0)])):U("",!0)],2)]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(u(),Y(b,{key:0})):U("",!0),(q=e.positionInfo)!=null&&q.is_pause?(u(),Y(d,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:we(()=>[Cl]),_:1})):e.wallet.connected?(u(),Y(d,{key:2,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,onClick:t[13]||(t[13]=R=>e.isShowAddModal=!0)},{default:we(()=>[o("span",null,c(e.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(u(),Y(d,{key:3,class:"big-btn liquidity-btn",onClick:t[14]||(t[14]=R=>e.wallet.setIsShowWalletModal(!0))},{default:we(()=>[o("span",null,c(e.$t("button.connectWallet")),1)]),_:1})),(((M=e.positionInfo)==null?void 0:M.quoteUSD)==0||Number((J=e.positionInfo)==null?void 0:J.remainingTokenUSD)>Number(e.totalAmountUSD))&&(Number(e.fromCoinAmount)>0||Number(e.toCoinAmount)>0)?(u(),g(to,{key:4},[e.onlyTokenUSD<=1e4?(u(),g("div",Al,[e.onlyText&&(e.isOnlyA&&e.fromCoinAmount>0||e.isOnlyB&&e.toCoinAmount>0)?(u(),g("div",Pl,c(e.onlyText),1)):U("",!0),o("div",Sl,[Tl,e.calculateLoading?(u(),Y(s,{key:1,paragraph:!1,active:""})):(u(),g("span",Nl,c(Number(e.totalAmountUSD)>0&&Number(e.totalAmountUSD)<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:A(N))(e.totalAmountUSD,2)}`),1))]),o("div",Rl,[ql,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(u(),g("span",Dl,c(e.shareOfPool)+"%",1)):(u(),Y(s,{key:1,paragraph:!1,active:""}))]),o("div",Bl,[Ll,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(u(),g("span",Fl,c(("addCommom"in e?e.addCommom:A(N))(e.minimumReceivedLP))+" "+c(e.needReverse?(K=e.toCoin)==null?void 0:K.symbol:(Q=e.fromCoin)==null?void 0:Q.symbol)+"-"+c(e.needReverse?(y=e.fromCoin)==null?void 0:y.symbol:(v=e.toCoin)==null?void 0:v.symbol),1)):(u(),Y(s,{key:1,paragraph:!1,active:""}))])])):(u(),g("div",Ml,Ul))],64)):U("",!0),e.isShowAddModal?(u(),Y(L,{key:5,"pool-info":e.positionInfo,"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"total-amount":e.totalAmountUSD,"share-of-pool":e.shareOfPool,"minimum-received-l-p":e.minimumReceivedLP,"is-only-a":e.isOnlyA,"is-only-b":e.isOnlyB,onOnClose:t[15]||(t[15]=R=>e.isShowAddModal=!1),onToAdd:e.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","is-only-a","is-only-b","onToAdd"])):U("",!0)])}const El=je(ml,[["render",Vl],["__scopeId","data-v-e887916d"]]),Wl=Xe({components:{AutoPoolRemoveModal:Qo,AutoPoolV2PoolStatus:an},setup(){const e=qo(),t=h(()=>e),V=bo(),j=h(()=>V),T=h(()=>F.value.slippage),P=h(()=>j.value.chainName),m=_n(),S=h(()=>m),b=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],d=w(25),s=oo(),L=Ke(),F=h(()=>L),n=h(()=>(console.log(F.value.positionInfoObj[s.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),F.value.positionInfoObj[s.params.id])),r=h(()=>{var a;return(a=n.value)==null?void 0:a.needReverse}),i=w(),p=w(),$=w(!1),f=w(),B=h(()=>{var a;return(a=n.value)==null?void 0:a.myLiquidity}),q=w(!0),M=h(()=>P.value?Ho(P.value):{}),J=w(),K=w(),Q=Go("Sui"),y=w(""),v=w(""),R=w("--"),ne=w(!1),te=w(!1),ve=w(),G=w(!0),ee=w(),ke=no(),_e=h(()=>ke),fe=h(()=>_e.value.RATES),me=w(!1),Z=async()=>{if(q.value||!n.value)return;K.value=!1,me.value=!0;const a=n.value.autoPoolPositionInfo.tick_lower_index,D=n.value.autoPoolPositionInfo.tick_upper_index,E=Ee.sqrtPriceX64ToTickIndex(new ue(n.value.current_sqrt_price));E<a&&(r.value?ne.value=!0:te.value=!0),E>D&&(r.value?te.value=!0:ne.value=!0);let ie;if(console.log(y.value||v.value,"#fromCoinAmount.value || toCoinAmount.value"),y.value||v.value){G.value?ie=new l(y.value).mul(Math.pow(10,i.value.decimals)).toString():ie=new l(v.value).mul(Math.pow(10,p.value.decimals)).toString();let X,de=G.value;if(k.value||H.value){k.value?Number(y.value)/Number(_.value):Number(v.value)/Number(_.value);const oe=await Q.calculateRemoveSwapAmount({lowerTick:a,upperTick:D,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:de,receiveAmount:ie,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(T.value)/100,decimals:k.value?i.value.decimals:p.value.decimals,liquidity:y.value==_.value||v.value==_.value?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity});if(console.log(oe,"###swapResult"),oe){J.value=oe.is_exceed,ie=new ue(oe.swapOutAmount),X=n.value.current_sqrt_price,ve.value={swap_amount:oe.swapInAmount,liquidity:oe.liquidity,a2b:!de,route_obj:oe.route_obj},de=!de;const Ve=n.value.token_a.decimals,Me=n.value.token_b.decimals,qe=new l(oe.swapInAmount).div(new l(Math.pow(10,Ve))).toString(),lo=C(new l(oe.swapOutAmountLimit).div(new l(Math.pow(10,Me))).toString(),Me),Ie=r.value?n.value.token_b.symbol:n.value.token_a.symbol,Le=r.value?n.value.token_a.symbol:n.value.token_b.symbol;ee.value=y.value==_.value||v.value==_.value?`To withdraw ${N(k.value?y.value:v.value)} ${k.value?Ie:Le},
          ${N(k.value?n.value.amountB:n.value.amountA)} ${k.value?Le:Ie} 
           in the pool will be traded for ${qe} ${k.value?Ie:Le}`:`To withdraw ${N(k.value?y.value:v.value)} ${k.value?Ie:Le},
          ${N(qe)} ${k.value?Le:Ie}  in the pool will be traded for ${N(lo)} ${k.value?Ie:Le}`}else{K.value=!0,ee.value="";return}}else J.value=!1,X=n.value.current_sqrt_price,ie=new ue(ie);console.log(X,"##curSqrtPrice"),console.log("执行了吗##");const{liquidityAmount:ae,tokenMaxA:x,tokenMaxB:W}=M.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:i.value,tokenB:p.value,lowerTick:a,upperTick:D,coinAmount:ie,iscoinA:de,roundUp:!1,slippage:Number(T.value)/100,curSqrtPrice:new ue(X)});if(console.log(n.value.current_sqrt_price,"##positionInfo.value.current_sqrt_price"),console.log(W.toString(),x.toString(),n.value,"###323"),!k.value&&!H.value&&(G.value?v.value=Number(W)>0?W:"":y.value=Number(x)>0?x:""),(k.value||H.value)&&(Number(y.value)>=Number(_.value)||Number(v.value)>=Number(_.value))){console.log("执行这里了吗"),f.value=n.value.myLiquidity;const oe=new l(100);R.value=new l(n.value.myLiquidity).mul(new l(Math.pow(10,n.value.lpInfo.decimals))).toString(),se.value=ae.toString(),d.value=oe.toNumber()}else{console.log("执行这里了吗1");const oe=Ao.get_lp_amount_by_liquidity({liquidity:n.value.liquidity,total_supply:n.value.total_supply},ae.toString()),Ve=new l(oe).div(new l(Math.pow(10,n.value.lpInfo.decimals))).toString();console.log(Ve,B.value,ae.toString(),n.value.liquidity,n.value.total_supply,"##lpBalance.value");const Me=new l(Ve).div(new l(B.value)).mul(100);console.log(Ve,B.value,Me.toNumber(),"lp##"),f.value=new l(B.value).mul(Me.div(100)).toString(),R.value=oe,se.value=ae.toString(),d.value=Me.toNumber()}me.value=!1}},se=w(),ge=h(()=>{var a;return(a=n==null?void 0:n.value)==null?void 0:a.amountA}),ce=h(()=>{var a;return(a=n==null?void 0:n.value)==null?void 0:a.amountB}),k=w(!1),H=w(!1),Ne=h(()=>{var de,ae,x,W;const a=(ae=fe.value[(de=i==null?void 0:i.value)==null?void 0:de.address])==null?void 0:ae.price,D=(W=fe.value[(x=p==null?void 0:p.value)==null?void 0:x.address])==null?void 0:W.price;console.log(a,D,y.value,v.value,"####totalWithdraw");let E=y.value!=="--"&&y.value!==""?y.value:0,ie=v.value!=="--"&&v.value!==""?v.value:0,X;return a&&D&&(k.value||H.value?X=new l(k.value?E:ie).mul(new l(k.value?a:D)).toString():(X=new l(E).mul(new l(a)).add(new l(ie).mul(new l(D))).toString(),console.log(X,"result##"))),X>0&&X<.01?"<$0.01":`$${N(C(X,2))}`}),be=async a=>{var Ve,Me,qe,lo,Ie,Le,wo,Bo,Lo,Fo,Mo;if(!q.value)return;q.value=!0,K.value=!1,(Me=(Ve=n.value)==null?void 0:Ve.token_a)==null||Me.decimals,(lo=(qe=n.value)==null?void 0:qe.token_b)==null||lo.decimals;const D=(Ie=n.value)==null?void 0:Ie.tick_lower_index,E=(Le=n.value)==null?void 0:Le.tick_upper_index;Ee.tickIndexToSqrtPriceX64(D),Ee.tickIndexToSqrtPriceX64(E);const ie=(Bo=(wo=n.value)==null?void 0:wo.autoPoolPositionInfo)==null?void 0:Bo.tick_lower_index,X=(Fo=(Lo=n.value)==null?void 0:Lo.autoPoolPositionInfo)==null?void 0:Fo.tick_upper_index,de=Ee.sqrtPriceX64ToTickIndex(new ue((Mo=n==null?void 0:n.value)==null?void 0:Mo.current_sqrt_price));de<ie&&(r.value?ne.value=!0:te.value=!0),de>X&&(r.value?te.value=!0:ne.value=!0);let ae="",x,W;console.log(a.value,"##item.value"),console.log(W,"##coinAmount");let oe=G.value;if(console.log("执行##"),k.value||H.value&&!ne.value&&!te.value){if(k.value){const xe=new l(_.value).mul(Math.pow(10,i.value.decimals)).mul(a.value).toString();console.log(xe,"##amount"),W=C(xe,0),y.value=C(new l(_.value).mul(a.value).toString(),i.value.decimals)}if(H.value){const xe=new l(_.value).mul(a.value).mul(Math.pow(10,p.value.decimals)).toString();W=C(xe,0),v.value=C(new l(_.value).mul(a.value).toString(),p.value.decimals)}console.log(y.value,"##fromCoinAmount.value");const Oe=await Q.calculateRemoveSwapAmount({lowerTick:D,upperTick:E,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:oe,receiveAmount:W,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(T.value)/100,decimals:k.value?i.value.decimals:p.value.decimals,liquidity:a.value==1?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity});if(console.log(Oe,"###swapResult536"),Oe){J.value=Oe.is_exceed,W=new ue(Oe.swapOutAmount),n.value.current_sqrt_price,ve.value={swap_amount:Oe.swapInAmount,liquidity:Oe.liquidity,route_obj:Oe.route_obj,a2b:!oe},oe=!oe;const xe=n.value.token_a.decimals,Oo=n.value.token_b.decimals,un=new l(Oe.swapInAmount).div(new l(Math.pow(10,xe))).toString(),Uo=C(new l(Oe.swapOutAmountLimit).div(new l(Math.pow(10,Oo))).toString(),Oo),io=r.value?n.value.token_b.symbol:n.value.token_a.symbol,ao=r.value?n.value.token_a.symbol:n.value.token_b.symbol;ee.value=a.value==1?`To withdraw ${N(k.value?y.value:v.value)} ${k.value?io:ao},
          ${N(k.value?n.value.amountB:n.value.amountA)} ${k.value?ao:io}  in the pool will be traded for ${N(Uo)} ${k.value?io:ao}`:`To withdraw ${N(k.value?y.value:v.value)} ${k.value?io:ao},
          ${N(un)} ${k.value?ao:io}  in the pool will be traded for ${N(Uo)} ${k.value?io:ao}`,ae=Oe.liquidity}else n.value.current_sqrt_price,W=new ue(W),ee.value="",K.value=!0;console.log(x,"result###"),R.value=new l(n.value.myLiquidity).mul(new l(a.value)).toString(),console.log(n.value,n.value.liquidity,ae,R.value,"###positionInfo.value.liquidity"),console.log(R.value,"##lpTokenAmount.value"),f.value=new l(R.value),se.value=ae}else{J.value=!1;const Oe=new l(ge.value).mul(Math.pow(10,i.value.decimals)).mul(a.value).toString();W=C(Oe,0),y.value=C(new l(ge.value).mul(a.value).toString(),i.value.decimals);const xe=new l(ce.value).mul(a.value).mul(Math.pow(10,p.value.decimals)).toString();W=C(xe,0),v.value=C(new l(ce.value).mul(a.value).toString(),p.value.decimals),n.value.current_sqrt_price,W=new ue(W),a.value!==1?x=new l(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).mul(a.value).toString():x=new l(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).toString(),f.value=new l(x).div(Math.pow(10,n.value.lpInfo.decimals)),ae=Ao.get_share_liquidity_by_amount({liquidity:n.value.liquidity,total_supply:n.value.total_supply},x),R.value=C(x,0),se.value=C(ae,0),console.log(ae,"###newLiquidity525")}};Ce(d,vo((a,D)=>{a!==D&&(Number(a)>100?d.value=100:a&&n.value?(console.log("687===>"),d.value=a,be({value:d.value/100})):(y.value="",v.value=""))},300)),Ce(()=>y.value,vo((a,D)=>{a?Z():!k.value&&!H.value&&(v.value="",d.value=0)},500),{immediate:!0}),Ce(()=>v.value,vo((a,D)=>{a?Z():!k.value&&!H.value&&(y.value="",d.value=0)},500),{immediate:!0});const De=No(),{setIsShowSuccess:Ae,setIsShowRejected:Be,setIsShowWaiting:$e,setTransactionDesc:Fe,setTransactionTxid:Qe,setPositiomNum:ro,setTransactionDescText:re}=V,Pe=w(!1),{t:Re}=Po(),po=async()=>{var Ve,Me;Pe.value=!0,Qe("");const a=Number(y.value)>0?`${N(y.value,i.value.decimals)} ${i.value.symbol}`:"",D=Number(v.value)>0?`${N(v.value,p.value.decimals)} ${p.value.symbol}`:"";console.log(a,D,"###transactionDescTo"),Fe(Re("tips.removeLiquidiyText",{from:r.value?D:a,and:Number(y.value)>0&&Number(v.value)>0?"and":"",to:r.value?a:D})),$e(!0);const E=Re("modal.removeLiquidityText2");re(E);const ie=n.value.autoPoolPositionInfo.tick_lower_index,X=n.value.autoPoolPositionInfo.tick_upper_index,de=Ee.tickIndexToSqrtPriceX64(ie),ae=Ee.tickIndexToSqrtPriceX64(X),x=n.value.rewarderInfo.map(qe=>qe.coinAddress);console.log(R.value,"##lpTokenAmount.value431");let W;G.value?W=new l(y.value).mul(Math.pow(10,i.value.decimals)).toString():W=new l(v.value).mul(Math.pow(10,p.value.decimals)).toString(),console.log();const oe={lowerSqrtPrice:de,upperSqrtPrice:ae,lpTokenAmount:R.value,liquidity:se.value,curSqrtPrice:new ue(n.value.object.current_sqrt_price),slippage:Number(T.value)/100,id:n.value.id,clmm_pool:n.value.autoPoolPositionInfo.pool,lp_token_type:n.value.lp_token_type,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:x,swapParams:ve.value,fix_amount_a:G.value,isOnlyA:!ne.value&&!te.value?k.value:!1,isOnlyB:!te.value&&!ne.value?H.value:!1,lowerTick:ie,upperTick:X,receiveAmount:W,sliderVal:d.value,positionInfo:n.value,maxLiquidity:n.value.positionLiquidity};try{const qe=await Q.remove(oe);console.log(qe,"移除流动性payload");const lo=await t.value.currentWallet.signAndExecuteTransactionBlock(qe);let Ie=M.value.handleTx(lo);if(console.log("0331###remove###tx####",Ie),Ie&&Ie.hash){Qe(Ie.hash),$e(!1),Ae(!0);const Le={title:Re("common.removeLiquidity"),desc:"",hash:Ie.hash,descTransactions:`Remove ${a} ${Number(y.value)>0&&Number(v.value)>0?"and":""} ${D} from the pool`,sender:t.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${y.value} ${(Ve=i.value)==null?void 0:Ve.symbol} and ${v.value} ${(Me=p.value)==null?void 0:Me.symbol}`};Le.res=Ie.res,M.value.showTransitionPending(Le),await M.value.watchTransaction(Le)&&(y.value="",v.value="",f.value="",d.value=0,setTimeout(()=>{L.updatePositionItem(n.value.id),M.value.getAccount(t.value.address)},1e3),Number(d.value)==100&&s.name=="auto-pool-detail"&&De.push("/pool/auto"))}else $e(!1),Be(!0);Pe.value=!1}catch(qe){console.log("Remove error",qe),Pe.value=!1,$e(!1),Be(!0)}};Ce(()=>n.value,(a,D)=>{a&&!Je(a)&&(i.value=a==null?void 0:a.token_a,p.value=a==null?void 0:a.token_b,console.log("触发###"),(!D||D&&D.address!==a.address)&&(d.value=d.value>0?d.value:25,be({value:d.value/100})))},{immediate:!0});const fo=h(()=>{const a=Number(f.value)>Number(B.value);return!y.value&&!v.value||!f.value||f.value<=0||!y.value&&k.value||!v.value&&H.value?Re("button.enterAmount"):a?"Invalid Amount":J.value?Re("button.insufficientLiquidity"):K.value?Re("button.enterAmount"):(console.log(y.value,_.value,v.value,"856##"),k.value&&Number(y.value)>Number(_.value)||H.value&&Number(v.value)>Number(_.value)?"Invalid Amount":Re("button.remove"))}),ko=h(()=>{const a=Number(f.value)>Number(B.value);return!!(!y.value&&!v.value||Number(y.value)<=0&&k.value||Number(v.value)<=0&&H.value||!f.value||f.value<=0||a||J.value||ye.value!=="STATUS_RUNNING"||K.value||k.value&&Number(y.value)>Number(_.value)||H.value&&Number(v.value)>Number(_.value))}),_o=a=>(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||uo("/image/coins/sui-unknown.png"),I=a=>{y.value="",v.value="",q.value=!0,ee.value="",a=="only-a"?(k.value=!k.value,H.value=!1,G.value=!0):(H.value=!H.value,k.value=!1,G.value=!1)},O=a=>{q.value=!0,d.value=100,a==="fromCoin"?G.value=!0:G.value=!1},le=a=>{q.value=!0,d.value=50,a==="fromCoin"?G.value=!0:G.value=!1},_=w(),Se=async()=>{const a=n.value.token_a.decimals,D=n.value.token_b.decimals,E=new l(ge.value).mul(new l(Math.pow(10,a))).toNumber(),ie=new l(ce.value).mul(new l(Math.pow(10,D))).toNumber(),X=k.value?ie:E,de=k.value?p.value.address===n.value.token_a.address:i.value.address===n.value.token_a.address;try{const ae=await S.value.swapRouterContract.getSwapRouter(k.value?p:i,k.value?i:p,X,!0,Number(T.value)/100,"",void 0,[{pool_id:n.value.address,tick_lower:n.value.autoPoolPositionInfo.tick_lower_index,tick_upper:n.value.autoPoolPositionInfo.tick_upper_index,delta_liquidity:Number(n.value.positionLiquidity),is_increase:!1}]),x=new l(ae.amountOut);_.value=x.sub(x.mul(Number(T.value)/100)).add(new l(k.value?ge.value:ce.value)).toString()}catch{if(k.value||H.value){console.log(X,"##receiveAmount");let x=await M.value.preSwap({pool:{address:n.value.address,coinA:n.value.token_a,coinB:n.value.token_b},a2b:de,byAmountIn:!0,amount:X});console.log(x,x.estimatedAmountOut,a,D,"##preSwapRes");const W=new l(x.estimatedAmountOut);_.value=W.sub(W.mul(Number(T.value)/100)).add(new l(k.value?ge.value:ce.value)).toString(),console.log("转换之后数量:",x.estimatedAmountOut),console.log("转换之后滑点数量:",W.mul(Number(T.value)/100).toNumber()),console.log("原有数量减滑点数量:",W.sub(W.mul(Number(T.value)/100)).toNumber()),console.log("fromCoin原有数量:",ge.value),console.log(_.value,"###onlyTokenBalance.value"),k.value?y.value=C(new l(_.value).mul(d.value/100).toString(),i.value.decimals):v.value=C(new l(_.value).mul(d.value/100).toString(),p.value.decimals),be({value:d.value/100})}}be({value:d.value/100})};Ce(()=>[k.value,H.value,ge.value,ce.value],([a,D])=>{a||D?Se():be({value:d.value/100})},{immediate:!0});const pe=a=>`${a}%`,ye=h(()=>F.value.currentAutoPoolStatus),he=w(),Te=()=>{he.value=window.setInterval(()=>{(y.value||v.value)&&!q.value?Z():be({value:d.value/100})},2e4)};return yo(()=>{Te()}),To(()=>{window.clearInterval(he.value)}),{removeLiquidityBtnText:fo,removeLiquidityBtnDisabled:ko,wallet:t,ratioArr:b,positionInfo:n,isShowRemoveModal:$,needReverse:r,fromCoin:i,toCoin:p,lpAmount:f,lpBalance:B,sliderVal:d,sFixD:C,isSlider:q,fromCoinAmount:y,toCoinAmount:v,setPercent:be,toRemove:po,addCommom:N,getCoinIcon:_o,isOnlyA:k,isOnlyB:H,onlyToken:I,fixedFromCoin:G,maxBtnSelect:O,halfBtnSelect:le,fromCoinBlance:ge,toCoinBlance:ce,showFromCoinLock:ne,showToCoinLock:te,removeText:ee,onlyTokenBalance:_,totalWithdraw:Ne,formatter:pe,currentAutoPoolStatus:ye,calculateLoading:me}}});const co=e=>(ze("data-v-34a741a6"),e=e(),Ge(),e),jl={class:"auto-pool-add"},Xl={class:"auto-pool-add-content"},zl={class:"liquidity-action-tab"},Gl=co(()=>o("div",{class:"remove tab-active"},"Remove",-1)),Hl={key:0,class:"only-token"},Yl=co(()=>o("div",null,"Deposit Amounts",-1)),Jl={key:0},Kl={key:0},Zl={key:0,class:"card-item"},Ql={key:1,class:"card-item"},xl={class:"remove-ratio"},ei={class:"remove-ratio-select"},oi={key:0,class:"ratio"},ni={key:1,class:"ratio"},ti={class:"ratio-list"},si=["onClick"],li=co(()=>o("span",null,"Pool Closed",-1)),ii={key:4,class:"remove-info"},ai={key:0,class:"remove-text total-amount"},ui={class:"total-amount"},ri=co(()=>o("span",null,"Total Withdraw",-1)),di={key:0},vi={class:"total-amount"},mi=co(()=>o("span",null,"LP Burn Amount",-1)),ci={key:0};function pi(e,t,V,j,T,P){var n,r,i,p,$,f,B,q,M,J,K,Q,y;const m=Jo,S=Ko,b=jo,d=so("AutoPoolV2PoolStatus"),s=So,L=zo,F=Qo;return u(),g("div",jl,[o("div",Xl,[o("div",zl,[o("div",{class:"increase",onClick:t[0]||(t[0]=Xo(v=>e.$emit("changeCurrentTab"),["stop"]))},"Add"),Gl]),!e.showFromCoinLock&&!e.showToCoinLock?(u(),g("div",Hl,[Yl,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=v=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(u(),g("span",Jl)):U("",!0)]),o("span",null,c(e.needReverse?(p=(i=e.positionInfo)==null?void 0:i.token_b)==null?void 0:p.symbol:(r=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:r.symbol)+" only",1)]),o("div",{class:"only-b",onClick:t[2]||(t[2]=v=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(u(),g("span",Kl)):U("",!0)]),o("span",null,c(e.needReverse?(q=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:q.symbol:(f=($=e.positionInfo)==null?void 0:$.token_b)==null?void 0:f.symbol)+" only",1)])])])):U("",!0),o("div",{class:Ue(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(u(),g("div",Zl,[z(m,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=v=>e.fromCoinAmount=v),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.isOnlyA?e.onlyTokenBalance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[4]||(t[4]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=v=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=v=>{e.isSlider=!1,e.fromCoinAmount=v}),onOnFocus:t[7]||(t[7]=()=>{e.isSlider=!1,e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(u(),Y(S,{key:0})):U("",!0)])):U("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(u(),g("div",Ql,[z(m,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=v=>e.toCoinAmount=v),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.isOnlyB?e.onlyTokenBalance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[9]||(t[9]=v=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=v=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=v=>{e.isSlider=!1,e.toCoinAmount=v}),onOnFocus:t[12]||(t[12]=()=>{e.isSlider=!1,e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(u(),Y(S,{key:0})):U("",!0)])):U("",!0)],2),o("div",xl,[o("div",ei,[Number(e.lpBalance)>=Number(e.lpAmount)?(u(),g("div",oi,c(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:A(C))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:A(C))(e.sliderVal,2))+"% ",1)):(u(),g("div",ni,"--")),o("div",ti,[(u(!0),g(to,null,Wo(e.ratioArr,(v,R)=>(u(),g("div",{key:R,class:Ue(["ratio-item",e.sliderVal==v.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=v.value}},c(v.name),11,si))),128))])]),z(b,{value:e.sliderVal,"onUpdate:value":t[13]||(t[13]=v=>e.sliderVal=v),"tip-formatter":e.formatter,onChange:t[14]||(t[14]=v=>e.isSlider=!0)},null,8,["value","tip-formatter"])])]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(u(),Y(d,{key:0})):U("",!0),(M=e.positionInfo)!=null&&M.is_pause?(u(),Y(s,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:we(()=>[li]),_:1})):e.wallet.connected?(u(),Y(s,{key:2,class:"big-btn liquidity-btn",disabled:e.removeLiquidityBtnDisabled,onClick:t[15]||(t[15]=v=>e.toRemove())},{default:we(()=>[o("span",null,c(e.removeLiquidityBtnText),1)]),_:1},8,["disabled"])):(u(),Y(s,{key:3,class:"big-btn liquidity-btn",onClick:t[16]||(t[16]=v=>e.wallet.setIsShowWalletModal(!0))},{default:we(()=>[o("span",null,c(e.$t("button.connectWallet")),1)]),_:1})),e.removeLiquidityBtnDisabled?U("",!0):(u(),g("div",ii,[e.removeText&&(e.isOnlyA&&Number(e.fromCoinAmount)>0||e.isOnlyB&&Number(e.toCoinAmount)>0)?(u(),g("div",ai,c(e.removeText),1)):U("",!0),o("div",ui,[ri,e.calculateLoading?(u(),Y(L,{key:1,paragraph:!1,active:""})):(u(),g("span",di,c(e.totalWithdraw),1))]),o("div",vi,[mi,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(u(),g("span",ci,c(("addCommom"in e?e.addCommom:A(N))(("sFixD"in e?e.sFixD:A(C))(e.lpAmount,e.positionInfo.decimals)))+" "+c(e.needReverse?(J=e.toCoin)==null?void 0:J.symbol:(K=e.fromCoin)==null?void 0:K.symbol)+"-"+c(e.needReverse?(Q=e.fromCoin)==null?void 0:Q.symbol:(y=e.toCoin)==null?void 0:y.symbol),1)):(u(),Y(L,{key:1,paragraph:!1,active:""}))])])),e.isShowRemoveModal?(u(),Y(F,{key:5,"pool-info":e.positionInfo,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,onOnClose:t[17]||(t[17]=v=>e.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):U("",!0)])}const fi=je(Wl,[["render",pi],["__scopeId","data-v-34a741a6"]]),yi=Xe({components:{AutoPoolV2Info:en,AutoPoolV2PositionRange:on,AutoPoolV2PoolComposition:tn,AutoPoolV2PoolLiquidity:sn,AutoPoolV2PoolAdd:El,AutoPoolV2PoolRemove:fi},setup(){const e=Ke();no();const t=bo(),V=h(()=>t),j=h(()=>e),T=oo(),P=w();Ce(()=>[j.value.positionInfoObj,T.params.id],([b,d])=>{b&&!Je(b)&&d&&(P.value=b[d],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const m=async()=>{console.log("重新获取数据"),e.getAutoPoolAPY(),e.getVault(T.params.id)},S=w();return Ce(()=>T.query.action,b=>{b&&(S.value=b)},{immediate:!0}),yo(()=>{e.getVault(T.params.id)}),h(()=>V.value.chainName),No(),{clickRefresh:m,currentTab:S,positionInfo:P}}});const gi={class:"auto-pool-detail-v2"},bi={class:"detail-top"},hi={class:"detail-bottom pc-detail"},ki={class:"detail-bottom-left"},_i={class:"detail-bottom-right"},wi={class:"h5-detail"};function $i(e,t,V,j,T,P){const m=Vn,S=en,b=on,d=tn,s=sn,L=so("AutoPoolV2PoolAdd"),F=so("AutoPoolV2PoolRemove");return u(),g("div",gi,[o("div",bi,[z(m,{"pool-info":e.positionInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"]),z(S)]),o("div",hi,[o("div",ki,[z(b),z(d),z(s)]),o("div",_i,[e.currentTab=="add"?(u(),Y(L,{key:0,onChangeCurrentTab:t[0]||(t[0]=n=>e.currentTab="remove")})):(u(),Y(F,{key:1,onChangeCurrentTab:t[1]||(t[1]=n=>e.currentTab="add")}))])]),o("div",wi,[e.currentTab=="add"?(u(),Y(L,{key:0,onChangeCurrentTab:t[2]||(t[2]=n=>e.currentTab="remove")})):(u(),Y(F,{key:1,onChangeCurrentTab:t[3]||(t[3]=n=>e.currentTab="add")})),z(b),z(d),z(s)])])}const Ki=je(yi,[["render",$i],["__scopeId","data-v-8f92038d"]]);export{Ki as default};
