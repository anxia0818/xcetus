import{_ as Re}from"./status-block.7b4a800e.js";import{a as ee,_ as me,i as Y,b as Ue,u as ue,l as Se,h as Ne,d as f,c as Q,f as x,g as v,j as Oe}from"./pool.ba2fbf88.js";import{a as se,l as oe,m as c,e as ne,o as n,f as t,i as _,u as i,t as o,c as pe,w as D,h as s,s as b,x as P,D as Ae,b as ce,r as N,A as V,F as G,q,J as ve,p as ke,k as he,v as je,z as Ce,L as De,K as re,Q as de,j as M,U as Le,B as Pe,V as Be}from"./entry.6606c0ae.js";/* empty css              *//* empty css              */import{i as X}from"./import-icon.de3e6c66.js";import{_ as be}from"./icon-arrow_2x.948aedb2.js";import{_ as Ie}from"./icon-arrow_2x.4ffddb8e.js";/* empty css              */import{u as Ee}from"./notifi.61a5cf82.js";import{_ as ge}from"./icon_on_2x.5e96733d.js";import{_ as Fe,a as Te}from"./img-no-Positions_2x.09541c86.js";import{_ as Ve,a as Ge}from"./img-connect-wallet_2x.ed743096.js";const qe=se({props:{pItem:{type:Object,required:!0},currentStatus:{type:String,required:!0},rewarderInfo:{type:Number,required:!0},aprAmount:{type:Number,required:!0}},setup(){const{t:e}=oe(),m=ee(),R=c(()=>m),j=c(()=>R.value.chainName),y=c(()=>me[j.value]);return{getExplorerUrl:Y,store:R,config:y,t:e}}});const ze={key:0,class:"owner-addres"},Ke=["href"],Je=["href"],We={class:"fee-tier"};function He(e,m,R,j,y,B){const r=Re,$=Ae;return n(),t("div",{class:P(["position-status",`position-status-${e.pItem.currentStatus.toLowerCase()}`])},[_(r,{class:"status-block","current-status":e.pItem.currentStatus||"","is-pause":e.pItem.is_pause,"apr-amount":e.aprAmount,"block-name":"position"},null,8,["current-status","is-pause","apr-amount"]),e.pItem.tokenName?(n(),t("div",ze,[e.pItem.tokenName.length<=24?(n(),t("a",{key:0,href:("getExplorerUrl"in e?e.getExplorerUrl:i(Y))("nftAddress",e.pItem.nftHash),target:"_blank"},o(e.pItem.tokenName),9,Ke)):(n(),pe($,{key:1,placement:"bottom","arrow-point-at-center":""},{title:D(()=>[s("span",null,o(e.pItem.tokenName),1)]),default:D(()=>[s("a",{target:"_blank",href:("getExplorerUrl"in e?e.getExplorerUrl:i(Y))("nftAddress",e.pItem.nftHash)},o(e.pItem.tokenName.substr(0,4))+" ... "+o(e.pItem.tokenName.substr(e.pItem.tokenName.length-4,4)),9,Je)]),_:1}))])):b("",!0),s("div",We,o(e.$t("common.fee"))+" "+o(e.pItem.fee*100)+"%",1)],2)}const Me=ne(qe,[["render",He],["__scopeId","data-v-447e931b"]]),Qe=se({props:{pItem:{type:Object,required:!0}},setup(e){const{t:m}=oe(),R=ce(),j=ee(),y=c(()=>j);c(()=>y.value.chainName?Ue(y.value.chainName):{});const B=ue(),r=c(()=>B),$=()=>{y.value.chainName==="Aptos"?R.push(`/position-detail?collect=${e.pItem.collectionName}&&token=${e.pItem.tokenName}&&address=${e.pItem.pool}`):R.push(`/position-detail?collect=${e.pItem.collectionName}&&token=${e.pItem.tokenName}&&address=${e.pItem.pool}&pos=${e.pItem.pos_object_id}`)},I=c(()=>r.value.allTokenObj&&e.pItem.token_a.address&&r.value.allTokenObj[e.pItem.token_a.address]&&r.value.allTokenObj[e.pItem.token_a.address].logo_url),a=c(()=>r.value.allTokenObj&&e.pItem.token_b.address&&r.value.allTokenObj[e.pItem.token_b.address]&&r.value.allTokenObj[e.pItem.token_b.address].logo_url),h=c(()=>r.value.feeOwedObj[e.pItem.tokenName]&&r.value.feeOwedObj[e.pItem.tokenName].feeOwed),z=c(()=>r.value.feeOwedObj[e.pItem.tokenName]&&r.value.feeOwedObj[e.pItem.tokenName].feesResult),O=c(()=>r.value.rewarderObj[e.pItem.tokenName]&&r.value.rewarderObj[e.pItem.tokenName].pendingRewarder),k=c(()=>r.value.rewarderObj[e.pItem.tokenName]&&r.value.rewarderObj[e.pItem.tokenName].pendingRewarderView),w=c(()=>r.value.rewarderObj[e.pItem.tokenName]&&r.value.rewarderObj[e.pItem.tokenName].pendingRewarderArr);console.log(w,"===>pendingRewarderArr");const E=N(0),L=N();V(()=>r.value.RATES,g=>{g&&(L.value=g)},{immediate:!0});const Z=g=>{var J;return(g==null?void 0:g.logoURI)||(g==null?void 0:g.logo_url)||((J=r.value.tokensObj[g==null?void 0:g.address])==null?void 0:J.logo_url)||(y.value.theme==="default"?X("/image/coins/unknown.png"):X("/image/coins/sui-unknown.png"))};return{tokensObj:c(()=>r.value.tokensObj),showNum:Se,fromCoinUrl:I,toCoinUrl:a,decimalFormat:Ne,clickDetails:$,t:m,addCommom:f,importIcon:X,router:R,store:y,pendingRewarder:O,pendingFees:h,pendingRewarderArr:w,pendingFeesArr:z,checkNullObj:Q,fixD:x,decimalUi:v,pendingRewarderView:k,aprAmount:E,getCoinIcon:Z}}});const fe=e=>(ke("data-v-1226a1cd"),e=e(),he(),e),Ze={class:"position-item"},Xe={class:"card-content"},Ye={class:"left"},xe={class:"top card-header"},es={class:"token-item"},ss={class:"item"},os=["src"],ns={key:0,class:"token-warning"},ts={class:"item"},as=["src"],is={key:0,class:"token-warning"},ls={class:"min-and-max"},rs={class:"text"},ds={key:0,src:be,alt:""},ms={key:1,src:Ie,alt:""},us={class:"text"},ps={class:"bottom"},cs={class:"info-block-container"},vs={class:"leabl"},ks={class:"text"},hs={key:0,class:"hover-rewarder"},bs={class:"rewarder-info"},Is={class:"left-rewarder"},gs=["src"],fs={class:"right-rewarder"},$s={class:"amount"},ws={key:0,class:"amount-usd"},_s={key:1,class:"amount-usd"},ys={class:"rewarder-info"},Rs={class:"left-rewarder"},Us=["src"],Ss={class:"right-rewarder"},Ns={class:"amount"},Os={key:0,class:"amount-usd"},As={key:1,class:"amount-usd"},js={class:"leabl"},Cs={key:0,class:"text"},Ds={key:1,class:"text"},Ls={key:2,class:"text"},Ps={key:3,class:"hover-rewarder"},Bs={class:"left-rewarder"},Es=["src"],Fs={class:"right-rewarder"},Ts={class:"amount"},Vs={class:"amount-usd"},Gs={class:"leabl"},qs={key:0,class:"text"},zs={key:1,class:"text"},Ks={key:2,class:"hover-rewarder"},Js={class:"left-rewarder"},Ws=["src"],Hs={class:"right-rewarder"},Ms={class:"amount"},Qs={class:"amount-usd"},Zs=fe(()=>s("div",{class:"more-img"},null,-1)),Xs={class:"min-and-max"},Ys={class:"text"},xs={key:0,src:be,alt:""},eo={key:1,src:Ie,alt:""},so={class:"text"},oo={class:"info-block-container"},no={class:"left"},to={class:"info-block"},ao={class:"leabl"},io={class:"text"},lo={class:"info-block cursor-block"},ro={class:"leabl"},mo={key:0,class:"text"},uo={key:1,class:"text"},po={key:2,class:"hover-rewarder"},co={class:"left-rewarder"},vo=["src"],ko={class:"right-rewarder"},ho={class:"amount"},bo={class:"amount-usd"},Io={key:0,class:"info-block cursor-block"},go={class:"leabl"},fo={key:0,class:"text"},$o={key:1,class:"text"},wo={key:2,class:"hover-rewarder"},_o={class:"left-rewarder"},yo=["src"],Ro={class:"right-rewarder"},Uo={class:"amount"},So={class:"amount-usd"},No=fe(()=>s("div",{class:"right"},[s("div",{class:"more-img"})],-1));function Oo(e,m,R,j,y,B){var I;const r=Me,$=ve;return n(),t("div",Ze,[s("div",Xe,[s("div",Ye,[_(r,{"p-item":e.pItem,"current-status":((I=e.pItem)==null?void 0:I.currentStatus)||"","rewarder-info":e.pendingRewarder,"apr-amount":e.aprAmount},null,8,["p-item","current-status","rewarder-info","apr-amount"])]),s("div",{class:"right",onClick:m[0]||(m[0]=(...a)=>e.clickDetails&&e.clickDetails(...a))},[s("div",xe,[s("div",es,[s("div",ss,[s("img",{src:(e.pItem.needReverse?e.toCoinUrl:e.fromCoinUrl)||e.getCoinIcon(e.pItem.needReverse?e.pItem.token_b:e.pItem.token_a)},null,8,os),(e.pItem.needReverse?e.tokensObj&&e.tokensObj[e.pItem.token_b.address]&&e.tokensObj[e.pItem.token_b.address].isSelfBuilt:e.tokensObj&&e.tokensObj[e.pItem.token_a.address]&&e.tokensObj[e.pItem.token_a.address].isSelfBuilt)?(n(),t("div",ns)):b("",!0),s("div",null,[s("span",null,o(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1),s("p",null,o(e.pItem.needReverse?e.pItem.token_b.name:e.pItem.token_a.name)+" "+o(e.pItem.needReverse?e.pItem.token_b.labels&&e.pItem.token_b.labels[0]?`(${e.pItem.token_b.labels[0]})`:"":e.pItem.token_a.labels&&e.pItem.token_a.labels[0]?`(${e.pItem.token_a.labels[0]})`:""),1)])]),s("div",ts,[s("img",{src:(e.pItem.needReverse?e.fromCoinUrl:e.toCoinUrl)||e.getCoinIcon(e.pItem.needReverse?e.pItem.token_a:e.pItem.token_b)},null,8,as),(e.pItem.needReverse?e.tokensObj&&e.tokensObj[e.pItem.token_a.address]&&e.tokensObj[e.pItem.token_a.address].isSelfBuilt:e.tokensObj&&e.tokensObj[e.pItem.token_b.address]&&e.tokensObj[e.pItem.token_b.address].isSelfBuilt)?(n(),t("div",is)):b("",!0),s("div",null,[s("span",null,o(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol),1),s("p",null,o(e.pItem.needReverse?e.pItem.token_a.name:e.pItem.token_b.name)+" "+o(e.pItem.needReverse?e.pItem.token_a.labels&&e.pItem.token_a.labels[0]?`(${e.pItem.token_a.labels[0]})`:"":e.pItem.token_b.labels&&e.pItem.token_b.labels[0]?`(${e.pItem.token_b.labels[0]})`:""),1)])])]),s("div",ls,[s("div",rs,o(e.pItem.needReverse?("addCommom"in e?e.addCommom:i(f))(("decimalUi"in e?e.decimalUi:i(v))(1/e.pItem.maxPrice,6)):("addCommom"in e?e.addCommom:i(f))(("decimalUi"in e?e.decimalUi:i(v))(e.pItem.minPrice,6))),1),e.store.theme=="default"?(n(),t("img",ds)):(n(),t("img",ms)),s("div",us,o(e.pItem.maxPrice.indexOf("+")>-1?"∞":e.pItem.needReverse?("addCommom"in e?e.addCommom:i(f))(("decimalUi"in e?e.decimalUi:i(v))(1/e.pItem.minPrice,6)):("addCommom"in e?e.addCommom:i(f))(("decimalUi"in e?e.decimalUi:i(v))(e.pItem.maxPrice,6)))+" "+o(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol)+" per "+o(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)])]),s("div",ps,[s("div",cs,[s("div",{class:P(["info-block cursor-block",e.pItem.amountUSD=="--"||Number(e.pItem.amountUSD)==0?"block-none":""])},[s("div",vs,o(e.$t("common.liquidity")),1),s("div",ks," $"+o(e.pItem.amountUSD=="--"?"--":Number(e.pItem.amountUSD)==0?0:Number(e.pItem.amountUSD)<.01?"<0.01":("addCommom"in e?e.addCommom:i(f))(e.pItem.amountUSD,2)),1),e.pItem.amountUSD>0?(n(),t("div",hs,[s("div",bs,[s("div",Is,[s("img",{src:e.getCoinIcon(e.pItem.needReverse?e.pItem.token_b:e.pItem.token_a),alt:""},null,8,gs),s("span",null,o(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)]),s("div",fs,[s("div",$s,o(e.pItem.needReverse?("decimalUi"in e?e.decimalUi:i(v))(e.pItem.amountB,e.pItem.token_b.decimals):("decimalUi"in e?e.decimalUi:i(v))(e.pItem.amountA,e.pItem.token_a.decimals)),1),e.pItem.needReverse?(n(),t("div",_s,o(e.pItem.tokenBRates==0?"$0":e.pItem.tokenBRates>.01?"$"+("fixD"in e?e.fixD:i(x))(e.pItem.tokenBRates,2):"<$0.01"),1)):(n(),t("div",ws,o(e.pItem.tokenARates==0?"$0":e.pItem.tokenARates>.01?"$"+("fixD"in e?e.fixD:i(x))(e.pItem.tokenARates,2):"<$0.01"),1))])]),s("div",ys,[s("div",Rs,[s("img",{src:e.getCoinIcon(e.pItem.needReverse?e.pItem.token_a:e.pItem.token_b),alt:""},null,8,Us),s("span",null,o(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol),1)]),s("div",Ss,[s("div",Ns,o(e.pItem.needReverse?("decimalUi"in e?e.decimalUi:i(v))(e.pItem.amountA,e.pItem.token_a.decimals):("decimalUi"in e?e.decimalUi:i(v))(e.pItem.amountB,e.pItem.token_b.decimals)),1),e.pItem.needReverse?(n(),t("div",As,o(e.pItem.tokenARates==0?"$0":e.pItem.tokenARates>.01?"$"+("decimalUi"in e?e.decimalUi:i(v))(e.pItem.tokenARates,2):"<$0.01"),1)):(n(),t("div",Os,o(e.pItem.tokenBRates==0?"$0":e.pItem.tokenBRates>.01?"$"+("decimalUi"in e?e.decimalUi:i(v))(e.pItem.tokenBRates,2):"<$0.01"),1))])])])):b("",!0)],2),s("div",{class:P(["info-block cursor-block",e.pendingFees==0?"block-none":""])},[s("div",js,o(e.$t("newAdd.pendingFees")),1),e.pendingFees==="--"?(n(),t("div",Cs," $ -- ")):isNaN(e.pendingFees)?(n(),t("div",Ls,[_($,{size:"small"})])):(n(),t("div",Ds,o(e.pendingFees==0?"$0":e.pendingFees<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:i(f))(e.pendingFees,2)),1)),e.pendingFees>0?(n(),t("div",Ps,[(n(!0),t(G,null,q(e.pendingFeesArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[s("div",Bs,[s("img",{src:e.getCoinIcon(a),alt:""},null,8,Es),s("span",null,o(a.symbol),1)]),s("div",Fs,[s("div",Ts,o(Number(a.amount)==0?0:Number(a.amount)>1e-6?("addCommom"in e?e.addCommom:i(f))(("decimalUi"in e?e.decimalUi:i(v))(a.amount,a.decimals),a.decimals):"<0.000001"),1),s("div",Vs,o(Number(a.amountUSD)==0?"$0":Number(a.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:i(f))(a.amountUSD,2):"<$0.01"),1)])]))),128))])):b("",!0)],2),e.pItem.is_display_rewarder&&!("checkNullObj"in e?e.checkNullObj:i(Q))(e.pItem.rewarder_infos)&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(n(),t("div",{key:0,class:P(["info-block cursor-block",e.pendingRewarder==0?"block-none":""])},[s("div",Gs,o(e.$t("newAdd.pendingRewards")),1),e.pendingRewarder||e.pendingRewarder==0?(n(),t("div",qs," $"+o(e.pendingRewarder>0&&e.pendingRewarderView>0?e.pendingRewarderView:e.pendingRewarder>0&&e.pendingRewarderView<=0?"<0.01":0),1)):(n(),t("div",zs,[_($,{size:"small"})])),e.pendingRewarder>0?(n(),t("div",Ks,[(n(!0),t(G,null,q(e.pendingRewarderArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[s("div",Js,[s("img",{src:a.logoURI,alt:""},null,8,Ws),s("span",null,o(a.symbol),1)]),s("div",Hs,[s("div",Ms,o(("decimalUi"in e?e.decimalUi:i(v))(a.amount,a.decimals)),1),s("div",Qs,o(Number(a.amountUSD)==0?"$0":Number(a.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:i(f))(a.amountUSD,2):"<$0.01"),1)])]))),128))])):b("",!0)],2)):b("",!0),Zs])])])]),s("div",{class:"h5-bottom",onClick:m[1]||(m[1]=(...a)=>e.clickDetails&&e.clickDetails(...a))},[s("div",Xs,[s("div",Ys,o(e.pItem.needReverse?("decimalUi"in e?e.decimalUi:i(v))(1/e.pItem.minPrice,6):("decimalUi"in e?e.decimalUi:i(v))(e.pItem.minPrice,6)),1),e.store.theme=="default"?(n(),t("img",xs)):(n(),t("img",eo)),s("div",so,o(e.pItem.maxPrice.indexOf("+")>-1?"∞":e.pItem.needReverse?("decimalUi"in e?e.decimalUi:i(v))(1/e.pItem.maxPrice,6):("decimalUi"in e?e.decimalUi:i(v))(e.pItem.maxPrice,6))+" "+o(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol)+" per "+o(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)]),s("div",oo,[s("div",no,[s("div",to,[s("div",ao,o(e.$t("common.liquidity")),1),s("div",io," $"+o(e.pItem.amountUSD=="--"?"--":Number(e.pItem.amountUSD)==0?0:Number(e.pItem.amountUSD)<.01?"<0.01":("addCommom"in e?e.addCommom:i(f))(e.pItem.amountUSD,2)),1)]),s("div",lo,[s("div",ro,o(e.$t("newAdd.pendingFees")),1),isNaN(e.pendingFees)?(n(),t("div",uo,[_($,{size:"small"})])):(n(),t("div",mo,o(e.pendingFees==0?"$0":e.pendingFees<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:i(f))(e.pendingFees,2)),1)),e.pendingFees>0?(n(),t("div",po,[(n(!0),t(G,null,q(e.pendingFeesArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[s("div",co,[s("img",{src:e.getCoinIcon(a),alt:""},null,8,vo),s("span",null,o(a.symbol),1)]),s("div",ko,[s("div",ho,o(Number(a.amount)==0?0:Number(a.amount)>1e-6?("addCommom"in e?e.addCommom:i(f))(("decimalUi"in e?e.decimalUi:i(v))(a.amount,a.decimals),a.decimals):"<0.000001"),1),s("div",bo,o(Number(a.amountUSD)==0?"$0":Number(a.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:i(f))(a.amountUSD,2):"<$0.01"),1)])]))),128))])):b("",!0)]),e.pItem.is_display_rewarder&&!("checkNullObj"in e?e.checkNullObj:i(Q))(e.pItem.rewarder_infos)&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(n(),t("div",Io,[s("div",go,o(e.$t("newAdd.pendingRewards")),1),e.pendingRewarder||e.pendingRewarder==0?(n(),t("div",fo," $"+o(e.pendingRewarder>0?("decimalUi"in e?e.decimalUi:i(v))(e.pendingRewarder,2):0),1)):(n(),t("div",$o,[_($,{size:"small"})])),e.pendingRewarder>0?(n(),t("div",wo,[(n(!0),t(G,null,q(e.pendingRewarderArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[s("div",_o,[s("img",{src:a.logoURI,alt:""},null,8,yo),s("span",null,o(a.symbol),1)]),s("div",Ro,[s("div",Uo,o(a.amount),1),s("div",So,"$"+o(("decimalUi"in e?e.decimalUi:i(v))(a.amountUSD,2)),1)])]))),128))])):b("",!0)])):b("",!0)]),No])])])}const Ao=ne(Qe,[["render",Oo],["__scopeId","data-v-1226a1cd"]]),jo=se({setup(){const e=N(!1),{t:m}=oe(),R=N(["position"]),j=ce(),y=N(""),B=ee(),r=c(()=>B),$=c(()=>r.value.chainName?me[r.value.chainName]:{});let I=N([]);const a=ue(),h=c(()=>a),z=Oe(),O=c(()=>z),k=N(!1),w=N(m("tab.all")),E=N([m("tab.layerZero"),m("tab.wormhole"),m("tab.celer")]),L=N(!0),Z=N("TVL"),te=()=>{e.value=!0,I.value=[],O.value.address&&a.getMyPositons(O.value.address,h.value.poolsObj,r.value.chainName),setTimeout(()=>{e.value=!1},1e3)};je(()=>{I.value=[],document.addEventListener("click",()=>{k.value=!1}),a.setMyPositionsLoading(!0)}),Ce(()=>{document.addEventListener("click",()=>{k.value=!1})}),De(()=>{O.value.connected||(I.value=[])});const g=p=>{e.value=!0;let d=[];h.value.myPositions.forEach(l=>{var F,T,W,H,ie,le;let u,U;const S=l.amountA*((F=h.value.RATES[l.token_a.address])==null?void 0:F.price),A=l.amountB*((T=h.value.RATES[l.token_b.address])==null?void 0:T.price);console.log("0330###updateLpList####ele.amountA##",l.amountA),console.log("0330###updateLpList####ele.amountB##",l.amountB),console.log("0330###updateLpList####ele.token_a.address##",l.token_a.address),console.log("0330###updateLpList####ele.token_b.address##",l.token_b.address),console.log("0330###updateLpList####pools.value.RATES[ele.token_a.address]?.price##",(W=h.value.RATES[l.token_a.address])==null?void 0:W.price),console.log("0330###updateLpList####pools.value.RATES[ele.token_b.address]?.price##",(H=h.value.RATES[l.token_b.address])==null?void 0:H.price),(ie=h.value.RATES[l.token_a.address])!=null&&ie.price&&((le=h.value.RATES[l.token_b.address])!=null&&le.price)?(u=S+A,U=S+A):(u=" --",U=0),d.push({...l,amountUSD:u,amountUSDOrigin:U,tokenARates:S,tokenBRates:A})}),console.log("0512###updateLpList###labelValue.value###",w.value),console.log("0512###updateLpList###newResult###",d),w.value!="All"?L.value?(I.value=d.sort((l,u)=>Number(u.amountUSDOrigin)-Number(l.amountUSDOrigin)),e.value=!1):(I.value=d.sort((l,u)=>Number(l.amountUSDOrigin)-Number(u.amountUSDOrigin)),e.value=!1):(console.log("0507###updateLpList###select.value###",L.value),console.log("0507###updateLpList###newResult###",d),L.value?(I.value=d.sort((l,u)=>u.amountUSDOrigin-l.amountUSDOrigin),e.value=!1):(I.value=d.sort((l,u)=>l.amountUSDOrigin-u.amountUSDOrigin),e.value=!1)),console.log(I.value,"list.value========>")};V(()=>[h.value.myPositions,h.value.RATES],([p,d])=>{p&&d&&g()},{immediate:!0}),V(()=>[O.value.address,h.value.poolConfigList,h.value.poolsObj,r.value.chainName],([p,d,l,u])=>{var U,S,A;p&&d&&d.length>0&&u&&(u!=null&&u.toLowerCase().includes((U=d[0])==null?void 0:U.chain))&&!Q(l)&&(u==="Aptos"?d.length===Object.values(l).length:(A=(S=Object.values(l)[0])==null?void 0:S.chain)!=null&&A.includes("sui"))&&a.getMyPositons(O.value.address,l,u)},{immediate:!0,deep:!0}),V(()=>w.value,p=>{g()}),V(()=>L.value,p=>{g()});const J=p=>{const d=[];E.value.forEach((l,u)=>{l==p?d[u]=w.value:d[u]=l}),E.value=d,w.value=p},K=Ee(),C=c(()=>K),ae=c(()=>a),we=async p=>{console.log("执行了"),await K.getSourceGroups();const d=C.value.sourceGroups&&C.value.sourceGroups.length>0&&C.value.sourceGroups[0]&&C.value.sourceGroups[0].sources||[];let l;for(let u=0;u<d.length;u++){const{pool_address:U,position_index:S}=JSON.parse(d[u].blockchainAddress);let A=!1,F;for(let T=0;T<p.length;T++){const{poolAddress:W,index:H}=p[T];U==W&&Number(H)==Number(S)&&(A=!0),F={pool_address:U,position_index:S},console.log(l,"====>hasPositionInfo"),console.log(F,"","取消订阅的仓位")}A||await K.subscribePosition(F,"",!1,!1)}},_e=async()=>{await K.getSourceGroups(),console.log("全部取消");const p=C.value.sourceGroups&&C.value.sourceGroups.length>0&&C.value.sourceGroups[0]&&C.value.sourceGroups[0].sources||[];for(let d=0;d<p.length;d++){const{pool_address:l,position_index:u}=JSON.parse(p[d].blockchainAddress),{name:U}=p[d],S={pool_address:l,position_index:u};await K.subscribePosition(S,U,!1,!1)}},ye=c(()=>ae.value.myPositionsLoading);return V(()=>ae.value.myPositions,(p,d)=>{console.log(p,d,"===>newMyPositions, oldMyposition"),$.value.hasNotifi&&(p&&p.length>0&&d&&d.length!==p.length?we(p):p&&p.length==0&&!ye.value&&_e())},{immediate:!0}),{changeSortLabel:J,label:k,labelList:E,labelValue:w,select:L,selectValue:Z,t:m,pools:h,store:r,wallet:O,list:I,clickRefresh:te,refresh:e,current:R,router:j,searchKey:y}}});const $e=e=>(ke("data-v-306d6ced"),e=e(),he(),e),Co={class:"position-title"},Do=$e(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Lo=[Do],Po={class:"position-tab"},Bo={class:"search-tab"},Eo={key:0,class:"positionNum"},Fo={class:"search-container"},To={class:"value"},Vo=$e(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Go=[Vo],qo={key:0,class:"select-item"},zo=["onClick"],Ko={key:0,src:ge,alt:""},Jo={key:1,class:"fan-img",src:ge,alt:""},Wo={key:0,class:"loading-global position-loading"},Ho={key:1,class:"position-list"},Mo={key:2,class:"no-data"},Qo={key:0,src:Fe,alt:""},Zo={key:1,src:Te,alt:""},Xo={key:3,class:"no-data"},Yo={key:0,src:Ve,alt:""},xo={key:1,src:Ge,alt:""};function en(e,m,R,j,y,B){const r=re("mail-outlined"),$=Be,I=re("appstore-outlined"),a=Le,h=ve,z=Ao,O=Pe;return n(),t("div",{class:P(e.list&&e.list.length===0&&e.wallet.connected||!e.wallet.connected?"position-center position-list-container":"position-list-container")},[s("div",Co,[s("div",null,o(e.$t("common.concentratedPools")),1),(n(),t("svg",{"aria-hidden":"true",class:P(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:m[0]||(m[0]=(...k)=>e.clickRefresh&&e.clickRefresh(...k))},Lo,2))]),s("div",Po,[s("div",Bo,[_(a,{selectedKeys:e.current,"onUpdate:selectedKeys":m[2]||(m[2]=k=>e.current=k),mode:"horizontal"},{default:D(()=>[_($,{key:"pools",onClick:m[1]||(m[1]=k=>e.router.push("/pools"))},{icon:D(()=>[_(r)]),default:D(()=>[M(" "+o(e.$t("menu.pools")),1)]),_:1}),_($,{key:"position"},{icon:D(()=>[_(I)]),default:D(()=>[M(" "+o(e.$t("common.myPosition")),1),e.list.length>0?(n(),t("span",Eo," ("+o(e.list.length)+")",1)):b("",!0)]),_:1})]),_:1},8,["selectedKeys"])]),s("div",Fo,[e.store.theme=="default"?(n(),t("div",{key:0,class:"search-label",onClick:m[3]||(m[3]=de(k=>e.label=!e.label,["stop"]))},[s("span",null,o(e.$t("newAdd.label")),1),s("div",To,o(e.labelValue),1),(n(),t("svg",{"aria-hidden":"true",class:P(e.label?"show-icon icon":"icon")},Go,2)),e.label?(n(),t("div",qo,[(n(!0),t(G,null,q(e.labelList,(k,w)=>(n(),t("div",{key:w,class:"select-menu-item",onClick:E=>e.changeSortLabel(k)},o(k),9,zo))),128))])):b("",!0)])):b("",!0),s("div",{class:"search-select",onClick:m[4]||(m[4]=de(k=>e.select=!e.select,["stop"]))},[s("div",null,[M(" TVL "),e.select?(n(),t("img",Ko)):(n(),t("img",Jo))])])])]),e.pools.myPositionsLoading&&e.wallet.connected?(n(),t("div",Wo,[_(h)])):b("",!0),e.list&&e.list.length>0&&e.wallet.connected&&!e.pools.myPositionsLoading?(n(),t("div",Ho,[(n(!0),t(G,null,q(e.list,(k,w)=>(n(),pe(z,{key:w,"p-item":k},null,8,["p-item"]))),128))])):b("",!0),e.list&&e.list.length<=0&&!e.pools.myPositionsLoading&&e.wallet.connected?(n(),t("div",Mo,[e.store.theme=="default"?(n(),t("img",Qo)):(n(),t("img",Zo)),s("span",null,o(e.$t("common.noLiquidityPositions")),1)])):b("",!0),e.wallet.connected?b("",!0):(n(),t("div",Xo,[e.store.theme=="default"?(n(),t("img",Yo)):(n(),t("img",xo)),_(O,{class:"connect-wallet",onClick:m[5]||(m[5]=k=>e.wallet.setIsShowWalletModal(!0))},{default:D(()=>[M(o(e.$t("button.connectWallet")),1)]),_:1})]))],2)}const kn=ne(jo,[["render",en],["__scopeId","data-v-306d6ced"]]);export{kn as default};
