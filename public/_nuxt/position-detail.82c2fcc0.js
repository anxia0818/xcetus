import{_ as Xe}from"./back.bdde7c3b.js";import{_ as Ye,a as Ze,b as Ve}from"./claim-fees.fb45cf01.js";import{_ as xe}from"./apr-tab.2a02023e.js";import{_ as eo}from"./token-warning.67cfe0a7.js";import{_ as oo}from"./apr-tips.803fd881.js";import{a as no,u as so,i as ao,k as y,e as $e,h as p,g as io,b as to,c as X,f as ke,_ as ne,s as ro,t as Te}from"./pool.98fa8225.js";import{a as lo,r as u,m as _,A as re,l as uo,a4 as co,v as po,b as vo,a1 as G,a5 as Ue,e as mo,o as h,f as w,h as s,i as b,x as oe,w as q,s as Y,c as Le,t as l,u as k,E as fo,G as ko,B as ho,S as bo,J as go,j as N,F as wo,q as Io,p as _o,k as yo}from"./entry.0db31a46.js";/* empty css              *//* empty css              */import{i as Oe}from"./import-icon.de3e6c66.js";import{p as Ro}from"./precision.9d58cda5.js";import"./status-block.49d2def2.js";/* empty css              */import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./c-switch.80a737bb.js";import"./notifi.d6949724.js";import"./index.bfa18f8f.js";const Co=lo({setup(){const e=u(!1),g=u(!1),le=u(!1),Se=u(!0),R=no(),f=_(()=>R),he=so(),j=u(""),E=u(""),Z=u(""),ae=u(30),be=u("Estimated APR"),de=u([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),ie=u(!0),ge=n=>{ae.value=n.num},we=()=>{ie.value=!ie.value},i=_(()=>he),ue=_(()=>{var r,t,m,v;const n=o.value.feeOwedA*((r=i.value.RATES[o.value&&o.value.token_a&&o.value.token_a.address])==null?void 0:r.price),a=o.value.feeOwedB*((t=i.value.RATES[o.value&&o.value.token_b&&o.value.token_b.address])==null?void 0:t.price);return(m=i.value.RATES[o.value&&o.value.token_a&&o.value.token_a.address])!=null&&m.price&&((v=i.value.RATES[o.value&&o.value.token_b&&o.value.token_b.address])!=null&&v.price)?n+a:" --"}),o=u({}),d=vo();function O(){d.push(`/remove-liquidity?collect=${o.value.collectionName}&&token=${o.value.tokenName}&&address=${o.value.pool}&pos=${o.value.pos_object_id}`)}function $(){d.push(`/increase-liquidity?collect=${o.value.collectionName}&&token=${o.value.tokenName}&&address=${o.value.pool}&pos=${o.value.pos_object_id}`)}const S=()=>{C(),le.value=!0,setTimeout(()=>{le.value=!1},1e3)},c=_(()=>f.value.chainName?to(f.value.chainName):{}),C=async()=>{i.value.setCurrentPositionLoading(!0);const n=d.currentRoute.value.query.token||"",a=d.currentRoute.value.query.collect||"",r=d.currentRoute.value.query.address||"",t=d.currentRoute.value.query.pos||"",m=d.currentRoute.value.query.id||"";E.value=r,f.value.chainName==="Aptos"?n&&a&&r&&(j.value=a,Z.value=n,i.value.setCurrentPositionInfo(E.value,j.value,Z.value,f.value.chainName)):n&&r&&t?(j.value=a,Z.value=n,i.value.setCurrentPositionInfo(r,j.value,Z.value,f.value.chainName,t)):m&&i.value.setCurrentPositionInfo("","","",f.value.chainName,m)},W=_(()=>{var a,r,t;const n=((t=(r=(a=d==null?void 0:d.currentRoute)==null?void 0:a.value)==null?void 0:r.query)==null?void 0:t.address)||"";return n&&i.value.addressLpTokens&&!X(i.value.addressLpTokens)&&i.value.addressLpTokens[n]?i.value.addressLpTokens[n]:null});re(()=>W.value,(n,a)=>{n&&!X(n)&&n.current_sqrt_price!==(a==null?void 0:a.current_sqrt_price)&&C()},{immediate:!0});const P=u(""),B=u(""),U=u(""),J=(n,a)=>n&&a?ro(Ro.plus(Te(n),Te(a)),2)+"%":n,F=n=>{let a=0;return n&&n.forEach(r=>{a+=Te(String(r))}),String(ke(String(a),2))},H=u(""),M=u("");re(()=>[f.value.newTopPoolsObj,o.value,ae,f.value.stats],([n,a])=>{if(!X(n)&&!X(a)){const r=a.poolAddress,t=n[r];t?(P.value=t&&t.apr_7day&&t.apr_7day.replace("%",""),M.value=F(t&&(t==null?void 0:t.rewarder_apr)),H.value=J(t&&(t==null?void 0:t.apr_7day),t&&F(t==null?void 0:t.rewarder_apr)),B.value=t&&ke(t==null?void 0:t.tvl_in_usd,2),U.value=t&&ke(t==null?void 0:t.vol_in_usd_24h,2)):(B.value=0,U.value=0,P.value="0")}},{immediate:!0,deep:!0});const K=ao(),A=_(()=>K),{t:L}=uo(),{$notify:z}=co(),Q=async()=>{e.value=!0,g.value=!1;const n=p(o.value.feeOwedA,o.value.token_a.decimals)==0?"":`${y(o.value.feeOwedA,o.value.token_a.decimals)} ${o.value.token_a.symbol}`,a=p(o.value.feeOwedB,o.value.token_b.decimals)==0?"":`${y(o.value.feeOwedB,o.value.token_b.decimals)} ${o.value.token_b.symbol}`;R.setTransactionDesc(L("newAdd.claimWaitingText",{from:Re.value?a:n,and:p(o.value.feeOwedA,o.value.token_a.decimals)==0||p(o.value.feeOwedB,o.value.token_b.decimals)==0?"":"and",to:Re.value?n:a})),R.setIsShowWaiting(!0);let r;const t={pool:o.value.poolInfo,position:o.value};try{const m=await c.value.getCollectFeeTransactionPayload(t);if(f.value.chainName==="Aptos")r=await A.value.currentWallet.signAndSubmitTransaction(m);else{const v=await A.value.currentWallet.signAndExecuteTransactionBlock(m);r=c.value.handleTx(v)}if(r){R.setTransactionTxid(r.hash),R.setIsShowWaiting(!1),R.setIsShowSuccess(!0);const v={title:"Claim",desc:"",hash:r.hash,tit:"Fees Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:`${o.value.token_a.address}`,numa:p(o.value.feeOwedA,o.value.token_a.decimals)==0?"":`${y(o.value.feeOwedA,o.value.token_a.decimals)}`,logoa:p(o.value.feeOwedA,o.value.token_a.decimals)==0?"":i.value.tokensObj&&o.value&&o.value.token_a.address&&i.value.tokensObj[o.value.token_a.address]&&i.value.tokensObj[o.value.token_a.address].logoURI,tokenb:`${o.value.token_b.address}`,numb:p(o.value.feeOwedB,o.value.token_b.decimals)==0?"":`${y(o.value.feeOwedB,o.value.token_b.decimals)}`,logob:p(o.value.feeOwedB,o.value.token_b.decimals)==0?"":i.value.tokensObj&&o.value&&o.value.token_b.address&&i.value.tokensObj[o.value.token_b.address]&&i.value.tokensObj[o.value.token_b.address].logoURI},text:`Claim ${p(o.value.feeOwedA,o.value.token_a.decimals)==0?"":`${y(o.value.feeOwedA,o.value.token_a.decimals)} ${o.value.token_a.symbol}`}  
              ${p(o.value.feeOwedA,o.value.token_a.decimals)==0||p(o.value.feeOwedB,o.value.token_b.decimals)==0?"":"and"} ${p(o.value.feeOwedB,o.value.token_b.decimals)==0?"":`${y(o.value.feeOwedB,o.value.token_b.decimals)} ${o.value.token_b.symbol}`}

            `};f.value.chainName!=="Aptos"&&(v.res=r.res),c.value.showTransitionPending(v),await c.value.watchTransaction(v)&&setTimeout(()=>{C()},1e3)}else R.setIsShowWaiting(!1),R.setIsShowRejected(!0),z.error({icon:G("svg",{class:{icon:!0},"aria-hidden":!0},[G("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:G("div",{class:"notification-title"},[G("span",{innerHTML:Ue.global.t("newAdd.claimFailed")},null)]),description:L("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});e.value=!1}catch{e.value=!1,R.setIsShowWaiting(!1),R.setIsShowRejected(!0),z.error({icon:G("svg",{class:{icon:!0},"aria-hidden":!0},[G("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:G("div",{class:"notification-title"},[G("span",{innerHTML:Ue.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:L("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},V=u(""),x=u(""),ce=()=>{V.value=o.value.token_b,x.value=o.value.token_a},pe=async(n=null)=>{const a=n||o.value,r=i.value.addressLpTokens[d.currentRoute.value.query.address],t=await c.value.getTickDataByIndex(r.ticks_handle,Number(a.tick_lower_index)),m=await c.value.getTickDataByIndex(r.ticks_handle,Number(a.tick_upper_index));let v={};ve.value==="Aptos"?v=await c.value.getPosRewardersAmount({poolAddress:d.currentRoute.value.query.address,positionName:d.currentRoute.value.query.token,tickLowerData:t,tickUpperData:m}):v=await c.value.getPosRewardersAmount({poolAddress:d.currentRoute.value.query.address,pos:d.currentRoute.value.query.pos,positionHandle:r.positions_handle});const I=[];let T=0;v.forEach((D,te)=>{var ee;if(a.poolInfo[`rewarder_display${te+1}`]){const Be=i.value.tokensObj[D.coin_address].decimals,Je=i.value.tokensObj[D.coin_address],Ke=Number(D.amount_owed.toString())>99999999999999?0:Number(D.amount_owed.toString()),Ce=Number(Ke/Math.pow(10,Be)),Qe=((ee=i.value.RATES[D.coin_address])==null?void 0:ee.price)||0,Ae=Ce*Qe;T+=Ae,I.push({...D,...Je,amount:Ce>0?y(Ce,Be):0,amountUSD:Ae>0?y(Ae,2):0})}}),me.value=I,_e.value=T,Ne.value=Number(ke(T,2))};re(()=>i.value.currentPositionInfo,n=>{n&&(o.value=n,V.value=n==null?void 0:n.token_a,x.value=n==null?void 0:n.token_b)},{immediate:!0});const Ie=_(()=>i.value.tokensObj&&o&&o.value.token_a&&o.value.token_a.address&&i.value.tokensObj[o.value.token_a.address]&&i.value.tokensObj[o.value.token_a.address].logoURI),De=_(()=>i.value.tokensObj&&o&&o.value.token_b&&o.value.token_b.address&&i.value.tokensObj[o.value.token_b.address]&&i.value.tokensObj[o.value.token_b.address].logoURI),ve=_(()=>f.value.chainName),qe=_(()=>ne[ve.value]),_e=u(0),me=u([]),Ne=u(0);po(()=>{_e.value=0,me.value=[],Ne.value=0,(d.currentRoute.value.query.id||"")&&C()});const{setIsShowSuccess:Ee,setIsShowRejected:je,setIsShowWaiting:ye,setTransactionDesc:Pn,setTransactionTxid:We}=R,fe=u(!1),Fe=async()=>{fe.value=!0;const n=me.value;let a={coinTypeA:o.value.poolInfo.coinTypeA,coinTypeB:o.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:o.value.poolAddress,pos_index:o.value.index,rewarder_nums:n.length};a.coinTypeC=n[0]?n[0].coin_address:"",a.coinTypeD=n[1]?n[1].coin_address:"",a.coinTypeE=n[2]?n[2].coin_address:"";try{let r;if(f.value.chainName==="Aptos"){const t=await c.value.getCollectRewarderTransactionPayload(a);r=await A.value.currentWallet.signAndSubmitTransaction(t)}else{a.pos_index=o.value.pos_object_id;const t=await c.value.getCollectRewarderTransactionPayload(a),m=await A.value.currentWallet.signAndExecuteTransactionBlock(t);r=c.value.handleTx(m)}if(r&&r.hash){We(r.hash),ye(!1),Ee(!0);const t=n[0].amount+n[0].symbol,m=a.coinTypeD?" and "+n[1].amount+n[1].symbol:"",v=a.coinTypeE?" and "+n[2].amount+n[2].symbol:"",I={title:"Claim",desc:"",hash:r.hash,tit:"Bonus Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:n[0].address,numa:`+ ${Number(n[0].amount)}`,logoa:i.value.tokensObj&&n[0]&&n[0].address&&i.value.tokensObj[n[0].address]&&i.value.tokensObj[n[0].address].logoURI,tokenb:n[1]&&n[1].address,numb:a.coinTypeD?`+ ${Number(n[1].amount)}`:"",logob:a.coinTypeD?i.value.tokensObj&&n[1]&&n[1].address&&i.value.tokensObj[n[1].address]&&i.value.tokensObj[n[1].address].logoURI:"",tokenc:n[2]&&n[2].address,numc:a.coinTypeE?`+ ${Number(n[2].amount)}`:"",logoc:a.coinTypeE?i.value.tokensObj&&n[2]&&n[2].address&&i.value.tokensObj[n[2].address]&&i.value.tokensObj[n[2].address].logoURI:""},text:t+m+v};f.value.chainName!=="Aptos"&&(I.res=r.res),c.value.showTransitionPending(I),await c.value.watchTransaction(I)&&setTimeout(()=>{C(),c.value.getAccount(A.value.address)},3e3)}else ye(!1),je(!0);fe.value=!1}catch{fe.value=!1,ye(!1),je(!0)}},Pe=u([]);re(()=>[o.value,i.value.addressLpTokens,i.value.tokensObj,f.value.newTopPoolsObj],([n,a,r,t])=>{if(!X(n)&&!X(a)&&!X(r)){const m=n.address,v=a[m];let I=(v==null?void 0:v.rewarder_infos)||[];const T=t[m],D=[];I&&I.length>0&&(I==null||I.forEach((te,ee)=>{v[`rewarder_display${ee+1}`]&&D.push({...te,symbol:r[te.coinAddress].symbol,rewarderApr:(T==null?void 0:T.rewarder_apr[ee])&&(T==null?void 0:T.rewarder_apr[ee].replace("%","")),logoUrl:r[te.coinAddress].logoURI})}),Pe.value=D,pe(n))}},{immediate:!0,deep:!0});const He=u();re(()=>i.value.RATES,n=>{n&&(He.value=n)},{immediate:!0});const Re=_(()=>{var n,a;return(a=(n=o.value)==null?void 0:n.poolInfo)==null?void 0:a.needReverse}),Me=_(()=>ne[ve.value].hasNotifi),ze=n=>{var a;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((a=i.value.tokensObj[n==null?void 0:n.address])==null?void 0:a.logo_url)||(f.value.theme==="default"?Oe("/image/coins/unknown.png"):Oe("/image/coins/sui-unknown.png"))},Ge=_(()=>i.value.tokensObj);return{hasNotifi:Me,rewarderArr:Pe,feeOwed:ue,config:qe,showNum:y,decimalUi:$e,index:f,fromCoinUrl:Ie,toCoinUrl:De,toggle:ce,fromCoin:V,toCoin:x,apr:P,liquidityTvl:B,vol24:U,addCommom:p,decimalFormat:io,wallet:A,isLoading:e,toClaim:Q,pools:i,positionInfo:o,importIcon:Oe,router:d,toRemove:O,toIncrease:$,isShowClaim:g,direct:Se,refresh:le,clickRefresh:S,pendingRewarderArr:me,pendingRewarder:_e,toClaimRewards:Fe,rewarderLoading:fe,aprRewardsParameter:ae,aprRewardsDateList:de,aprTab:ge,reviseValue:we,label:ie,aprTitle:be,aprTotal:H,rewardAprList:M,currentPoolInfo:W,chainName:ve,needReverse:Re,getCoinIcon:ze,tokensObj:Ge}}});const se=e=>(_o("data-v-91b023db"),e=e(),yo(),e),Ao={key:0,class:"position-detail-container"},To={class:"position-detail-header"},Oo={class:"back-and-refresh"},$o=se(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),So=[$o],No={class:"action-position"},jo={class:"coin-pair"},Po=se(()=>s("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Bo=[Po],Uo=["href"],Lo=se(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Do=[Lo],qo=["href"],Eo=se(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Wo=[Eo],Fo={class:"acton-btn-box"},Ho=se(()=>s("svg",{"aria-hidden":"true",class:"action-icon"},[s("use",{"xlink:href":"#icon-icon-Reduction"})],-1)),Mo=se(()=>s("svg",{"aria-hidden":"true",class:"action-icon"},[s("use",{"xlink:href":"#icon-icon-add"})],-1)),zo={class:"position-content"},Go={key:0,class:"pedding-fee range-alerts-all"},Jo={class:"pedding-fee"},Ko={class:"pedding-fee"},Qo={class:"top"},Xo={class:"left"},Yo={class:"bottom"},Zo={class:"token-a"},Vo=["src"],xo={key:0,class:"token-warning"},en={class:"token-b"},on=["src"],nn={key:0,class:"token-warning"},sn={key:1,class:"pedding-fee"},an={class:"top"},tn={class:"left"},rn={class:"bottom"},ln=["src"],dn={key:2,class:"poolInfo"},un={class:"pool-info-title"},cn={class:"currentPrice"},pn={key:0,class:"coin"},vn={key:1,class:"coin"},mn={class:"toggle"},fn=["src"],kn=["src"],hn={class:"info-block-container"},bn={class:"info-block"},gn={class:"leabl"},wn={class:"text"},In={class:"apr-hover-content"},_n={class:"info-block"},yn={class:"leabl"},Rn={class:"text"},Cn={class:"info-block"},An={class:"leabl"},Tn={class:"text"},On={class:"info-block"},$n={class:"leabl"},Sn={class:"text"},Nn={class:"loading-global"};function jn(e,g,le,Se,R,f){var i,ue;const he=Xe,j=ho,E=bo,Z=Ye,ae=Ze,be=xe,de=eo,ie=oo,ge=Ve,we=go;return e.positionInfo?(h(),w("div",Ao,[s("div",To,[s("div",Oo,[b(he),(h(),w("svg",{"aria-hidden":"true",class:oe(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:g[0]||(g[0]=(...o)=>e.clickRefresh&&e.clickRefresh(...o))},So,2))]),s("div",No,[b(E,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:q(()=>{var o,d,O,$,S,c;return[s("div",jo,[N(l(e.positionInfo.tokenName)+" ",1),(h(),w("svg",{class:"icon","aria-hidden":"true",onClick:g[1]||(g[1]=C=>e.index.copy(e.positionInfo.nftHash))},Bo)),e.index&&e.index.chainName==="Aptos"?(h(),w("a",{key:0,href:`${("config"in e?e.config:k(ne)).explorerUrl}/token/${e.positionInfo.nftHash}/0?network=${("config"in e?e.config:k(ne)).network}`,target:"_blank"},Do,8,Uo)):(h(),w("a",{key:1,href:`${("config"in e?e.config:k(ne)).explorerUrl}/object/${e.positionInfo.nftHash}?network=${("config"in e?e.config:k(ne)).network}`,target:"_blank"},Wo,8,qo))]),s("div",Fo,[b(j,{class:oe(["remove-liquidity action-btn",(d=(o=e.positionInfo)==null?void 0:o.poolInfo)!=null&&d.is_pause?"text-default":""]),disabled:($=(O=e.positionInfo)==null?void 0:O.poolInfo)==null?void 0:$.is_pause,onClick:e.toRemove},{default:q(()=>[Ho,N(" "+l(e.$t("button.remove")),1)]),_:1},8,["class","disabled","onClick"]),b(j,{class:"increase-liquidity action-btn",disabled:(c=(S=e.positionInfo)==null?void 0:S.poolInfo)==null?void 0:c.is_pause,onClick:e.toIncrease},{default:q(()=>[Mo,N(" "+l(e.$t("button.increase")),1)]),_:1},8,["disabled","onClick"])])]}),_:1},8,["loading"])])]),s("div",zo,[b(Z,{"position-info":e.positionInfo},null,8,["position-info"])]),e.chainName=="Aptos"&&e.hasNotifi?(h(),w("div",Go,[b(ae,{"position-info":e.positionInfo},null,8,["position-info"])])):Y("",!0),s("div",Jo,[(h(),Le(be,{key:0,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"position","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.positionInfo.poolInfo,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice&&String(e.positionInfo.maxPrice).indexOf("+")>-1?"∞":e.positionInfo.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"]))]),s("div",Ko,[s("div",Qo,[s("div",Xo,[s("span",null,l(e.$t("newAdd.pendingFees")),1),s("p",null," $"+l(e.pools.currentPositionLoading||e.feeOwed=="--"?"--":Number(e.feeOwed)==0?0:Number(e.feeOwed)<.01?"<0.01":("addCommom"in e?e.addCommom:k(p))(e.feeOwed,2)),1)]),b(j,{class:"increase-liquidity action-btn",disabled:e.isLoading||!e.wallet.connected||!(Number(e.positionInfo&&e.positionInfo.feeOwedA)||Number(e.positionInfo&&e.positionInfo.feeOwedB))||e.positionInfo.poolInfo.is_pause,onClick:g[2]||(g[2]=o=>e.isShowClaim=!0)},{default:q(()=>[N(l(e.$t("common.claim")),1)]),_:1},8,["disabled"])]),b(E,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:q(()=>{var o,d,O,$,S,c,C,W,P,B,U,J,F,H,M,K,A,L,z,Q;return[s("div",Yo,[s("div",null,[s("div",Zo,[s("img",{src:(e.needReverse?e.toCoinUrl:e.fromCoinUrl)||e.getCoinIcon(e.needReverse?(d=e.positionInfo)==null?void 0:d.token_b:(o=e.positionInfo)==null?void 0:o.token_a)},null,8,Vo),(e.needReverse?e.tokensObj&&e.tokensObj[e.positionInfo.token_b.address]&&e.tokensObj[e.positionInfo.token_b.address].isSelfBuilt:e.tokensObj&&e.tokensObj[e.positionInfo.token_a.address]&&e.tokensObj[e.positionInfo.token_a.address].isSelfBuilt)?(h(),w("div",xo)):Y("",!0)]),s("p",null,l(e.needReverse?("showNum"in e?e.showNum:k(y))(e.positionInfo.feeOwedB,(c=(S=e.positionInfo)==null?void 0:S.token_b)==null?void 0:c.decimals):("showNum"in e?e.showNum:k(y))(e.positionInfo.feeOwedA,($=(O=e.positionInfo)==null?void 0:O.token_a)==null?void 0:$.decimals)),1),s("span",null,l(e.needReverse?(B=(P=e.positionInfo)==null?void 0:P.token_b)==null?void 0:B.symbol:(W=(C=e.positionInfo)==null?void 0:C.token_a)==null?void 0:W.symbol),1)]),s("div",null,[s("div",en,[s("img",{src:(e.needReverse?e.fromCoinUrl:e.toCoinUrl)||e.getCoinIcon(e.needReverse?(J=e.positionInfo)==null?void 0:J.token_a:(U=e.positionInfo)==null?void 0:U.token_b)},null,8,on),(e.needReverse?e.tokensObj&&e.tokensObj[e.positionInfo.token_a.address]&&e.tokensObj[e.positionInfo.token_a.address].isSelfBuilt:e.tokensObj&&e.tokensObj[e.positionInfo.token_b.address]&&e.tokensObj[e.positionInfo.token_b.address].isSelfBuilt)?(h(),w("div",nn)):Y("",!0)]),s("p",null,l(e.needReverse?("showNum"in e?e.showNum:k(y))(e.positionInfo.feeOwedA,(K=(M=e.positionInfo)==null?void 0:M.token_a)==null?void 0:K.decimals):("showNum"in e?e.showNum:k(y))(e.positionInfo.feeOwedB,(H=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:H.decimals)),1),s("span",null,l(e.needReverse?(Q=(z=e.positionInfo)==null?void 0:z.token_a)==null?void 0:Q.symbol:(L=(A=e.positionInfo)==null?void 0:A.token_b)==null?void 0:L.symbol),1)])])]}),_:1},8,["loading"])]),e.positionInfo&&e.positionInfo.poolInfo&&e.positionInfo.poolInfo.rewarder_infos&&e.positionInfo.poolInfo.rewarder_infos.length>0&&e.positionInfo.poolInfo.is_display_rewarder&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(h(),w("div",sn,[s("div",an,[s("div",tn,[s("span",null,l(e.$t("newAdd.pendingRewards")),1),s("p",null," $"+l(e.pendingRewarder=="--"?"--":Number(e.pendingRewarder)==0?0:Number(e.pendingRewarder)<.01?"<0.01":("addCommom"in e?e.addCommom:k(p))(e.pendingRewarder,2)),1)]),b(j,{class:"increase-liquidity action-btn",disabled:e.rewarderLoading||!e.wallet.connected||e.pendingRewarder<=0||((ue=(i=e.positionInfo)==null?void 0:i.poolInfo)==null?void 0:ue.is_pause),loading:e.rewarderLoading,onClick:e.toClaimRewards},{default:q(()=>[N(l(e.$t("common.claim")),1)]),_:1},8,["disabled","loading","onClick"])]),b(E,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:q(()=>[s("div",rn,[(h(!0),w(wo,null,Io(e.pendingRewarderArr,o=>(h(),w("div",{key:o,class:oe(Number(o==null?void 0:o.amount)==0?"reward-none":"")},[s("img",{src:(o==null?void 0:o.logoURI)||e.getCoinIcon(o),alt:""},null,8,ln),s("p",null,l(o.amount),1),s("span",null,l(o.symbol),1)],2))),128))])]),_:1},8,["loading"])])):Y("",!0),e.positionInfo&&e.positionInfo.poolInfo?(h(),w("div",dn,[s("div",un,l(e.$t("newAdd.poolInfo")),1),s("div",cn,[b(E,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:q(()=>{var o,d,O,$,S,c,C,W,P,B,U,J,F,H,M,K,A,L,z,Q,V,x,ce,pe;return[(e.needReverse?!e.direct:e.direct)?(h(),w("div",pn,[s("span",null,l(e.$t("common.currentPrice")),1),N(" "+l(("addCommom"in e?e.addCommom:k(p))(("decimalUi"in e?e.decimalUi:k($e))(e.positionInfo.currentPrice,6)))+" "+l((o=e.toCoin)==null?void 0:o.symbol)+" per "+l((d=e.fromCoin)==null?void 0:d.symbol),1)])):(h(),w("div",vn,[s("span",null,l(e.$t("common.currentPrice")),1),N(" "+l(("addCommom"in e?e.addCommom:k(p))(("decimalUi"in e?e.decimalUi:k($e))(1/e.positionInfo.currentPrice,6)))+" "+l((O=e.fromCoin)==null?void 0:O.symbol)+" per "+l(($=e.toCoin)==null?void 0:$.symbol),1)])),s("div",mn,[s("div",{class:oe(e.direct?"item active-item":"item"),onClick:g[3]||(g[3]=Ie=>e.direct=!0)},[s("img",{src:(e.needReverse?e.toCoinUrl:e.fromCoinUrl)||e.getCoinIcon(e.needReverse?(c=e.positionInfo)==null?void 0:c.token_b:(S=e.positionInfo)==null?void 0:S.token_a),alt:""},null,8,fn),N(" "+l(e.needReverse?(B=(P=e.positionInfo)==null?void 0:P.token_b)==null?void 0:B.symbol:(W=(C=e.positionInfo)==null?void 0:C.token_a)==null?void 0:W.symbol)+" ",1),b(de,{address:e.needReverse?(H=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:H.address:(J=(U=e.positionInfo)==null?void 0:U.token_a)==null?void 0:J.address,"style-params":{width:"8px",height:"8px",left:"18px",bottom:"4px"}},null,8,["address"])],2),s("div",{class:oe(e.direct?"item ":"item active-item"),onClick:g[4]||(g[4]=Ie=>e.direct=!1)},[s("img",{src:(e.needReverse?e.fromCoinUrl:e.toCoinUrl)||e.getCoinIcon(e.needReverse?(K=e.positionInfo)==null?void 0:K.token_a:(M=e.positionInfo)==null?void 0:M.token_b),alt:""},null,8,kn),N(" "+l(e.needReverse?(Q=(z=e.positionInfo)==null?void 0:z.token_a)==null?void 0:Q.symbol:(L=(A=e.positionInfo)==null?void 0:A.token_b)==null?void 0:L.symbol)+" ",1),b(de,{address:e.needReverse?(pe=(ce=e.positionInfo)==null?void 0:ce.token_a)==null?void 0:pe.address:(x=(V=e.positionInfo)==null?void 0:V.token_b)==null?void 0:x.address,"style-params":{width:"8px",height:"8px",left:"18px",bottom:"4px"}},null,8,["address"])],2)])]}),_:1},8,["loading"])]),b(E,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:q(()=>[s("div",null,[s("div",hn,[s("div",bn,[s("div",gn,l(e.$t("common.apr")),1),s("div",wn,[N(l(e.aprTotal?("addCommom"in e?e.addCommom:k(p))(e.aprTotal.substring(0,e.aprTotal.length-1),2):0)+"% ",1),s("div",In,[b(ie,{class:oe(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":{apr:e.apr,rewarder_apr:e.rewardAprList,aprTotal:e.aprTotal,is_display_rewarder:e.positionInfo.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["class","l-item","rewarder-info"])])])]),s("div",_n,[s("div",yn,l(e.$t("common.liquidity")),1),s("div",Rn,"$"+l(("addCommom"in e?e.addCommom:k(p))(e.liquidityTvl,2)),1)]),s("div",Cn,[s("div",An,l(e.$t("common.volume24h")),1),s("div",Tn,"$"+l(("addCommom"in e?e.addCommom:k(p))(e.vol24,2)),1)]),s("div",On,[s("div",$n,l(e.$t("newAdd.tickSpacing")),1),s("div",Sn,l(e.positionInfo.tickSpacing),1)])])])]),_:1},8,["loading"])])):Y("",!0),e.isShowClaim?(h(),Le(ge,{key:3,"is-loading":e.isLoading,"position-info":e.positionInfo,"need-reverse":e.needReverse,onOnClose:g[5]||(g[5]=o=>e.isShowClaim=!1),onToClaim:e.toClaim},null,8,["is-loading","position-info","need-reverse","onToClaim"])):Y("",!0),fo(s("div",Nn,[b(we)],512),[[ko,e.pools.currentPositionLoading]])])):Y("",!0)}const Vn=mo(Co,[["render",jn],["__scopeId","data-v-91b023db"]]);export{Vn as default};
