import{_ as Ho,a as Jo}from"./token-warning-modal.da85a98d.js";import{_ as Ko,a as Zo}from"./coin-select.816cf231.js";import{i as Z}from"./import-icon.de3e6c66.js";import{a as he,f as M,j as io,h as Fe,z as oo,u as $e,_ as Se,w as no,c as Le,e as je,p as ke,b as zo,D as w,s as De,g as Ee,d as ge}from"./pool.582e2795.js";import{e as be,a as Ne,a1 as lo,a2 as ro,r as u,m as h,A as K,o as a,f as m,i as te,F as Ie,h as o,u as U,j as E,t,c as B,s as N,x as ie,J as uo,S as co,p as we,k as ye,M as mo,l as vo,K as fo,w as le,B as po,a4 as Yo,q as so,b as to,v as Go,z as Vo,a7 as Pe,D as xo}from"./entry.61eead50.js";/* empty css              *//* empty css              */import{a as en,_ as on}from"./network-tips.660f5e9a.js";/* empty css              */import{u as nn}from"./swapRouter.9d88ed65.js";import{_ as sn}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.6f857edc.js";/* empty css              */import"./img-no-Positions_2x.14abf3ef.js";const tn=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const an=Ne({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""}},setup(e){const l=lo(ro,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),f=u(!1),v=he(),y=h(()=>v),T=h(()=>y.value.slippage),c=h(()=>y.isShowRouterModal);return K(()=>e,I=>{console.log(I,"==>newValue")},{immediate:!0,deep:!0}),{indicator:l,rateChange:f,slippage:T,isShowRouterModal:c,indexStore:v}}}),ve=e=>(we("data-v-f0806663"),e=e(),ye(),e),ln={key:0,class:"swap-info"},rn={key:0,class:"loading-swap"},un=ve(()=>o("span",null,"Best route and price",-1)),dn={key:1,class:"swap-rate"},cn={key:0},mn=["src"],vn={key:0},fn=["src"],pn={key:1},Cn={key:0},gn=["src"],hn=["src"],bn=ve(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),wn=[bn],yn={class:"trade-info"},An={key:0,class:"trade-block"},Sn=ve(()=>o("div",{class:"lebal"},"Price Impact",-1)),kn={class:"trade-block"},In={class:"lebal"},$n={key:0,class:"text"},Nn={key:1,class:"trade-block"},Tn=ve(()=>o("div",{class:"lebal"},"Route",-1)),Rn=ve(()=>o("span",null,"View",-1)),On=ve(()=>o("img",{src:tn,alt:""},null,-1)),_n=[Rn,On];function Bn(e,l,f,v,y,T){const c=uo,I=co;return(e.fromCoinAmount||e.toCoinAmount)&&!e.insufficientLiquidity?(a(),m("div",ln,[e.swapLoading?(a(),m("div",rn,[te(c,{indicator:e.indicator},null,8,["indicator"]),un])):(a(),m("div",dn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.swapLoading?(a(),m(Ie,{key:0},[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(a(),m("span",pn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(a(),m("span",Cn,[o("img",{src:e.toCoinUrl||("importIcon"in e?e.importIcon:U(Z))(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,gn),E(" 1 "+t(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoin.logoURI||("importIcon"in e?e.importIcon:U(Z))(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,hn),E(t(e.oneFromAmount)+" "+t(e.fromCoin.symbol),1)])):(a(),B(c,{key:1,indicator:e.indicator},null,8,["indicator"]))])):N("",!0):(a(),m("span",cn,[o("img",{src:e.fromCoin.logoURI||("importIcon"in e?e.importIcon:U(Z))(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,mn),E(" 1 "+t(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(a(),m("span",vn,[o("img",{src:e.toCoinUrl||("importIcon"in e?e.importIcon:U(Z))(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,fn),E(t(e.oneToAmount)+" "+t(e.toCoin.symbol),1)])):(a(),B(c,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(a(),m("svg",{class:"icon-change","aria-hidden":"true",onClick:l[0]||(l[0]=$=>e.rateChange=!e.rateChange)},wn))],64)):N("",!0)])),o("div",yn,[e.routerPool&&e.routerPool.poolAddress&&e.routerPool.poolAddress.length==1?(a(),m("div",An,[Sn,e.swapLoading?(a(),B(I,{key:1,paragraph:!1,active:""})):(a(),m("div",{key:0,class:ie(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},t(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",3))])):N("",!0),o("div",kn,[o("div",In,t(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapLoading?(a(),B(I,{key:1,paragraph:!1,active:""})):(a(),m("div",$n,t(e.fixedFromCoin?("fixD"in e?e.fixD:U(M))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:U(M))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+t(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),e.insufficientLiquidity?N("",!0):(a(),m("div",Nn,[Tn,e.swapLoading?(a(),B(I,{key:1,paragraph:!1,active:""})):(a(),m("div",{key:0,class:"text",onClick:l[1]||(l[1]=$=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},_n))]))])])):N("",!0)}const Un=be(an,[["render",Bn],["__scopeId","data-v-f0806663"]]),ao={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},Dn={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:ao.USDT,coinB:ao.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function Pn(e,l){const f=Object.values(Dn).filter(v=>e===v.coinA.symbol&&l===v.coinB.symbol||e===v.coinB.symbol&&l===v.coinA.symbol);return f&&f[0]||null}const Fn=Ne({components:{Modal:mo},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,l){const{t:f,locale:v}=vo(),y=he(),T=io();h(()=>T);const c=h(()=>{const S=Pn(e.fromCoin.symbol,e.toCoin.symbol);return Fe(oo(e.fromCoinAmount).mul(oo(S.fee).div(100)).toString(),e.fromCoin.decimals)}),I=u(y.slippage||.5),$=u(!0),P=u(!1);function F(S){$.value=S}const D=async()=>{l.emit("to-swap")},W=$e(),A=h(()=>W),q=h(()=>A.value.tokensObj&&e.fromCoin.address&&A.value.tokensObj[e.fromCoin.address]&&A.value.tokensObj[e.fromCoin.address].logoURI),H=h(()=>A.value.tokensObj&&e.toCoin.address&&A.value.tokensObj[e.toCoin.address]&&A.value.tokensObj[e.toCoin.address].logoURI),V=he(),C=h(()=>V);return{fromCoinUrl:q,toCoinUrl:H,t:f,importIcon:Z,fixD:M,decimalFormat:Fe,direct:$,changeDirect:F,rateChange:P,clickNextBtn:D,slippage:I,liquidityProviderFee:c,getCoinIcon:S=>{var L;return(S==null?void 0:S.logoURI)||(S==null?void 0:S.logo_url)||((L=A.value.tokensObj[S==null?void 0:S.address])==null?void 0:L.logo_url)||(C.value.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))}}}});const Te=e=>(we("data-v-c39d37df"),e=e(),ye(),e),Ln=Te(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),jn={class:"swap-confirm-container"},En={class:"card-content"},Mn={class:"top"},Wn={class:"coin"},qn=["src"],Qn=Te(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),Xn={class:"coin"},Hn=["src"],Jn={class:"bottom"},Kn={class:"induction"},Zn={class:"item"},zn={class:"induction-text"},Yn={class:"induction-value induction-value-change"},Gn={key:0},Vn={key:1},xn=Te(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),es=[xn],os={class:"item"},ns={class:"induction-text"},ss={class:"induction-value"},ts={class:"item"},as={class:"induction-text"},is={class:"induction-value"},ls={key:0,class:"item"},rs={class:"induction-text"},us={key:0,class:"icon","aria-hidden":"true"},ds=Te(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),cs=[ds],ms={key:1,class:"item"},vs={class:"induction-text"},fs={class:"induction-value"};function ps(e,l,f,v,y,T){const c=po,I=fo("Modal");return a(),B(I,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:l[2]||(l[2]=$=>e.$emit("on-close"))},{closeIcon:le(()=>[Ln]),default:le(()=>[o("div",jn,[o("div",En,[o("div",Mn,[o("div",Wn,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,qn),o("p",null,t(e.fromCoinAmount),1),E("    "),o("p",null,t(e.fromCoin.symbol),1)]),Qn,o("div",Xn,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,Hn),o("p",null,t(e.toCoinAmount),1),E("    "),o("p",null,t(e.toCoin.symbol),1)])]),o("div",Jn,[o("div",Kn,[o("div",Zn,[o("div",zn,t(e.$t("common.rate")),1),o("div",Yn,[e.rateChange?(a(),m("span",Vn," 1 "+t(e.toCoin.symbol)+" ≈ "+t(("fixD"in e?e.fixD:U(M))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals))+" "+t(e.fromCoin.symbol),1)):(a(),m("span",Gn," 1 "+t(e.fromCoin.symbol)+" ≈ "+t(("fixD"in e?e.fixD:U(M))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals))+" "+t(e.toCoin.symbol),1)),(a(),m("svg",{class:"icon-change","aria-hidden":"true",onClick:l[0]||(l[0]=$=>e.rateChange=!e.rateChange)},es))])]),o("div",os,[o("div",ns,t(e.$t("modal.slippageTolerance")),1),o("div",ss,t(e.slippage)+"%",1)]),o("div",ts,[o("div",as,t(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",is,t(e.fixedFromCoin?("fixD"in e?e.fixD:U(M))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:U(M))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+t(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(a(),m("div",ls,[o("div",rs,t(e.$t("common.priceImpact")),1),o("div",{class:ie(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[E(t(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(a(),m("svg",us,cs)):N("",!0)],2)])):N("",!0),e.fee?(a(),m("div",ms,[o("div",vs,t(e.$t("common.fee")),1),o("div",fs,t(e.formatFee)+" "+t(e.fromCoin.symbol)+" ("+t(e.fee*100)+"%) ",1)])):N("",!0)])])])]),te(c,{class:"big-btn swap-confirm-btn",onClick:l[1]||(l[1]=$=>e.clickNextBtn())},{default:le(()=>[E(t(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Cs=be(Fn,[["render",ps],["__scopeId","data-v-c39d37df"]]);async function gs(e){const{prices:l}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return l}const hs={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,l){const{$echarts:f}=Yo();let v=null,y;const T=u(!0),c=(i,s,z)=>{y={xAxis:{type:"category",boundaryGap:!1,show:!1,data:s},yAxis:{type:"value",show:!1,min:function(b){return b.min-b.min*.1},max:function(b){return b.max+b.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:A.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(b){return`<div class="chart-tip">
              <div>${b&&b[0]&&b[0].name}</div>
              <div>$${M(b&&b[0]&&b[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:A.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:A.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:i,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:A.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},y&&v.clear(),y&&v.setOption(y,!0),v.resize(),T.value=!1},I=$e(),$=h(()=>I),P=u(""),F=u(""),D=async i=>{var x,ue;const s=[],z=[],b=await gs(i);P.value=b&&b.length>1&&(b[b.length-1][1]-b[0][1])/b[0][1]*100,F.value=b&&b.length>1&&b[b.length-1][1],b.forEach(_=>{s.push(_[1]);const j=no(_[0],"MD"),r=no(_[0],"HM");z.push(j+" "+r)});let re=document.getElementById(`main${(x=e.coin)==null?void 0:x.name}`);v=f.init(re),c(s,z,(ue=e.coin)==null?void 0:ue.name)},W=he(),A=h(()=>W),q=h(()=>A.value.chainName),H=h(()=>Se[q.value]);K(()=>e.id,(i,s)=>{console.log(i,s,"===>oldValue"),console.log(!T.value,"!isFirst.value"),i&&(P.value="",F.value="",setTimeout(()=>{D(i)},1e3))},{immediate:!0});const V=u(""),C=u(""),ee=u(""),S=u("");K(()=>[$.value.tokensObj,e.coin],([i,s])=>{var z,b;i&&s&&i[s.address]&&(console.log(i[s.address],"===>newValue[coin.address]"),C.value=((z=i[s.address])==null?void 0:z.labels)&&((b=i[s.address])==null?void 0:b.labels[0]),V.value=i[s.address].name,ee.value=i[s.address].symbol,S.value=i[s.address].address)},{immediate:!0,deep:!0}),K(()=>e.refresh,i=>{i&&D(e.id)});const L=h(()=>A.value.theme);return console.log(e.coin.address=="0x2::sui::SUI","0x2::sui::SUI"),{theme:L,store:W,importIcon:Z,fixD:M,config:H,price_rate_24h:P,nowPrice:F,coinName:V,coinLabels:C,coinSymbol:ee,address:S}}};const bs=e=>(we("data-v-079780ad"),e=e(),ye(),e),ws={class:"token-info"},ys={class:"token-info-padding"},As={class:"token-info-header"},Ss={class:"left"},ks=["src","onerror"],Is={class:"name"},$s={class:"desc"},Ns={class:"right"},Ts={class:"price"},Rs={class:"token-info-footer"},Os={class:"left"},_s={class:"address"},Bs={key:0,class:"pc-address"},Us={key:1,class:"pc-address"},Ds={class:"h5-address"},Ps=bs(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Fs=[Ps],Ls={class:"right"},js=["id"];function Es(e,l,f,v,y,T){var c;return a(),m("div",ws,[o("div",ys,[o("div",As,[o("div",Ss,[o("img",{src:f.coin.logoURI||v.importIcon(`/image/coins/${f.coin.symbol.toLowerCase()}.png`),onerror:v.theme=="default"?v.importIcon("/image/coins/unknown.png"):v.importIcon("/image/coins/sui-unknown.png")},null,8,ks),o("div",null,[o("div",Is,t(v.coinSymbol),1),o("div",$s,[o("span",null,t(v.coinName)+" "+t(v.coinLabels?`(${v.coinLabels})`:""),1)])])]),o("div",Ns,[o("div",Ts,"$"+t(v.fixD(v.nowPrice,2)),1),v.price_rate_24h?(a(),m("div",{key:0,class:ie(v.price_rate_24h>0?"increase up":v.price_rate_24h<0?"increase down":"increase up")},t(v.price_rate_24h>0?`+ ${v.fixD(v.price_rate_24h,2)}`:v.price_rate_24h<0?+`${v.fixD(v.price_rate_24h,2)}`:`+${v.fixD(v.price_rate_24h,2)}`)+"% ",3)):N("",!0)])]),o("div",Rs,[o("div",Os,[o("div",_s,[f.coin&&v.address!=="0x2::sui::SUI"?(a(),m("span",Bs,t(f.coin&&f.coin.address.substr(0,13))+" ... "+t(f.coin&&f.coin.address.substr(f.coin.address.length-13,13)),1)):(a(),m("span",Us,t(f.coin&&f.coin.address),1)),o("span",Ds,t(f.coin&&f.coin.address.substr(0,4))+" ... "+t(f.coin&&f.coin.address.substr(f.coin.address.length-4,4)),1),(a(),m("svg",{class:"icon","aria-hidden":"true",onClick:l[0]||(l[0]=I=>v.store.copy(f.coin&&f.coin.address))},Fs))])]),o("div",Ls,[o("div",{id:`main${(c=f.coin)==null?void 0:c.name}`,class:"main"},null,8,js)])])])])}const Ms=be(hs,[["render",Es],["__scopeId","data-v-079780ad"]]);const Ws=Ne({components:{Modal:mo},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""}},setup(e){const l=$e(),f=h(()=>l),v=u([]);return K(()=>[e.routerPool,f.value.poolConfigObj,e.routerTotalAmounts],([y,T,c])=>{if(console.log(e,"props=====>100"),y&&y.length>0&&T&&!Le(T)&&c){const I=[];y.forEach($=>{const P=c.div($.amountIn).mul(new je(100)).toString(),F=ke($.amountIn.toString(),e.fromCoin.decimals),D=ke($.amountOut.toString(),e.toCoin.decimals),W=$.poolAddress.map((A,q)=>{const H=T&&T[A];return console.log($,"ele===>118"),{...H}});I.push({percent:P,...$,amountIn:F,amountOut:D,poolAddress:W})}),console.log(I,"result===>"),v.value=I}},{immediate:!0}),h(()=>{var y,T;return(T=(y=f.value)==null?void 0:y.poolInfo)==null?void 0:T.needReverse}),{routerStep:v}}}),Me=e=>(we("data-v-4831194e"),e=e(),ye(),e),qs={class:"route-top"},Qs={class:"token-a"},Xs=["src"],Hs={class:"token-num"},Js={class:"token-symbol"},Ks={class:"token-b"},Zs={class:"token-num"},zs={class:"token-symbol"},Ys=["src"],Gs={class:"route-bottom"},Vs=Me(()=>o("div",{class:"left-round"},null,-1)),xs=Me(()=>o("div",{class:"right-round"},null,-1)),et={class:"percent"},ot={class:"pool-info"},nt=["src"],st=["src"],tt={key:0,class:"icon","aria-hidden":"true"},at=Me(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),it=[at];function lt(e,l,f,v,y,T){const c=fo("Modal");return a(),B(c,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:l[0]||(l[0]=I=>e.$emit("onClose"))},{default:le(()=>{var I,$,P,F;return[o("div",qs,[o("div",Qs,[o("img",{src:(I=e.fromCoin)==null?void 0:I.logo_url,alt:""},null,8,Xs),o("span",Hs,t(e.fromCoinAmount),1),o("span",Js,t(($=e.fromCoin)==null?void 0:$.symbol),1)]),o("div",Ks,[o("span",Zs,t(e.toCoinAmount),1),o("span",zs,t((P=e.toCoin)==null?void 0:P.symbol),1),o("img",{src:(F=e.toCoin)==null?void 0:F.logo_url,alt:""},null,8,Ys)])]),o("div",Gs,[Vs,xs,(a(!0),m(Ie,null,so(e.routerStep,(D,W)=>(a(),m("div",{key:D,class:ie(["route-path",W!==0?"route-path-active":""])},[o("div",et,[o("span",null,t(D.percent)+"%",1),o("span",null,t(D.amountOut)+" "+t(e.toCoin.symbol),1)]),(a(!0),m(Ie,null,so(D.poolAddress,(A,q)=>(a(),m("div",{key:q,class:"pool-info-box"},[o("div",ot,[o("img",{class:"token-a-img",src:A.needReverse?A.coinB.logo_url:A.coinA.logo_url,alt:""},null,8,nt),o("img",{class:"token-b-img",src:A.needReverse?A.coinA.logo_url:A.coinB.logo_url,alt:""},null,8,st),o("span",null,t(A.fee*100)+"%",1)]),q!==D.poolAddress.length-1?(a(),m("svg",tt,it)):N("",!0)]))),128))],2))),128))])]}),_:1})}const rt=be(Ws,[["render",lt],["__scopeId","data-v-4831194e"]]),ut=Ne({setup(){const e=to(),l=lo(ro,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:f,locale:v}=vo(),y=he(),T=$e(),c=h(()=>T);let I=u(!1),$=u(!1),P=u(!1),F=u(!1),D=u(!1),W=u(!1);const A=u("fromCoin"),q=u(""),H=u(""),V=u(!1),C=u(!0),ee=u(!1),S=u(!1),L=u(!1),i=u(""),s=u(""),z=u(20),b=u(0),re=u(null),x=u(!1),ue=h(()=>y.slippage),_=h(()=>y.chainName),j=h(()=>_.value?zo(_.value):{}),r=u(),d=u(),Co=h(()=>Se&&Se[_.value]&&Se[_.value].hasRouter),We=h(()=>T.getPoolInfoSuccess),go=h(()=>{var n;return O.value&&((n=O.value)!=null&&n.is_pause)?"Pool Closed":!r.value||!d.value?f("modal.selectTokenModalTitle"):!Co.value&&!O.value&&We.value?"Pool Not Found":!Number(i.value)||Number(i.value)==0||Number(s.value)==0?f("button.enterAmount"):Number(i.value)>Number(X.value)?f("button.insufficientBalance",{name:r.value.symbol}):x.value?f("button.insufficientLiquidity"):f("button.swap")}),ho=n=>{var p,g,R,k;A.value=n,n==="fromCoin"?(q.value=((p=d.value)==null?void 0:p.address)||"",H.value=((g=r.value)==null?void 0:g.address)||""):(q.value=((R=r.value)==null?void 0:R.address)||"",H.value=((k=d.value)==null?void 0:k.address)||""),V.value=!0},Re=u({}),Oe=u({}),bo=n=>{A.value==="fromCoin"?(Re.value=n,_e(n)):(Oe.value=n,_e(n))},wo=n=>{n==="fromCoin"?(C.value=!0,_.value==="Aptos"?i.value=X.value>0?r.value.symbol=="APT"?new w(Number(X.value)).sub(new w(.1)).lt(new w(0))?"0":new w(Number(X.value)).sub(new w(.1)).toString():String(X.value):"":i.value=X.value>0?r.value.symbol=="SUI"?new w(Number(X.value)).sub(new w(.05)).lt(new w(0))?"0":new w(Number(X.value)).sub(new w(.05)).toString():String(X.value):""):(C.value=!1,_.value==="Aptos"?s.value=J.value>0?d.value.symbol=="APT"?new w(Number(J.value)).sub(new w(.1)).lt(new w(0))?"0":new w(Number(J.value)).sub(new w(.1)).toString():String(J.value):"":s.value=J.value>0?d.value.symbol=="SUI"?new w(Number(J.value)).sub(new w(.05)).lt(new w(0))?"0":new w(Number(J.value)).sub(new w(.05)).toString():String(J.value):"")},yo=n=>{n==="fromCoin"?(C.value=!0,i.value=X.value>0?De(new w(Number(X.value)).div(2).toString(),r.value.decimals).toString():""):(C.value=!1,s.value=J.value>0?De(new w(Number(J.value)).div(2).toString(),d.value.decimals).toString():"")};Go(()=>{qe()}),Vo(()=>{clearInterval(re.value)});const Ao=h(()=>y),So=()=>{O.value&&(clearInterval(re.value),b.value=0,$.value=!0,T.updateCurrentPools(O.value.poolAddress,_.value),de(C.value?i.value:s.value),y.getStatsData(_.value,Ao.value.filterCoinsObj),setTimeout(()=>{$.value=!1,qe()},1e3))},ko=()=>{const n=r.value;r.value=d.value,d.value=n,I.value=!0,C.value=!C.value,C.value?(i.value=s.value,s.value=""):(s.value=i.value,i.value=""),setTimeout(()=>{I.value=!1},300)},qe=()=>{re.value=setInterval(()=>{$.value=!1,ee.value||b.value<z.value&&(b.value+=1,b.value===z.value&&(O.value&&O.value.poolAddress&&T.updateCurrentPools(O.value.poolAddress,_.value),b.value=0,$.value=!0))},1e3)};K(C,Pe((n,p)=>{C.value=n},500));const Qe=u(!1);K(i,Pe((n,p)=>{n&&C.value&&de(n),n==""&&C.value&&(s.value="")},500)),K(s,Pe((n,p)=>{n&&!C.value&&de(n),n==""&&!C.value&&(i.value="")},500));const Xe=u(1e-4),Io=n=>{if(console.log(n,"poolInfo====>"),n.current_sqrt_price&&i.value&&s.value){const g=(r.value.address===n.coinA.address&&d.value.address===n.coinB.address?0:1)==0,R=new w(i.value),k=new w(s.value),Q=R.sub(R.mul(new w(n.fee)).div(100));console.log("getImpact###fAmount####",R.toString()),console.log("getImpact###tAmount####",k.toString()),console.log("getImpact###f####",Q.toString());const oe=k.div(Q);return console.log("getImpact####rates####",oe.toString()),j.value.getPriceImpactPct(n,oe.toString(),g)}return 1e-4},He=u(0),Je=u(0),$o=u(),Y=u({}),No=async n=>{if(O.value&&(console.log(Number(i.value)==0,"===>Number(fromCoinAmount.value)==0"),!(C.value&&Number(i.value)==0)&&!(!C.value&&Number(s.value)==0)))if(r.value&&d.value&&(i.value||s.value)){S.value=!0,L.value=!0,Qe.value=!0,x.value=!1;const p=r.value.address===O.value.coinA.address&&d.value.address===O.value.coinB.address?0:1;console.log(O.value,"poolInfo=====>451"),console.log(C.value?i.value:s.value,"fixedFromCoin.value ? fromCoinAmount.value : toCoinAmount.value"),console.log(p,"===>direct");try{let g=await j.value.preSwap({pool:O.value,a2b:p==0,byAmountIn:C.value,amount:C.value?i.value:s.value});console.log(g,"preSwapRespreSwapRes"),x.value=g==null?void 0:g.isExceed,$o.value=g==null?void 0:g.estimatedFeeAmount,C.value?(s.value=g.estimatedAmountOut,D.value?fe.value=(n/Number(g.estimatedAmountOut)).toString():pe.value=(Number(g.estimatedAmountOut)/n).toString()):(i.value=g.estimatedAmountIn,D.value?fe.value=(Number(g.estimatedAmountIn)/n).toString():pe.value=(n/Number(g.estimatedAmountIn)).toString()),He.value=new w(s.value).div(i.value).toString(),Je.value=new w(i.value).div(s.value).toString(),Xe.value=Io(Y.value||O.value),S.value=!1,L.value=!1}catch(g){console.log("pre swap error",g),S.value=!1,L.value=!1}}else C.value?s.value="":i.value="",S.value=!1,L.value=!1},To=io(),G=h(()=>To),Ro=u({}),fe=u(""),pe=u("");K(I,()=>{fe.value="",pe.value="",C.value?de(i.value):de(s.value)});const X=h(()=>G.value.assets&&r.value&&G.value.assets[r.value.address]?ke(G.value.assets[r.value.address].balance,r.value.decimals):0),J=h(()=>G.value.assets&&d.value&&G.value.assets[d.value.address]?ke(G.value.assets[d.value.address].balance,d.value.decimals):0),Oo=to();K(()=>c.value.tokensObj,async n=>{if(!Le(n)){console.log(n,"===>newValue626"),console.log(Oo,"===>route625");const p=e?e.currentRoute.value.query.to:"",g=e?e.currentRoute.value.query.from:"";g?r.value=await j.value.getTokenBySymbol(n,g):!g&&!r.value&&(r.value=await j.value.getTokenBySymbol(n,y.chainName==="Aptos"?"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75::coin::CetusUSDC":"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdc::USDC"),console.log(r.value,"===>fromCoin.value")),p?d.value=await j.value.getTokenBySymbol(n,p):!p&&!d.value&&(d.value=await j.value.getTokenBySymbol(n,y.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdt::USDT")),!g&&p&&(r.value="")}},{immediate:!0});const O=h(()=>{var n;if(r.value&&d.value){let p=null;const g={};Object.values(c.value.poolConfigList).forEach(k=>{var Q,oe,ce,Ce;(k.coinA.address.toUpperCase()===((Q=r.value.address)==null?void 0:Q.toUpperCase())&&k.coinB.address.toUpperCase()===((oe=d.value.address)==null?void 0:oe.toUpperCase())||k.coinB.address.toUpperCase()===((ce=r.value.address)==null?void 0:ce.toUpperCase())&&k.coinA.address.toUpperCase()===((Ce=d.value.address)==null?void 0:Ce.toUpperCase()))&&(g[k.address]={...k})});const R=Object.values(g).sort((k,Q)=>k.fee-Q.fee);console.log("0507####swap###poolInfo###poolSortList###",R);for(let k=0;k<R.length;k++)if(!((n=R[k])!=null&&n.is_pause)){p=R[k];break}return console.log("0507####swap###poolInfo###info###",p),p&&!Le(p)?p:null}return null}),Ke=u(!0),Ze=u(!1),_o=async n=>{n&&(de(C.value?i.value:s.value),Ze.value=!0,n.coinA.symbol.toLowerCase()===r.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===d.value.symbol.toLowerCase()?Ke.value=!0:Ke.value=!1,x.value=!1)};K(()=>O.value,(n,p)=>{n&&(!p||n.address!==p.address||n.current_sqrt_price!==p.current_sqrt_price)&&_o(n)},{immediate:!0,deep:!0});const Bo=h(()=>c.value.tokensObj&&r.value&&r.value.address&&c.value.tokensObj[r.value.address]&&c.value.tokensObj[r.value.address].logoURI),Uo=h(()=>(console.log(c.value.tokensObj,"===>pools.value.tokensObj"),c.value.tokensObj&&d.value&&d.value.address&&c.value.tokensObj[d.value.address]&&c.value.tokensObj[d.value.address].logoURI)),Do=h(()=>c.value.tokensObj&&r.value&&r.value.address&&c.value.tokensObj[r.value.address]&&c.value.tokensObj[r.value.address].coingecko_id||null),Po=h(()=>c.value.tokensObj&&d.value&&d.value.address&&c.value.tokensObj[d.value.address]&&c.value.tokensObj[d.value.address].coingecko_id||null),Fo=h(()=>{var R,k,Q;const n=new w(i.value);console.log(Y.value,"===>toAddLiquidiPoolInfo"),console.log((R=Y==null?void 0:Y.value)==null?void 0:R.fee,"toAddLiquidiPoolInfo?.value?.fee");const p=new w(_.value=="Aptos"?(k=O==null?void 0:O.value)==null?void 0:k.fee:(Q=Y==null?void 0:Y.value)==null?void 0:Q.fee),g=n.mul(p).toString();return console.log(g,"===>fee"),Number(g)<1/Math.pow(10,r.value.decimals)?`<${new w(1).div(new w(Math.pow(10,r.value.decimals))).toString()}`:De(g,r.value.decimals)}),{setIsShowSuccess:Lo,setIsShowRejected:ze,setIsShowWaiting:Ae,setTransactionDesc:jo,setTransactionTxid:Ye}=y,Eo=async()=>{var p,g,R,k,Q,oe,ce,Ce;W.value=!1,S.value=!0,Ye(""),jo(f("tips.swapping",{from:`${i.value} ${(p=r.value)==null?void 0:p.symbol}`,to:`${s.value} ${(g=d.value)==null?void 0:g.symbol}`})),Ae(!0);let n=r.value.address===O.value.token_a.address&&d.value.address===O.value.token_b.address?0:1;try{console.log("0221####swap start####",_.value,"###",j),console.log("0412###toSwap###poolInfo.value###",O.value);let ne;_.value=="Aptos"?ne=await j.value.getSwapTransactionPayload({pool:O.value,a2b:n==0,byAmountIn:C.value,amount:C.value?i.value:s.value,slippage:Number(ue.value)/100}):(console.log(Y.value,"===>toAddLiquidiPoolInfo.value"),ne=await Ue.value.swapRouterContract.getSwapRouterPayload(C.value)),console.log("0221####swap###swapPayload###",ne);let se;if(_.value==="Aptos")se=await G.value.currentWallet.signAndSubmitTransaction(ne);else{console.log("0221###swap###sui##signAndExecuteTransaction前###",_.value,"###swapPayload###",ne);const me=await G.value.currentWallet.signAndExecuteTransactionBlock(ne);console.log("0221###sui swap res###",me),se=j.value.handleTx(me),console.log("0221###swap###sui##tx###",se)}if(se&&se.hash){Ye(se.hash),Ae(!1),Lo(!0);const me={title:f("tips.swap"),desc:f("tips.swapSuccessText",{from:`${i.value} ${(R=r.value)==null?void 0:R.symbol}`,to:`${s.value} ${(k=d.value)==null?void 0:k.symbol}`}),hash:se.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(Q=r.value)==null?void 0:Q.address}`,numa:`- ${i.value}`,logoa:c.value.tokensObj&&r.value&&r.value.address&&c.value.tokensObj[r.value.address]&&c.value.tokensObj[r.value.address].logoURI,tokenb:`${(oe=d.value)==null?void 0:oe.address}`,numb:`+ ${s.value}`,logob:c.value.tokensObj&&d.value&&d.value.address&&c.value.tokensObj[d.value.address]&&c.value.tokensObj[d.value.address].logoURI},text:`Pay ${i.value} ${(ce=r.value)==null?void 0:ce.symbol} to receive ${s.value} ${(Ce=d.value)==null?void 0:Ce.symbol}`};_.value!=="Aptos"&&(me.res=se.res),j.value.showTransitionPending(me);const eo=await j.value.watchTransaction(me);console.log("0221###swap###transitionStatus####",eo),eo&&setTimeout(()=>{T.updateCurrentPools(O.value.poolAddress,_.value),j.value.getAccount(G.value.address)},1e3)}else Ae(!1),ze(!0);i.value="",s.value="",S.value=!1}catch(ne){i.value="",s.value="",console.log("Swap Error###",ne),S.value=!1,Ae(!1),ze(!0)}},Mo=n=>{var p;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((p=c.value.tokensObj[n==null?void 0:n.address])==null?void 0:p.logo_url)||(y.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))},_e=n=>{console.log(A.value,"===>currentCoinKey.value"),console.log(n);const p=localStorage.getItem(n.address);console.log(c.value.tokensObj,"===>pools.value.tokensObj"),console.log(p,"===>coinLocak"),c.value.tokensObj&&c.value.tokensObj[n.address]&&c.value.tokensObj[n.address].isSelfBuilt&&!p?Be.value=!0:(A.value==="fromCoin"?(i.value="",d.value&&n.address.toLowerCase()===(d==null?void 0:d.value.address.toLowerCase())&&(d.value=null),r.value=n):(r.value&&(s.value="",n.address.toLowerCase()===(r==null?void 0:r.value.address.toLowerCase())&&(r.value=null)),d.value=n),Ge())},Be=u(!1),Ge=()=>{Oe.value={},Re.value={},Be.value=!1},Wo=h(()=>y.isShowRouterModal),Ve=u([]),xe=u(""),qo=u(!1),Qo=nn(),Ue=h(()=>Qo),Xo=async n=>{if(r.value&&d.value&&(i.value||s.value)){(!i.value&&s.value||i.value&&!s.value)&&(S.value=!0);try{let p;if(C.value){const k=new w(i.value).mul(Math.pow(10,r.value.decimals)).toString();p=new je(k)}else{const k=new w(s.value).mul(Math.pow(10,d.value.decimals)).toString();p=new je(k)}const g=Number(ue.value)/100;console.log(Ue.value,"===>swapRouterContract.value");const R=await Ue.value.swapRouterContract.getSwapRouter(r,d,p,C.value,g,"");console.log(R,"==>swapRouter"),Ve.value=R.paths,x.value=R.isExceed,xe.value=R.amountIn,console.log(R.totalAmounts,"===> swapRouter.totalAmounts"),C.value?s.value=R.maxAmountOut:i.value=R.maxAmountOut,fe.value=M(Number(i.value)/Number(s.value),r.value.decimals),pe.value=M(Number(s.value)/Number(i.value),d.value.decimals),S.value=!1}catch(p){console.log("pre swap error",p),S.value=!1}}else C.value?s.value="":i.value="",S.value=!1;console.log(S.value,"====>routerSwaping")},de=async n=>{_.value=="Aptos"?No(n):Xo()};return{closeTokenWarning:Ge,isShowTokenWarning:Be,getTokenSource:_e,hasPool:Ze,getPoolInfoSuccess:We,halfBtnSelect:yo,formCoinId:Do,toCoinId:Po,fromCoinUrl:Bo,toCoinUrl:Uo,t:f,indicator:l,wallet:G,currentLpInfo:Ro,fixD:M,decimalFormat:Fe,impact:Xe,oneFromAmount:fe,oneToAmount:pe,importIcon:Z,clickExchange:ko,clickRefresh:So,refresh:$,change:I,isShowAddress:P,isShowSwapSetting:F,fromCoin:r,toCoin:d,slippage:ue,openCoinSelect:ho,onCoinSelect:bo,existingCoins:q,lastSelectCoin:H,currentCoinKey:A,showCoinSelect:V,fromCoinAmount:i,toCoinAmount:s,maxBtnSelect:wo,fixedFromCoin:C,swapBtnText:go,toSwap:Eo,loading:ee,swaping:S,autoRefreshTime:z,countdown:b,marketTimer:re,rateChange:D,isSwapConfirmMpdal:W,fromCoinBlance:X,toCoinBlance:J,poolInfo:O,chainName:_,swapRouterLoading:Qe,formatFee:Fo,calculating:L,currentRate:He,currentRateReverse:Je,getCoinIcon:Mo,toAddLiquidiPoolInfo:Y,decimalUi:Ee,warningToCoin:Oe,warningFromCoin:Re,isShowRouterModal:Wo,toSwapLoading:qo,insufficientLiquidity:x,routerPool:Ve,routerTotalAmounts:xe,store:y}}}),dt="data:image/png;base64,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";const ae=e=>(we("data-v-da7e1693"),e=e(),ye(),e),ct={class:"swap-container"},mt={class:"title"},vt={class:"left"},ft={class:"right title-right"},pt=ae(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Ct={class:"swap-card"},gt={class:"card-container"},ht={class:"card-item"},bt={class:"card-item"},wt=ae(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),yt=[wt],At={key:1,class:"induction"},St={key:0,class:"exchange-rate-btn"},kt={key:0},It=["src"],$t={key:0},Nt=["src"],Tt={key:0},Rt={key:1},Ot={key:0},_t=["src"],Bt=["src"],Ut=ae(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Dt=[Ut],Pt={class:"item"},Ft={class:"induction-text"},Lt={key:0,class:"icon","aria-hidden":"true"},jt=ae(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Et=[jt],Mt={class:"item"},Wt={class:"induction-text"},qt={key:0,class:"induction-value"},Qt={class:"item"},Xt={class:"induction-text"},Ht={key:0,class:"induction-value"},Jt={key:0,class:"icon","aria-hidden":"true"},Kt=ae(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Zt=[Kt],zt={key:3,class:"token-info-container"},Yt={class:"token-info-title"},Gt=ae(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),Vt=ae(()=>o("img",{src:dt,alt:""},null,-1)),xt=ae(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function ea(e,l,f,v,y,T){var L,i;const c=Ho,I=Ko,$=Un,P=uo,F=co,D=po,W=en,A=Zo,q=on,H=Cs,V=xo,C=Ms,ee=Jo,S=rt;return a(),m("div",ct,[o("div",mt,[o("div",vt,t(e.$t("menu.swap")),1),o("div",ft,[o("div",{class:"slippage-icon",onClick:l[0]||(l[0]=s=>e.isShowSwapSetting=!0)},[pt,o("span",null,t(e.slippage)+"%",1)]),te(c,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",Ct,[o("div",gt,[o("div",ht,[te(I,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":l[1]||(l[1]=s=>e.fromCoinAmount=s),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:l[2]||(l[2]=s=>e.maxBtnSelect("fromCoin")),onOnHalf:l[3]||(l[3]=s=>e.halfBtnSelect("fromCoin")),onOnInput:l[4]||(l[4]=s=>{e.fromCoinAmount=s,e.fixedFromCoin=!0}),onOnSelect:l[5]||(l[5]=s=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",bt,[te(I,{modelValue:e.toCoinAmount,"onUpdate:modelValue":l[6]||(l[6]=s=>e.toCoinAmount=s),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:l[7]||(l[7]=s=>{e.toCoinAmount=s,e.fixedFromCoin=!1}),onOnSelect:l[8]||(l[8]=s=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ie(e.change?"gang animationex":"gang"),src:sn,alt:""},null,2),o("div",{class:"exchange",onClick:l[9]||(l[9]=s=>e.clickExchange())},[(a(),m("svg",{class:ie(e.change?"icon animationex":"icon"),"aria-hidden":"true"},yt,2))])]),e.chainName=="Sui"?(a(),B($,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(a(),m("div",At,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(a(),m("div",St,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(a(),m("span",Rt,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(a(),m("span",Ot,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,_t),E(" 1 "+t(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Bt),o("span",null,t(("addCommom"in e?e.addCommom:U(ge))(("decimalUi"in e?e.decimalUi:U(Ee))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),E("  "+t(e.fromCoin.symbol),1)])):(a(),B(P,{key:1,indicator:e.indicator},null,8,["indicator"]))])):N("",!0):(a(),m("span",kt,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,It),E(" 1 "+t(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(a(),m("span",$t,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,Nt),e.calculating?N("",!0):(a(),m("span",Tt,t(("addCommom"in e?e.addCommom:U(ge))(("decimalUi"in e?e.decimalUi:U(Ee))(e.currentRate,e.toCoin.decimals),e.toCoin.decimals)),1)),e.calculating?(a(),B(P,{key:1,indicator:e.indicator},null,8,["indicator"])):N("",!0),E("  "+t(e.toCoin.symbol),1)])):(a(),B(P,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(a(),m("svg",{class:"icon-change","aria-hidden":"true",onClick:l[10]||(l[10]=s=>e.rateChange=!e.rateChange)},Dt))])):N("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(a(),m(Ie,{key:1},[o("div",Pt,[o("div",Ft,t(e.$t("common.priceImpact")),1),e.swaping?(a(),B(F,{key:1,paragraph:!1,active:""})):(a(),m("div",{key:0,class:ie(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[E(t(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(a(),m("svg",Lt,Et)):N("",!0)],2))]),o("div",Mt,[o("div",Wt,t(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(a(),B(F,{key:1,paragraph:!1,active:""})):(a(),m("div",qt,t(e.fixedFromCoin?("addCommom"in e?e.addCommom:U(ge))(("fixD"in e?e.fixD:U(M))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:U(ge))(("fixD"in e?e.fixD:U(M))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+t(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Qt,[o("div",Xt,t(e.$t("common.fee")),1),e.swaping?(a(),B(F,{key:1,paragraph:!1,active:""})):(a(),m("div",Ht,t(("addCommom"in e?e.addCommom:U(ge))(e.formatFee,e.fromCoin.decimals))+" "+t(e.fromCoin.symbol)+" ("+t(e.chainName=="Aptos"?e.poolInfo.fee*100:((L=e.toAddLiquidiPoolInfo)==null?void 0:L.fee)*100)+"%) ",1))])],64)):N("",!0)])):N("",!0)]),te(D,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((i=e.poolInfo)==null?void 0:i.is_pause):!1,class:"big-btn",loading:e.swaping,onClick:l[11]||(l[11]=s=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:le(()=>[e.wallet.connected?(a(),m("svg",Jt,Zt)):N("",!0),o("span",null,t(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),te(W),e.showCoinSelect?(a(),B(A,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:l[12]||(l[12]=s=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):N("",!0),e.isShowSwapSetting?(a(),B(q,{key:1,onOnClose:l[13]||(l[13]=s=>e.isShowSwapSetting=!1)})):N("",!0),e.isSwapConfirmMpdal?(a(),B(H,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:"","format-fee":e.chainName=="Aptos"?e.formatFee:"",onOnClose:l[14]||(l[14]=s=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):N("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(a(),m("div",zt,[o("div",Yt,[Gt,Vt,te(V,{placement:"top","arrow-point-at-center":""},{title:le(()=>[E(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:le(()=>[xt]),_:1})]),e.fromCoin&&e.formCoinId?(a(),B(C,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):N("",!0),e.toCoin&&e.toCoinId?(a(),B(C,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):N("",!0)])):N("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(a(),B(ee,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):N("",!0),e.isShowRouterModal?(a(),B(S,{key:5,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:l[15]||(l[15]=s=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):N("",!0)])}const ga=be(ut,[["render",ea],["__scopeId","data-v-da7e1693"]]);export{ga as default};
